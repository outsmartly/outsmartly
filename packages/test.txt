{"http://localhost:3000":{"analysis":{".outsmartly/analysis/HelloWorld.json":"{\"scope\":\"HelloWorld\",\"filename\":\"components/fix.js\",\"propertyPathsTrie\":{\"key\":\"arguments\",\"leafSliceIds\":[],\"dependentSliceIds\":[],\"properties\":{}},\"sliceInstructionById\":{},\"conditionalSliceIds\":[],\"moduleThunkRaw\":\"\\\"use strict\\\";\\n\\nvar _interopRequireDefault = require(\\\"@babel/runtime/helpers/interopRequireDefault\\\");\\n\\nObject.defineProperty(exports, \\\"__esModule\\\", {\\n  value: true\\n});\\nexports._outsmartly_thunk = _outsmartly_thunk;\\n\\nvar _react = _interopRequireDefault(require(\\\"react\\\"));\\n\\nvar __jsx = _react[\\\"default\\\"].createElement;\\n\\nfunction _outsmartly_thunk() {\\n  if (_outsmartly_branch_selections.$0) {\\n    {}\\n    return _outsmartly_no_return;\\n  } else {\\n    return /*#__PURE__*/_react[\\\"default\\\"].createElement(\\\"div\\\", null);\\n  }\\n}\\n\\nvar HelloWorld = _outsmartly_thunk;\"}",".outsmartly/analysis/ServerThumbnails.json":"{\"scope\":\"ServerThumbnails\",\"filename\":\"components/Product/ProductPhotos/ServerThumbnails.js\",\"propertyPathsTrie\":{\"key\":\"arguments\",\"leafSliceIds\":[],\"dependentSliceIds\":[\"$1\"],\"properties\":{\"0\":{\"key\":\"0\",\"leafSliceIds\":[\"$1\"],\"dependentSliceIds\":[\"$1\"],\"properties\":{\"variantId\":{\"key\":\"variantId\",\"leafSliceIds\":[\"$1\"],\"dependentSliceIds\":[],\"properties\":{}},\"colorsByVariant\":{\"key\":\"colorsByVariant\",\"leafSliceIds\":[\"$1\"],\"dependentSliceIds\":[],\"properties\":{}}}}}},\"sliceInstructionById\":{\"$1\":\"childComponent\"},\"conditionalSliceIds\":[],\"moduleThunkRaw\":\"\\\"use strict\\\";\\n\\nvar _interopRequireDefault = require(\\\"@babel/runtime/helpers/interopRequireDefault\\\");\\n\\nObject.defineProperty(exports, \\\"__esModule\\\", {\\n  value: true\\n});\\nexports._outsmartly_thunk = _outsmartly_thunk;\\n\\nvar _react = _interopRequireDefault(require(\\\"react\\\"));\\n\\nvar _extends2 = _interopRequireDefault(require(\\\"@babel/runtime/helpers/extends\\\"));\\n\\nvar _objectWithoutProperties2 = _interopRequireDefault(require(\\\"@babel/runtime/helpers/objectWithoutProperties\\\"));\\n\\nvar _Thumbnails = require(\\\"./Thumbnails\\\");\\n\\nvar _helpers = require(\\\"../../../lib/helpers\\\");\\n\\nvar __jsx = _react[\\\"default\\\"].createElement;\\n\\nfunction _outsmartly_thunk(_temp) {\\n  if (_outsmartly_slices.$1) {\\n    var _temp$variantId = _temp.variantId,\\n        variantId = _temp$variantId === void 0 ? undefined : _temp$variantId,\\n        colorsByVariant = _temp.colorsByVariant,\\n        rest = (0, _objectWithoutProperties2[\\\"default\\\"])(_temp, [\\\"variantId\\\", \\\"colorsByVariant\\\"]);\\n  }\\n\\n  if (_outsmartly_slices.$1) {\\n    var serverColor = (0, _helpers.getColorByVariantId)(colorsByVariant, variantId);\\n  }\\n\\n  if (_outsmartly_branch_selections.$0) {\\n    {\\n      if (_outsmartly_slices.$1) {\\n        _outsmartly_outlets.$1 = /*#__PURE__*/_react[\\\"default\\\"].createElement(_Thumbnails.Thumbnails, (0, _extends2[\\\"default\\\"])({\\n          serverColor: serverColor\\n        }, rest));\\n      }\\n    }\\n    return _outsmartly_no_return;\\n  } else {\\n    return /*#__PURE__*/_react[\\\"default\\\"].createElement(_Thumbnails.Thumbnails, (0, _extends2[\\\"default\\\"])({\\n      serverColor: serverColor\\n    }, rest));\\n  }\\n}\\n\\nvar ServerThumbnails = _outsmartly_thunk;\"}",".outsmartly/analysis/CalloutsNoCss.json":"{\"scope\":\"CalloutsNoCss\",\"filename\":\"components/FilterSidebar/CalloutsNoCss.js\",\"propertyPathsTrie\":{\"key\":\"arguments\",\"leafSliceIds\":[],\"dependentSliceIds\":[\"$1\",\"$2\"],\"properties\":{\"0\":{\"key\":\"0\",\"leafSliceIds\":[],\"dependentSliceIds\":[\"$1\",\"$2\"],\"properties\":{\"callouts\":{\"key\":\"callouts\",\"leafSliceIds\":[],\"dependentSliceIds\":[\"$1\"],\"properties\":{\"map\":{\"key\":\"map\",\"leafSliceIds\":[\"$1\"],\"dependentSliceIds\":[],\"properties\":{}}}},\"css\":{\"key\":\"css\",\"leafSliceIds\":[],\"dependentSliceIds\":[\"$2\"],\"properties\":{\"calloutGroup\":{\"key\":\"calloutGroup\",\"leafSliceIds\":[\"$2\"],\"dependentSliceIds\":[],\"properties\":{}}}}}}}},\"sliceInstructionById\":{\"$1\":\"innerHTML\",\"$2\":\"className\"},\"conditionalSliceIds\":[],\"moduleThunkRaw\":\"\\\"use strict\\\";\\n\\nvar _interopRequireDefault = require(\\\"@babel/runtime/helpers/interopRequireDefault\\\");\\n\\nObject.defineProperty(exports, \\\"__esModule\\\", {\\n  value: true\\n});\\nexports._outsmartly_thunk = _outsmartly_thunk;\\n\\nvar _react = _interopRequireDefault(require(\\\"react\\\"));\\n\\nvar _objectWithoutProperties2 = _interopRequireDefault(require(\\\"@babel/runtime/helpers/objectWithoutProperties\\\"));\\n\\nvar _Callout = require(\\\"./Callout\\\");\\n\\nvar __jsx = _react[\\\"default\\\"].createElement;\\n\\nfunction _outsmartly_thunk(_temp) {\\n  if (_outsmartly_slices.$1 || _outsmartly_slices.$2) {\\n    var callouts = _temp.callouts,\\n        _temp$css = _temp.css,\\n        calloutGroup = _temp$css.calloutGroup,\\n        restCss = (0, _objectWithoutProperties2[\\\"default\\\"])(_temp$css, [\\\"calloutGroup\\\"]);\\n  }\\n\\n  if (_outsmartly_branch_selections.$0) {\\n    {\\n      if (_outsmartly_slices.$1) {\\n        _outsmartly_outlets.$1 = callouts.map(function (callout) {\\n          return /*#__PURE__*/_react[\\\"default\\\"].createElement(_Callout.Callout, {\\n            callout: callout,\\n            css: restCss,\\n            key: callout.id\\n          });\\n        });\\n      }\\n\\n      if (_outsmartly_slices.$2) {\\n        _outsmartly_outlets.$2 = calloutGroup;\\n      }\\n    }\\n    return _outsmartly_no_return;\\n  } else {\\n    return /*#__PURE__*/_react[\\\"default\\\"].createElement(\\\"div\\\", {\\n      className: calloutGroup\\n    }, callouts.map(function (callout) {\\n      return /*#__PURE__*/_react[\\\"default\\\"].createElement(_Callout.Callout, {\\n        callout: callout,\\n        css: restCss,\\n        key: callout.id\\n      });\\n    }));\\n  }\\n}\\n\\nvar CalloutsNoCss = _outsmartly_thunk;\"}",".outsmartly/analysis/FeaturedNoCss.json":"{\"scope\":\"FeaturedNoCss\",\"filename\":\"components/FeaturedNoCss.js\",\"propertyPathsTrie\":{\"key\":\"arguments\",\"leafSliceIds\":[],\"dependentSliceIds\":[\"$1\",\"$2\"],\"properties\":{\"0\":{\"key\":\"0\",\"leafSliceIds\":[],\"dependentSliceIds\":[\"$1\",\"$2\"],\"properties\":{\"featuredItems\":{\"key\":\"featuredItems\",\"leafSliceIds\":[],\"dependentSliceIds\":[\"$1\"],\"properties\":{\"map\":{\"key\":\"map\",\"leafSliceIds\":[\"$1\"],\"dependentSliceIds\":[],\"properties\":{}}}},\"css\":{\"key\":\"css\",\"leafSliceIds\":[],\"dependentSliceIds\":[\"$2\"],\"properties\":{\"featured\":{\"key\":\"featured\",\"leafSliceIds\":[\"$2\"],\"dependentSliceIds\":[],\"properties\":{}},\"featuredItem\":{\"key\":\"featuredItem\",\"leafSliceIds\":[],\"dependentSliceIds\":[],\"properties\":{}},\"featuredImage\":{\"key\":\"featuredImage\",\"leafSliceIds\":[],\"dependentSliceIds\":[],\"properties\":{}}}}}}}},\"sliceInstructionById\":{\"$1\":\"innerHTML\",\"$2\":\"className\"},\"conditionalSliceIds\":[],\"moduleThunkRaw\":\"\\\"use strict\\\";\\n\\nvar _interopRequireDefault = require(\\\"@babel/runtime/helpers/interopRequireDefault\\\");\\n\\nObject.defineProperty(exports, \\\"__esModule\\\", {\\n  value: true\\n});\\nexports._outsmartly_thunk = _outsmartly_thunk;\\n\\nvar _objectWithoutProperties2 = _interopRequireDefault(require(\\\"@babel/runtime/helpers/objectWithoutProperties\\\"));\\n\\nvar _react = _interopRequireDefault(require(\\\"react\\\"));\\n\\nvar _FeaturedContent = _interopRequireDefault(require(\\\"./FeaturedContent\\\"));\\n\\nvar _trackExposure = require(\\\"./outsmartly/track-exposure\\\");\\n\\nvar __jsx = _react[\\\"default\\\"].createElement;\\n\\nfunction _outsmartly_thunk(_temp) {\\n  if (_outsmartly_slices.$1 || _outsmartly_slices.$2) {\\n    var featuredItems = _temp.featuredItems,\\n        _temp$css = _temp.css,\\n        featured = _temp$css.featured,\\n        featuredItem = _temp$css.featuredItem,\\n        featuredImage = _temp$css.featuredImage,\\n        restCss = (0, _objectWithoutProperties2[\\\"default\\\"])(_temp$css, [\\\"featured\\\", \\\"featuredItem\\\", \\\"featuredImage\\\"]);\\n  }\\n\\n  if (_outsmartly_branch_selections.$0) {\\n    {\\n      if (_outsmartly_slices.$1) {\\n        _outsmartly_outlets.$1 = featuredItems.map(function (item) {\\n          return /*#__PURE__*/_react[\\\"default\\\"].createElement(\\\"div\\\", {\\n            className: featuredItem,\\n            key: item.linkRoute\\n          }, /*#__PURE__*/_react[\\\"default\\\"].createElement(_trackExposure.TrackExposure, {\\n            outsmartlyTracking: item.outsmartlyTracking\\n          }, /*#__PURE__*/_react[\\\"default\\\"].createElement(\\\"img\\\", {\\n            className: featuredImage,\\n            src: item.imgSrc,\\n            alt: item.imgAlt,\\n            loading: \\\"lazy\\\"\\n          })), /*#__PURE__*/_react[\\\"default\\\"].createElement(_FeaturedContent[\\\"default\\\"], {\\n            parent: \\\"featured\\\",\\n            id: item.id,\\n            titleText: item.title,\\n            subtitleText: item.subtitle,\\n            captionText: item.caption,\\n            linkText: item.linkText,\\n            linkRoute: item.linkRoute,\\n            align: item.align,\\n            item: item // Outsmartly's CLI does not currently support CSS Modules so we\\n            // need to pass these in as props and thread them through, for the time being\\n            ,\\n            // Outsmartly's CLI does not currently support CSS Modules so we\\n            // need to pass these in as props and thread them through, for the time being\\n            css: restCss,\\n            outsmartlyTracking: item.outsmartlyTracking\\n          }));\\n        });\\n      }\\n\\n      if (_outsmartly_slices.$2) {\\n        _outsmartly_outlets.$2 = featured;\\n      }\\n    }\\n    return _outsmartly_no_return;\\n  } else {\\n    return /*#__PURE__*/_react[\\\"default\\\"].createElement(\\\"div\\\", {\\n      className: featured\\n    }, featuredItems.map(function (item) {\\n      return /*#__PURE__*/_react[\\\"default\\\"].createElement(\\\"div\\\", {\\n        className: featuredItem,\\n        key: item.linkRoute\\n      }, /*#__PURE__*/_react[\\\"default\\\"].createElement(_trackExposure.TrackExposure, {\\n        outsmartlyTracking: item.outsmartlyTracking\\n      }, /*#__PURE__*/_react[\\\"default\\\"].createElement(\\\"img\\\", {\\n        className: featuredImage,\\n        src: item.imgSrc,\\n        alt: item.imgAlt,\\n        loading: \\\"lazy\\\"\\n      })), /*#__PURE__*/_react[\\\"default\\\"].createElement(_FeaturedContent[\\\"default\\\"], {\\n        parent: \\\"featured\\\",\\n        id: item.id,\\n        titleText: item.title,\\n        subtitleText: item.subtitle,\\n        captionText: item.caption,\\n        linkText: item.linkText,\\n        linkRoute: item.linkRoute,\\n        align: item.align,\\n        item: item // Outsmartly's CLI does not currently support CSS Modules so we\\n        // need to pass these in as props and thread them through, for the time being\\n        ,\\n        // Outsmartly's CLI does not currently support CSS Modules so we\\n        // need to pass these in as props and thread them through, for the time being\\n        css: restCss,\\n        outsmartlyTracking: item.outsmartlyTracking\\n      }));\\n    }));\\n  }\\n}\\n\\nvar FeaturedNoCss = _outsmartly_thunk;\"}",".outsmartly/analysis/TopBarSlider.json":"{\"scope\":\"TopBarSlider\",\"filename\":\"components/TopBarSlider.js\",\"propertyPathsTrie\":{\"key\":\"arguments\",\"leafSliceIds\":[],\"dependentSliceIds\":[\"$1\"],\"properties\":{\"0\":{\"key\":\"0\",\"leafSliceIds\":[],\"dependentSliceIds\":[\"$1\"],\"properties\":{\"promos\":{\"key\":\"promos\",\"leafSliceIds\":[],\"dependentSliceIds\":[\"$1\"],\"properties\":{\"map\":{\"key\":\"map\",\"leafSliceIds\":[\"$1\"],\"dependentSliceIds\":[],\"properties\":{}}}},\"styles\":{\"key\":\"styles\",\"leafSliceIds\":[],\"dependentSliceIds\":[],\"properties\":{}},\"backgroundColor\":{\"key\":\"backgroundColor\",\"leafSliceIds\":[\"$1\"],\"dependentSliceIds\":[],\"properties\":{}},\"textColor\":{\"key\":\"textColor\",\"leafSliceIds\":[\"$1\"],\"dependentSliceIds\":[],\"properties\":{}},\"settings\":{\"key\":\"settings\",\"leafSliceIds\":[\"$1\"],\"dependentSliceIds\":[],\"properties\":{}}}}}},\"sliceInstructionById\":{\"$1\":\"childComponent\"},\"conditionalSliceIds\":[],\"moduleThunkRaw\":\"\\\"use strict\\\";\\n\\nvar _interopRequireDefault = require(\\\"@babel/runtime/helpers/interopRequireDefault\\\");\\n\\nObject.defineProperty(exports, \\\"__esModule\\\", {\\n  value: true\\n});\\nexports._outsmartly_thunk = _outsmartly_thunk;\\n\\nvar _react = _interopRequireDefault(require(\\\"react\\\"));\\n\\nvar _extends2 = _interopRequireDefault(require(\\\"@babel/runtime/helpers/extends\\\"));\\n\\nvar _reactSlick = _interopRequireDefault(require(\\\"react-slick\\\"));\\n\\nvar __jsx = _react[\\\"default\\\"].createElement;\\n\\nfunction _outsmartly_thunk(_temp) {\\n  if (_outsmartly_slices.$1) {\\n    var promos = _temp.promos,\\n        styles = _temp.styles,\\n        backgroundColor = _temp.backgroundColor,\\n        textColor = _temp.textColor,\\n        settings = _temp.settings;\\n  }\\n\\n  if (_outsmartly_branch_selections.$0) {\\n    {\\n      if (_outsmartly_slices.$1) {\\n        _outsmartly_outlets.$1 = /*#__PURE__*/_react[\\\"default\\\"].createElement(_reactSlick[\\\"default\\\"], (0, _extends2[\\\"default\\\"])({\\n          style: {\\n            backgroundColor: backgroundColor,\\n            color: textColor\\n          }\\n        }, settings), promos.map(function (_ref, i) {\\n          var heading = _ref.heading,\\n              _ref$linkUrl = _ref.linkUrl,\\n              linkUrl = _ref$linkUrl === void 0 ? null : _ref$linkUrl;\\n          return linkUrl ? /*#__PURE__*/_react[\\\"default\\\"].createElement(\\\"a\\\", {\\n            href: linkUrl,\\n            key: i,\\n            className: styles.promo,\\n            dangerouslySetInnerHTML: {\\n              __html: heading\\n            }\\n          }) :\\n          /*#__PURE__*/\\n          // Having <a /> elements without a valid href attribute effects\\n          // Lighthouse scores.\\n          _react[\\\"default\\\"].createElement(\\\"span\\\", {\\n            key: i,\\n            className: styles.promo,\\n            dangerouslySetInnerHTML: {\\n              __html: heading\\n            }\\n          });\\n        }));\\n      }\\n    }\\n    return _outsmartly_no_return;\\n  } else {\\n    return /*#__PURE__*/_react[\\\"default\\\"].createElement(_reactSlick[\\\"default\\\"], (0, _extends2[\\\"default\\\"])({\\n      style: {\\n        backgroundColor: backgroundColor,\\n        color: textColor\\n      }\\n    }, settings), promos.map(function (_ref2, i) {\\n      var heading = _ref2.heading,\\n          _ref2$linkUrl = _ref2.linkUrl,\\n          linkUrl = _ref2$linkUrl === void 0 ? null : _ref2$linkUrl;\\n      return linkUrl ? /*#__PURE__*/_react[\\\"default\\\"].createElement(\\\"a\\\", {\\n        href: linkUrl,\\n        key: i,\\n        className: styles.promo,\\n        dangerouslySetInnerHTML: {\\n          __html: heading\\n        }\\n      }) :\\n      /*#__PURE__*/\\n      // Having <a /> elements without a valid href attribute effects\\n      // Lighthouse scores.\\n      _react[\\\"default\\\"].createElement(\\\"span\\\", {\\n        key: i,\\n        className: styles.promo,\\n        dangerouslySetInnerHTML: {\\n          __html: heading\\n        }\\n      });\\n    }));\\n  }\\n}\\n\\nvar TopBarSlider = _outsmartly_thunk;\"}",".outsmartly/analysis/HeroCarouselNoCss.json":"{\"scope\":\"HeroCarouselNoCss\",\"filename\":\"components/HeroCarouselNoCss.js\",\"propertyPathsTrie\":{\"key\":\"arguments\",\"leafSliceIds\":[],\"dependentSliceIds\":[\"$1\"],\"properties\":{\"0\":{\"key\":\"0\",\"leafSliceIds\":[],\"dependentSliceIds\":[\"$1\"],\"properties\":{\"heroItems\":{\"key\":\"heroItems\",\"leafSliceIds\":[],\"dependentSliceIds\":[\"$1\"],\"properties\":{\"slideshowSpeedInSeconds\":{\"key\":\"slideshowSpeedInSeconds\",\"leafSliceIds\":[\"$1\"],\"dependentSliceIds\":[],\"properties\":{}}}},\"slides\":{\"key\":\"slides\",\"leafSliceIds\":[],\"dependentSliceIds\":[\"$1\"],\"properties\":{\"map\":{\"key\":\"map\",\"leafSliceIds\":[\"$1\"],\"dependentSliceIds\":[],\"properties\":{}}}},\"heroItem\":{\"key\":\"heroItem\",\"leafSliceIds\":[],\"dependentSliceIds\":[],\"properties\":{}},\"heroImage\":{\"key\":\"heroImage\",\"leafSliceIds\":[],\"dependentSliceIds\":[],\"properties\":{}},\"css\":{\"key\":\"css\",\"leafSliceIds\":[],\"dependentSliceIds\":[],\"properties\":{}}}}}},\"sliceInstructionById\":{\"$1\":\"childComponent\"},\"conditionalSliceIds\":[],\"moduleThunkRaw\":\"\\\"use strict\\\";\\n\\nvar _interopRequireDefault = require(\\\"@babel/runtime/helpers/interopRequireDefault\\\");\\n\\nObject.defineProperty(exports, \\\"__esModule\\\", {\\n  value: true\\n});\\nexports._outsmartly_thunk = _outsmartly_thunk;\\n\\nvar _extends2 = _interopRequireDefault(require(\\\"@babel/runtime/helpers/extends\\\"));\\n\\nvar _react = _interopRequireWildcard(require(\\\"react\\\"));\\n\\nvar _reactSlick = _interopRequireDefault(require(\\\"react-slick\\\"));\\n\\nvar _FeaturedContentSlider = _interopRequireDefault(require(\\\"./FeaturedContentSlider\\\"));\\n\\nvar _trackExposure = require(\\\"./outsmartly/track-exposure\\\");\\n\\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \\\"function\\\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\\n\\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \\\"object\\\" && typeof obj !== \\\"function\\\") { return { \\\"default\\\": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \\\"default\\\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj[\\\"default\\\"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\\n\\nvar __jsx = _react[\\\"default\\\"].createElement;\\n\\nfunction _outsmartly_thunk(_temp) {\\n  if (_outsmartly_slices.$1) {\\n    var heroItems = _temp.heroItems,\\n        slides = _temp.slides,\\n        heroItem = _temp.heroItem,\\n        heroImage = _temp.heroImage,\\n        css = _temp.css;\\n  }\\n\\n  var settings = {\\n    arrows: false,\\n    autoplay: true,\\n    className: 'hero',\\n    dots: true,\\n    speed: 500,\\n    slidesToShow: 1,\\n    slidesToScroll: 1\\n  };\\n\\n  if (_outsmartly_slices.$1) {\\n    var _heroItems$slideshowS = heroItems.slideshowSpeedInSeconds,\\n        slideshowSpeedInSeconds = _heroItems$slideshowS === void 0 ? 5 : _heroItems$slideshowS;\\n  }\\n\\n  if (_outsmartly_branch_selections.$0) {\\n    {\\n      if (_outsmartly_slices.$1) {\\n        _outsmartly_outlets.$1 = /*#__PURE__*/_react[\\\"default\\\"].createElement(_reactSlick[\\\"default\\\"], (0, _extends2[\\\"default\\\"])({}, settings, {\\n          autoplaySpeed: slideshowSpeedInSeconds * 1000\\n        }), slides.map(function (item, i) {\\n          return /*#__PURE__*/_react[\\\"default\\\"].createElement(\\\"div\\\", {\\n            className: heroItem,\\n            key: item.linkRoute\\n          }, /*#__PURE__*/_react[\\\"default\\\"].createElement(_trackExposure.TrackExposure, {\\n            outsmartlyTracking: item.outsmartlyTracking\\n          }, /*#__PURE__*/_react[\\\"default\\\"].createElement(\\\"img\\\", (0, _extends2[\\\"default\\\"])({}, i === 0 ? {\\n            'data-prioritize': 1\\n          } : {}, {\\n            className: heroImage,\\n            src: item.imgSrc,\\n            alt: item.imgAlt\\n          }))), /*#__PURE__*/_react[\\\"default\\\"].createElement(_FeaturedContentSlider[\\\"default\\\"], {\\n            parent: \\\"hero\\\",\\n            id: item.id,\\n            titleText: item.title,\\n            subtitleText: item.subtitle,\\n            captionText: item.caption,\\n            linkText: item.linkText,\\n            linkRoute: item.linkRoute,\\n            align: item.align,\\n            item: item,\\n            css: css,\\n            outsmartlyTracking: item.outsmartlyTracking\\n          }));\\n        }));\\n      }\\n    }\\n    return _outsmartly_no_return;\\n  } else {\\n    return /*#__PURE__*/_react[\\\"default\\\"].createElement(_reactSlick[\\\"default\\\"], (0, _extends2[\\\"default\\\"])({}, settings, {\\n      autoplaySpeed: slideshowSpeedInSeconds * 1000\\n    }), slides.map(function (item, i) {\\n      return /*#__PURE__*/_react[\\\"default\\\"].createElement(\\\"div\\\", {\\n        className: heroItem,\\n        key: item.linkRoute\\n      }, /*#__PURE__*/_react[\\\"default\\\"].createElement(_trackExposure.TrackExposure, {\\n        outsmartlyTracking: item.outsmartlyTracking\\n      }, /*#__PURE__*/_react[\\\"default\\\"].createElement(\\\"img\\\", (0, _extends2[\\\"default\\\"])({}, i === 0 ? {\\n        'data-prioritize': 1\\n      } : {}, {\\n        className: heroImage,\\n        src: item.imgSrc,\\n        alt: item.imgAlt\\n      }))), /*#__PURE__*/_react[\\\"default\\\"].createElement(_FeaturedContentSlider[\\\"default\\\"], {\\n        parent: \\\"hero\\\",\\n        id: item.id,\\n        titleText: item.title,\\n        subtitleText: item.subtitle,\\n        captionText: item.caption,\\n        linkText: item.linkText,\\n        linkRoute: item.linkRoute,\\n        align: item.align,\\n        item: item,\\n        css: css,\\n        outsmartlyTracking: item.outsmartlyTracking\\n      }));\\n    }));\\n  }\\n}\\n\\nvar HeroCarouselNoCss = _outsmartly_thunk;\\n/* <HeroImage\\n                // prioritize first hero image\\n                // would also like to lazy load these, perhaps by also using\\n                // the exposure tracking, but modified\\n                {...(i === 0 ? { 'data-prioritize': 1 } : {})}\\n                heroImage={heroImage}\\n                src={item.imgSrc}\\n                alt={item.imgAlt}\\n                i={i}\\n              /> */\\n// function HeroImage({ heroImage, src, alt, i }) {\\n//   const [heroImageSrc, setHeroImage] = useState(src);\\n//   useEffect(() => {\\n//     const img = new Image();\\n//     img.src = `${src}?high-res=true`;\\n//     // Once image is loaded replace the src of the HTML element\\n//     img.onload = () => {\\n//       setHeroImage(img.src);\\n//     };\\n//   }, []);\\n//   return (\\n//     <img\\n//       // prioritize first hero image\\n//       // would also like to lazy load these, perhaps by also using\\n//       // the exposure tracking, but modified\\n//       {...(i === 0 ? { 'data-prioritize': 1 } : {})}\\n//       className={heroImage}\\n//       src={heroImageSrc}\\n//       alt={alt}\\n//     />\\n//   );\\n// }\"}",".outsmartly/analysis/ProductPhotosServerImage.json":"{\"scope\":\"ProductPhotosServerImage\",\"filename\":\"components/Product/ProductPhotos/ProductPhotosServerImage.js\",\"propertyPathsTrie\":{\"key\":\"arguments\",\"leafSliceIds\":[],\"dependentSliceIds\":[\"$1\"],\"properties\":{\"0\":{\"key\":\"0\",\"leafSliceIds\":[\"$1\"],\"dependentSliceIds\":[\"$1\"],\"properties\":{\"variantId\":{\"key\":\"variantId\",\"leafSliceIds\":[\"$1\"],\"dependentSliceIds\":[],\"properties\":{}},\"colorsByVariant\":{\"key\":\"colorsByVariant\",\"leafSliceIds\":[\"$1\"],\"dependentSliceIds\":[],\"properties\":{}}}}}},\"sliceInstructionById\":{\"$1\":\"childComponent\"},\"conditionalSliceIds\":[],\"moduleThunkRaw\":\"\\\"use strict\\\";\\n\\nvar _interopRequireDefault = require(\\\"@babel/runtime/helpers/interopRequireDefault\\\");\\n\\nObject.defineProperty(exports, \\\"__esModule\\\", {\\n  value: true\\n});\\nexports._outsmartly_thunk = _outsmartly_thunk;\\n\\nvar _react = _interopRequireDefault(require(\\\"react\\\"));\\n\\nvar _extends2 = _interopRequireDefault(require(\\\"@babel/runtime/helpers/extends\\\"));\\n\\nvar _objectWithoutProperties2 = _interopRequireDefault(require(\\\"@babel/runtime/helpers/objectWithoutProperties\\\"));\\n\\nvar _helpers = require(\\\"../../../lib/helpers\\\");\\n\\nvar _ProductPhotosMainImage = require(\\\"./ProductPhotosMainImage\\\");\\n\\nvar __jsx = _react[\\\"default\\\"].createElement;\\n\\nfunction _outsmartly_thunk(_temp) {\\n  if (_outsmartly_slices.$1) {\\n    var _temp$variantId = _temp.variantId,\\n        variantId = _temp$variantId === void 0 ? undefined : _temp$variantId,\\n        colorsByVariant = _temp.colorsByVariant,\\n        rest = (0, _objectWithoutProperties2[\\\"default\\\"])(_temp, [\\\"variantId\\\", \\\"colorsByVariant\\\"]);\\n  }\\n\\n  if (_outsmartly_slices.$1) {\\n    var serverColor = (0, _helpers.getColorByVariantId)(colorsByVariant, variantId);\\n  }\\n\\n  if (_outsmartly_branch_selections.$0) {\\n    {\\n      if (_outsmartly_slices.$1) {\\n        _outsmartly_outlets.$1 = /*#__PURE__*/_react[\\\"default\\\"].createElement(_ProductPhotosMainImage.ProductPhotosMainImage, (0, _extends2[\\\"default\\\"])({\\n          serverColor: serverColor\\n        }, rest));\\n      }\\n    }\\n    return _outsmartly_no_return;\\n  } else {\\n    return /*#__PURE__*/_react[\\\"default\\\"].createElement(_ProductPhotosMainImage.ProductPhotosMainImage, (0, _extends2[\\\"default\\\"])({\\n      serverColor: serverColor\\n    }, rest));\\n  }\\n}\\n\\nvar ProductPhotosServerImage = _outsmartly_thunk;\"}",".outsmartly/analysis/AppConfigOverrides.json":"{\"scope\":\"AppConfigOverrides\",\"filename\":\"components/overrides/AppConfigOverrides.js\",\"propertyPathsTrie\":{\"key\":\"arguments\",\"leafSliceIds\":[],\"dependentSliceIds\":[\"$2\",\"$1\"],\"properties\":{\"0\":{\"key\":\"0\",\"leafSliceIds\":[],\"dependentSliceIds\":[\"$2\",\"$1\"],\"properties\":{\"extraAppConfigProps\":{\"key\":\"extraAppConfigProps\",\"leafSliceIds\":[\"$1\"],\"dependentSliceIds\":[\"$2\"],\"properties\":{\"map\":{\"key\":\"map\",\"leafSliceIds\":[],\"dependentSliceIds\":[\"$1\",\"$2\"],\"properties\":{\"join\":{\"key\":\"join\",\"leafSliceIds\":[\"$2\"],\"dependentSliceIds\":[\"$1\"],\"properties\":{}}}}}}}}}},\"sliceInstructionById\":{\"$1\":\"conditional\",\"$2\":\"dangerouslySetInnerHTML\"},\"conditionalSliceIds\":[\"$1\"],\"moduleThunkRaw\":\"\\\"use strict\\\";\\n\\nvar _interopRequireDefault = require(\\\"@babel/runtime/helpers/interopRequireDefault\\\");\\n\\nObject.defineProperty(exports, \\\"__esModule\\\", {\\n  value: true\\n});\\nexports._outsmartly_thunk = _outsmartly_thunk;\\n\\nvar _react = _interopRequireDefault(require(\\\"react\\\"));\\n\\nvar __jsx = _react[\\\"default\\\"].createElement;\\n\\nfunction _outsmartly_thunk(_temp) {\\n  if (_outsmartly_slices.$1 || _outsmartly_slices.$2) {\\n    var _temp$extraAppConfigP = _temp.extraAppConfigProps,\\n        extraAppConfigProps = _temp$extraAppConfigP === void 0 ? undefined : _temp$extraAppConfigP;\\n  }\\n\\n  if (_outsmartly_slices.$1 ? !extraAppConfigProps : _outsmartly_branch_selections.$1) {\\n    if (_outsmartly_branch_selections.$1) {\\n      {}\\n      return _outsmartly_no_return;\\n    } else {\\n      return null;\\n    }\\n  }\\n\\n  if (_outsmartly_branch_selections.$0) {\\n    {\\n      if (_outsmartly_slices.$2) {\\n        _outsmartly_outlets.$2 = {\\n          __html: extraAppConfigProps.map(function (_ref) {\\n            var key = _ref.key,\\n                value = _ref.value;\\n            return \\\"window.__APP_CONFIG__.\\\".concat(key, \\\"=\\\").concat(JSON.stringify(value), \\\";\\\");\\n          }).join('')\\n        };\\n      }\\n    }\\n    return _outsmartly_no_return;\\n  } else {\\n    return /*#__PURE__*/_react[\\\"default\\\"].createElement(\\\"script\\\", {\\n      \\\"data-app-config-override\\\": true,\\n      dangerouslySetInnerHTML: {\\n        __html: extraAppConfigProps.map(function (_ref2) {\\n          var key = _ref2.key,\\n              value = _ref2.value;\\n          return \\\"window.__APP_CONFIG__.\\\".concat(key, \\\"=\\\").concat(JSON.stringify(value), \\\";\\\");\\n        }).join('')\\n      }\\n    });\\n  }\\n}\\n\\nvar AppConfigOverrides = _outsmartly_thunk;\"}",".outsmartly/analysis/modules/335.js":"// third-party-scripts/pebblepost.js\nimport { loadScriptWithDelay } from './utils';\nconst config = {\n  src: 'https://cdn.pbbl.co/r/1059.js',\n  id: 'pebblepost-script',\n  timeout: 10 * 1000,\n  anonymous: false\n};\nexport function loadPebblePost(account) {\n  const {\n    id,\n    email,\n    tags,\n    orderValue,\n    orderId\n  } = account; // Pebblepost\n\n  window._pp = window._pp || [];\n\n  if (id) {\n    _pp.siteUId = id;\n  }\n\n  _pp.siteId = 1059;\n\n  if (email) {\n    _pp.email = email;\n  }\n\n  if (tags) {\n    _pp.tags = tags;\n  }\n\n  if (orderValue) {\n    _pp.orderValue = orderValue;\n  }\n\n  if (orderId) {\n    _pp.orderValue = orderId;\n  }\n\n  loadScriptWithDelay(config);\n}",".outsmartly/analysis/modules/275.js":"// lib/shopify/loadPages.ts\nimport { getShopifyClient } from './shopifyClient';\nexport async function _loadPages({\n  graphqlParams,\n  cursor = undefined\n}) {\n  var _data$pages;\n\n  const shopifyClient = getShopifyClient(graphqlParams);\n  const data = await shopifyClient.request(pagesQuery({\n    cursor\n  }));\n  const edges = data === null || data === void 0 ? void 0 : (_data$pages = data.pages) === null || _data$pages === void 0 ? void 0 : _data$pages.edges;\n  const pages = edges === null || edges === void 0 ? void 0 : edges.map(({\n    node: {\n      handle,\n      title\n    }\n  }) => ({\n    handle,\n    title\n  }));\n  return pages;\n}\n\nfunction pagesQuery({\n  cursor\n}) {\n  const afterCursor = cursor ? `, after: \"${cursor}\"` : '';\n  return `\n       {\n        pages(first: 100${afterCursor}) {\n          edges {\n            cursor\n            node {\n              handle\n              title\n            }\n          }\n        }\n      }\n    `;\n}",".outsmartly/analysis/modules/224.js":"// lib/scrape/scrapePage.ts\nimport cheerio from 'cheerio';\nimport { STORE_URL } from 'outsmartly/variables';\nexport async function scrapePage(handle) {\n  try {\n    const url = `${STORE_URL}/pages/${handle}?__orly_origin=shopify`;\n    const response = await fetch(url);\n    const text = await response.text();\n    const bannerImg = scrapeBannerImg(text);\n    return {\n      bannerImg\n    };\n  } catch (e) {\n    console.log(e);\n    return {\n      bannerImg: null\n    };\n  }\n}\nexport function scrapeBannerImg(html) {\n  const $ = cheerio.load(html);\n  let bannerImg = null;\n  const regex = /background:url\\('([^']+)'/;\n\n  function parseBackgroundImage() {\n    try {\n      const style = $(this).attr('style');\n      const match = style.match(regex);\n      bannerImg = match && match[1];\n    } catch (e) {\n      console.log(e.message);\n    }\n  }\n\n  $('.page-banner').each(parseBackgroundImage);\n  $('.collection-banner').each(parseBackgroundImage);\n  return bannerImg;\n}",".outsmartly/analysis/modules/146.js":"// components/FilterSidebar/ColorFilter.js\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React, { useContext } from 'react';\nimport Link from 'next/link';\nimport { useRouter } from 'next/router';\nimport { list, filterSwatch, filterSwatchLight, dotWrap, dot, dotLight } from './ColorFilter.module.css';\nimport Swatch from 'components/ProductOption/Swatch';\nimport { camelize, getTagHref, getClearTagHref, toTitleCase, colorIsLight } from 'lib/utils';\nimport { CollectionContext } from 'context/CollectionContext';\nexport default function ColorFilter(_ref) {\n  var handle = _ref.handle;\n  // Get the route for this collection to use as a prefix for each swatch\n  var router = useRouter();\n  var query = router.query;\n\n  var _useContext = useContext(CollectionContext),\n      colors = _useContext.colors; // Get the correct route for the \"Clear filter\" link\n\n\n  var clearHref = getClearTagHref(query, 'color'); // Convert the array of colors into an object array for rendering\n\n  var colorItems = colors.map(function (item) {\n    var href = getTagHref(query, 'color', item); // Determine if this color is selected\n\n    var isSelected = href.query.tagQuery === query.tagQuery;\n    return {\n      name: toTitleCase(item),\n      handle: item,\n      cssClass: camelize(item),\n      href: isSelected ? clearHref : href,\n      selected: isSelected\n    };\n  });\n  return /*#__PURE__*/_jsxs(\"div\", {\n    className: \"scroll-content\",\n    children: [/*#__PURE__*/_jsx(\"form\", {\n      children: /*#__PURE__*/_jsx(\"input\", {\n        type: \"text\",\n        className: \"fm-search-box snize-input-style\",\n        name: \"q\",\n        placeholder: \"search...\",\n        style: {\n          display: 'none'\n        },\n        autoComplete: \"off\"\n      })\n    }), /*#__PURE__*/_jsx(\"ul\", {\n      className: list,\n      children: colorItems.map(function (color) {\n        return /*#__PURE__*/_jsx(\"li\", {\n          children: /*#__PURE__*/_jsx(Link, {\n            href: color.href,\n            children: /*#__PURE__*/_jsxs(\"a\", {\n              title: \"\".concat(color.selected ? 'Clear' : 'Add', \" filter: \").concat(color.name),\n              children: [/*#__PURE__*/_jsxs(\"div\", {\n                className: dotWrap,\n                children: [/*#__PURE__*/_jsx(Swatch, {\n                  colorParent: colorIsLight(color.name) ? filterSwatchLight : filterSwatch,\n                  color: color.cssClass,\n                  colorName: color.name,\n                  tooltip: \"\".concat(color.selected ? 'Clear' : 'Add', \" filter: \").concat(color.name)\n                }), color.selected && /*#__PURE__*/_jsx(\"span\", {\n                  className: \"\".concat(colorIsLight(color.name) ? dotLight : dot)\n                })]\n              }), /*#__PURE__*/_jsx(\"span\", {\n                className: \"visually-hidden\",\n                children: color.name\n              })]\n            })\n          })\n        }, color.handle);\n      })\n    })]\n  });\n}",".outsmartly/analysis/modules/286.js":"// components/FeaturedContentSlider.js\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React from 'react';\nimport Link from 'next/link';\nimport { cap } from '../lib/utils';\nimport { trackOutcome } from './outsmartly/track-outcome';\nimport oneLineTrim from 'common-tags/lib/oneLineTrim';\nexport default function FeaturedContentSlider(props) {\n  const {\n    parent,\n    id,\n    titleText,\n    subtitleText,\n    captionText,\n    linkText,\n    linkRoute,\n    align,\n    item,\n    css,\n    outsmartlyTracking = {}\n  } = props;\n  const {\n    content,\n    link,\n    styles\n  } = css || {\n    styles: {}\n  }; // Convert alignment value to CSS class\n\n  const alignClass = `align${cap(align)}`; // This assures our CSS is scoped to the individual slide\n\n  const elementId = `featured-content-slides-${id}`; // Assemble CSS classes for content element\n\n  const contentClasses = `${content} sm-align-center ${styles[alignClass]} ${styles[parent]}`;\n  return /*#__PURE__*/_jsxs(\"div\", {\n    className: contentClasses,\n    children: [/*#__PURE__*/_jsx(FeaturedContentSliderCss, {\n      item: item,\n      elementId: elementId\n    }), /*#__PURE__*/_jsxs(\"div\", {\n      className: \"page-width\",\n      children: [titleText && /*#__PURE__*/_jsx(\"h3\", {\n        className: `${elementId}__title`,\n        dangerouslySetInnerHTML: {\n          __html: titleText\n        }\n      }), /*#__PURE__*/_jsx(\"p\", {\n        className: `${elementId}__subtitle`,\n        dangerouslySetInnerHTML: {\n          __html: subtitleText\n        }\n      }), captionText && /*#__PURE__*/_jsx(\"p\", {\n        className: `${elementId}__caption`,\n        dangerouslySetInnerHTML: {\n          __html: captionText\n        }\n      }), /*#__PURE__*/_jsx(Link, {\n        href: linkRoute,\n        children: /*#__PURE__*/_jsx(\"a\", {\n          onClick: () => {\n            trackOutcome('homeSliderSlideClicked', outsmartlyTracking);\n          },\n          className: `${link} ${elementId}__link`,\n          children: linkText\n        })\n      })]\n    })]\n  });\n}\n/** Creates a <style> tag with CSS from Contentful */\n\nfunction FeaturedContentSliderCss(props) {\n  const {\n    item = {},\n    elementId\n  } = props;\n  const {\n    headingTextColor,\n    subheadingTextShadowColor,\n    subheadingTextColor,\n    captionTextColor,\n    buttonTextColor,\n    buttonTextHoverColor,\n    buttonBackgroundColor,\n    buttonBackgroundColorOpacity,\n    textSizes: {\n      subheadingSizeMobile,\n      subheadingSizeTablet,\n      subheadingSizeDesktop,\n      headingSizeMobile,\n      headingSizeDesktop,\n      headingSizeTablet,\n      captionSizeMobile,\n      captionSizeTablet,\n      captionSizeDesktop\n    }\n  } = item || {\n    textSizes: {}\n  }; // Opacity from Contentful is from 0-1. Convert it to hex so we can append it.\n\n  const opacity = buttonBackgroundColorOpacity ? Math.floor(buttonBackgroundColorOpacity * 255).toString(16).padStart(2, '0') : '';\n  return /*#__PURE__*/_jsx(\"style\", {\n    dangerouslySetInnerHTML: {\n      __html: oneLineTrim`\n\n.${elementId}__subtitle {\n  color: ${subheadingTextColor};\n  line-height: 2rem;\n  font-size: ${subheadingSizeMobile};\n  font-weight: 700;\n  margin: 0;\n  text-shadow: 1px 3px 4px ${subheadingTextShadowColor || '#627ab1'};\n  padding: 10px 0;\n}\n\n.${elementId}__title {\n  text-transform: uppercase;\n  font-size: ${headingSizeMobile};\n  line-height: 15px;\n  letter-spacing: 5px;\n  color: ${headingTextColor};\n}\n\n.${elementId}__caption {\n  color: ${captionTextColor};\n  font-size: ${captionSizeMobile};\n  line-height: 18px;\n  text-shadow: 0px 0px 1px #fff;\n  padding: 10px 0;\n}\n\n.${elementId}__link {\n  background-color: ${buttonBackgroundColor}${opacity};\n  color: ${buttonTextColor};\n}\n\n.${elementId}__link:hover {\n  background-color: ${buttonBackgroundColor};\n  color: ${buttonTextHoverColor};\n}\n\n@media only screen and (min-width: 750px) {\n  .${elementId}__title {\n    font-size: ${headingSizeTablet};\n    line-height: 25px;\n  }\n  .${elementId}__subtitle {\n    font-size: ${subheadingSizeTablet};\n    line-height: 50px;\n  }\n  .${elementId}__caption {\n    font-size: ${captionSizeTablet};\n    line-height: 24px;\n  }\n}\n\n@media only screen and (min-width: 990px) {\n  .${elementId}__title {\n    font-size: ${headingSizeDesktop};\n    line-height: 35px;\n  }\n  .${elementId}__subtitle {\n    font-size: ${subheadingSizeDesktop};\n    line-height: 80px;\n  }\n  .${elementId}__caption {\n    font-size: ${captionSizeDesktop};\n    line-height: 24px;\n  }\n}`\n    }\n  });\n}\n\nconst cssEtc = {\n  id: '68VWvsRm5bxBrByPBpZmTR',\n  title: 'new arrivals',\n  subtitle: '<strong><span style=\"text-shadow:1px 3px 4px #405893;\">men\\'s<br>joggers</span></strong>',\n  caption: null,\n  linkText: 'shop men',\n  linkRoute: '/collections/mens-running-pants',\n  align: 'Left',\n  textSizes: {\n    name: 'Default Home Slide Text Sizes',\n    headingSizeMobile: '15px',\n    headingSizeTablet: '25px',\n    headingSizeDesktop: '35px',\n    subheadingSizeMobile: '32px',\n    subheadingSizeTablet: '50px',\n    subheadingSizeDesktop: '80px',\n    captionSizeMobile: '18px',\n    captionSizeTablet: '22px',\n    captionSizeDesktop: '24px'\n  },\n  slideName: 'Mens: Joggers',\n  headingTextColor: '#373c86',\n  subheadingTextShadowColor: '#405893',\n  subheadingTextColor: '#FFFFFF',\n  captionTextColor: '#FFFFFF',\n  buttonBackgroundColor: '#FFFFFF',\n  buttonBackgroundColorOpacity: 0.3,\n  buttonTextColor: '#FFFFFF',\n  buttonTextHoverColor: '#405893',\n  imgAlt: 'Man sitting on ground',\n  imgSrc: '//images.ctfassets.net/ajgn17op1zyt/3IwmRw1hQtpZP0H9zA21OT/a3056130e40cddc9b687d1257f52e0fb/hero_slide_3.jpg'\n};",".outsmartly/analysis/modules/117.js":"// node_modules/next/dist/next-server/lib/amp-context.js\n\"use strict\";\n\nexports.__esModule = true;\nexports.AmpStateContext = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nvar AmpStateContext = /*#__PURE__*/_react[\"default\"].createContext({});\n\nexports.AmpStateContext = AmpStateContext;\n\nif (false) {\n  AmpStateContext.displayName = 'AmpStateContext';\n}",".outsmartly/analysis/modules/210.js":"// components/Analytics.tsx\nimport { useEffect, useState, useContext } from 'react';\nimport { AccountContext } from '@outsmartly/jackrabbit';\nimport { loadGoogleAnalytics, loadKlaviyoSubscribe, loadSnapchat } from '@outsmartly/shopify-analytics';\nimport { loadSearchanise, loadPebblePost } from 'third-party-scripts';\nexport function Analytics() {\n  const {\n    0: hasLoadedScripts,\n    1: setHasLoadedScripts\n  } = useState(false);\n  const {\n    0: hasLoadedAccountScripts,\n    1: setHasLoadedAccountScripts\n  } = useState(false);\n  const {\n    account\n  } = useContext(AccountContext);\n  useEffect(() => {\n    if (!hasLoadedScripts) {\n      loadGoogleAnalytics();\n      loadKlaviyoSubscribe();\n      loadSearchanise();\n      setHasLoadedScripts(true);\n    }\n\n    if (account && !hasLoadedAccountScripts) {\n      loadPebblePost(account);\n      loadSnapchat(account);\n      setHasLoadedAccountScripts(true);\n    }\n  }, [account]);\n  return null;\n}",".outsmartly/analysis/modules/181.js":"// pages/collections/[collection]/[tagQuery].ts\nimport Collection from 'components/Collection';\nimport { convertProductToProps } from 'lib/convertProductToProps';\nimport { loadSingleCollection } from 'lib/shopify';\nimport { fetchSidebarCallouts } from 'outsmartly/helpers/contentful';\n/**\n * Fetch necessary data (and return it as props) to render the collection with\n * the given handle.\n */\n\nexport async function getStaticProps({\n  params: {\n    collection,\n    tagQuery = ''\n  }\n}) {\n  const tags = tagQuery.split('+').filter(t => !!t);\n  const content = await loadSingleCollection(collection);\n\n  if (!content) {\n    console.log(`Not Found: ${collection}`);\n    return {\n      notFound: true,\n      revalidate: 240 // In seconds\n\n    };\n  }\n\n  const colorTag = tags.find(tag => tag.startsWith('color-'));\n  const sizeTag = tags.find(tag => tag.startsWith('size-'));\n  const productColors = getTags(content.products, 'color-', sizeTag);\n  const productSizes = getTags(content.products, 'size-', colorTag);\n  content.colors = productColors;\n  content.sizes = productSizes;\n\n  for (const tag of tags) {\n    content.products = content.products.filter(({\n      tags\n    }) => tags.includes(tag));\n  }\n\n  content.products = content.products.map(convertProductToProps); // return {\n  //   id: item.id,\n  //   title: item.title,\n  //   subtitle: item.subtitle ? item.subtitle : null,\n  //   bannerImg: item.bannerImg ? item.bannerImg : null,\n  //   groupId: item.groupId ? item.groupId : null,\n  //   handle: item.route.slice(13)\n  // };\n  // Get the sidebar callouts\n\n  const callouts = await getSidebarCallouts();\n  return {\n    props: {\n      content,\n      callouts\n    },\n    revalidate: 240 // In seconds\n\n  };\n} // Create a variable to hold the fetched sidebar callouts. This is so we don't\n// call Contentful needlessly when we render different collection pages\n\nlet sidebarCache = null;\n\nasync function getSidebarCallouts() {\n  try {\n    // If we already have something, use it\n    if (sidebarCache) return sidebarCache.callouts; // Else, fetch new data. Save it for next time, then return it.\n\n    sidebarCache = await fetchSidebarCallouts();\n    return sidebarCache.callouts;\n  } catch (e) {\n    console.error(e.message);\n    return [];\n  }\n}\n/** Return the list of paths that will match this dynamic page */\n\n\nexport async function getStaticPaths() {\n  return {\n    paths: [],\n    fallback: 'blocking'\n  };\n}\n/** The Collection component */\n\nexport default Collection;\n\nfunction getTags(products, prefix, filter) {\n  const tags = products.reduce(extractTagPrefix(prefix, filter), []);\n  return Array.from(new Set(tags));\n}\n\nfunction extractTagPrefix(prefix, filter = undefined) {\n  return function extractTags(allTags, {\n    tags = []\n  }) {\n    const matchesFilter = !filter || tags.some(t => t === filter);\n\n    if (!matchesFilter) {\n      return allTags;\n    }\n\n    tags = tags.filter(t => t.startsWith(prefix)).map(t => t.replace(/^[^-]+-/, ''));\n    return [...allTags, ...tags];\n  };\n}",".outsmartly/analysis/modules/241.js":"// third-party-scripts/zendesk.js\nimport { loadScript, loadScriptWithDelay } from './utils';\nexport function loadZendesk() {\n  const config = {\n    src: 'https://cdn.shopify.com/s/files/1/1115/2394/t/248/assets/zendesk-embeddable.js?16220\\u0026shop=rbxactive.myshopify.com',\n    id: 'zendesk-script',\n    defer: false\n  };\n  loadScript(config);\n}\nexport function loadZendeskWithDelay() {\n  const config = {\n    src: 'https://cdn.shopify.com/s/files/1/1115/2394/t/248/assets/zendesk-embeddable.js?16220\\u0026shop=rbxactive.myshopify.com',\n    id: 'zendesk-script',\n    timeout: 5 * 1000\n  };\n  loadScriptWithDelay(config);\n}",".outsmartly/analysis/modules/301.js":"// context/selectedOptionsState.ts\nimport { kebabize } from 'lib/utils';\nimport { useEffect, useMemo, useState } from 'react';\nimport { firstAvailableVariant, getFilteredImagesByColor } from 'lib/helpers';\nimport { addOption } from './SelectedOptionsContext';\nexport function selectedOptionsState({\n  product,\n  variantId = undefined\n}) {\n  // const { defaultOptions } = useContext(SelectedOptionsContext);\n  const {\n    0: selectedOptions,\n    1: setSelectedOptions\n  } = useState(getSelectedOptions());\n  const color = useMemo(getColor, [selectedOptions]);\n  const images = useMemo(getFilteredImages, [product, color]);\n  useEffect(() => {\n    setSelectedOptions(getSelectedOptions());\n  }, [product, variantId]);\n  return {\n    selectedOptions,\n    selectSingleOption,\n    images\n  };\n\n  function selectSingleOption(option) {\n    const newSelectedOptions = addOption(selectedOptions, option);\n\n    if (newSelectedOptions !== selectedOptions) {\n      setSelectedOptions(newSelectedOptions);\n    }\n  }\n\n  function getSelectedOptions() {\n    var _ref, _product$variants;\n\n    if (!product.variants) {\n      var _product$options$map$, _product$options;\n\n      // It appears that products that are sold out on an option won't have a tag for it.\n      // So this is logic to find options based upon product tags\n      const options = (_product$options$map$ = (_product$options = product.options) === null || _product$options === void 0 ? void 0 : _product$options.map(({\n        name,\n        values\n      }) => {\n        const value = values.find(value => {\n          var _product$tags;\n\n          const tag = kebabize(`${name} ${value}`);\n          return (_product$tags = product.tags) === null || _product$tags === void 0 ? void 0 : _product$tags.includes(tag);\n        });\n        return {\n          name,\n          value\n        };\n      }).filter(({\n        value\n      }) => !!value)) !== null && _product$options$map$ !== void 0 ? _product$options$map$ : [];\n      return options;\n    }\n\n    const variant = (_ref = variantId && (product === null || product === void 0 ? void 0 : (_product$variants = product.variants) === null || _product$variants === void 0 ? void 0 : _product$variants.find(({\n      id\n    }) => id === variantId))) !== null && _ref !== void 0 ? _ref : firstAvailableVariant(product);\n    return Object.entries(variant.optionMap).map(([name, value]) => ({\n      name,\n      value\n    }));\n  }\n\n  function getColor() {\n    const colorOption = selectedOptions.find(({\n      name\n    }) => name === 'Color');\n\n    if (colorOption) {\n      return colorOption.value;\n    }\n  }\n\n  function getFilteredImages() {\n    return getFilteredImagesByColor(product.imageMap, color);\n  }\n}",".outsmartly/analysis/modules/123.js":"// context/getCollectionInfo.ts\nimport _regeneratorRuntime from \"/Users/kai/Work/rbx-rewrite/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/kai/Work/rbx-rewrite/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { fetchJson } from 'lib/utils';\nimport { useRouter } from 'next/router';\nimport { useEffect, useState } from 'react';\nexport function getCollectionInfo(defaultInfo) {\n  if (defaultInfo) {\n    return defaultInfo;\n  }\n\n  var _useState = useState({}),\n      collectionInfo = _useState[0],\n      setCollectionInfo = _useState[1];\n\n  var router = useRouter();\n  useEffect(function () {\n    if (typeof document !== 'undefined') {\n      var _document;\n\n      var pathname = (_document = document) === null || _document === void 0 ? void 0 : _document.location.pathname;\n      var match = pathname === null || pathname === void 0 ? void 0 : pathname.match(/collections\\/([^\\/]+)\\//);\n\n      if (match) {\n        var handle = match[1];\n        var collectionHandle = collectionInfo.collectionHandle;\n\n        if (collectionHandle !== handle) {\n          fetchInfo(handle).then(setCollectionInfo);\n        }\n      }\n    }\n  }, [router.pathname]);\n  return collectionInfo;\n}\nvar cachedResults = {};\n\nfunction fetchInfo(_x) {\n  return _fetchInfo.apply(this, arguments);\n}\n\nfunction _fetchInfo() {\n  _fetchInfo = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(handle) {\n    var json;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            if (cachedResults[handle]) {\n              _context.next = 5;\n              break;\n            }\n\n            _context.next = 3;\n            return fetchJson(\"/api/_next/collectionTitle?handle=\".concat(handle));\n\n          case 3:\n            json = _context.sent;\n            cachedResults[handle] = json;\n\n          case 5:\n            return _context.abrupt(\"return\", cachedResults[handle]);\n\n          case 6:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _fetchInfo.apply(this, arguments);\n}",".outsmartly/analysis/modules/172.js":"// pages/api/account.ts\nconst sleep = ms => new Promise(resolve => setTimeout(resolve, ms));\n\nexport default (async (req, res) => {\n  await sleep(500);\n  res.statusCode = 200;\n  await sleep(1500);\n  res.json(logged_out);\n});\nexport const carlos_in = {\n  id: '5054266802298',\n  email: 'carlos@outsmartly.com',\n  phone: '',\n  first_name: 'Carlos',\n  last_name: 'Moreno',\n  loyaltylion_has_account: '1c7cdc57823bc119aade27c5e375b239',\n  // The RBX store token\n  loyaltylion_token: '1c7cdc57823bc119aade27c5e375b239',\n  rechargeHash: '',\n  // This is the hash of a bunch of things\n  loyaltylion_auth_token: '830ae25881838b96470765bf1bc693abb3e237fa',\n  date: '2021-06-09 16:39:25-0400',\n  tags: 'Male,tier: Preferred',\n  orderValue: '',\n  orderId: ''\n};\nexport const logged_out = {\n  id: '',\n  email: '',\n  phone: '',\n  first_name: '',\n  last_name: '',\n  loyaltylion_has_account: '1c7cdc57823bc119aade27c5e375b239',\n  loyaltylion_token: '1c7cdc57823bc119aade27c5e375b239',\n  rechargeHash: '',\n  loyaltylion_auth_token: 'f4e923cf38fe2455f01b6913d215571590da41f2',\n  date: '2021-03-18 01:48:26-0400',\n  tags: '',\n  orderValue: '',\n  orderId: ''\n};\nconst logged_in = {\n  id: '5022160420986',\n  //{{ customer.id }}\n  email: 'jacob@outsmartly.com',\n  //{{ customer.email }}\n  phone: '',\n  //{{ customer.phone }}\n  first_name: 'Jacob',\n  //{{ customer.first_name }}\n  last_name: 'Eggers',\n  //{{ customer.last_name }}\n  hashedEmail: '',\n  //customer.email | sha1,\n  //loyaltylion\n  loyaltylion_has_account: true,\n  //{{shop.metafields.loyaltylion.token != nil and customer != nil and customer.has_account}}\n  // loyaltylion_token: '1c7cdc57823bc119aade27c5e375b239', //shop.metafields.loyaltylion.token\n  rechargeHash: '',\n  //customer.metafields.subscriptions.customer_string | if: customer.metafields.subscriptions.customer_string\n  loyaltylion_auth_token: 'a9bc2f5816c2d362dc105f06647a51f0fdfa2b24',\n  //customer.id | append: date | append: customer.email | append: shop.metafields.loyaltylion.secret | sha1 %}\n  date: '2021-03-02 01:38:30-0500',\n  //assign date = 'now' | date: \"%Y-%m-%d %H:%M:%S%z\"\n  //pebblepost\n  tags: 'tier: Preferred' //{% for tag in customer.tags %}{{ tag }}{% unless forloop.last %},{% endunless %}{% endfor %}\n  //orderValue: \"{{ subtotal_price | money_without_currency }}\";\n  //orderId: \"{{ id }}\";\n\n};",".outsmartly/analysis/modules/2.js":"// components/HeroCarouselNoCss.js\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports._outsmartly_thunk = _outsmartly_thunk;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _reactSlick = _interopRequireDefault(require(\"react-slick\"));\n\nvar _FeaturedContentSlider = _interopRequireDefault(require(\"./FeaturedContentSlider\"));\n\nvar _trackExposure = require(\"./outsmartly/track-exposure\");\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { \"default\": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj[\"default\"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nvar __jsx = _react[\"default\"].createElement;\n\nfunction _outsmartly_thunk(_temp) {\n  if (_outsmartly_slices.$1) {\n    var heroItems = _temp.heroItems,\n        slides = _temp.slides,\n        heroItem = _temp.heroItem,\n        heroImage = _temp.heroImage,\n        css = _temp.css;\n  }\n\n  var settings = {\n    arrows: false,\n    autoplay: true,\n    className: 'hero',\n    dots: true,\n    speed: 500,\n    slidesToShow: 1,\n    slidesToScroll: 1\n  };\n\n  if (_outsmartly_slices.$1) {\n    var _heroItems$slideshowS = heroItems.slideshowSpeedInSeconds,\n        slideshowSpeedInSeconds = _heroItems$slideshowS === void 0 ? 5 : _heroItems$slideshowS;\n  }\n\n  if (_outsmartly_branch_selections.$0) {\n    {\n      if (_outsmartly_slices.$1) {\n        _outsmartly_outlets.$1 = /*#__PURE__*/_react[\"default\"].createElement(_reactSlick[\"default\"], (0, _extends2[\"default\"])({}, settings, {\n          autoplaySpeed: slideshowSpeedInSeconds * 1000\n        }), slides.map(function (item, i) {\n          return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n            className: heroItem,\n            key: item.linkRoute\n          }, /*#__PURE__*/_react[\"default\"].createElement(_trackExposure.TrackExposure, {\n            outsmartlyTracking: item.outsmartlyTracking\n          }, /*#__PURE__*/_react[\"default\"].createElement(\"img\", (0, _extends2[\"default\"])({}, i === 0 ? {\n            'data-prioritize': 1\n          } : {}, {\n            className: heroImage,\n            src: item.imgSrc,\n            alt: item.imgAlt\n          }))), /*#__PURE__*/_react[\"default\"].createElement(_FeaturedContentSlider[\"default\"], {\n            parent: \"hero\",\n            id: item.id,\n            titleText: item.title,\n            subtitleText: item.subtitle,\n            captionText: item.caption,\n            linkText: item.linkText,\n            linkRoute: item.linkRoute,\n            align: item.align,\n            item: item,\n            css: css,\n            outsmartlyTracking: item.outsmartlyTracking\n          }));\n        }));\n      }\n    }\n    return _outsmartly_no_return;\n  } else {\n    return /*#__PURE__*/_react[\"default\"].createElement(_reactSlick[\"default\"], (0, _extends2[\"default\"])({}, settings, {\n      autoplaySpeed: slideshowSpeedInSeconds * 1000\n    }), slides.map(function (item, i) {\n      return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: heroItem,\n        key: item.linkRoute\n      }, /*#__PURE__*/_react[\"default\"].createElement(_trackExposure.TrackExposure, {\n        outsmartlyTracking: item.outsmartlyTracking\n      }, /*#__PURE__*/_react[\"default\"].createElement(\"img\", (0, _extends2[\"default\"])({}, i === 0 ? {\n        'data-prioritize': 1\n      } : {}, {\n        className: heroImage,\n        src: item.imgSrc,\n        alt: item.imgAlt\n      }))), /*#__PURE__*/_react[\"default\"].createElement(_FeaturedContentSlider[\"default\"], {\n        parent: \"hero\",\n        id: item.id,\n        titleText: item.title,\n        subtitleText: item.subtitle,\n        captionText: item.caption,\n        linkText: item.linkText,\n        linkRoute: item.linkRoute,\n        align: item.align,\n        item: item,\n        css: css,\n        outsmartlyTracking: item.outsmartlyTracking\n      }));\n    }));\n  }\n}\n\nvar HeroCarouselNoCss = _outsmartly_thunk;\n/* <HeroImage\n                // prioritize first hero image\n                // would also like to lazy load these, perhaps by also using\n                // the exposure tracking, but modified\n                {...(i === 0 ? { 'data-prioritize': 1 } : {})}\n                heroImage={heroImage}\n                src={item.imgSrc}\n                alt={item.imgAlt}\n                i={i}\n              /> */\n// function HeroImage({ heroImage, src, alt, i }) {\n//   const [heroImageSrc, setHeroImage] = useState(src);\n//   useEffect(() => {\n//     const img = new Image();\n//     img.src = `${src}?high-res=true`;\n//     // Once image is loaded replace the src of the HTML element\n//     img.onload = () => {\n//       setHeroImage(img.src);\n//     };\n//   }, []);\n//   return (\n//     <img\n//       // prioritize first hero image\n//       // would also like to lazy load these, perhaps by also using\n//       // the exposure tracking, but modified\n//       {...(i === 0 ? { 'data-prioritize': 1 } : {})}\n//       className={heroImage}\n//       src={heroImageSrc}\n//       alt={alt}\n//     />\n//   );\n// }",".outsmartly/analysis/modules/162.js":"// components/Product/ProductPhotos/ProductPhotosMainImage.js\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { getFirstImage } from '../../../lib/helpers';\nimport { getProductImageUrl } from '../../../lib/getImageUrl';\nimport { useEffect, useMemo, useState } from 'react';\n\nfunction getSrc(imageMap, color, index) {\n  if (!color) {\n    return getFirstImage(imageMap);\n  }\n\n  var images = imageMap[color]; // A check to make sure that the index request is available.\n\n  if ((images === null || images === void 0 ? void 0 : images.length) <= index) {\n    index = 0;\n  }\n\n  return images ? images[index] : getFirstImage(imageMap);\n}\n\nexport function useOverrideProp(serverProp, clientProp) {\n  var _useState = useState(false),\n      isPropHydrated = _useState[0],\n      setIsPropHydrated = _useState[1];\n\n  var overrideProp = useMemo(function () {\n    if (isPropHydrated || !serverProp) {\n      return clientProp;\n    }\n\n    return serverProp;\n  }, [clientProp, isPropHydrated]);\n  useEffect(function () {\n    if (clientProp === serverProp && !isPropHydrated) {\n      setIsPropHydrated(true);\n    }\n  }, [clientProp]);\n  return overrideProp;\n}\nexport function ProductPhotosMainImage(_ref) {\n  var imgRef = _ref.imgRef,\n      className = _ref.className,\n      _ref$setSrc = _ref.setSrc,\n      setSrc = _ref$setSrc === void 0 ? undefined : _ref$setSrc,\n      imageMap = _ref.imageMap,\n      _ref$serverColor = _ref.serverColor,\n      serverColor = _ref$serverColor === void 0 ? undefined : _ref$serverColor,\n      clientColor = _ref.clientColor,\n      _ref$index = _ref.index,\n      index = _ref$index === void 0 ? 0 : _ref$index;\n  var color = useOverrideProp(serverColor, clientColor);\n  var image = getSrc(imageMap, color, index); // imageMap[color] ? getFirstImage(imageMap) : imageMap[color];\n\n  var src = getProductImageUrl(image, 600); // Tell the outside world the src being displayed, this if so that the ImageZoom\n  // can fetch the full size version of the image for zooming.\n\n  if (setSrc) {\n    useEffect(function () {\n      setSrc(src);\n    }, [image]);\n  }\n\n  return /*#__PURE__*/_jsx(\"img\", {\n    ref: imgRef,\n    className: className,\n    alt: color,\n    src: src,\n    width: \"600\",\n    height: \"831\"\n  });\n}\n/* Another option to wrap any component, and just overriding the variantId\nfunction VariantOverride({ variantId, product, type }) {\n  switch (type) {\n    case 'MainImage':\n      return (\n        <ProductPhotosFirstImage product={product} variantId={variantId} />\n      );\n      case 'Options':\n        return (\n          <ProductOptions product={product} variantId={variantId} />\n        );\n    }\n}\n*/",".outsmartly/analysis/modules/133.js":"// node_modules/next/dist/pages/_error.js\n\"use strict\";\n\nvar _classCallCheck = require(\"/Users/kai/Work/rbx-rewrite/node_modules/next/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/Users/kai/Work/rbx-rewrite/node_modules/next/node_modules/@babel/runtime/helpers/createClass\");\n\nvar _inherits = require(\"/Users/kai/Work/rbx-rewrite/node_modules/next/node_modules/@babel/runtime/helpers/inherits\");\n\nvar _possibleConstructorReturn = require(\"/Users/kai/Work/rbx-rewrite/node_modules/next/node_modules/@babel/runtime/helpers/possibleConstructorReturn\");\n\nvar _getPrototypeOf = require(\"/Users/kai/Work/rbx-rewrite/node_modules/next/node_modules/@babel/runtime/helpers/getPrototypeOf\");\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nexports.__esModule = true;\nexports[\"default\"] = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _head = _interopRequireDefault(require(\"../next-server/lib/head\"));\n\nvar statusCodes = {\n  400: 'Bad Request',\n  404: 'This page could not be found',\n  405: 'Method Not Allowed',\n  500: 'Internal Server Error'\n};\n\nfunction _getInitialProps(_ref) {\n  var res = _ref.res,\n      err = _ref.err;\n  var statusCode = res && res.statusCode ? res.statusCode : err ? err.statusCode : 404;\n  return {\n    statusCode: statusCode\n  };\n}\n/**\n* `Error` component used for handling errors.\n*/\n\n\nvar Error = /*#__PURE__*/function (_react$default$Compon) {\n  _inherits(Error, _react$default$Compon);\n\n  var _super = _createSuper(Error);\n\n  function Error() {\n    _classCallCheck(this, Error);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(Error, [{\n    key: \"render\",\n    value: function render() {\n      var statusCode = this.props.statusCode;\n      var title = this.props.title || statusCodes[statusCode] || 'An unexpected error has occurred';\n      return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        style: styles.error\n      }, /*#__PURE__*/_react[\"default\"].createElement(_head[\"default\"], null, /*#__PURE__*/_react[\"default\"].createElement(\"title\", null, statusCode ? \"\".concat(statusCode, \": \").concat(title) : 'Application error: a client-side exception has occurred')), /*#__PURE__*/_react[\"default\"].createElement(\"div\", null, /*#__PURE__*/_react[\"default\"].createElement(\"style\", {\n        dangerouslySetInnerHTML: {\n          __html: 'body { margin: 0 }'\n        }\n      }), statusCode ? /*#__PURE__*/_react[\"default\"].createElement(\"h1\", {\n        style: styles.h1\n      }, statusCode) : null, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        style: styles.desc\n      }, /*#__PURE__*/_react[\"default\"].createElement(\"h2\", {\n        style: styles.h2\n      }, this.props.title || statusCode ? title : /*#__PURE__*/_react[\"default\"].createElement(_react[\"default\"].Fragment, null, \"Application error: a client-side exception has occurred (\", /*#__PURE__*/_react[\"default\"].createElement(\"a\", {\n        href: \"https://nextjs.org/docs/messages/client-side-exception-occurred\"\n      }, \"developer guidance\"), \")\"), \".\"))));\n    }\n  }]);\n\n  return Error;\n}(_react[\"default\"].Component);\n\nexports[\"default\"] = Error;\nError.displayName = 'ErrorPage';\nError.getInitialProps = _getInitialProps;\nError.origGetInitialProps = _getInitialProps;\nvar styles = {\n  error: {\n    color: '#000',\n    background: '#fff',\n    fontFamily: '-apple-system, BlinkMacSystemFont, Roboto, \"Segoe UI\", \"Fira Sans\", Avenir, \"Helvetica Neue\", \"Lucida Grande\", sans-serif',\n    height: '100vh',\n    textAlign: 'center',\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  desc: {\n    display: 'inline-block',\n    textAlign: 'left',\n    lineHeight: '49px',\n    height: '49px',\n    verticalAlign: 'middle'\n  },\n  h1: {\n    display: 'inline-block',\n    borderRight: '1px solid rgba(0, 0, 0,.3)',\n    margin: 0,\n    marginRight: '20px',\n    padding: '10px 23px 10px 0',\n    fontSize: '24px',\n    fontWeight: 500,\n    verticalAlign: 'top'\n  },\n  h2: {\n    fontSize: '14px',\n    fontWeight: 'normal',\n    lineHeight: 'inherit',\n    margin: 0,\n    padding: 0\n  }\n};",".outsmartly/analysis/modules/311.js":"// components/SizingGuide/PlusSize.js\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { title, tableWrap } from './SizingGuide.module.css';\nexport default function PlusSize({\n  titleClass = title,\n  wrapClass = tableWrap\n}) {\n  return /*#__PURE__*/_jsxs(\"div\", {\n    id: \"plus-size\",\n    children: [/*#__PURE__*/_jsx(\"p\", {\n      className: titleClass,\n      children: /*#__PURE__*/_jsx(\"strong\", {\n        children: \"Plus Size Guide\"\n      })\n    }), /*#__PURE__*/_jsx(\"div\", {\n      className: wrapClass,\n      children: /*#__PURE__*/_jsxs(\"table\", {\n        children: [/*#__PURE__*/_jsx(\"thead\", {\n          children: /*#__PURE__*/_jsxs(\"tr\", {\n            children: [/*#__PURE__*/_jsx(\"th\", {\n              scope: \"col\",\n              children: \"Size\"\n            }), /*#__PURE__*/_jsx(\"th\", {\n              scope: \"col\",\n              children: \"Bust\"\n            }), /*#__PURE__*/_jsx(\"th\", {\n              scope: \"col\",\n              children: \"Waist\"\n            }), /*#__PURE__*/_jsx(\"th\", {\n              scope: \"col\",\n              children: \"Hip\"\n            })]\n          })\n        }), /*#__PURE__*/_jsxs(\"tbody\", {\n          children: [/*#__PURE__*/_jsxs(\"tr\", {\n            children: [/*#__PURE__*/_jsx(\"th\", {\n              scope: \"row\",\n              children: \"1X / 16W 18W\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"44\\\" - 45\\\"\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"37\\\" - 38\\\"\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"46\\\" - 47\\\"\"\n            })]\n          }), /*#__PURE__*/_jsxs(\"tr\", {\n            children: [/*#__PURE__*/_jsx(\"th\", {\n              scope: \"row\",\n              children: \"2X / 20W 22W\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"47\\\" - 48\\\"\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"40\\\" - 41\\\"\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"49\\\" - 50\\\"\"\n            })]\n          }), /*#__PURE__*/_jsxs(\"tr\", {\n            children: [/*#__PURE__*/_jsx(\"th\", {\n              scope: \"row\",\n              children: \"3X / 24W 26W\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"50\\\" - 51\\\"\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"43\\\" - 44\\\"\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"52\\\" - 53\\\"\"\n            })]\n          })]\n        })]\n      })\n    })]\n  });\n}",".outsmartly/analysis/modules/251.js":"// node_modules/next/dist/next-server/lib/utils.js\n\"use strict\";\n\nexports.__esModule = true;\nexports.execOnce = execOnce;\nexports.getLocationOrigin = getLocationOrigin;\nexports.getURL = getURL;\nexports.getDisplayName = getDisplayName;\nexports.isResSent = isResSent;\nexports.loadGetInitialProps = loadGetInitialProps;\nexports.formatWithValidation = formatWithValidation;\nexports.ST = exports.SP = exports.urlObjectKeys = void 0;\n\nvar _formatUrl = require(\"./router/utils/format-url\");\n/**\n* Utils\n*/\n\n\nfunction execOnce(fn) {\n  let used = false;\n  let result;\n  return (...args) => {\n    if (!used) {\n      used = true;\n      result = fn(...args);\n    }\n\n    return result;\n  };\n}\n\nfunction getLocationOrigin() {\n  const {\n    protocol,\n    hostname,\n    port\n  } = window.location;\n  return `${protocol}//${hostname}${port ? ':' + port : ''}`;\n}\n\nfunction getURL() {\n  const {\n    href\n  } = window.location;\n  const origin = getLocationOrigin();\n  return href.substring(origin.length);\n}\n\nfunction getDisplayName(Component) {\n  return typeof Component === 'string' ? Component : Component.displayName || Component.name || 'Unknown';\n}\n\nfunction isResSent(res) {\n  return res.finished || res.headersSent;\n}\n\nasync function loadGetInitialProps(App, ctx) {\n  if (false) {\n    var _App$prototype;\n\n    if ((_App$prototype = App.prototype) != null && _App$prototype.getInitialProps) {\n      const message = `\"${getDisplayName(App)}.getInitialProps()\" is defined as an instance method - visit https://nextjs.org/docs/messages/get-initial-props-as-an-instance-method for more information.`;\n      throw new Error(message);\n    }\n  } // when called from _app `ctx` is nested in `ctx`\n\n\n  const res = ctx.res || ctx.ctx && ctx.ctx.res;\n\n  if (!App.getInitialProps) {\n    if (ctx.ctx && ctx.Component) {\n      // @ts-ignore pageProps default\n      return {\n        pageProps: await loadGetInitialProps(ctx.Component, ctx.ctx)\n      };\n    }\n\n    return {};\n  }\n\n  const props = await App.getInitialProps(ctx);\n\n  if (res && isResSent(res)) {\n    return props;\n  }\n\n  if (!props) {\n    const message = `\"${getDisplayName(App)}.getInitialProps()\" should resolve to an object. But found \"${props}\" instead.`;\n    throw new Error(message);\n  }\n\n  if (false) {\n    if (Object.keys(props).length === 0 && !ctx.ctx) {\n      console.warn(`${getDisplayName(App)} returned an empty object from \\`getInitialProps\\`. This de-optimizes and prevents automatic static optimization. https://nextjs.org/docs/messages/empty-object-getInitialProps`);\n    }\n  }\n\n  return props;\n}\n\nconst urlObjectKeys = ['auth', 'hash', 'host', 'hostname', 'href', 'path', 'pathname', 'port', 'protocol', 'query', 'search', 'slashes'];\nexports.urlObjectKeys = urlObjectKeys;\n\nfunction formatWithValidation(url) {\n  if (false) {\n    if (url !== null && typeof url === 'object') {\n      Object.keys(url).forEach(key => {\n        if (urlObjectKeys.indexOf(key) === -1) {\n          console.warn(`Unknown key passed via urlObject into url.format: ${key}`);\n        }\n      });\n    }\n  }\n\n  return (0, _formatUrl.formatUrl)(url);\n}\n\nconst SP = typeof performance !== 'undefined';\nexports.SP = SP;\nconst ST = SP && typeof performance.mark === 'function' && typeof performance.measure === 'function';\nexports.ST = ST;",".outsmartly/analysis/modules/340.js":"// components/Slider/SlideContainer.js\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport _JSXStyle from \"styled-jsx/style\";\nimport { slideContainer } from './Slider.module.css';\n/**\n * Contains individual <Slide/> components. Parent is <Slider/>\n * @param {Object} children - elements passed down from parent\n */\n\nexport function SlideContainer({\n  trayWidth,\n  slideWidth,\n  gap,\n  translate,\n  transition,\n  children\n}) {\n  return /*#__PURE__*/_jsxs(_Fragment, {\n    children: [/*#__PURE__*/_jsx(\"div\", {\n      className: _JSXStyle.dynamic([[\"1247210755\", [trayWidth, slideWidth, gap, translate, transition]]]) + \" \" + `dynamicStyles ${slideContainer}`,\n      children: children\n    }), /*#__PURE__*/_jsx(_JSXStyle, {\n      id: \"1247210755\",\n      dynamic: [trayWidth, slideWidth, gap, translate, transition],\n      children: [`.dynamicStyles.__jsx-style-dynamic-selector{width:${trayWidth}px;grid-template-columns:repeat(auto-fit,${slideWidth}px);grid-gap:${gap}px;-webkit-transform:translateX(-${translate}px);-ms-transform:translateX(-${translate}px);transform:translateX(-${translate}px);-webkit-transition:-webkit-transform ${transition}ms cubic-bezier(0.45,0.03,0.51,0.95);-webkit-transition:transform ${transition}ms cubic-bezier(0.45,0.03,0.51,0.95);transition:transform ${transition}ms cubic-bezier(0.45,0.03,0.51,0.95);}`]\n    })]\n  });\n}",".outsmartly/analysis/modules/191.js":"// components/HeroCarousel.js\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from 'react';\nimport 'slick-carousel/slick/slick.css';\nimport 'slick-carousel/slick/slick-theme.css';\nimport { heroItem, heroImage } from './HeroCarousel.module.css';\nimport { content, title, subtitle, caption, link } from './FeaturedContent.module.css';\nimport styles from './FeaturedContent.module.css';\nimport { HeroCarouselNoCss } from './HeroCarouselNoCss';\nexport default function HeroCarouselWrapper({\n  heroItems\n}) {\n  const {\n    slides\n  } = heroItems,\n        rest = _objectWithoutProperties(heroItems, [\"slides\"]);\n\n  return /*#__PURE__*/_jsx(HeroCarouselNoCss, {\n    heroItems: rest,\n    slides: slides,\n    heroItem: heroItem,\n    heroImage: heroImage // Outsmartly's CLI does not currently support CSS Modules so we\n    // need to pass these in as props and thread them through, for the time being\n    ,\n    css: {\n      content,\n      title,\n      subtitle,\n      caption,\n      link,\n      styles\n    }\n  });\n}\nconst exampleData = {\n  slideshowName: 'June 2021 Color Story Theme 1',\n  cacheInfo: {\n    age: '20747',\n    cacheStatus: null\n  },\n  slides: [{\n    id: '6uTKQoZmyGq2GrXdKogkJr',\n    title: '<strong><span style=\"text-shadow:1px 3px 4px #5F7C74;\">NEW ARRIVALS</span></strong>',\n    subtitle: 'KEEP IT<br>BREEZY',\n    caption: '<span style=\"text-shadow:1px 3px 4px #ccc;\">in blues, greens, and teals.</span>',\n    linkText: 'SHOP NOW',\n    linkRoute: '/collections/new-arrivals-collection',\n    align: 'Left',\n    textSizes: {\n      name: 'Default Homepage Slideshow Text Sizes',\n      headingSizeMobile: '15px',\n      headingSizeTablet: '25px',\n      headingSizeDesktop: '35px',\n      subheadingSizeMobile: '32px',\n      subheadingSizeTablet: '50px',\n      subheadingSizeDesktop: '80px',\n      captionSizeMobile: '18px',\n      captionSizeTablet: '22px',\n      captionSizeDesktop: '24px'\n    },\n    imgAlt: 'Color Story (June 10, 2021)',\n    imgSrc: '//images.ctfassets.net/ajgn17op1zyt/5Uisefj4Ova11YyVta4RUW/0a33be292a6c987af5a2e9baa7aa4d5b/Color-Story-Homepage.jpg',\n    slideName: 'Color Story (June 10, 2021)',\n    headingTextColor: '#ffffff',\n    subheadingTextShadowColor: '#5F7C74',\n    subheadingTextColor: '#ffffff',\n    captionTextColor: '#ffffff',\n    buttonTextColor: '#56AC6B',\n    buttonTextHoverColor: '#48AEC4',\n    buttonBackgroundColor: '#ffffff',\n    buttonBackgroundColorOpacity: 1,\n    outsmartlyTracking: {\n      featureId: '1DxOhrgeGDzRd7dkVYuAk4',\n      variationId: '6uTKQoZmyGq2GrXdKogkJr',\n      metadata: [{\n        key: 'featureHash',\n        value: 'cd98856973b52121639549ed1fd5ae972e01df9c'\n      }, {\n        key: 'featureRevision',\n        value: 1\n      }, {\n        key: 'variationHash',\n        value: '719ed84e37233de7a2594d1f9c3d5fa1683cb0ff'\n      }, {\n        key: 'variationRevision',\n        value: 3\n      }]\n    }\n  }, {\n    id: '2aZQmmWdEyYM9c53DjS8CA',\n    title: 'NEW ARRIVALS',\n    subtitle: 'MADE<br>FOR<br>CURVES',\n    caption: null,\n    linkText: 'shop plus',\n    linkRoute: '/collections/womens-plus-size',\n    align: 'Left',\n    textSizes: {\n      name: 'Default Homepage Slideshow Text Sizes',\n      headingSizeMobile: '15px',\n      headingSizeTablet: '25px',\n      headingSizeDesktop: '35px',\n      subheadingSizeMobile: '32px',\n      subheadingSizeTablet: '50px',\n      subheadingSizeDesktop: '80px',\n      captionSizeMobile: '18px',\n      captionSizeTablet: '22px',\n      captionSizeDesktop: '24px'\n    },\n    imgAlt: 'Plus Homepage',\n    imgSrc: '//images.ctfassets.net/ajgn17op1zyt/5bQ2eQtMqOFzUMdPZT5wOq/240dfe5b0689cca156e907aa7300d90a/Plus_Homepage.jpg',\n    slideName: 'Plus New Arrivals (June 2, 2021)',\n    headingTextColor: '#ffffff',\n    subheadingTextShadowColor: '#6163F2',\n    subheadingTextColor: '#ffffff',\n    buttonTextColor: '#6163F2',\n    buttonTextHoverColor: '#BF6DDA',\n    buttonBackgroundColor: '#ffffff',\n    buttonBackgroundColorOpacity: 1,\n    outsmartlyTracking: {\n      featureId: '1DxOhrgeGDzRd7dkVYuAk4',\n      variationId: '2aZQmmWdEyYM9c53DjS8CA',\n      metadata: [{\n        key: 'featureHash',\n        value: 'cd98856973b52121639549ed1fd5ae972e01df9c'\n      }, {\n        key: 'featureRevision',\n        value: 1\n      }, {\n        key: 'variationHash',\n        value: 'dfb7c77f8261bc30fb2a697adfd68d4e699c2d8b'\n      }, {\n        key: 'variationRevision',\n        value: 2\n      }]\n    }\n  }, {\n    id: '1Ywypsu7WDRx7MEsOIFmxv',\n    title: null,\n    subtitle: \"MEN'S<br>NEW<br>ARRIVALS\",\n    caption: '<span style=\"text-transform:none;line-height:2em;\">Updated gear for your workout.</span>',\n    linkText: 'shop now',\n    linkRoute: '/collections/men',\n    align: 'Left',\n    textSizes: {\n      name: 'Default Homepage Slideshow Text Sizes',\n      headingSizeMobile: '15px',\n      headingSizeTablet: '25px',\n      headingSizeDesktop: '35px',\n      subheadingSizeMobile: '32px',\n      subheadingSizeTablet: '50px',\n      subheadingSizeDesktop: '80px',\n      captionSizeMobile: '18px',\n      captionSizeTablet: '22px',\n      captionSizeDesktop: '24px'\n    },\n    imgAlt: \"Men's New Arrivals\",\n    imgSrc: '//images.ctfassets.net/ajgn17op1zyt/6sPDHaXCx52NHP5CVhGn2o/daeb95bc32dd0a459d54e1f40b402125/Fathers-Day-Products-Homepage.jpg',\n    slideName: \"Men's New Arrivals (June 10, 2021)\",\n    subheadingTextShadowColor: '#283991',\n    subheadingTextColor: '#ffffff',\n    captionTextColor: '#ffffff',\n    buttonTextColor: '#3B51C1',\n    buttonTextHoverColor: '#337862',\n    buttonBackgroundColor: '#ffffff',\n    buttonBackgroundColorOpacity: 1,\n    outsmartlyTracking: {\n      featureId: '1DxOhrgeGDzRd7dkVYuAk4',\n      variationId: '1Ywypsu7WDRx7MEsOIFmxv',\n      metadata: [{\n        key: 'featureHash',\n        value: 'cd98856973b52121639549ed1fd5ae972e01df9c'\n      }, {\n        key: 'featureRevision',\n        value: 1\n      }, {\n        key: 'variationHash',\n        value: '2deb7a125263ad6e37caff55c20bee58a9203f79'\n      }, {\n        key: 'variationRevision',\n        value: 2\n      }]\n    }\n  }]\n};",".outsmartly/analysis/modules/200.js":"// components/Page.js\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React from 'react';\nimport { pageBanner, pageBannerTitle, pageWrapper, rte } from 'components/Page.module.css';\nimport styles from 'styles/Main.module.css';\nimport AllSizeGuides from 'components/SizingGuide/AllSizeGuides';\nimport SizeGuide from 'components/SizingGuide/SizeGuide';\nimport { SEO } from './Seo';\n/** The Page component */\n\nexport function Page({\n  content\n}) {\n  /* Things we need in content:\n  {\n    title: '',\n    handle: '',\n    bannerImg: '',\n    body: {\n      __html: '',\n    },\n  }\n  */\n  // Add page type class to <main>\n  const pageType = 'templatePage';\n  return /*#__PURE__*/_jsxs(\"main\", {\n    id: \"mainContent\",\n    className: `${styles['mainContent']} ${styles[pageType]}`,\n    children: [/*#__PURE__*/_jsx(SEO, {\n      ogType: \"website\",\n      title: content.title,\n      canonical: `/pages/${content.handle}`,\n      description: content.description,\n      images: [content.bannerImg]\n    }), content.bannerImg && /*#__PURE__*/_jsx(\"div\", {\n      className: `${pageBanner} ${content.subtitle ? hasSubtitle : ''}`,\n      style: {\n        backgroundImage: `url(${content.bannerImg})`\n      },\n      children: /*#__PURE__*/_jsx(\"h1\", {\n        className: pageBannerTitle,\n        children: content.title\n      })\n    }), /*#__PURE__*/_jsx(\"div\", {\n      className: \"page-width flex-center\",\n      children: /*#__PURE__*/_jsx(\"div\", {\n        className: pageWrapper,\n        \"data-page-handle\": content.handle,\n        children: content.handle === 'sizing-guide' ? /*#__PURE__*/_jsx(AllSizeGuides, {}) : content.handle.startsWith('size-guide-') ? /*#__PURE__*/_jsx(SizeGuide, {\n          handle: content.handle\n        }) : /*#__PURE__*/_jsx(\"div\", {\n          className: rte,\n          dangerouslySetInnerHTML: content.body\n        })\n      })\n    })]\n  });\n}",".outsmartly/analysis/modules/107.js":"// components/outsmartly/track-exposure.js\nimport _regeneratorRuntime from \"/Users/kai/Work/rbx-rewrite/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _defineProperty from \"/Users/kai/Work/rbx-rewrite/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport _slicedToArray from \"/Users/kai/Work/rbx-rewrite/node_modules/next/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectWithoutProperties from \"/Users/kai/Work/rbx-rewrite/node_modules/next/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _asyncToGenerator from \"/Users/kai/Work/rbx-rewrite/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useEffect } from 'react';\nimport { useInView } from 'react-intersection-observer';\n/*\n    rid: string;\n    vid: string;\n    timelineMark: number;\n    elapsedTime: number;\n    releaseId: string;\n    featureId: string;\n    variationId: string;\n    exposureId: string;\n    intersectionRatio: number;\n    elapsedInterval: number;\n    position: number;\n    visibility: string;\n*/\n\nexport function logExposure(_x) {\n  return _logExposure.apply(this, arguments);\n} // may need to import the intersection observer polyfill\n\nfunction _logExposure() {\n  _logExposure = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(_ref) {\n    var outsmartlyTracking, elapsedTime, event, response, data;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            outsmartlyTracking = _ref.outsmartlyTracking;\n\n            if (window.__DEBUG_TRACKING__) {\n              console.log('exposure ->', outsmartlyTracking);\n            } // guard for not actually being on the edge\n\n\n            if (!(!window.__APP_CONFIG__.gifLoggerUrl || !(outsmartlyTracking !== null && outsmartlyTracking !== void 0 && outsmartlyTracking.featureId))) {\n              _context.next = 4;\n              break;\n            }\n\n            return _context.abrupt(\"return\");\n\n          case 4:\n            elapsedTime = parseInt(window.performance.now());\n            event = {\n              name: 'exposure',\n              log: {\n                rid: window.__APP_CONFIG__.rid,\n                vid: window.__APP_CONFIG__.vid,\n                timelineMark: window.__APP_CONFIG__.startTimestamp + elapsedTime,\n                elapsedTime: elapsedTime,\n                pathname: window.location.pathname,\n                outsmartlyTracking: outsmartlyTracking,\n                intersectionRatio: 1,\n                elapsedInterval: 1,\n                visibility: 'visible'\n              }\n            };\n            _context.prev = 6;\n            _context.next = 9;\n            return fetch(window.__APP_CONFIG__.gifLoggerUrl, {\n              method: 'POST',\n              body: JSON.stringify(event),\n              headers: {\n                'Content-Type': 'application/json'\n              }\n            });\n\n          case 9:\n            response = _context.sent;\n\n            if (!window.__DEBUG_TRACKING__) {\n              _context.next = 15;\n              break;\n            }\n\n            _context.next = 13;\n            return response.json();\n\n          case 13:\n            data = _context.sent;\n            console.error('response in exposures ->', data);\n\n          case 15:\n            _context.next = 20;\n            break;\n\n          case 17:\n            _context.prev = 17;\n            _context.t0 = _context[\"catch\"](6);\n\n            if (window.__DEBUG_TRACKING__) {\n              console.error('error in exposures ->', _context.t0);\n            }\n\n          case 20:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[6, 17]]);\n  }));\n  return _logExposure.apply(this, arguments);\n}\n\nexport function TrackExposure(_ref2) {\n  var children = _ref2.children,\n      outsmartlyTracking = _ref2.outsmartlyTracking,\n      props = _objectWithoutProperties(_ref2, [\"children\", \"outsmartlyTracking\"]);\n\n  var _useInView = useInView({\n    triggerOnce: true,\n    rootMargin: '0px 0px 0px 0px',\n    threshold: [1]\n  }),\n      _useInView2 = _slicedToArray(_useInView, 3),\n      ref = _useInView2[0],\n      inView = _useInView2[1],\n      entry = _useInView2[2];\n\n  useEffect(function () {\n    if (inView) {\n      logExposure({\n        outsmartlyTracking: outsmartlyTracking\n      });\n    }\n  }, [inView]);\n  return (\n    /*#__PURE__*/\n    // maybe pass the inView prop so you don't need to have double observers\n    // if also using an observe in the child?\n    _jsx(\"span\", _objectSpread(_objectSpread({\n      ref: ref\n    }, props), {}, {\n      children: children\n    }))\n  );\n}",".outsmartly/analysis/modules/296.js":"// components/FeaturedContent.js\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React from 'react';\nimport Link from 'next/link';\nimport { cap } from '../lib/utils';\nimport { trackOutcome } from './outsmartly/track-outcome';\nimport oneLineTrim from 'common-tags/lib/oneLineTrim';\nexport default function FeaturedContent(props) {\n  const {\n    parent,\n    id,\n    titleText,\n    subtitleText,\n    captionText,\n    linkText,\n    linkRoute,\n    align,\n    outsmartlyTracking\n  } = props;\n  const {\n    content,\n    title,\n    subtitle,\n    caption,\n    link,\n    styles\n  } = props.css || {\n    styles: {}\n  }; // Convert alignment value to CSS class\n\n  const alignClass = `align${cap(align)}`; // This assures our CSS is scoped to the individual slide\n\n  const elementId = `featured-content-${id}`; // Assemble CSS classes for content element\n\n  const contentClasses = `${content} sm-align-center ${styles[alignClass]} ${styles[parent]}`;\n  return /*#__PURE__*/_jsxs(\"div\", {\n    className: contentClasses,\n    children: [/*#__PURE__*/_jsx(FeaturedContentCss, {\n      item: props.item,\n      elementId: elementId\n    }), /*#__PURE__*/_jsxs(\"div\", {\n      className: \"page-width\",\n      children: [titleText && /*#__PURE__*/_jsx(\"h3\", {\n        className: title,\n        dangerouslySetInnerHTML: {\n          __html: titleText\n        }\n      }), /*#__PURE__*/_jsx(\"p\", {\n        className: `${subtitle} ${elementId}__subtitle`,\n        dangerouslySetInnerHTML: {\n          __html: subtitleText\n        }\n      }), captionText && /*#__PURE__*/_jsx(\"p\", {\n        className: caption,\n        dangerouslySetInnerHTML: {\n          __html: captionText\n        }\n      }), /*#__PURE__*/_jsx(Link, {\n        href: linkRoute,\n        children: /*#__PURE__*/_jsx(\"a\", {\n          onClick: () => {\n            trackOutcome('homeFeatureClicked', outsmartlyTracking);\n          },\n          className: `${link} ${elementId}__link`,\n          children: linkText\n        })\n      })]\n    })]\n  });\n}\n/** Creates a <style> tag with CSS from Contentful */\n\nfunction FeaturedContentCss(props) {\n  const {\n    item = {},\n    elementId\n  } = props;\n  const {\n    buttonBackgroundColor,\n    buttonBackgroundColorOpacity,\n    buttonTextColor,\n    buttonTextHoverColor,\n    headlineTextShadowColor\n  } = item; // Opacity from Contentful is from 0-1. Convert it to hex so we can append it.\n\n  const opacity = buttonBackgroundColorOpacity ? Math.floor(buttonBackgroundColorOpacity * 255).toString(16).padStart(2, '0') : '';\n  return /*#__PURE__*/_jsx(\"style\", {\n    dangerouslySetInnerHTML: {\n      __html: oneLineTrim`\n\n.${elementId}__subtitle {\n  text-shadow: 2px 2px 20px ${headlineTextShadowColor};\n}\n\n.${elementId}__link {\n  background-color: ${buttonBackgroundColor}${opacity};\n  color: ${buttonTextColor};\n}\n\n.${elementId}__link:hover {\n  background-color: ${buttonBackgroundColor};\n  color: ${buttonTextHoverColor};\n}\n\n  `\n    }\n  });\n}",".outsmartly/analysis/modules/156.js":"// components/Slider/SlideContainer.js\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport _JSXStyle from \"styled-jsx/style\";\nimport { slideContainer } from './Slider.module.css';\n/**\n * Contains individual <Slide/> components. Parent is <Slider/>\n * @param {Object} children - elements passed down from parent\n */\n\nexport function SlideContainer(_ref) {\n  var trayWidth = _ref.trayWidth,\n      slideWidth = _ref.slideWidth,\n      gap = _ref.gap,\n      translate = _ref.translate,\n      transition = _ref.transition,\n      children = _ref.children;\n  return /*#__PURE__*/_jsxs(_Fragment, {\n    children: [/*#__PURE__*/_jsx(\"div\", {\n      className: _JSXStyle.dynamic([[\"1247210755\", [trayWidth, slideWidth, gap, translate, transition]]]) + \" \" + \"dynamicStyles \".concat(slideContainer),\n      children: children\n    }), /*#__PURE__*/_jsx(_JSXStyle, {\n      id: \"1247210755\",\n      dynamic: [trayWidth, slideWidth, gap, translate, transition],\n      children: [\".dynamicStyles.__jsx-style-dynamic-selector{width:\".concat(trayWidth, \"px;grid-template-columns:repeat(auto-fit,\").concat(slideWidth, \"px);grid-gap:\").concat(gap, \"px;-webkit-transform:translateX(-\").concat(translate, \"px);-ms-transform:translateX(-\").concat(translate, \"px);transform:translateX(-\").concat(translate, \"px);-webkit-transition:-webkit-transform \").concat(transition, \"ms cubic-bezier(0.45,0.03,0.51,0.95);-webkit-transition:transform \").concat(transition, \"ms cubic-bezier(0.45,0.03,0.51,0.95);transition:transform \").concat(transition, \"ms cubic-bezier(0.45,0.03,0.51,0.95);}\")]\n    })]\n  });\n}",".outsmartly/analysis/modules/234.js":"// components/SiteNav.js\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React, { useContext, useRef } from 'react';\nimport Link from 'next/link';\nimport { useRouter } from 'next/router';\nimport { siteNav, drawer, navDrawerTop, navDrawerSearch, navDrawerSearchInput, navDrawerSearchSubmit, navDrawerSearchIcon, navList, topLevel, topLink, under, hasSublist, dropdown, dropLink, dropLinkInner, dropLinkIcon, underline, level1, level2, toggleOpen, toggleIconOpen, toggleIconClose, active } from './SiteNav.module.css';\nimport Icon from './icons/Icon';\nimport navLinks from '../data/navigation';\nimport { loadSearchaniseImmediately } from 'third-party-scripts/searchanise';\nimport { AccountContext } from '@outsmartly/jackrabbit';\nexport default function SiteNav({\n  deactivateDropdowns,\n  deactivateTopLinks,\n  toggleDrawer\n}) {\n  const {\n    account\n  } = useContext(AccountContext);\n  const router = useRouter();\n  /** Grab a reference to the nav element for later */\n\n  const navRef = useRef();\n  /** Adds \"active\" class to dropdown that is a sibling to the given element */\n\n  const activateDropdown = element => {\n    // Add \"active\" to current dropdown. This approach relies on dropdown\n    // being next sibling.\n    ////topLinkElem.nextElementSibling.classList.add(active);\n    // More robust way to add \"active\" to current dropdown. Does not rely on\n    // dropdown being the next sibling.\n    Array.from(element.parentElement.children).forEach(child => {\n      if (child.classList.contains(dropdown)) {\n        child.classList.add(active);\n      }\n    });\n  };\n  /** Toggle \"active\" class on dropdown that is a sibling to the given element */\n\n\n  const toggleDropdown = element => {\n    // Add or remove \"active\" to current dropdown.\n    Array.from(element.parentElement.children).forEach(child => {\n      const list = child.classList;\n\n      if (list.contains(dropdown)) {\n        list.toggle(active);\n      }\n    });\n  };\n  /** Toggle \"active\" class on link */\n\n\n  const toggleLink = link => {\n    // Add or remove \"active\" to given link.\n    const list = link.classList;\n    list.toggle(active);\n  };\n  /**\n   * Handle mouse hover on top level navigation links. Not in nav drawer, only\n   * in large screen nav bar\n   * @param {Object} e - the event object\n   */\n\n\n  const topLinkEnter = e => {\n    if (navRef.current.classList.contains(drawer)) {\n      return;\n    }\n\n    let topLinkElem = e.target; // First turn off any active dropdowns (both level 1 and level 2)\n\n    deactivateDropdowns(topLinkElem, dropdown); // Only if this link has a sublist\n\n    if (topLinkElem.classList.contains(hasSublist)) {\n      // Add \"active\" to current dropdown\n      activateDropdown(topLinkElem);\n    }\n  };\n  /**\n   * Handle mouse hover on level 1 dropdown links. Not in nav drawer, only in\n    large screen nav bar\n   * @param {Object} e - the event object\n   */\n\n\n  const dropLinkEnter = e => {\n    if (navRef.current.classList.contains(drawer)) {\n      return;\n    }\n\n    let dropLinkElem = e.currentTarget; // First turn off any active level 2 dropdowns\n\n    deactivateDropdowns(dropLinkElem, level2); // Only if this link has a sublist\n\n    if (dropLinkElem.classList.contains(hasSublist)) {\n      // Add \"active\" to current dropdown\n      activateDropdown(dropLinkElem);\n    }\n  };\n  /** Deactivate any topLink and any dropdown */\n\n\n  const deactivateAll = () => {\n    // Close the nav drawer if it is open\n    if (navRef.current.classList.contains(drawer)) {\n      toggleDrawer();\n    } // Grab the first topLink, since deactivateDropdowns will find a parent list\n\n\n    let firstTopLink = navRef.current.querySelector(`.${topLink}`);\n    deactivateDropdowns(firstTopLink, dropdown);\n    deactivateTopLinks();\n  };\n  /** Handle clicks on dropLink */\n\n\n  const dropLinkClick = e => {\n    e.preventDefault(); // e.target is dropLinkInner, so we must use currentTarget\n\n    let link = e.currentTarget;\n    deactivateAll();\n    router.push(link.href);\n  };\n  /** Handle clicks on a top level navigation link */\n\n\n  const topLinkClick = e => {\n    e.preventDefault(); // A span wraps the text inside the anchor, so we need currentTarget\n\n    let link = e.currentTarget; // Nav drawer\n\n    if (navRef.current.classList.contains(drawer)) {\n      // First check the target\n      if (e.target.classList.contains(toggleOpen)) {\n        // Click was on toggleOpen span, and the topLink is the parent.\n        // This only happens in nav drawer, never in nav bar.\n        link = e.target.parentElement;\n      } else if (!link.classList.contains(hasSublist)) {\n        // No sub list, so deactivate everything and then just follow the link\n        deactivateAll();\n        router.push(link.href);\n        return;\n      } // Toggle \"active\" on current dropdown, and on the topLink\n\n\n      toggleDropdown(link);\n      toggleLink(link);\n    } // Nav bar\n    else {\n        // No sub list, or the link was already active, so just follow the link\n        if (!link.classList.contains(hasSublist) || link.classList.contains(active)) {\n          deactivateAll();\n          router.push(link.href);\n          return;\n        } // Link was not active. First, remove all other active, then add active.\n\n\n        deactivateTopLinks();\n        link.classList.add(active);\n      }\n  };\n\n  return /*#__PURE__*/_jsxs(\"nav\", {\n    id: \"sitenav\",\n    className: siteNav,\n    \"aria-label\": \"Site\",\n    ref: navRef,\n    children: [/*#__PURE__*/_jsx(\"div\", {\n      className: navDrawerTop,\n      children: /*#__PURE__*/_jsxs(\"form\", {\n        action: \"/search\",\n        method: \"get\",\n        className: navDrawerSearch,\n        onFocus: loadSearchaniseImmediately,\n        children: [/*#__PURE__*/_jsx(\"input\", {\n          type: \"search\",\n          name: \"q\",\n          className: navDrawerSearchInput,\n          \"aria-label\": \"Search\",\n          placeholder: \"Search\",\n          autoComplete: \"off\"\n        }), /*#__PURE__*/_jsxs(\"button\", {\n          type: \"submit\",\n          className: navDrawerSearchSubmit,\n          children: [/*#__PURE__*/_jsx(Icon, {\n            icon: \"search-glass\",\n            className: navDrawerSearchIcon\n          }), /*#__PURE__*/_jsx(\"span\", {\n            className: \"visually-hidden\",\n            children: \"Search\"\n          })]\n        })]\n      })\n    }), /*#__PURE__*/_jsx(\"ul\", {\n      className: `${navList} ${topLevel}`,\n      children: navLinks.map((link, i) => {\n        if (link.hidden) {\n          return null;\n        } else {\n          return /*#__PURE__*/_jsxs(\"li\", {\n            className: link.route.substring(link.route.lastIndexOf('/') + 1, link.route.length),\n            children: [/*#__PURE__*/_jsx(Link, {\n              href: link.route,\n              children: /*#__PURE__*/_jsxs(\"a\", {\n                className: `${topLink} ${link.subNav ? hasSublist : ''}`,\n                onClick: topLinkClick,\n                onMouseEnter: topLinkEnter,\n                children: [/*#__PURE__*/_jsx(\"span\", {\n                  className: under,\n                  children: link.navText\n                }), link.subNav && /*#__PURE__*/_jsxs(\"span\", {\n                  className: toggleOpen,\n                  children: [/*#__PURE__*/_jsx(Icon, {\n                    icon: \"plus\",\n                    className: toggleIconOpen\n                  }), /*#__PURE__*/_jsx(Icon, {\n                    icon: \"minus\",\n                    className: toggleIconClose\n                  })]\n                })]\n              })\n            }), link.subNav && /*#__PURE__*/_jsx(\"ul\", {\n              className: `${dropdown} ${level1}`,\n              children: link.subNav.map((sub, i) => {\n                if (sub.hidden || sub.account === false && account !== null && account !== void 0 && account.loggedIn || sub.account === true && !(account !== null && account !== void 0 && account.loggedIn)) {\n                  return null;\n                } else {\n                  return /*#__PURE__*/_jsxs(\"li\", {\n                    children: [/*#__PURE__*/_jsx(Link, {\n                      href: sub.route,\n                      children: /*#__PURE__*/_jsxs(\"a\", {\n                        className: `${dropLink} ${sub.subNav ? hasSublist : ''}`,\n                        onMouseEnter: dropLinkEnter,\n                        onClick: dropLinkClick,\n                        children: [/*#__PURE__*/_jsxs(\"div\", {\n                          className: dropLinkInner,\n                          children: [sub.navText, /*#__PURE__*/_jsx(\"div\", {\n                            className: underline\n                          })]\n                        }), sub.subNav && /*#__PURE__*/_jsx(Icon, {\n                          icon: \"angle-right\",\n                          className: dropLinkIcon\n                        })]\n                      })\n                    }), sub.subNav && /*#__PURE__*/_jsx(\"ul\", {\n                      className: `${dropdown} ${level2}`,\n                      children: sub.subNav.map((sub2, i) => {\n                        if (sub2.hidden) {\n                          return null;\n                        } else {\n                          return /*#__PURE__*/_jsx(\"li\", {\n                            children: /*#__PURE__*/_jsx(Link, {\n                              href: sub2.route,\n                              children: /*#__PURE__*/_jsx(\"a\", {\n                                className: dropLink,\n                                onClick: dropLinkClick,\n                                children: /*#__PURE__*/_jsxs(\"div\", {\n                                  className: dropLinkInner,\n                                  children: [sub2.navText, /*#__PURE__*/_jsx(\"div\", {\n                                    className: underline\n                                  })]\n                                })\n                              })\n                            })\n                          }, i);\n                        }\n                      })\n                    })]\n                  }, i);\n                }\n              })\n            })]\n          }, i);\n        }\n      })\n    })]\n  });\n}",".outsmartly/analysis/modules/265.js":"// contentful/helpers.js\nimport { CONTENTFUL_SPACE_ID } from '../outsmartly/variables';\nimport config from '../jackrabbit.config';\nexport function getImageSrc(image) {\n  // the alternative here is to set up a local proxy\n  return false ? image.fields.file.url : image.fields.file.url.replace(`//images.ctfassets.net/${CONTENTFUL_SPACE_ID}/`, config.urls.fastImage);\n}\nexport function nullIfUndefined(value) {\n  return value === undefined ? null : value;\n}\n/**\n * Sorts the data items by most recently updated first. Then returns the first\n * item.\n * @param {Object} data - The fetched data\n */\n\nexport function getMostRecentContent(data) {\n  // Destructure index 0 to get the first item\n  const [mostRecentPublishedItem] = data.items.sort((a, b) => {\n    return new Date(b.sys.updatedAt) - new Date(a.sys.updatedAt);\n  });\n  return mostRecentPublishedItem;\n}\n/**\n * Calls the formatting function for each item in the collection\n * @param {Object} data - top level collection object\n * @param {string} itemsField - name of field with the array of items\n * @param {Function} formattingFunction - function to run on each item\n * @returns {Object[]} an array of formatted item objects\n */\n\nexport function formatCollection(data, itemsField, formattingFunction) {\n  var _data$itemsField;\n\n  if (!data[itemsField]) {\n    console.log(`Error: ${itemsField} is not a key on the data object.\nDid you mean to format one of these? ${Object.keys(data)}`);\n  }\n\n  const formatted = (_data$itemsField = data[itemsField]) === null || _data$itemsField === void 0 ? void 0 : _data$itemsField.map(item => {\n    return formattingFunction(item.id, item);\n  });\n  return formatted;\n}",".outsmartly/analysis/modules/325.js":"// components/Accordion/AccordionItem.js\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { useRef, useEffect, useMemo } from 'react';\nimport Icon from 'components/icons/Icon'; // Based on this:\n// https://medium.com/skillthrive/build-a-react-accordion-component-from-scratch-using-react-hooks-a71d3d91324b\n// With modifications from here:\n// https://codesandbox.io/s/react-accordion-shixian-n705f?file=/src/Accordion.js:194-286\n// And ideas from here:\n// https://www.digitalocean.com/community/tutorials/react-react-accordion-component\n\nexport default function AccordionItem({\n  title,\n  children,\n  isActive,\n  onClick,\n  cssClasses,\n  duration = 600,\n  buttonVariant = 1\n}) {\n  const panelRef = useRef(null); // Extract the passed-in CSS classes\n\n  const {\n    item,\n    header,\n    headerTitle = '',\n    open,\n    close,\n    panel,\n    content = ''\n  } = cssClasses; // Set the height as a max-height inline style (must give it a string)\n\n  useEffect(() => {\n    panelRef.current.style.maxHeight = isActive ? `${panelRef.current.scrollHeight}px` : '0';\n  }, [panelRef, isActive]); // Establish props that all variants will use\n\n  const baseProps = {\n    ht: headerTitle,\n    ti: title,\n    ac: isActive,\n    op: open,\n    cl: close\n  }; // Create components with different markup variants for the header/button\n\n  const Variant1 = ({\n    ht,\n    ti,\n    ac,\n    op,\n    cl\n  }) => /*#__PURE__*/_jsxs(_Fragment, {\n    children: [/*#__PURE__*/_jsx(\"span\", {\n      className: ht,\n      children: ti\n    }), !ac && /*#__PURE__*/_jsx(Icon, {\n      icon: \"faPlus\",\n      className: op\n    }), ac && /*#__PURE__*/_jsx(Icon, {\n      icon: \"faMinus\",\n      className: cl\n    })]\n  });\n\n  const Variant2 = ({\n    ht,\n    ti,\n    ac,\n    op,\n    cl\n  }) => /*#__PURE__*/_jsxs(\"span\", {\n    children: [!ac && /*#__PURE__*/_jsx(\"span\", {\n      className: cl,\n      children: \"+\"\n    }), ac && /*#__PURE__*/_jsx(\"span\", {\n      className: op,\n      children: \"-\"\n    }), /*#__PURE__*/_jsx(\"span\", {\n      className: ht,\n      children: ti\n    })]\n  }); // Hack to have the ssr page return the correct values and prevent\n  // cumulative layout shift. Using isActive in the style caused the\n  // animation to be jumpy, but adding a memoized isActive fixed that.\n\n\n  const initialIsActive = useMemo(() => {\n    return isActive;\n  }, []);\n  return /*#__PURE__*/_jsxs(\"div\", {\n    className: item,\n    children: [/*#__PURE__*/_jsxs(\"button\", {\n      className: header,\n      onClick: () => onClick(title),\n      children: [buttonVariant === 1 && /*#__PURE__*/_jsx(Variant1, _objectSpread({}, baseProps)), buttonVariant === 2 && /*#__PURE__*/_jsx(Variant2, _objectSpread({}, baseProps))]\n    }), /*#__PURE__*/_jsx(\"div\", {\n      ref: panelRef,\n      className: panel,\n      style: {\n        maxHeight: initialIsActive ? '1000px' : 0,\n        transition: `max-height ${duration}ms ease`\n      },\n      children: /*#__PURE__*/_jsx(\"div\", {\n        className: content,\n        children: children\n      })\n    })]\n  });\n}",".outsmartly/analysis/modules/245.js":"// components/LemonSpot/api.js\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { getJSON, getCookie, setCookie } from 'lib/utils';\nimport { strippedImage } from 'lib/getImageUrl'; // Some constants for working with Personalizer API\n\nconst prefix = 'https://storefront.personalizer.io/v1';\nconst lemAuthParams = 'lsAuthParams';\nconst lemAuthResult = 'lsAuthResult';\nconst lemContext = 'lsContext';\nconst lemContextId = 'lsContextID';\nconst lemContextExpires = 'lsContextExpires';\nconst lemRecentViews = 'lsRecentViews';\nconst lemUserId = 'lsUserID';\n/**\n * Checks if this is a first time visit. If so, calls initialize() to obtain a\n * context ID. Else, calls keepAlive() to keep the existing context ID alive.\n */\n\nexport async function authorize() {\n  // Check for an existing context ID. Start with cookie, else try lsAuthResult\n  // and lsContext from local storage.\n  const authResult = JSON.parse(localStorage.getItem(lemAuthResult));\n  const context = JSON.parse(localStorage.getItem(lemContext));\n  let contextID = getCookie(lemContextId) || (authResult === null || authResult === void 0 ? void 0 : authResult.ContextID) || (context === null || context === void 0 ? void 0 : context.ContextID) || null; // Check for existing user id. Start with lsAuthResult and lsContext from\n  // local storage. We will pass this to initialize().\n\n  let userID = (authResult === null || authResult === void 0 ? void 0 : authResult.UserID) || (context === null || context === void 0 ? void 0 : context.UserID) || null;\n\n  if (!contextID) {\n    // ContextID is null, so we need to call initialize() to get one.\n    contextID = await initialize(userID, contextID);\n  } else {\n    // Context ID exists, so first make sure it has not expired, then refresh\n    // the expiration time stamp.\n    const timestamp = localStorage.getItem(lemContextExpires);\n    const EXPIRE_BUFFER = 60 * 1000;\n    let expired = timestamp - Date.now() <= EXPIRE_BUFFER ? true : false;\n\n    if (!expired) {\n      contextID = await keepAlive(contextID);\n    } else {\n      // If it has expired, re-initialize with existing userID and contextID\n      contextID = await initialize(userID, contextID);\n    }\n  }\n\n  return contextID;\n}\n/**\n * Calls the userAuthentication endpoint to obtain a new context ID and/or a new\n * user ID.\n * @param {string} userID\n * @param {string} contextID\n */\n\nexport async function initialize(userID = null, contextID = null) {\n  // Prepare a request\n  const resource = `${prefix}/userAuthentication`;\n  const params = {\n    storefront: true\n  };\n  const queryString = '?' + new URLSearchParams(params).toString();\n  const url = `${resource}${queryString}`;\n  const payload = {\n    SubscriberKey: 'yc1ao-c7b1ks2hx0uue5d-suyq0',\n    Platform: 'shopify',\n    ContextID: contextID,\n    UserID: userID,\n    AlternateUserID: null,\n    CampaignGuid: null,\n    UserIdentifier: null,\n    UserEmailAddress: null,\n    UserCellPhone: null,\n    UserFirstName: null,\n    UserLastName: null,\n    BypassExperienceCache: false\n  };\n  const options = {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(payload)\n  }; // Make the fetch call\n\n  const data = await getJSON(url, options); // Wait until the request completes...\n  //\n  // Done. Store context ID as a cookie, and data to local storage\n\n  setCookie(lemContextId, data.ContextID);\n  saveToLocal(data, payload); // Return the context ID\n\n  return data.ContextID;\n}\n/**\n * Calls the userAuthentication endpoint to keep the existing context ID alive.\n * @param {string} contextID - the existing contextID cookie value\n */\n\nexport async function keepAlive(contextID) {\n  const resource = `${prefix}/userAuthentication`;\n  const options = {\n    method: 'PUT',\n    headers: {\n      'Content-Type': 'application/json',\n      'X-Personalizer-Context-ID': contextID\n    }\n  }; // Make the fetch call\n\n  const data = await getJSON(resource, options); // Wait until the request completes...\n  //\n  // Done. Store context ID as a cookie, and update a few keys in local storage\n\n  setCookie(lemContextId, data.ContextID); // Refresh expiration time stamp in local storage\n\n  localStorage.setItem(lemContextExpires, data.ContextExpirationTimeStamp); // Return the context ID\n\n  return data.ContextID;\n}\n/**\n * Stores/updates data in local storage so it persists longer than cookie\n * @param {Object} data - the entire data object\n * @param {Object} payload - the body of the request\n */\n\nfunction saveToLocal(data, payload) {\n  localStorage.setItem(lemContextExpires, data.ContextExpirationTimeStamp); // Initialize Recent Views only if there's nothing there\n\n  if (localStorage.getItem(lemRecentViews) === null) {\n    localStorage.setItem(lemRecentViews, '[]');\n  }\n\n  localStorage.setItem(lemAuthResult, JSON.stringify(data)); // lsContext is similar to lsAuthResult, but without Settings\n\n  localStorage.setItem(lemContext, JSON.stringify(data)); // Update values for ContextID and UserID (because we have them now)\n\n  localStorage.setItem(lemAuthParams, JSON.stringify(_objectSpread(_objectSpread({}, payload), {}, {\n    ContextID: data.ContextID,\n    UserID: data.UserID\n  })));\n  localStorage.setItem(lemUserId, data.UserID);\n}\n/**\n * Fetches and maps products from endpoints that return an array of product\n * objects.\n * @param {string} contextID - current context ID. Must not be expired.\n * @param {string} resource - the endpoint\n * @param {string} pageType - the page type ('Home', 'Product', 'Collection',\n * 'Cart', etc).\n * @param {Object} additionalParams - additional query parameters. These will\n * add to or replace the base params below (`host`, `limit`, `fields`)\n * @param {boolean} [map=true] - when true, will also call mapProducts() on the\n * fetched products, else, will just return the fetched products.\n * @returns array of mapped product objects\n */\n\n\nexport async function fetchArray(contextID, resource, pageType, additionalParams = {}, map = true) {\n  const baseUrl = `${prefix}/${resource}`;\n\n  const params = _objectSpread({\n    host: pageType,\n    limit: '20',\n    fields: 'Identifier,Title,Vendor,DisplayUrl,Price,OriginalPrice,ImageUrl'\n  }, additionalParams);\n\n  const queryString = '?' + new URLSearchParams(params).toString();\n  const options = {\n    method: 'GET',\n    headers: {\n      'Content-Type': 'application/json',\n      'X-Personalizer-Context-ID': contextID\n    }\n  };\n\n  try {\n    // Make the fetch call\n    const json = await getJSON(`${baseUrl}${queryString}`, options); // Wait until the request completes...\n    //\n    // Done. Either map the products and return the mapped array (default), or\n    // just return the fetched products\n\n    if (map) {\n      const mapped = mapProducts(json);\n      return mapped;\n    } else {\n      return json;\n    }\n  } catch (e) {\n    console.error(e);\n    return [];\n  }\n}\n/**\n * A wrapper around fetchArray. Fetches and maps products for endpoints that\n * return other items that are related to the one in question. Currently this\n * includes `related` and `crosssell`.\n * @param {string} contextID - current context ID. Must not be expired.\n * @param {string} resource - the endpoint\n * @param {string} pageType - the page type ('Home', 'Product', 'Collection',\n * 'Cart', etc).\n * @param {Object} additionalParams - additional query parameters. These will\n * add to or replace the base params below (`host`, `limit`, `fields`)\n * @param {string} identifiers - comma-separated list of item identifiers for\n * which the cross-sell items are requested.\n * @returns array of product objects\n */\n\nexport async function fetchItems(contextID, resource, pageType, identifiers) {\n  // Set a different `paramsJson` depending on the resource\n  const distinct = resource === 'related' ? {\n    paramsJson: JSON.stringify({})\n  } : {\n    paramsJson: JSON.stringify({\n      NoPicksAction: 'ShowBoughtTogether'\n    })\n  }; // Combine the common params and the distinct ones\n\n  const additionalParams = _objectSpread({\n    identifiers: identifiers,\n    referenceType: 'Context',\n    excludedItemIdentifiers: identifiers\n  }, distinct);\n\n  const products = await fetchArray(contextID, resource, pageType, additionalParams, identifiers);\n  return products;\n}\n/**\n * Fetches products for 'Recently Viewed Items'. First looks in local storage,\n * and if that is empty, then it calls the `recentviews` endpoint. Filter out\n * the current product (if it was provided), then map the remaining and return.\n * Finally, add the current product at the front of local storage (or move it to\n * the front if it existed).\n * @param {string} contextID - current context ID. Must not be expired.\n * @param {string} pageType - the page type ('Home', 'Product', 'Collection',\n * 'Cart', etc).\n * @param {Object} current - current product object, unmapped\n * @returns array of mapped product objects\n */\n\nexport async function fetchRecent(contextID, pageType, current = undefined) {\n  // First! Pull recently viewed products from local storage\n  let fetched = JSON.parse(localStorage.getItem(lemRecentViews)); // Update: for now, do not call for products from the server, just use local\n  // storage.\n\n  /*\n  // If that is empty, then make the call to the recentViews endpoint. Be sure\n  to passed `false` for the last argument (so it doesn't get mapped yet).\n  if (fetched.length === 0) {\n    fetched = await fetchArray(contextID, 'recentviews', pageType, {}, false);\n    // Store any products from the server in local storage\n    localStorage.setItem(lemRecentViews, JSON.stringify(fetched));\n  }\n  */\n\n  let forDisplay; // If a current product was provided, exclude it\n\n  if (current) {\n    // Filter the current product out of the list\n    const filtered = fetched.filter(x => x.Identifier !== current.Identifier); // While we're in here, save the current product to local storage at the front\n    // of the Recent Views array\n\n    const newRecents = [...filtered]; // need a clone, not a reference\n\n    newRecents.unshift(current); // Update local storage\n\n    localStorage.setItem(lemRecentViews, JSON.stringify(newRecents)); // Add Limespot params to the DisplayUrl\n\n    forDisplay = appendRecentParams(filtered, pageType); // Now map the display products and return them\n\n    const mapped = mapProducts(forDisplay);\n    return mapped;\n  } // Add Limespot params to the DisplayUrl\n\n\n  forDisplay = appendRecentParams(fetched, pageType); // Map the display products and return them\n\n  const mapped = mapProducts(forDisplay);\n  return mapped;\n}\n\nfunction appendRecentParams(products, pageType) {\n  const params = `?lssrc=recentviews&lshst=${pageType.toLowerCase()}`;\n  const appended = products.map(x => _objectSpread(_objectSpread({}, x), {}, {\n    DisplayUrl: x.DisplayUrl + params\n  }));\n  return appended;\n}\n/**\n * Returns an array of products with properties mapped to the ones we want.\n * @param {Array} products - array of products\n * @returns array of product objects\n */\n\n\nfunction mapProducts(products) {\n  const mapped = products.map(product => {\n    var _product$DisplayUrl;\n\n    return {\n      id: product.Identifier,\n      title: product.Title,\n      vendor: product.Vendor,\n      price: product.Price,\n      oldPrice: product.OriginalPrice,\n      // For now strip off the 'ls' query params\n      url: product.DisplayUrl.split('?')[0],\n      handle: (_product$DisplayUrl = product.DisplayUrl) === null || _product$DisplayUrl === void 0 ? void 0 : _product$DisplayUrl.split('?')[0].split('/')[2],\n      imageUrl: product.ImageUrl,\n      imageMap: {\n        default: [strippedImage(product.ImageUrl)]\n      }\n    };\n  });\n  return mapped;\n}\n/**\n * Logs the user's activity to Personalizer\n * @param {string} contextID - the context ID. Must not be expired\n * @param {Object} payload - the data to log\n * @returns true if the POST succeeded\n */\n\n\nexport async function logActivity(contextID, payload) {\n  const baseUrl = `${prefix}/activityLogs`;\n  const params = {\n    batch: true\n  };\n  const queryString = '?' + new URLSearchParams(params).toString();\n  const options = {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n      'X-Personalizer-Context-ID': contextID\n    },\n    body: JSON.stringify(payload)\n  };\n\n  try {\n    // Make the fetch call\n    const success = await getJSON(`${baseUrl}${queryString}`, options); // Wait until the request completes...\n    //\n    // Done. Return true or false\n\n    return success;\n  } catch (e) {\n    console.error(e);\n    return false;\n  }\n}",".outsmartly/analysis/modules/305.js":"// data/navigation.js\nconst nav = [{\n  id: 464083763,\n  navText: 'New',\n  title: 'New Arrivals Collection',\n  route: '/collections/new-arrivals-collection'\n}, {\n  id: 269571772,\n  navText: 'Women',\n  title: 'Women',\n  bannerImg: '1.jpg?v=1599055331',\n  route: '/collections/women',\n  groupId: 1,\n  subNav: [{\n    id: 382012440,\n    navText: 'Tops',\n    title: \"Women's Tops\",\n    bannerImg: '1_6a5fc36f-7511-41ac-b670-53adb4a271c8.jpg?v=1598990904',\n    route: '/collections/womens-tops',\n    groupId: 1,\n    subNav: [{\n      id: 443957010,\n      navText: 'Tanks',\n      title: \"Women's Tanks\",\n      bannerImg: '1_45e8f165-9ac3-44a3-9f88-c1cd383119b9.jpg?v=1598991087',\n      route: '/collections/womens-tanks',\n      groupId: 1\n    }, {\n      id: 365188181,\n      navText: 'T-Shirts',\n      title: \"Women's Tees\",\n      bannerImg: '1_89b8b844-9d06-4bcc-a87b-f62e075a6cf3.jpg?v=1598991147',\n      route: '/collections/womens-tees',\n      groupId: 1\n    }, {\n      id: 516764647,\n      navText: 'Long Sleeve',\n      title: \"Women's Long Sleeve\",\n      bannerImg: '1_624e3fdb-dd68-400a-b670-f6e534cf8627.jpg?v=1598991191',\n      route: '/collections/women-longsleeve',\n      groupId: 1\n    }, {\n      id: 378503080,\n      navText: 'Sweatshirts',\n      title: \"Women's Sweatshirts\",\n      bannerImg: 'cr1239.png?v=1599055147',\n      route: '/collections/womens-sweatshirts',\n      groupId: 1\n    }, {\n      id: 411896099,\n      navText: 'Jackets',\n      title: \"Women's Jackets\",\n      bannerImg: '1_1e2c0cb1-ecd0-426d-8e93-b75f4c203f95.jpg?v=1549918885',\n      route: '/collections/jackets',\n      groupId: 1,\n      hidden: true\n    }]\n  }, {\n    id: 504850016,\n    navText: 'Bottoms',\n    title: \"Women's Bottoms\",\n    bannerImg: '1_b2ba5f70-0799-4634-82b5-29c1d9cda3ac.jpg?v=1599055674',\n    route: '/collections/women-bottoms',\n    groupId: 1,\n    subNav: [{\n      id: 472560934,\n      navText: 'Leggings',\n      title: \"Women's Leggings\",\n      bannerImg: '1_5580cddb-2901-4e49-baea-9a4add000295.jpg?v=1599056068',\n      route: '/collections/women-leggings',\n      groupId: 1\n    }, {\n      id: 244461898,\n      navText: 'Capris',\n      title: \"Women's Capris\",\n      bannerImg: '1_04818088-2c26-4ec1-bcde-8df39461af82.jpg?v=1599056137',\n      route: '/collections/capris',\n      groupId: 1\n    }, {\n      id: 'womens-skorts',\n      navText: 'Skorts',\n      route: '/collections/womens-skorts',\n      groupId: 1\n    }, {\n      id: 493212209,\n      navText: 'Shorts',\n      title: \"Women's Shorts\",\n      bannerImg: '1_92d55b3d-5df9-4631-9f2d-e82faafac6b9.jpg?v=1599056386',\n      route: '/collections/womens-shorts',\n      groupId: 1\n    }, {\n      id: 436115746,\n      navText: 'Pants',\n      title: \"Women's Pants\",\n      bannerImg: '1_9e40c716-5550-4388-8a91-5d398e07abe1.jpg?v=1599056252',\n      route: '/collections/womens-pants',\n      groupId: 1\n    }]\n  }, {\n    id: 484677635,\n    navText: 'Bras',\n    title: 'Bras',\n    subtitle: \"RBX Active Women's Sports Bras\",\n    bannerImg: '1_78cd199f-7f6e-4782-a7f3-8eb35e713e0f.jpg?v=1598994264',\n    route: '/collections/bras',\n    groupId: 1\n  }, {\n    id: 304997827,\n    navText: 'Intimates',\n    title: 'Intimates',\n    bannerImg: 'Generic_57442e2b-9538-4fc7-820a-a0fef3d3adfb.jpg?v=1559244467',\n    route: '/collections/intimates',\n    groupId: 1,\n    hidden: true\n  }, {\n    id: 487080627,\n    navText: 'Socks',\n    title: \"Women's Socks\",\n    bannerImg: 'Generic_b5a49e67-fd80-4b51-85ab-7de18955cb45.jpg?v=1558552471',\n    route: '/collections/womens-socks',\n    groupId: 1\n  }, {\n    id: 'womens-shoes-1',\n    navText: 'Shoes',\n    route: '/collections/womens-shoes-1',\n    groupId: 1\n  }, {\n    id: 475843420,\n    navText: 'Sale',\n    title: \"Women's Sale\",\n    bannerImg: 'Sale_49fa0d95-f3d6-4e4c-9f3c-226a3223890e.jpg?v=1588106227',\n    route: '/collections/womens-sale',\n    groupId: 1\n  }]\n}, {\n  id: 239126299,\n  navText: 'Men',\n  title: 'Men',\n  bannerImg: '1_64507a44-5331-417e-8382-87afffc1651d.jpg?v=1588103834',\n  route: '/collections/men',\n  groupId: 2,\n  subNav: [{\n    id: 316417257,\n    navText: 'Tops',\n    title: \"Men's Tops\",\n    bannerImg: '',\n    route: '/collections/mens-tops',\n    groupId: 2,\n    subNav: [{\n      id: 538796632,\n      navText: 'T-Shirts',\n      title: \"Men's T-Shirts\",\n      bannerImg: '',\n      route: '/collections/mens-t-shirt',\n      groupId: 2\n    }, {\n      id: 516268928,\n      navText: 'Tanks',\n      title: \"Men's Tanks\",\n      bannerImg: '',\n      route: '/collections/mens-sleeveless',\n      groupId: 2\n    }, {\n      id: 534308887,\n      navText: 'Long Sleeve',\n      title: 'Long Sleeve',\n      bannerImg: '',\n      route: '/collections/men-long-sleeve',\n      groupId: 2,\n      hidden: true\n    }, {\n      id: 214329577,\n      navText: 'Sweatshirts',\n      title: 'Sweatshirts',\n      bannerImg: '',\n      route: '/collections/men-sweatshirts',\n      groupId: 2,\n      hidden: true\n    }]\n  }, {\n    id: 496011011,\n    navText: 'Bottoms',\n    title: \"Men's Bottoms\",\n    bannerImg: '',\n    route: '/collections/mens-bottoms',\n    groupId: 2,\n    subNav: [{\n      id: 376987766,\n      navText: 'Shorts',\n      title: \"Men's Shorts\",\n      bannerImg: '',\n      route: '/collections/men-shorts',\n      groupId: 2\n    }, {\n      id: 201642584,\n      navText: 'Pants',\n      title: 'Pants',\n      bannerImg: '',\n      route: '/collections/mens-running-pants',\n      groupId: 2\n    }]\n  }, {\n    id: 'mens-shoes',\n    navText: 'Shoes',\n    route: '/collections/mens-shoes',\n    groupId: 2\n  }, {\n    id: 460493113,\n    navText: 'Socks',\n    title: \"Men's Socks\",\n    bannerImg: '',\n    route: '/collections/mens-socks',\n    groupId: 2\n  }, {\n    id: 236758991,\n    navText: 'Underwear',\n    title: \"Men's Underwear\",\n    bannerImg: '',\n    route: '/collections/mens-underwear',\n    groupId: 2\n  }, {\n    id: 320106041,\n    navText: 'Swim',\n    title: \"Men's Swim\",\n    bannerImg: '',\n    route: '/collections/mens-swim',\n    groupId: 2,\n    hidden: true\n  }, {\n    id: 234259415,\n    navText: 'Sale',\n    title: \"Men's Sale\",\n    bannerImg: '',\n    route: '/collections/mens-sale',\n    groupId: 2\n  }]\n}, {\n  id: 413626659,\n  navText: 'Plus Size',\n  title: 'Plus Size',\n  bannerImg: '1_7b44d716-d858-4b22-b568-83d44b102c3d.jpg?v=1604074381',\n  route: '/collections/womens-plus-size',\n  groupId: 1,\n  subNav: [{\n    id: 226758734,\n    navText: 'Tops',\n    title: 'Plus Tops',\n    bannerImg: '',\n    route: '/collections/womens-plus-size-tops',\n    groupId: 1\n  }, {\n    navText: 'Bottoms',\n    route: '/collections/womens-plus-size-bottoms',\n    groupId: 1,\n    subNav: [{\n      navText: 'Leggings',\n      route: '/collections/plus-leggings',\n      groupId: 1\n    }, {\n      navText: 'Pants',\n      route: '/collections/plus-pants',\n      groupId: 1\n    }, {\n      navText: 'Shorts/Skorts',\n      route: '/collections/plus-shorts',\n      groupId: 1\n    }]\n  }]\n}, {\n  id: 538439077,\n  navText: 'Collections',\n  title: 'Camo Camo',\n  bannerImg: '',\n  route: '/collections/camo-camo',\n  newWindow: true,\n  subNav: [{\n    id: 353896217,\n    navText: 'Sets',\n    title: 'Sets',\n    bannerImg: '',\n    route: '/collections/sets'\n  }, {\n    id: 218229691,\n    navText: 'Tie Dye Collection',\n    title: 'Tie Dye',\n    bannerImg: '',\n    route: '/collections/tie-dye'\n  }, {\n    id: 361020701,\n    navText: 'Camo Collection',\n    title: 'Camo Camo',\n    bannerImg: '',\n    route: '/collections/camo-camo',\n    newWindow: true\n  }]\n}, {\n  id: 481581853,\n  navText: 'Shop Outfits',\n  title: 'Shop The Outfits',\n  subtitle: 'Not sure what to wear? Shop from our curated outfits',\n  route: '/pages/outfits'\n}, {\n  id: 560250319,\n  navText: 'Accessories',\n  title: 'Accessories',\n  bannerImg: 'Generic_a2506e92-fa51-4b36-bf95-30e221741234.jpg?v=1538061661',\n  route: '/collections/accessories',\n  subNav: [{\n    id: 228691718,\n    navText: 'Accessories',\n    title: 'Accessories',\n    bannerImg: '',\n    route: '/collections/accessories'\n  }, {\n    id: 228691718,\n    navText: 'Fitness',\n    title: 'Fitness',\n    bannerImg: '',\n    route: '/collections/fitness-accessories',\n    hidden: true\n  }, {\n    id: 268765939,\n    navText: 'Water Bottles',\n    title: 'Water Bottles',\n    bannerImg: '',\n    route: '/collections/water-bottles'\n  }]\n}, {\n  id: 424531021,\n  navText: 'Sale',\n  title: 'Sale Items',\n  bannerImg: '',\n  route: '/collections/sale-items',\n  groupId: 3,\n  newWindow: true,\n  subNav: [{\n    id: 456941628,\n    navText: \"Women's Sale\",\n    title: \"Women's Sale\",\n    bannerImg: '',\n    route: '/collections/womens-sale',\n    groupId: 3\n  }, {\n    id: 375255896,\n    navText: \"Men's Sale\",\n    title: \"Men's Sale\",\n    bannerImg: '',\n    route: '/collections/mens-sale',\n    groupId: 3\n  }, {\n    id: 242461553,\n    navText: 'Clearance',\n    title: 'Clearance',\n    bannerImg: '',\n    subtitle: '**Final Sale and Non-Returnable. Additional Coupons and Promotions Do Not Apply**',\n    route: '/collections/clearance',\n    groupId: 3\n  }, {\n    id: 488176819,\n    navText: 'Promotions',\n    title: 'Current Promotions',\n    route: '/pages/current-promotion'\n  }]\n}, {\n  id: 232959541,\n  navText: 'About Us',\n  route: '/pages/about-rbx',\n  subNav: [{\n    id: 517992224,\n    navText: 'About Us',\n    route: '/pages/about-rbx'\n  }, {\n    id: 535519460,\n    navText: 'Contact Us',\n    route: '/pages/contact-rbx'\n  }, // {\n  //   id: 414465722,\n  //   navText: 'Locations',\n  //   route: '/pages/locations',\n  // },\n  {\n    id: 215828233,\n    navText: 'Blog',\n    route: '/blogs/fitness'\n  }]\n}, {\n  id: 208605332,\n  navText: 'Account',\n  route: '/account',\n  subNav: [{\n    id: 365965326,\n    navText: 'Sign In',\n    route: '/account/login',\n    account: false\n  }, {\n    id: 365965326,\n    navText: 'Log Out',\n    route: '/account/logout',\n    account: true\n  }]\n}, {\n  id: 298179541,\n  navText: 'All',\n  title: 'All',\n  route: '/collections/all',\n  hidden: true\n}];\nexport const groups = [{\n  id: 1,\n  name: 'women'\n}, {\n  id: 2,\n  name: 'men'\n}, {\n  id: 3,\n  name: 'sale'\n}];\nexport default nav;",".outsmartly/analysis/modules/185.js":"// pages/pages/locations.js\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React from 'react';\nimport styles from 'styles/Main.module.css';\nimport Locations from 'components/Locations';\nimport { SEO } from 'components/Seo';\nexport default function LocationsPage() {\n  // Add page type class to <main>\n  const pageType = 'templatePage';\n  return /*#__PURE__*/_jsxs(\"main\", {\n    id: \"mainContent\",\n    className: `${styles['mainContent']} ${styles[pageType]}`,\n    children: [/*#__PURE__*/_jsx(SEO, {\n      ogType: \"website\",\n      title: \"Contact Us\",\n      canonical: \"/pages/locations\"\n    }), /*#__PURE__*/_jsx(\"div\", {\n      className: \"page-width\",\n      children: /*#__PURE__*/_jsx(Locations, {})\n    })]\n  });\n}",".outsmartly/analysis/modules/214.js":"// lib/convertProductToProps.ts\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport { extractTagLabel } from 'components/Product/ProductTag';\nimport { getImageMap } from './getImageUrl';\nexport function convertProductToProps(_ref) {\n  let {\n    tags,\n    images\n  } = _ref,\n      product = _objectWithoutProperties(_ref, [\"tags\", \"images\"]);\n\n  const tag = extractTagLabel(tags);\n  const extended = extractTagLabel(tags, true);\n  const showFinalSale = tags.includes('clearance') || tags.includes('final-sale'); // The full product has the description, and should also keep the tags and all\n  // images for the products page\n\n  const isFullProduct = !!product.variants;\n  product = _objectSpread(_objectSpread({}, product), {}, {\n    imageMap: getImageMap({\n      images,\n      variants: product.variants,\n      tags,\n      limit: isFullProduct ? 10 : 2\n    })\n  });\n\n  if (tag) {\n    product.tag = tag;\n  }\n\n  if (extended) {\n    product.extended = extended;\n  }\n\n  if (showFinalSale) {\n    product.showFinalSale = showFinalSale;\n  }\n\n  if (isFullProduct) {\n    product.tags = tags;\n  }\n\n  return product;\n}",".outsmartly/analysis/modules/176.js":"// pages/api/_next/collectionTitle.ts\nimport { loadSingleCollectionTitle } from 'lib/shopify';\nexport default (async (req, res) => {\n  const {\n    handle\n  } = req.query;\n  const json = await loadSingleCollectionTitle(handle);\n  res.statusCode = 200;\n  res.json(json);\n});",".outsmartly/analysis/modules/127.js":"// components/SizingGuide/Women.js\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { title, tableWrap } from './SizingGuide.module.css';\nexport default function Women(_ref) {\n  var _ref$titleClass = _ref.titleClass,\n      titleClass = _ref$titleClass === void 0 ? title : _ref$titleClass,\n      _ref$wrapClass = _ref.wrapClass,\n      wrapClass = _ref$wrapClass === void 0 ? tableWrap : _ref$wrapClass;\n  return /*#__PURE__*/_jsxs(\"div\", {\n    id: \"women\",\n    children: [/*#__PURE__*/_jsx(\"p\", {\n      className: titleClass,\n      children: /*#__PURE__*/_jsx(\"strong\", {\n        children: \"Women Size Guide\"\n      })\n    }), /*#__PURE__*/_jsx(\"div\", {\n      className: wrapClass,\n      children: /*#__PURE__*/_jsxs(\"table\", {\n        children: [/*#__PURE__*/_jsxs(\"colgroup\", {\n          children: [/*#__PURE__*/_jsx(\"col\", {}), /*#__PURE__*/_jsx(\"col\", {\n            span: \"4\"\n          })]\n        }), /*#__PURE__*/_jsxs(\"thead\", {\n          children: [/*#__PURE__*/_jsxs(\"tr\", {\n            children: [/*#__PURE__*/_jsx(\"th\", {\n              scope: \"col\",\n              children: \"Size\"\n            }), /*#__PURE__*/_jsx(\"th\", {\n              scope: \"colgroup\",\n              children: \"Tops/Bottoms\"\n            }), /*#__PURE__*/_jsx(\"th\", {}), /*#__PURE__*/_jsx(\"th\", {}), /*#__PURE__*/_jsx(\"th\", {})]\n          }), /*#__PURE__*/_jsxs(\"tr\", {\n            children: [/*#__PURE__*/_jsx(\"td\", {}), /*#__PURE__*/_jsx(\"th\", {\n              scope: \"col\",\n              children: \"Size Equivalent\"\n            }), /*#__PURE__*/_jsx(\"th\", {\n              scope: \"col\",\n              children: \"Bust\"\n            }), /*#__PURE__*/_jsx(\"th\", {\n              scope: \"col\",\n              children: \"Waist\"\n            }), /*#__PURE__*/_jsx(\"th\", {\n              scope: \"col\",\n              children: \"Hips\"\n            })]\n          })]\n        }), /*#__PURE__*/_jsxs(\"tbody\", {\n          children: [/*#__PURE__*/_jsxs(\"tr\", {\n            children: [/*#__PURE__*/_jsx(\"th\", {\n              scope: \"row\",\n              children: \"XS\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"0-2\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"32.5\\\"-33.5\\\"\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"25\\\"-26\\\"\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"35.5\\\"-36.5\\\"\"\n            })]\n          }), /*#__PURE__*/_jsxs(\"tr\", {\n            children: [/*#__PURE__*/_jsx(\"th\", {\n              scope: \"row\",\n              children: \"S\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"4-6\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"34\\\"-35\\\"\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"27\\\"-28\\\"\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"36.5\\\"-37.5\\\"\"\n            })]\n          }), /*#__PURE__*/_jsxs(\"tr\", {\n            children: [/*#__PURE__*/_jsx(\"th\", {\n              scope: \"row\",\n              children: \"M\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"8-10\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"36\\\"-37\\\"\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"29\\\"-30\\\"\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"38.5\\\"-39.5\\\"\"\n            })]\n          }), /*#__PURE__*/_jsxs(\"tr\", {\n            children: [/*#__PURE__*/_jsx(\"th\", {\n              scope: \"row\",\n              children: \"L\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"12-14\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"38\\\"-40\\\"\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"31\\\"-33\\\"\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"40.5\\\"-42.5\\\"\"\n            })]\n          }), /*#__PURE__*/_jsxs(\"tr\", {\n            children: [/*#__PURE__*/_jsx(\"th\", {\n              scope: \"row\",\n              children: \"XL\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"16\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"41\\\"-43\\\"\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"34\\\"-36\\\"\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"43.5\\\"-45.5\\\"\"\n            })]\n          })]\n        })]\n      })\n    })]\n  });\n}",".outsmartly/analysis/modules/220.js":"// context/SelectedOptionsContext.tsx\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { toTitleCase } from 'lib/utils';\nimport { useRouter } from 'next/router';\nimport { createContext, useEffect, useState } from 'react';\nexport function addOption(selectedOptions, ...options) {\n  let newOptions = selectedOptions;\n\n  for (const option of options) {\n    const sameValue = newOptions.find(({\n      name,\n      value\n    }) => name === option.name && value === option.value);\n\n    if (!sameValue) {\n      const unchangedOptions = newOptions.filter(selectedOption => {\n        return selectedOption.name !== option.name;\n      });\n      newOptions = [option, ...unchangedOptions];\n    }\n  }\n\n  return newOptions;\n}\n\nfunction extractOptions(tags) {\n  var _tags$match$map, _tags$match;\n\n  return (_tags$match$map = (_tags$match = tags.match(/(size|color)-([^+]+)/g)) === null || _tags$match === void 0 ? void 0 : _tags$match.map(tag => {\n    const arr = tag.split('-');\n    const name = toTitleCase(arr.shift());\n    const value = name === 'Size' ? arr.join('-').toUpperCase() : toTitleCase(arr.join('-'));\n    return {\n      name,\n      value\n    };\n  })) !== null && _tags$match$map !== void 0 ? _tags$match$map : [];\n}\n\nexport const SelectedOptionsContext = /*#__PURE__*/createContext({\n  defaultOptions: [],\n  updateOptionDefaults: (...options) => undefined\n});\nSelectedOptionsContext.displayName = 'SelectedOptionsContext';\nexport function SelectedOptionsProvider({\n  children\n}) {\n  const router = useRouter();\n  const {\n    0: defaultOptions,\n    1: setDefaultOptions\n  } = useState([]);\n  const {\n    collection = '',\n    tagQuery = ''\n  } = router.query;\n  useEffect(() => {\n    const tags = `${collection}+${tagQuery}`;\n    const options = extractOptions(tags);\n    updateOptionDefaults(...options);\n  }, [collection, tagQuery]);\n\n  function updateOptionDefaults(...options) {\n    const newOptions = addOption(defaultOptions, ...options);\n\n    if (newOptions !== defaultOptions) {\n      setDefaultOptions(newOptions);\n    }\n  }\n\n  return /*#__PURE__*/_jsx(SelectedOptionsContext.Provider, {\n    value: {\n      defaultOptions,\n      updateOptionDefaults\n    },\n    children: children\n  });\n}\nexport default SelectedOptionsContext;",".outsmartly/analysis/modules/331.js":"// lib/discounts.ts\nexport function getDiscountInfo(product, currentVariant) {\n  var _currentVariant$price, _currentVariant$compa, _product$oldPrice;\n\n  const {\n    discount,\n    saleMessage\n  } = getSpecialDiscount(product);\n  const isOnSale = discount > 0; // Pull the variant price if available, else pull the product price.\n\n  let price = (_currentVariant$price = currentVariant === null || currentVariant === void 0 ? void 0 : currentVariant.price) !== null && _currentVariant$price !== void 0 ? _currentVariant$price : product === null || product === void 0 ? void 0 : product.price; // Update the price if there's a special sale running.\n\n  price = isOnSale ? (price - price * discount).toFixed(2) : price; // Show the from text if we're showing the price of a product that varies in price.\n\n  const priceText = !currentVariant && product.showFromPrice ? `From $${price}` : `$${price}`; // The old price is either from the variant if available, or the product.\n\n  const oldPrice = (_currentVariant$compa = currentVariant === null || currentVariant === void 0 ? void 0 : currentVariant.compareAtPrice) !== null && _currentVariant$compa !== void 0 ? _currentVariant$compa : ((_product$oldPrice = product.oldPrice) !== null && _product$oldPrice !== void 0 ? _product$oldPrice : isOnSale) ? product.price : null;\n  return {\n    priceText,\n    saleMessage,\n    oldPrice\n  };\n}\n/**\n * Put any logic here for special sales that get applied automatically\n * in the cart.\n *\n * @param product\n * @returns\n */\n\nfunction getSpecialDiscount(product) {\n  var _product$tags;\n\n  if (Date.now() > new Date('2021-09-07T04:00:00.000Z').getTime()) {\n    return {\n      discount: 0\n    };\n  }\n\n  const onSaleTags = ['sale', 'SALE'];\n\n  if ((_product$tags = product.tags) !== null && _product$tags !== void 0 && _product$tags.some(tag => onSaleTags.includes(tag)) || product.tag === 'Sale') {\n    return {\n      discount: 0.5,\n      saleMessage: 'END OF SEASON EXTRA 50% OFF'\n    };\n  }\n\n  return {\n    discount: 0\n  };\n}",".outsmartly/analysis/modules/271.js":"// node_modules/next/dist/next-server/lib/router/utils/route-matcher.js\n\"use strict\";\n\nexports.__esModule = true;\nexports.getRouteMatcher = getRouteMatcher;\n\nfunction getRouteMatcher(routeRegex) {\n  const {\n    re,\n    groups\n  } = routeRegex;\n  return pathname => {\n    const routeMatch = re.exec(pathname);\n\n    if (!routeMatch) {\n      return false;\n    }\n\n    const decode = param => {\n      try {\n        return decodeURIComponent(param);\n      } catch (_) {\n        const err = new Error('failed to decode param');\n        err.code = 'DECODE_FAILED';\n        throw err;\n      }\n    };\n\n    const params = {};\n    Object.keys(groups).forEach(slugName => {\n      const g = groups[slugName];\n      const m = routeMatch[g.pos];\n\n      if (m !== undefined) {\n        params[slugName] = ~m.indexOf('/') ? m.split('/').map(entry => decode(entry)) : g.repeat ? [decode(m)] : decode(m);\n      }\n    });\n    return params;\n  };\n}",".outsmartly/analysis/modules/113.js":"// components/Product/ProductDescription.js\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { description, item, toggle, title, open, close, panel, content } from './ProductDescription.module.css';\nimport Accordion from 'components/Accordion/Accordion';\n/** Product Information and Description accordion */\n\nexport default function ProductDescription(_ref) {\n  var bullets = _ref.bullets,\n      html = _ref.html;\n  // Array of items for the accordion\n  var accordionData = [{\n    id: 1,\n    title: 'Product Information',\n    content: /*#__PURE__*/_jsx(_Fragment, {\n      children: bullets.map(function (bullet, i) {\n        return /*#__PURE__*/_jsx(\"p\", {\n          children: bullet\n        }, i);\n      })\n    })\n  }, {\n    id: 2,\n    title: 'Description',\n    content: /*#__PURE__*/_jsx(\"div\", {\n      dangerouslySetInnerHTML: html\n    })\n  }].filter(function (_ref2) {\n    var id = _ref2.id;\n\n    // Filter out sections w/ no data\n    if (id === 1) {\n      return bullets.length > 0;\n    }\n\n    if (id === 2) {\n      return !!(html !== null && html !== void 0 && html.__html);\n    }\n  }); // Assemble CSS classes to pass down through Accordion to AccordionItem\n\n  var cssClasses = {\n    item: item,\n    header: toggle,\n    headerTitle: title,\n    open: open,\n    close: close,\n    panel: panel,\n    content: content\n  };\n  return /*#__PURE__*/_jsx(\"div\", {\n    className: description,\n    itemProp: \"description\",\n    children: /*#__PURE__*/_jsx(Accordion, {\n      items: accordionData,\n      cssClasses: cssClasses,\n      initiallyOpen: ['Product Information'],\n      buttonVariant: 2\n    })\n  });\n}",".outsmartly/analysis/modules/282.js":"// lib/shopify/loadSingleCollectionTitle.ts\nimport { getShopifyClient } from './shopifyClient';\nexport async function _loadSingleCollectionTitle({\n  graphqlParams,\n  handle\n}) {\n  var _collectionByHandle$t;\n\n  const shopifyClient = getShopifyClient(graphqlParams);\n  const {\n    collectionByHandle\n  } = await shopifyClient.request(collectionQuery(handle));\n  return {\n    handle,\n    title: (_collectionByHandle$t = collectionByHandle === null || collectionByHandle === void 0 ? void 0 : collectionByHandle.title) !== null && _collectionByHandle$t !== void 0 ? _collectionByHandle$t : null\n  };\n}\n\nfunction collectionQuery(handle) {\n  return `\n    {\n      collectionByHandle(handle: \"${handle}\") {\n        id\n        handle\n        title\n      }\n    }\n  `;\n}",".outsmartly/analysis/modules/142.js":"// components/Collection/ProductCard.js\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport Link from 'next/link';\nimport ProductRating from 'components/Product/ProductRating';\nimport ProductColor from 'components/ProductOption/ProductColor';\nimport { productCard, imageWrap, multiImage, mainImage, secondaryImage, overlay, overlayBtn, trigger, productCardInfo, productName, productPrice, regularPrice, salePrice, productCardColorSwatch, productCardSwatchItem, productRatingWrap } from './ProductCard.module.css';\nimport { getProductImageUrl } from 'lib/getImageUrl';\nimport ProductTag from 'components/Product/ProductTag';\nimport { useEffect, useState } from 'react';\nimport { selectedImagesState } from 'context/selectedImagesState';\nimport { getDiscountInfo } from 'lib/discounts';\nexport default function ProductCard(_ref) {\n  var _images$, _images$2, _images$3;\n\n  var className = _ref.className,\n      handle = _ref.handle,\n      product = _ref.product,\n      onQuickClick = _ref.onQuickClick;\n\n  var _selectedImagesState = selectedImagesState({\n    product: product\n  }),\n      images = _selectedImagesState.images,\n      selectSingleOption = _selectedImagesState.selectSingleOption;\n\n  var _useState = useState(false),\n      isLargeScreen = _useState[0],\n      setIsLargeScreen = _useState[1];\n\n  useEffect(function () {\n    var _window;\n\n    setIsLargeScreen(((_window = window) === null || _window === void 0 ? void 0 : _window.innerWidth) >= 990);\n  }, []);\n  var href = \"/collections/\".concat(handle, \"/products/\").concat(product.handle);\n  /**\n   * Handles a click on the Product Card overlay button\n   * @param {Object} e - the event object\n   * @param {Number} id - the product id\n   */\n\n  var handleQuickViewClick = function handleQuickViewClick(e, productHandle) {\n    e.preventDefault(); // Open modal for this product handle\n    //console.log('Open modal for product', productHandle);\n\n    onQuickClick(productHandle);\n  }; // Show from price\n\n\n  var _getDiscountInfo = getDiscountInfo(product),\n      priceText = _getDiscountInfo.priceText,\n      saleMessage = _getDiscountInfo.saleMessage,\n      oldPrice = _getDiscountInfo.oldPrice;\n\n  return /*#__PURE__*/_jsxs(\"li\", {\n    className: className,\n    children: [/*#__PURE__*/_jsx(Link, {\n      href: href,\n      children: /*#__PURE__*/_jsx(\"a\", {\n        className: productCard,\n        children: /*#__PURE__*/_jsxs(\"div\", {\n          className: \"\".concat(imageWrap, \" \").concat(multiImage),\n          children: [/*#__PURE__*/_jsx(ProductTag, {\n            product: product\n          }), /*#__PURE__*/_jsx(ProductTag, {\n            product: product,\n            extended: true\n          }), /*#__PURE__*/_jsx(\"img\", {\n            src: getProductImageUrl((_images$ = images[0]) === null || _images$ === void 0 ? void 0 : _images$.src, 600),\n            alt: \"\".concat(product.title, \" - \").concat((_images$2 = images[0]) === null || _images$2 === void 0 ? void 0 : _images$2.altText),\n            className: mainImage,\n            loading: \"lazy\"\n          }), /*#__PURE__*/_jsx(\"img\", {\n            src: getProductImageUrl(isLargeScreen && images.length > 1 ? images[1].src : images[0].src, 600),\n            alt: \"\".concat(product.title, \" - \").concat((_images$3 = images[0]) === null || _images$3 === void 0 ? void 0 : _images$3.altText),\n            className: secondaryImage,\n            \"aria-hidden\": \"true\",\n            loading: \"lazy\"\n          }), /*#__PURE__*/_jsx(\"div\", {\n            className: overlay,\n            children: /*#__PURE__*/_jsx(\"span\", {\n              className: \"\".concat(overlayBtn, \" \").concat(trigger),\n              onClick: function onClick(e) {\n                return handleQuickViewClick(e, product.handle);\n              },\n              children: \"Quick Shop\"\n            })\n          })]\n        })\n      })\n    }), /*#__PURE__*/_jsxs(\"div\", {\n      className: productCardInfo,\n      children: [/*#__PURE__*/_jsx(\"div\", {\n        className: productName,\n        children: product.title\n      }), /*#__PURE__*/_jsx(\"div\", {\n        className: productPrice,\n        children: oldPrice ? /*#__PURE__*/_jsxs(_Fragment, {\n          children: [/*#__PURE__*/_jsx(\"span\", {\n            className: \"visually-hidden\",\n            children: \"Sale price\"\n          }), /*#__PURE__*/_jsx(\"span\", {\n            className: salePrice,\n            children: priceText\n          }), /*#__PURE__*/_jsx(\"span\", {\n            className: \"visually-hidden\",\n            children: \"Regular price\"\n          }), /*#__PURE__*/_jsxs(\"s\", {\n            className: regularPrice,\n            children: [\"$\", oldPrice]\n          })]\n        }) : priceText\n      }), saleMessage ? /*#__PURE__*/_jsx(\"div\", {\n        style: {\n          margin: '6px 0 0 0',\n          fontSize: '12px'\n        },\n        children: saleMessage\n      }) : null]\n    }), product.numReviews && product.numReviews > 0 && /*#__PURE__*/_jsx(Link, {\n      href: href,\n      children: /*#__PURE__*/_jsx(\"a\", {\n        className: productRatingWrap,\n        children: /*#__PURE__*/_jsx(ProductRating, {\n          rating: product.rating,\n          numReviews: product.numReviews\n        })\n      })\n    }), /*#__PURE__*/_jsx(ProductColor, {\n      listItemType: productCardSwatchItem,\n      colorParent: productCardColorSwatch,\n      product: product,\n      selectSingleOption: selectSingleOption\n    })]\n  });\n}",".outsmartly/analysis/modules/89.js":"// components/LemonSpot/useRecBox.js\nimport _slicedToArray from \"/Users/kai/Work/rbx-rewrite/node_modules/next/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport { useState, useEffect } from 'react';\nimport { useRouter } from 'next/router';\nimport { useMessageBus } from '@outsmartly/core';\nimport { getPathnames, getResolution } from 'lib/utils';\n/**\n * Custom hook that provides both state and a useEffect to emit a render event\n * for various types of LemonSpot boxes.\n * @param {string} boxKey - id/key for the recommendation box\n * @param {string} page - the current page\n */\n\nexport function useRecBox(boxKey, page) {\n  var _process$env$messageB;\n\n  var _useState = useState([]),\n      array = _useState[0],\n      setArray = _useState[1];\n\n  var router = useRouter();\n\n  var _getPathnames = getPathnames(router),\n      _getPathnames2 = _slicedToArray(_getPathnames, 2),\n      path = _getPathnames2[0],\n      pathWithQuery = _getPathnames2[1]; // Get a reference to the client message bus\n\n\n  var bus = useMessageBus({\n    debug: (_process$env$messageB = process.env.messageBusDebug) !== null && _process$env$messageB !== void 0 ? _process$env$messageB : false\n  });\n  useEffect(function () {\n    if (array.length) {\n      var obj = {\n        boxKey: boxKey,\n        integerData: array.length,\n        page: page,\n        path: path,\n        resolution: getResolution(),\n        timestamp: new Date().toISOString(),\n        url: pathWithQuery\n      };\n      bus.emit('boxRender', obj);\n    }\n  }, [array]);\n  return [array, setArray];\n}",".outsmartly/analysis/modules/99.js":"// components/Afterpay/AfterpayIconSet.js\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\n/** Define a set of icons used in the Afterpay modals. Usage is the same as\n * icons in components/Icons/IconSet1 */\nexport default function AfterpayIconSet() {\n  return /*#__PURE__*/_jsxs(\"svg\", {\n    style: {\n      position: 'absolute',\n      height: 0\n    },\n    xmlns: \"http://www.w3.org/2000/svg\",\n    children: [/*#__PURE__*/_jsx(\"symbol\", {\n      id: \"afterpay-logo\",\n      viewBox: \"360 307 1150 225\",\n      stroke: \"currentColor\",\n      strokeWidth: \"2\",\n      children: /*#__PURE__*/_jsx(\"path\", {\n        d: \"M1492 353.5l-34.6-19.8-35.1-20.1c-23.2-13.3-52.2 3.4-52.2 30.2v4.5c0 2.5 1.3 4.8 3.5 6l16.3 9.3c4.5 2.6 10.1-.7  10.1-5.9V347c0-5.3 5.7-8.6 10.3-6l32 18.4 31.9 18.3c4.6 2.6 4.6 9.3 0 11.9l-31.9 18.3-32 18.4c-4.6 2.6-10.3-.7-10.3-6V415 c0-26.8-29-43.6-52.2-30.2l-35.1 20.1-34.6 19.8c-23.3 13.4-23.3 47.1 0 60.5l34.6 19.8 35.1 20.1c23.2 13.3 52.2-3.4 52.2-30.2 v-4.5c0-2.5-1.3-4.8-3.5-6l-16.3-9.3c-4.5-2.6-10.1.7-10.1 5.9 v10.7c0 5.3-5.7 8.6-10.3 6l-32-18.4-31.9-18.3c-4.6-2.6-4.6-9.3 0-11.9l31.9-18.3 32-18.4c4.6-2.6 10.3.7 10.3 6v5.3c0 26.8 29 43.6 52.2 30.2l35.1-20.1L1492 414c23.3-13.5 23.3-47.1 0-60.5z M1265 360.1l-81 167.3h-33.6l30.3-62.5-47.7-104.8h34.5l30.6 70.2 33.4-70.2h33.5zM455.1 419.5c0-20-14.5-34-32.3-34s-32.3 14.3-32.3 34c0 19.5 14.5 34 32.3 34s32.3-14 32.3-34m.3 59.4 v-15.4c-8.8 10.7-21.9 17.3-37.5 17.3-32.6 0-57.3-26.1-57.3 -61.3 0-34.9 25.7-61.5 58-61.5 15.2 0 28 6.7 36.8 17.1v-15 h29.2v118.8h-29.2zM626.6 452.5c-10.2 0-13.1-3.8-13.1-13.8 V386h18.8v-25.9h-18.8v-29h-29.9v29H545v-11.8c0-10 3.8-13.8 14.3-13.8h6.6v-23h-14.4c-24.7 0-36.4 8.1-36.4 32.8v15.9h-16.6 V386h16.6v92.9H545V386h38.6v58.2c0 24.2 9.3 34.7 33.5 34.7 h15.4v-26.4h-5.9zM734 408.8c-2.1-15.4-14.7-24.7-29.5-24.7-14.7 0-26.9 9-29.9 24.7H734zm-59.7 18.5c2.1 17.6 14.7 27.6 30.7 27.6 12.6 0 22.3-5.9 28-15.4h30.7c-7.1 25.2-29.7 41.3-59.4 41.3-35.9 0-61.1-25.2-61.1-61.1 0-35.9 26.6-61.8 61.8-61.8 35.4 0 61.1 26.1 61.1 61.8 0 2.6-.2 5.2-.7 7.6h-91.1zM956.5 419.5c0-19.2 -14.5-34-32.3-34-17.8 0-32.3 14.3-32.3 34 0 19.5 14.5 34 32.3 34 17.8 0 32.3-14.7 32.3-34m-94.1 107.9V360.1h29.2v15.4c8.8 -10.9 21.9-17.6 37.5-17.6 32.1 0 57.3 26.4 57.3 61.3s-25.7 61.5-58 61.5c-15 0-27.3-5.9-35.9-15.9v62.5h-30.1zM1091.7 419.5 c0-20-14.5-34-32.3-34-17.8 0-32.3 14.3-32.3 34 0 19.5 14.5 34 32.3 34 17.8 0 32.3-14 32.3-34m.3 59.4v-15.4c-8.8 10.7-21.9 17.3-37.5 17.3-32.6 0-57.3-26.1-57.3-61.3 0-34.9 25.7-61.5 58-61.5 15.2 0 28 6.7 36.8 17.1v-15h29.2v118.8H1092zM809.7 371.7s7.4-13.8 25.7-13.8c7.8 0 12.8 2.7 12.8 2.7v30.3s-11-6.8 -21.1-5.4c-10.1 1.4-16.5 10.6-16.5 23v70.3h-30.2V360.1h29.2 v11.6z\"\n      })\n    }), /*#__PURE__*/_jsxs(\"symbol\", {\n      id: \"afterpay-cart\",\n      viewBox: \"24 14 52 72\",\n      children: [/*#__PURE__*/_jsx(\"path\", {\n        d: \"M50 69.47a27.28 27.28 0 01-4-3c-2.13-1.87-4.52-4.49-4.44 -7.36a5 5 0 01.37-1.75a4.27 4.27 0 018.13.25a4.27 4.27 0 018.13-.25a5 5 0 01.37 1.75c.08 2.87-2.31 5.49-4.44 7.36 a27.28 27.28 0 01-4 3\"\n      }), /*#__PURE__*/_jsx(\"path\", {\n        d: \"M 34.5 49 V 31 a 15.5 15.5 0 0 1 31 0 V 49\"\n      }), /*#__PURE__*/_jsx(\"path\", {\n        d: \"M25 35H70.79A4.21 4.21 0 0175 39.21V79.79A4.21 4.21 0 0170.79 84H25a0 0 0 010 0V35A0 0 0 0125 35Z\",\n        transform: \"translate(109.5 9.5) rotate(90)\"\n      })]\n    }), /*#__PURE__*/_jsxs(\"symbol\", {\n      id: \"afterpay-desktop\",\n      viewBox: \"9 24 82 56\",\n      children: [/*#__PURE__*/_jsx(\"line\", {\n        x1: \"45.5\",\n        y1: \"76.49\",\n        x2: \"54.5\",\n        y2: \"76.49\"\n      }), /*#__PURE__*/_jsx(\"path\", {\n        d: \"M 19.43 25.5 H 80.57 a 3.93 3.93 0 0 1 3.93 3.93 V 74.5 a 0 0 0 0 1 0 0 h -69 a 0 0 0 0 1 0 0 V 29.43 A 3.93 3.93 0 0 1 19.43 25.5 Z\"\n      }), /*#__PURE__*/_jsx(\"path\", {\n        fill: \"#000\",\n        stroke: \"none\",\n        d: \"M63.75 41.52L59.3 39l-4.51-2.59a4.48 4.48 0 00-6.71 3.89 v.58a.89.89 0 00.44.77l2.1 1.2a.86.86 0 001.3-.75V40.69 a.89.89 0 011.33-.77l4.12 2.37l4.11 2.36a.88.88 0 010 1.53 l-4.11 2.36L53.25 50.9a.88.88 0 01-1.33-.76v-.69a4.48 4.48 0 00-6.71-3.89L40.7 48.15L36.25 50.7a4.49 4.49 0 000 7.78 L40.7 61l4.51 2.59a4.48 4.48 0 006.71-3.89v-.58a.88.88 0 00-.44-.77l-2.1-1.2a.86.86 0 00-1.3.75v1.38a.89.89 0 01 -1.33.77l-4.12-2.37l-4.11-2.36a.88.88 0 010-1.53l4.11-2.36 l4.12-2.36a.88.88 0 011.33.76v.69a4.48 4.48 0 006.71 3.89 l4.51-2.59l4.45-2.55A4.49 4.49 0 0063.75 41.52Z\"\n      }), /*#__PURE__*/_jsx(\"rect\", {\n        x: \"10.5\",\n        y: \"74.49\",\n        width: \"79\",\n        height: \"4\",\n        rx: \"2\"\n      })]\n    }), /*#__PURE__*/_jsxs(\"symbol\", {\n      id: \"afterpay-mobile\",\n      viewBox: \"24 9 52 82\",\n      children: [/*#__PURE__*/_jsx(\"rect\", {\n        x: \"10.5\",\n        y: \"25.5\",\n        width: \"79\",\n        height: \"49\",\n        rx: \"4.21\",\n        transform: \"translate(100 0) rotate(90)\"\n      }), /*#__PURE__*/_jsx(\"line\", {\n        x1: \"25.49\",\n        y1: \"19.5\",\n        x2: \"74.49\",\n        y2: \"19.5\"\n      }), /*#__PURE__*/_jsx(\"line\", {\n        x1: \"25.49\",\n        y1: \"84.5\",\n        x2: \"74.49\",\n        y2: \"84.5\"\n      }), /*#__PURE__*/_jsx(\"line\", {\n        x1: \"45.49\",\n        y1: \"15.5\",\n        x2: \"54.49\",\n        y2: \"15.5\"\n      }), /*#__PURE__*/_jsx(\"path\", {\n        fill: \"#000\",\n        stroke: \"none\",\n        d: \"M63.75 41.52L59.3 39l-4.51-2.59a4.48 4.48 0 00-6.71 3.89 v.58a.89.89 0 00.44.77l2.1 1.2a.86.86 0 001.3-.75V40.69 a.89.89 0 011.33-.77l4.12 2.37l4.11 2.36a.88.88 0 010 1.53 l-4.11 2.36L53.25 50.9a.88.88 0 01-1.33-.76v-.69a4.48 4.48 0 00-6.71-3.89L40.7 48.15L36.25 50.7a4.49 4.49 0 000 7.78 L40.7 61l4.51 2.59a4.48 4.48 0 006.71-3.89v-.58a.88.88 0 00-.44-.77l-2.1-1.2a.86.86 0 00-1.3.75v1.38a.89.89 0 01 -1.33.77l-4.12-2.37l-4.11-2.36a.88.88 0 010-1.53l4.11-2.36 l4.12-2.36a.88.88 0 011.33.76v.69a4.48 4.48 0 006.71 3.89 l4.51-2.59l4.45-2.55A4.49 4.49 0 0063.75 41.52Z\"\n      })]\n    }), /*#__PURE__*/_jsxs(\"symbol\", {\n      id: \"afterpay-signup-desktop\",\n      viewBox: \"9 24 82 56\",\n      children: [/*#__PURE__*/_jsx(\"polyline\", {\n        points: \"61.51 52.12 65.94 56.57 74.5 47.99\"\n      }), /*#__PURE__*/_jsx(\"circle\", {\n        cx: \"40\",\n        cy: \"50\",\n        r: \"14.5\"\n      }), /*#__PURE__*/_jsx(\"circle\", {\n        cx: \"40\",\n        cy: \"45.8\",\n        r: \"6.09\"\n      }), /*#__PURE__*/_jsx(\"path\", {\n        d: \"M29.92 60.42a8.43 8.43 0 018-5.8h4.2a8.45 8.45 0 018 5.79\"\n      }), /*#__PURE__*/_jsx(\"line\", {\n        x1: \"45.5\",\n        y1: \"76.49\",\n        x2: \"54.5\",\n        y2: \"76.49\"\n      }), /*#__PURE__*/_jsx(\"path\", {\n        d: \"M 19.43 25.5 H 80.57 a 3.93 3.93 0 0 1 3.93 3.93 V 74.5 a 0 0 0 0 1 0 0 h -69 a 0 0 0 0 1 0 0 V 29.43 A 3.93 3.93 0 0 1 19.43 25.5 Z\"\n      }), /*#__PURE__*/_jsx(\"rect\", {\n        x: \"10.5\",\n        y: \"74.49\",\n        width: \"79\",\n        height: \"4\",\n        rx: \"2\"\n      })]\n    }), /*#__PURE__*/_jsxs(\"symbol\", {\n      id: \"afterpay-signup-mobile\",\n      viewBox: \"24 9 52 82\",\n      children: [/*#__PURE__*/_jsx(\"rect\", {\n        x: \"10.5\",\n        y: \"25.5\",\n        width: \"79\",\n        height: \"49\",\n        rx: \"4.21\",\n        transform: \"translate(100) rotate(90)\"\n      }), /*#__PURE__*/_jsx(\"polyline\", {\n        points: \"45.45 67.06 49.88 71.51 58.44 62.93\"\n      }), /*#__PURE__*/_jsx(\"line\", {\n        x1: \"25.49\",\n        y1: \"19.5\",\n        x2: \"74.49\",\n        y2: \"19.5\"\n      }), /*#__PURE__*/_jsx(\"line\", {\n        x1: \"25.49\",\n        y1: \"84.5\",\n        x2: \"74.49\",\n        y2: \"84.5\"\n      }), /*#__PURE__*/_jsx(\"line\", {\n        x1: \"45.49\",\n        y1: \"15.5\",\n        x2: \"54.49\",\n        y2: \"15.5\"\n      }), /*#__PURE__*/_jsx(\"circle\", {\n        cx: \"50\",\n        cy: \"43\",\n        r: \"14.5\"\n      }), /*#__PURE__*/_jsx(\"circle\", {\n        cx: \"50\",\n        cy: \"38.8\",\n        r: \"6.09\"\n      }), /*#__PURE__*/_jsx(\"path\", {\n        d: \"M39.92 53.42a8.43 8.43 0 018-5.8h4.2a8.45 8.45 0 018 5.79\"\n      })]\n    }), /*#__PURE__*/_jsxs(\"symbol\", {\n      id: \"afterpay-four-payments\",\n      viewBox: \"14 7 79 79\",\n      children: [/*#__PURE__*/_jsx(\"path\", {\n        d: \"M50 15.5A34.5 34.5 0 0015.5 50H50Z\"\n      }), /*#__PURE__*/_jsx(\"path\", {\n        d: \"M15.5 50A34.5 34.5 0 0050 84.5V50Z\"\n      }), /*#__PURE__*/_jsx(\"path\", {\n        d: \"M50 84.5h0A34.5 34.5 0 0084.5 50H50Z\"\n      }), /*#__PURE__*/_jsx(\"path\", {\n        d: \"M57 8.5h0V43h34.5A34.5 34.5 0 0057 8.5Z\"\n      })]\n    })]\n  });\n}",".outsmartly/analysis/modules/6.js":"// components/Product/ProductPhotos/ServerThumbnails.js\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports._outsmartly_thunk = _outsmartly_thunk;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _objectWithoutProperties2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutProperties\"));\n\nvar _Thumbnails = require(\"./Thumbnails\");\n\nvar _helpers = require(\"../../../lib/helpers\");\n\nvar __jsx = _react[\"default\"].createElement;\n\nfunction _outsmartly_thunk(_temp) {\n  if (_outsmartly_slices.$1) {\n    var _temp$variantId = _temp.variantId,\n        variantId = _temp$variantId === void 0 ? undefined : _temp$variantId,\n        colorsByVariant = _temp.colorsByVariant,\n        rest = (0, _objectWithoutProperties2[\"default\"])(_temp, [\"variantId\", \"colorsByVariant\"]);\n  }\n\n  if (_outsmartly_slices.$1) {\n    var serverColor = (0, _helpers.getColorByVariantId)(colorsByVariant, variantId);\n  }\n\n  if (_outsmartly_branch_selections.$0) {\n    {\n      if (_outsmartly_slices.$1) {\n        _outsmartly_outlets.$1 = /*#__PURE__*/_react[\"default\"].createElement(_Thumbnails.Thumbnails, (0, _extends2[\"default\"])({\n          serverColor: serverColor\n        }, rest));\n      }\n    }\n    return _outsmartly_no_return;\n  } else {\n    return /*#__PURE__*/_react[\"default\"].createElement(_Thumbnails.Thumbnails, (0, _extends2[\"default\"])({\n      serverColor: serverColor\n    }, rest));\n  }\n}\n\nvar ServerThumbnails = _outsmartly_thunk;",".outsmartly/analysis/modules/152.js":"// third-party-scripts/pebblepost.js\nimport { loadScriptWithDelay } from './utils';\nvar config = {\n  src: 'https://cdn.pbbl.co/r/1059.js',\n  id: 'pebblepost-script',\n  timeout: 10 * 1000,\n  anonymous: false\n};\nexport function loadPebblePost(account) {\n  var id = account.id,\n      email = account.email,\n      tags = account.tags,\n      orderValue = account.orderValue,\n      orderId = account.orderId; // Pebblepost\n\n  window._pp = window._pp || [];\n\n  if (id) {\n    _pp.siteUId = id;\n  }\n\n  _pp.siteId = 1059;\n\n  if (email) {\n    _pp.email = email;\n  }\n\n  if (tags) {\n    _pp.tags = tags;\n  }\n\n  if (orderValue) {\n    _pp.orderValue = orderValue;\n  }\n\n  if (orderId) {\n    _pp.orderValue = orderId;\n  }\n\n  loadScriptWithDelay(config);\n}",".outsmartly/analysis/modules/292.js":"// components/Product/ProductPurchase.js\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React, { useContext } from 'react';\nimport { useRouter } from 'next/router';\nimport { form, swatchWrapper, swatchGroup, swatchHeader, submitWrap, submitBtn } from './ProductPurchase.module.css';\nimport ProductColor from 'components/ProductOption/ProductColor';\nimport ProductOption from 'components/ProductOption';\nimport { CartContext } from '@outsmartly/jackrabbit';\nimport { getVariant } from 'context/getVariant';\nimport ViewSizeGuide from 'components/SizingGuide/ViewSizeGuide';\nimport { ProductOutOfStock } from './ProductOutOfStock';\nimport { logOutsmartlyError } from '@outsmartly/shopify-analytics';\nexport default function ProductPurchase({\n  product,\n  selectedOptions,\n  selectSingleOption\n}) {\n  const router = useRouter();\n  const {\n    addToCart,\n    setAddStatus\n  } = useContext(CartContext);\n  const currentVariant = getVariant(product, selectedOptions);\n  const addToCartText = currentVariant ? currentVariant !== null && currentVariant !== void 0 && currentVariant.availableForSale ? 'Add to Cart' : 'Sold Out' : 'Unavailable';\n\n  const onAddToCartClick = async e => {\n    e.preventDefault();\n\n    if (currentVariant) {\n      try {\n        var _window$__APP_CONFIG_;\n\n        // Try adding to cart. If it succeeds, report success to UI\n        await addToCart(product, currentVariant); // If set, then go straight to the cart\n\n        if ((_window$__APP_CONFIG_ = window.__APP_CONFIG__) !== null && _window$__APP_CONFIG_ !== void 0 && _window$__APP_CONFIG_.addToCartRedirect) {\n          setAddStatus('cartSuccess');\n          router.push('/cart');\n        } else {\n          // Otherwise just update the status bar success\n          // with a link\n          setAddStatus('success');\n        }\n\n        setAddStatus('success');\n      } catch (e) {\n        logOutsmartlyError(e); // If add operation fails, report error to UI.\n\n        setAddStatus(e.message);\n      }\n    }\n  };\n\n  return /*#__PURE__*/_jsxs(\"div\", {\n    className: form,\n    children: [product.variants.length > 1 ? /*#__PURE__*/_jsx(\"div\", {\n      className: swatchWrapper,\n      children: product.options.map(({\n        name\n      }) => /*#__PURE__*/_jsxs(\"div\", {\n        className: swatchGroup,\n        children: [/*#__PURE__*/_jsx(\"div\", {\n          className: swatchHeader,\n          children: name\n        }), name === 'Color' ? /*#__PURE__*/_jsx(ProductColor, {\n          product: product,\n          selectedOptions: selectedOptions,\n          selectSingleOption: selectSingleOption\n        }) : /*#__PURE__*/_jsx(ProductOption, {\n          product: product,\n          optionName: name,\n          selectedOptions: selectedOptions,\n          selectSingleOption: selectSingleOption\n        })]\n      }, name))\n    }) : null, /*#__PURE__*/_jsx(ViewSizeGuide, {\n      product: product\n    }), /*#__PURE__*/_jsx(\"div\", {\n      className: submitWrap,\n      children: /*#__PURE__*/_jsx(\"button\", {\n        className: submitBtn,\n        id: \"AddToCart\",\n        name: \"add\",\n        onClick: onAddToCartClick,\n        disabled: !(currentVariant !== null && currentVariant !== void 0 && currentVariant.availableForSale),\n        children: /*#__PURE__*/_jsx(\"span\", {\n          id: \"AddToCartText\",\n          children: addToCartText\n        })\n      })\n    }), currentVariant !== null && currentVariant !== void 0 && currentVariant.availableForSale ? null : /*#__PURE__*/_jsx(\"div\", {\n      className: submitWrap,\n      children: /*#__PURE__*/_jsx(ProductOutOfStock, {\n        product: product,\n        selectedOptions: selectedOptions,\n        currentVariant: currentVariant\n      })\n    })]\n  });\n}",".outsmartly/analysis/modules/103.js":"// components/Contact.js\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { Fragment } from 'react';\nimport { pagefly, fullBlurb, pageTitle, wrap, divider, formWrap, submit } from 'styles/pagefly.module.css';\nimport { contact, contactHeading, contactCard, contactMethod, contactLeft, contactRight } from './Contact.module.css';\nimport config from '../jackrabbit.config';\nexport default function Contact(_ref) {\n  var titleBlurbClass = _ref.titleBlurbClass;\n  return /*#__PURE__*/_jsx(\"div\", {\n    className: pagefly,\n    children: /*#__PURE__*/_jsxs(\"div\", {\n      className: contact,\n      children: [/*#__PURE__*/_jsx(\"div\", {\n        className: \"\".concat(fullBlurb, \" \").concat(titleBlurbClass ? titleBlurbClass : ''),\n        children: /*#__PURE__*/_jsx(\"div\", {\n          className: wrap,\n          children: /*#__PURE__*/_jsx(\"h2\", {\n            className: pageTitle,\n            children: \"Contact Us\"\n          })\n        })\n      }), /*#__PURE__*/_jsxs(\"div\", {\n        className: contactCard,\n        children: [/*#__PURE__*/_jsx(\"div\", {\n          className: contactLeft,\n          children: /*#__PURE__*/_jsx(\"div\", {\n            className: wrap,\n            children: config.contactInfo.map(function (entry, i) {\n              return /*#__PURE__*/_jsxs(Fragment, {\n                children: [/*#__PURE__*/_jsx(\"h3\", {\n                  className: contactHeading,\n                  children: entry.heading\n                }), /*#__PURE__*/_jsx(\"p\", {\n                  className: contactMethod,\n                  children: /*#__PURE__*/_jsx(\"a\", {\n                    href: entry.href,\n                    children: entry.text\n                  })\n                }), i + 1 !== config.contactInfo.length && /*#__PURE__*/_jsx(\"hr\", {\n                  className: divider\n                })]\n              }, entry.text);\n            })\n          })\n        }), /*#__PURE__*/_jsx(\"div\", {\n          className: contactRight,\n          children: /*#__PURE__*/_jsx(\"div\", {\n            className: formWrap,\n            children: /*#__PURE__*/_jsxs(\"form\", {\n              method: \"post\",\n              action: \"/contact#contact_form\",\n              children: [/*#__PURE__*/_jsxs(\"div\", {\n                className: fullBlurb,\n                children: [/*#__PURE__*/_jsxs(\"div\", {\n                  className: wrap,\n                  children: [/*#__PURE__*/_jsxs(\"label\", {\n                    children: [\"First Name\", /*#__PURE__*/_jsx(\"sup\", {\n                      children: \"*\"\n                    })]\n                  }), /*#__PURE__*/_jsx(\"input\", {\n                    placeholder: \"Enter your first name\",\n                    required: true\n                  })]\n                }), /*#__PURE__*/_jsxs(\"div\", {\n                  className: wrap,\n                  children: [/*#__PURE__*/_jsx(\"label\", {\n                    children: \"Last Name\"\n                  }), /*#__PURE__*/_jsx(\"input\", {\n                    placeholder: \"Enter your last name\"\n                  })]\n                })]\n              }), /*#__PURE__*/_jsx(\"div\", {\n                className: fullBlurb,\n                children: /*#__PURE__*/_jsxs(\"div\", {\n                  className: wrap,\n                  children: [/*#__PURE__*/_jsxs(\"label\", {\n                    children: [\"Email\", /*#__PURE__*/_jsx(\"sup\", {\n                      children: \"*\"\n                    })]\n                  }), /*#__PURE__*/_jsx(\"input\", {\n                    type: \"email\",\n                    placeholder: \"Enter your email\",\n                    required: true\n                  })]\n                })\n              }), /*#__PURE__*/_jsx(\"div\", {\n                className: fullBlurb,\n                children: /*#__PURE__*/_jsxs(\"div\", {\n                  className: wrap,\n                  children: [/*#__PURE__*/_jsx(\"label\", {\n                    children: \"Subject\"\n                  }), /*#__PURE__*/_jsx(\"input\", {\n                    placeholder: \"Enter your subject\"\n                  })]\n                })\n              }), /*#__PURE__*/_jsx(\"div\", {\n                className: fullBlurb,\n                children: /*#__PURE__*/_jsxs(\"div\", {\n                  className: wrap,\n                  children: [/*#__PURE__*/_jsxs(\"label\", {\n                    children: [\"Message \", /*#__PURE__*/_jsx(\"sup\", {\n                      children: \"*\"\n                    })]\n                  }), /*#__PURE__*/_jsx(\"textarea\", {\n                    placeholder: \"Enter your message\",\n                    rows: \"6\",\n                    required: true\n                  })]\n                })\n              }), /*#__PURE__*/_jsx(\"div\", {\n                className: fullBlurb,\n                children: /*#__PURE__*/_jsx(\"div\", {\n                  className: wrap,\n                  children: /*#__PURE__*/_jsx(\"button\", {\n                    type: \"submit\",\n                    className: submit,\n                    children: \"Submit\"\n                  })\n                })\n              })]\n            })\n          })\n        })]\n      })]\n    })\n  });\n}",".outsmartly/analysis/modules/261.js":"// contentful/format-home-features.js\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport { nullIfUndefined } from './helpers';\n/**\n * Formats an individual feature so the prop names match what our component wants\n * @param {string} entry id\n * @param {Object} feature\n * @returns {Object} feature props object\n */\n\nexport function formatFeature(id, feature) {\n  const {\n    headline,\n    headlineTextShadowColor,\n    buttonUrl,\n    buttonText,\n    buttonBackgroundColor,\n    buttonBackgroundColorOpacity,\n    buttonTextColor,\n    buttonTextHoverColor,\n    textAlignment,\n    image\n  } = feature,\n        rest = _objectWithoutProperties(feature, [\"headline\", \"headlineTextShadowColor\", \"buttonUrl\", \"buttonText\", \"buttonBackgroundColor\", \"buttonBackgroundColorOpacity\", \"buttonTextColor\", \"buttonTextHoverColor\", \"textAlignment\", \"image\"]);\n\n  return _objectSpread({\n    id,\n    subtitle: nullIfUndefined(headline),\n    headlineTextShadowColor: nullIfUndefined(headlineTextShadowColor),\n    linkRoute: nullIfUndefined(buttonUrl),\n    linkText: nullIfUndefined(buttonText),\n    buttonBackgroundColor: nullIfUndefined(buttonBackgroundColor),\n    buttonBackgroundColorOpacity: nullIfUndefined(buttonBackgroundColorOpacity),\n    buttonTextColor: nullIfUndefined(buttonTextColor),\n    buttonTextHoverColor: nullIfUndefined(buttonTextHoverColor),\n    align: nullIfUndefined(textAlignment),\n    imgAlt: image.title,\n    imgSrc: image.url\n  }, rest);\n} // Below is just example data\n\nconst data = {\n  sys: {\n    type: 'Array'\n  },\n  total: 1,\n  skip: 0,\n  limit: 100,\n  items: [{\n    sys: {\n      space: {\n        sys: {\n          type: 'Link',\n          linkType: 'Space',\n          id: 'ajgn17op1zyt'\n        }\n      },\n      id: '18t1JLVq1ChVkijn7IlLIl',\n      type: 'Entry',\n      createdAt: '2021-02-08T12:29:05.547Z',\n      updatedAt: '2021-02-08T12:29:05.547Z',\n      environment: {\n        sys: {\n          id: 'master',\n          type: 'Link',\n          linkType: 'Environment'\n        }\n      },\n      revision: 1,\n      contentType: {\n        sys: {\n          type: 'Link',\n          linkType: 'ContentType',\n          id: 'homepageFeatures'\n        }\n      },\n      locale: 'en-US'\n    },\n    fields: {\n      name: 'Default Homepage Features',\n      features: [{\n        sys: {\n          space: {\n            sys: {\n              type: 'Link',\n              linkType: 'Space',\n              id: 'ajgn17op1zyt'\n            }\n          },\n          id: '6vGrFEGgQvOHiuKAVEPOvW',\n          type: 'Entry',\n          createdAt: '2021-02-08T12:26:20.181Z',\n          updatedAt: '2021-02-08T12:26:20.181Z',\n          environment: {\n            sys: {\n              id: 'master',\n              type: 'Link',\n              linkType: 'Environment'\n            }\n          },\n          revision: 1,\n          contentType: {\n            sys: {\n              type: 'Link',\n              linkType: 'ContentType',\n              id: 'homepageFeature'\n            }\n          },\n          locale: 'en-US'\n        },\n        fields: {\n          name: 'Shop Outfits',\n          image: {\n            sys: {\n              space: {\n                sys: {\n                  type: 'Link',\n                  linkType: 'Space',\n                  id: 'ajgn17op1zyt'\n                }\n              },\n              id: '21CYTsj7g5wLiSns84C7SU',\n              type: 'Asset',\n              createdAt: '2021-02-08T12:25:14.080Z',\n              updatedAt: '2021-02-08T12:25:14.080Z',\n              environment: {\n                sys: {\n                  id: 'master',\n                  type: 'Link',\n                  linkType: 'Environment'\n                }\n              },\n              revision: 1,\n              locale: 'en-US'\n            },\n            fields: {\n              title: 'Woman wearing purple sweatshirt and sitting',\n              file: {\n                url: '//images.ctfassets.net/ajgn17op1zyt/21CYTsj7g5wLiSns84C7SU/838bb9754cd05807eaf51986cd14f00e/feature-image-1.jpg',\n                details: {\n                  size: 300388,\n                  image: {\n                    width: 1118,\n                    height: 1228\n                  }\n                },\n                fileName: 'feature-image-1.jpg?v=1612461259',\n                contentType: 'image/jpeg'\n              }\n            }\n          },\n          headline: 'looks<br>we<br>love',\n          buttonUrl: '/pages/outfits',\n          buttonText: 'shop outfits',\n          buttonBackgroundColor: '#FFFFFF',\n          buttonBackgroundColorOpacity: 0.3,\n          buttonTextColor: '#FFFFFF',\n          buttonTextHoverColor: '#996BB7',\n          textAlignment: 'Left'\n        }\n      }, {\n        sys: {\n          space: {\n            sys: {\n              type: 'Link',\n              linkType: 'Space',\n              id: 'ajgn17op1zyt'\n            }\n          },\n          id: '5SUa19RN0EEI0Hv1juLIuz',\n          type: 'Entry',\n          createdAt: '2021-02-08T12:28:37.441Z',\n          updatedAt: '2021-02-08T12:28:37.441Z',\n          environment: {\n            sys: {\n              id: 'master',\n              type: 'Link',\n              linkType: 'Environment'\n            }\n          },\n          revision: 1,\n          contentType: {\n            sys: {\n              type: 'Link',\n              linkType: 'ContentType',\n              id: 'homepageFeature'\n            }\n          },\n          locale: 'en-US'\n        },\n        fields: {\n          name: 'Shop Camo',\n          image: {\n            sys: {\n              space: {\n                sys: {\n                  type: 'Link',\n                  linkType: 'Space',\n                  id: 'ajgn17op1zyt'\n                }\n              },\n              id: '6pAC6SgFWfhr4HuiQSBcNc',\n              type: 'Asset',\n              createdAt: '2021-02-08T12:27:38.755Z',\n              updatedAt: '2021-02-08T12:27:38.755Z',\n              environment: {\n                sys: {\n                  id: 'master',\n                  type: 'Link',\n                  linkType: 'Environment'\n                }\n              },\n              revision: 1,\n              locale: 'en-US'\n            },\n            fields: {\n              title: 'Woman wearing camo pants, view from waste down and kneeling',\n              file: {\n                url: '//images.ctfassets.net/ajgn17op1zyt/6pAC6SgFWfhr4HuiQSBcNc/bcfacda6b7f4282dd4b590b7a24826ac/feature-image-2.jpg',\n                details: {\n                  size: 122625,\n                  image: {\n                    width: 1118,\n                    height: 1228\n                  }\n                },\n                fileName: 'feature-image-2.jpg?v=1612461260',\n                contentType: 'image/jpeg'\n              }\n            }\n          },\n          headline: 'camo<br>collection',\n          buttonUrl: '/collections/camo-camo',\n          buttonText: 'shop camo',\n          buttonBackgroundColor: '#FFFFFF',\n          buttonBackgroundColorOpacity: 0.3,\n          buttonTextColor: '#FFFFFF',\n          buttonTextHoverColor: '#53635A',\n          textAlignment: 'Left'\n        }\n      }]\n    }\n  }],\n  includes: {\n    Entry: [{\n      sys: {\n        space: {\n          sys: {\n            type: 'Link',\n            linkType: 'Space',\n            id: 'ajgn17op1zyt'\n          }\n        },\n        id: '5SUa19RN0EEI0Hv1juLIuz',\n        type: 'Entry',\n        createdAt: '2021-02-08T12:28:37.441Z',\n        updatedAt: '2021-02-08T12:28:37.441Z',\n        environment: {\n          sys: {\n            id: 'master',\n            type: 'Link',\n            linkType: 'Environment'\n          }\n        },\n        revision: 1,\n        contentType: {\n          sys: {\n            type: 'Link',\n            linkType: 'ContentType',\n            id: 'homepageFeature'\n          }\n        },\n        locale: 'en-US'\n      },\n      fields: {\n        name: 'Shop Camo',\n        image: {\n          sys: {\n            space: {\n              sys: {\n                type: 'Link',\n                linkType: 'Space',\n                id: 'ajgn17op1zyt'\n              }\n            },\n            id: '6pAC6SgFWfhr4HuiQSBcNc',\n            type: 'Asset',\n            createdAt: '2021-02-08T12:27:38.755Z',\n            updatedAt: '2021-02-08T12:27:38.755Z',\n            environment: {\n              sys: {\n                id: 'master',\n                type: 'Link',\n                linkType: 'Environment'\n              }\n            },\n            revision: 1,\n            locale: 'en-US'\n          },\n          fields: {\n            title: 'Woman wearing camo pants, view from waste down and kneeling',\n            file: {\n              url: '//images.ctfassets.net/ajgn17op1zyt/6pAC6SgFWfhr4HuiQSBcNc/bcfacda6b7f4282dd4b590b7a24826ac/feature-image-2.jpg',\n              details: {\n                size: 122625,\n                image: {\n                  width: 1118,\n                  height: 1228\n                }\n              },\n              fileName: 'feature-image-2.jpg?v=1612461260',\n              contentType: 'image/jpeg'\n            }\n          }\n        },\n        headline: 'camo<br>collection',\n        buttonUrl: '/collections/camo-camo',\n        buttonText: 'shop camo',\n        buttonBackgroundColor: '#FFFFFF',\n        buttonBackgroundColorOpacity: 0.3,\n        buttonTextColor: '#FFFFFF',\n        buttonTextHoverColor: '#53635A',\n        textAlignment: 'Left'\n      }\n    }, {\n      sys: {\n        space: {\n          sys: {\n            type: 'Link',\n            linkType: 'Space',\n            id: 'ajgn17op1zyt'\n          }\n        },\n        id: '6vGrFEGgQvOHiuKAVEPOvW',\n        type: 'Entry',\n        createdAt: '2021-02-08T12:26:20.181Z',\n        updatedAt: '2021-02-08T12:26:20.181Z',\n        environment: {\n          sys: {\n            id: 'master',\n            type: 'Link',\n            linkType: 'Environment'\n          }\n        },\n        revision: 1,\n        contentType: {\n          sys: {\n            type: 'Link',\n            linkType: 'ContentType',\n            id: 'homepageFeature'\n          }\n        },\n        locale: 'en-US'\n      },\n      fields: {\n        name: 'Shop Outfits',\n        image: {\n          sys: {\n            space: {\n              sys: {\n                type: 'Link',\n                linkType: 'Space',\n                id: 'ajgn17op1zyt'\n              }\n            },\n            id: '21CYTsj7g5wLiSns84C7SU',\n            type: 'Asset',\n            createdAt: '2021-02-08T12:25:14.080Z',\n            updatedAt: '2021-02-08T12:25:14.080Z',\n            environment: {\n              sys: {\n                id: 'master',\n                type: 'Link',\n                linkType: 'Environment'\n              }\n            },\n            revision: 1,\n            locale: 'en-US'\n          },\n          fields: {\n            title: 'Woman wearing purple sweatshirt and sitting',\n            file: {\n              url: '//images.ctfassets.net/ajgn17op1zyt/21CYTsj7g5wLiSns84C7SU/838bb9754cd05807eaf51986cd14f00e/feature-image-1.jpg',\n              details: {\n                size: 300388,\n                image: {\n                  width: 1118,\n                  height: 1228\n                }\n              },\n              fileName: 'feature-image-1.jpg?v=1612461259',\n              contentType: 'image/jpeg'\n            }\n          }\n        },\n        headline: 'looks<br>we<br>love',\n        buttonUrl: '/pages/outfits',\n        buttonText: 'shop outfits',\n        buttonBackgroundColor: '#FFFFFF',\n        buttonBackgroundColorOpacity: 0.3,\n        buttonTextColor: '#FFFFFF',\n        buttonTextHoverColor: '#996BB7',\n        textAlignment: 'Left'\n      }\n    }],\n    Asset: [{\n      sys: {\n        space: {\n          sys: {\n            type: 'Link',\n            linkType: 'Space',\n            id: 'ajgn17op1zyt'\n          }\n        },\n        id: '21CYTsj7g5wLiSns84C7SU',\n        type: 'Asset',\n        createdAt: '2021-02-08T12:25:14.080Z',\n        updatedAt: '2021-02-08T12:25:14.080Z',\n        environment: {\n          sys: {\n            id: 'master',\n            type: 'Link',\n            linkType: 'Environment'\n          }\n        },\n        revision: 1,\n        locale: 'en-US'\n      },\n      fields: {\n        title: 'Woman wearing purple sweatshirt and sitting',\n        file: {\n          url: '//images.ctfassets.net/ajgn17op1zyt/21CYTsj7g5wLiSns84C7SU/838bb9754cd05807eaf51986cd14f00e/feature-image-1.jpg',\n          details: {\n            size: 300388,\n            image: {\n              width: 1118,\n              height: 1228\n            }\n          },\n          fileName: 'feature-image-1.jpg?v=1612461259',\n          contentType: 'image/jpeg'\n        }\n      }\n    }, {\n      sys: {\n        space: {\n          sys: {\n            type: 'Link',\n            linkType: 'Space',\n            id: 'ajgn17op1zyt'\n          }\n        },\n        id: '6pAC6SgFWfhr4HuiQSBcNc',\n        type: 'Asset',\n        createdAt: '2021-02-08T12:27:38.755Z',\n        updatedAt: '2021-02-08T12:27:38.755Z',\n        environment: {\n          sys: {\n            id: 'master',\n            type: 'Link',\n            linkType: 'Environment'\n          }\n        },\n        revision: 1,\n        locale: 'en-US'\n      },\n      fields: {\n        title: 'Woman wearing camo pants, view from waste down and kneeling',\n        file: {\n          url: '//images.ctfassets.net/ajgn17op1zyt/6pAC6SgFWfhr4HuiQSBcNc/bcfacda6b7f4282dd4b590b7a24826ac/feature-image-2.jpg',\n          details: {\n            size: 122625,\n            image: {\n              width: 1118,\n              height: 1228\n            }\n          },\n          fileName: 'feature-image-2.jpg?v=1612461260',\n          contentType: 'image/jpeg'\n        }\n      }\n    }]\n  }\n};",".outsmartly/analysis/modules/321.js":"// lib/shopify/shopifyClient.ts\nimport { GraphQLClient } from 'graphql-request';\nconst graphqlClients = {};\nexport function getShopifyClient({\n  shopName,\n  accessToken,\n  apiVersion\n}) {\n  const key = `${shopName}:${accessToken}:${apiVersion}`;\n\n  if (!graphqlClients[key]) {\n    graphqlClients[key] = _getShopifyClient({\n      shopName,\n      accessToken,\n      apiVersion\n    });\n  }\n\n  return graphqlClients[key];\n}\n\nconst sleep = ms => new Promise(resolve => setTimeout(resolve, ms));\n\nconst sleepAfter = async function (ms, first) {\n  await first;\n  await sleep(ms);\n};\n\nfunction _getShopifyClient({\n  shopName,\n  accessToken,\n  apiVersion\n}) {\n  const url = `https://${shopName}.myshopify.com/api/${apiVersion}/graphql.json`; // const url = `https://shopify-proxy.edgeyates.com/api/${apiVersion}/graphql.json`\n\n  let delay = undefined;\n  let backoffDelay = 1000;\n  let start = undefined;\n  let n = 1;\n\n  async function requestWithBackoff(query) {\n    delay = sleepAfter(1, delay);\n    await delay;\n\n    try {\n      var _start;\n\n      start = (_start = start) !== null && _start !== void 0 ? _start : Date.now();\n      const data = await graphqlClient.request(query);\n      n++;\n\n      if (n === 100) {\n        console.log(`\\n${n} requests in: ${Date.now() - start}`);\n        start = undefined;\n        n = 1;\n      }\n\n      backoffDelay = 1000;\n      return data;\n    } catch (e) {\n      if (e && e.message) {\n        const throttledErrorMatch = e.message.match(/^Throttled: .+$/);\n        const timeoutErrorMatch = e.message.match(/^Timeout.*$/);\n        const fetchErrorMatch = e.message.match(/^FetchError.+$/);\n        const invalidJSON = e.message.match(/invalid json/);\n\n        if (invalidJSON) {\n          console.error('INVALID JSON', e.name);\n        }\n\n        if (throttledErrorMatch || timeoutErrorMatch || fetchErrorMatch || invalidJSON) {\n          console.warn(`requestWithBackoff() is being ${throttledErrorMatch ? 'throttled' : timeoutErrorMatch ? 'timed out' : invalidJSON ? 'invalid json' : 'fetch error'}, backing off ${backoffDelay} ms.`);\n          console.error(`Query:\\n${query.substr(0, 100)}...`);\n          delay = sleep(backoffDelay);\n          backoffDelay *= 2;\n          backoffDelay = Math.min(60 * 1000 * 0.5, backoffDelay); // 30 sec max delay\n\n          await delay;\n          return await requestWithBackoff(query);\n        } else {\n          console.error('other error', e.message);\n          console.error(`Query:\\n${query.substr(0, 100)}...`);\n        }\n      } // We don't recognize this error so we propagate.\n\n\n      throw e;\n    }\n  }\n\n  const graphqlClient = new GraphQLClient(url, {\n    headers: {\n      'X-Shopify-Storefront-Access-Token': accessToken\n    }\n  });\n  return {\n    async request(query) {\n      return requestWithBackoff(query);\n    }\n\n  };\n}",".outsmartly/analysis/modules/230.js":"// node_modules/next/dist/client/router.js\n\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nexports.__esModule = true;\nexports.useRouter = useRouter;\nexports.makePublicRouterInstance = makePublicRouterInstance;\nexports.createRouter = exports.withRouter = exports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _router2 = _interopRequireWildcard(require(\"../next-server/lib/router/router\"));\n\nexports.Router = _router2.default;\nexports.NextRouter = _router2.NextRouter;\n\nvar _routerContext = require(\"../next-server/lib/router-context\");\n\nvar _withRouter = _interopRequireDefault(require(\"./with-router\"));\n\nexports.withRouter = _withRouter.default;\n/* global window */\n\nconst singletonRouter = {\n  router: null,\n  // holds the actual router instance\n  readyCallbacks: [],\n\n  ready(cb) {\n    if (this.router) return cb();\n\n    if (false) {\n      this.readyCallbacks.push(cb);\n    }\n  }\n\n}; // Create public properties and methods of the router in the singletonRouter\n\nconst urlPropertyFields = ['pathname', 'route', 'query', 'asPath', 'components', 'isFallback', 'basePath', 'locale', 'locales', 'defaultLocale', 'isReady', 'isPreview', 'isLocaleDomain', 'domainLocales'];\nconst routerEvents = ['routeChangeStart', 'beforeHistoryChange', 'routeChangeComplete', 'routeChangeError', 'hashChangeStart', 'hashChangeComplete'];\nconst coreMethodFields = ['push', 'replace', 'reload', 'back', 'prefetch', 'beforePopState']; // Events is a static property on the router, the router doesn't have to be initialized to use it\n\nObject.defineProperty(singletonRouter, 'events', {\n  get() {\n    return _router2.default.events;\n  }\n\n});\nurlPropertyFields.forEach(field => {\n  // Here we need to use Object.defineProperty because we need to return\n  // the property assigned to the actual router\n  // The value might get changed as we change routes and this is the\n  // proper way to access it\n  Object.defineProperty(singletonRouter, field, {\n    get() {\n      const router = getRouter();\n      return router[field];\n    }\n\n  });\n});\ncoreMethodFields.forEach(field => {\n  // We don't really know the types here, so we add them later instead\n  ;\n\n  singletonRouter[field] = (...args) => {\n    const router = getRouter();\n    return router[field](...args);\n  };\n});\nrouterEvents.forEach(event => {\n  singletonRouter.ready(() => {\n    _router2.default.events.on(event, (...args) => {\n      const eventField = `on${event.charAt(0).toUpperCase()}${event.substring(1)}`;\n      const _singletonRouter = singletonRouter;\n\n      if (_singletonRouter[eventField]) {\n        try {\n          _singletonRouter[eventField](...args);\n        } catch (err) {\n          console.error(`Error when running the Router event: ${eventField}`);\n          console.error(`${err.message}\\n${err.stack}`);\n        }\n      }\n    });\n  });\n});\n\nfunction getRouter() {\n  if (!singletonRouter.router) {\n    const message = 'No router instance found.\\n' + 'You should only use \"next/router\" on the client side of your app.\\n';\n    throw new Error(message);\n  }\n\n  return singletonRouter.router;\n} // Export the singletonRouter and this is the public API.\n\n\nvar _default = singletonRouter; // Reexport the withRoute HOC\n\nexports.default = _default;\n\nfunction useRouter() {\n  return _react.default.useContext(_routerContext.RouterContext);\n} // INTERNAL APIS\n// -------------\n// (do not use following exports inside the app)\n// Create a router and assign it as the singleton instance.\n// This is used in client side when we are initilizing the app.\n// This should **not** be used inside the server.\n\n\nconst createRouter = (...args) => {\n  singletonRouter.router = new _router2.default(...args);\n  singletonRouter.readyCallbacks.forEach(cb => cb());\n  singletonRouter.readyCallbacks = [];\n  return singletonRouter.router;\n}; // This function is used to create the `withRouter` router instance\n\n\nexports.createRouter = createRouter;\n\nfunction makePublicRouterInstance(router) {\n  const _router = router;\n  const instance = {};\n\n  for (const property of urlPropertyFields) {\n    if (typeof _router[property] === 'object') {\n      instance[property] = Object.assign(Array.isArray(_router[property]) ? [] : {}, _router[property]); // makes sure query is not stateful\n\n      continue;\n    }\n\n    instance[property] = _router[property];\n  } // Events is a static property on the router, the router doesn't have to be initialized to use it\n\n\n  instance.events = _router2.default.events;\n  coreMethodFields.forEach(field => {\n    instance[field] = (...args) => {\n      return _router[field](...args);\n    };\n  });\n  return instance;\n}",".outsmartly/analysis/modules/137.js":"// components/Tabs/Tab.js\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { item, itemActive, link } from './Tab.module.css';\nimport { kebabize } from 'lib/utils';\nexport default function Tab(_ref) {\n  var label = _ref.label,\n      index = _ref.index,\n      _onClick = _ref.onClick,\n      isActive = _ref.isActive,\n      _ref$itemClass = _ref.itemClass,\n      itemClass = _ref$itemClass === void 0 ? item : _ref$itemClass,\n      _ref$itemActiveClass = _ref.itemActiveClass,\n      itemActiveClass = _ref$itemActiveClass === void 0 ? itemActive : _ref$itemActiveClass,\n      _ref$linkClass = _ref.linkClass,\n      linkClass = _ref$linkClass === void 0 ? link : _ref$linkClass;\n  return /*#__PURE__*/_jsx(\"li\", {\n    className: \"\".concat(isActive ? itemActiveClass : itemClass),\n    children: /*#__PURE__*/_jsx(\"a\", {\n      href: \"#\".concat(kebabize(label)),\n      className: linkClass,\n      onClick: function onClick(e) {\n        e.preventDefault();\n\n        _onClick(index);\n      },\n      children: label\n    })\n  });\n}",".outsmartly/analysis/modules/166.js":"// pages/_app.js\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport '../lib/polyfills';\nimport 'intersection-observer';\nimport 'styles/globals.css';\nimport 'slick-carousel/slick/slick.css';\nimport 'slick-carousel/slick/slick-theme.css';\nimport topBarStyles from 'components/TopBar.module.css';\nimport TopBar from 'components/TopBar';\nimport Header from 'components/Header';\nimport Email from 'components/Email';\nimport Footer from 'components/Footer';\nimport { skipLink, container, pageContainer } from 'styles/App.module.css';\nimport { HelloWorld } from 'components/fix';\nimport { usePatchedRouter } from '@outsmartly/core/next';\nimport { AccountProvider, CartProvider } from '@outsmartly/jackrabbit';\nimport { SelectedOptionsProvider } from 'context/SelectedOptionsContext';\nimport { Analytics } from 'components/Analytics';\nimport { Rewards } from 'components/Rewards';\nimport { Help } from 'components/Help';\nimport { AppConfigOverrides } from '../components/overrides/AppConfigOverrides';\nimport { useOutsmartlyErrorReporting } from '@outsmartly/shopify-analytics';\nimport jackRabbitComponents from 'jackrabbit.components';\nimport { useRoutein } from 'third-party-scripts/routeapp';\nconst {\n  Icons\n} = jackRabbitComponents;\nconst promos = [{\n  id: 1,\n  text: ' ' // text: 'Free standard US shipping<br>on orders $50 or more',\n\n} // {\n//   id: 2,\n//   text: 'Free returns and exchanges for U.S. orders',\n// },\n];\n\nfunction MyApp({\n  Component,\n  pageProps\n}) {\n  usePatchedRouter();\n  useOutsmartlyErrorReporting();\n  return /*#__PURE__*/_jsxs(\"div\", {\n    className: `${container} wrapper`,\n    children: [/*#__PURE__*/_jsx(Icons, {}), /*#__PURE__*/_jsxs(AccountProvider, {\n      children: [/*#__PURE__*/_jsx(Analytics, {}), /*#__PURE__*/_jsxs(\"div\", {\n        className: `${pageContainer} is-moved-by-drawer closes-drawer`,\n        children: [/*#__PURE__*/_jsx(\"a\", {\n          href: \"#mainContent\",\n          className: skipLink,\n          children: \"Skip to Content\"\n        }), /*#__PURE__*/_jsx(TopBar, {\n          promos: promos,\n          styles: topBarStyles,\n          color: \"white\",\n          backgroundColor: \"#F00\"\n        }), /*#__PURE__*/_jsx(CartProvider, {\n          children: /*#__PURE__*/_jsx(Content, {\n            Component: Component,\n            pageProps: pageProps\n          })\n        })]\n      }), /*#__PURE__*/_jsx(Rewards, {}), /*#__PURE__*/_jsx(Help, {})]\n    }), /*#__PURE__*/_jsx(Email, {}), /*#__PURE__*/_jsx(Footer, {}), /*#__PURE__*/_jsx(AppConfigOverrides, {})]\n  });\n}\n\nfunction Content({\n  Component,\n  pageProps\n}) {\n  useRoutein();\n  return /*#__PURE__*/_jsxs(_Fragment, {\n    children: [/*#__PURE__*/_jsx(Header, {}), /*#__PURE__*/_jsx(SelectedOptionsProvider, {\n      children: /*#__PURE__*/_jsx(Component, _objectSpread({}, pageProps))\n    })]\n  });\n}\n\nexport default MyApp;",".outsmartly/analysis/modules/344.js":"// context/availableOptionsState.ts\nimport { toTitleCase } from 'lib/utils';\nimport { useContext } from 'react';\nimport SelectedOptionsContext from './SelectedOptionsContext';\nexport function availableOptionsState({\n  product,\n  optionName,\n  selectedOptions,\n  selectSingleOption\n}) {\n  var _product$variants, _product$options$find, _product$options, _product$options$find2;\n\n  const {\n    updateOptionDefaults\n  } = useContext(SelectedOptionsContext);\n  const availableVariants = product === null || product === void 0 ? void 0 : (_product$variants = product.variants) === null || _product$variants === void 0 ? void 0 : _product$variants.filter(variant => variant.availableForSale); // If there are no product options, then construct them from the images/tags.\n\n  const optionValues = (_product$options$find = (_product$options = product.options) === null || _product$options === void 0 ? void 0 : (_product$options$find2 = _product$options.find(({\n    name\n  }) => name === optionName)) === null || _product$options$find2 === void 0 ? void 0 : _product$options$find2.values) !== null && _product$options$find !== void 0 ? _product$options$find : getFallbackOptionValues(product, optionName);\n  const options = optionValues.map(optionValue => {\n    const availableForSale = !availableVariants || availableVariants.some(variant => variant.optionMap[optionName] === optionValue);\n    const selected = selectedOptions === null || selectedOptions === void 0 ? void 0 : selectedOptions.some(({\n      name,\n      value\n    }) => optionName === name && value === optionValue);\n\n    const selectOption = () => {\n      const option = {\n        name: optionName,\n        value: optionValue\n      };\n      selectSingleOption(option);\n      updateOptionDefaults(option);\n    };\n\n    return {\n      option: optionValue,\n      availableForSale,\n      selected,\n      selectOption\n    };\n  });\n  return options !== null && options !== void 0 ? options : [];\n}\n\nfunction getFallbackOptionValues(product, optionName) {\n  // The available options are in the tags and could be used\n  // in place of variant availableForSale data, even on the\n  // collection page, though we are currently stripping out the\n  // tags from the products.\n  if (optionName === 'Color') {\n    var _ref, _Object$keys, _product$tags;\n\n    return (_ref = (_Object$keys = Object.keys(product.imageMap)) !== null && _Object$keys !== void 0 ? _Object$keys : (_product$tags = product.tags) === null || _product$tags === void 0 ? void 0 : _product$tags.filter(t => t.startsWith('color-')).map(t => t.replace('color-', '')).map(toTitleCase)) !== null && _ref !== void 0 ? _ref : [];\n  }\n\n  if (optionName === 'Size') {\n    var _product$tags$filter$, _product$tags2;\n\n    return (_product$tags$filter$ = (_product$tags2 = product.tags) === null || _product$tags2 === void 0 ? void 0 : _product$tags2.filter(t => t.startsWith('size-')).map(t => t.replace('size-', '').toUpperCase())) !== null && _product$tags$filter$ !== void 0 ? _product$tags$filter$ : [];\n  }\n}",".outsmartly/analysis/modules/204.js":"// lib/utils.js\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n// Split a string into chunks by line breaks. Then insert <br>s, but not after\n// the last chunk. Return an expression that can be rendered.\nexport function insertLineBreaks(string) {\n  if (!string) return;\n  return string.split('\\n').map((item, i, arr) => /*#__PURE__*/_jsxs(\"span\", {\n    children: [item, i < arr.length - 1 ? /*#__PURE__*/_jsx(\"br\", {}) : '']\n  }, i));\n}\nexport function cap(string) {\n  if (typeof string !== 'string') return '';\n  return string.charAt(0).toUpperCase() + string.slice(1);\n}\n/**\n * Takes nested navigation list and flattens it\n * @param {Object[]} array - the nested array to flatter\n * @param {String} children=\"children\" - key holding a child list\n */\n\nexport function flattenObjectArray(array, children = 'children') {\n  let result = [];\n  array.forEach(item => {\n    // Get every property in this object except the children\n    const rest = _objectSpread({}, item);\n\n    delete rest[children];\n    result.push(rest); // Call recursively for any child array\n\n    if (item[children] && Array.isArray(item[children])) {\n      result = result.concat(flattenObjectArray(item[children], children));\n    }\n  });\n  return result;\n}\n/**\n * Convert kebab-case string, or string with space-separated words, to a\n * camelCase string. Does not affect characters other than the starting\n * character of each word. Examples:\n *   camelize('my-kebab-string') ===> 'myKebabString'\n *   camelize('My spACEd string') ===> 'mySpACEdString'.\n * @param {String} str - the string in kebab case or space-separated\n * @returns {String} the string in camelCase\n */\n\nexport function camelize(str) {\n  // Lowercase the starting character of the first word, but uppercase the\n  // starting character of the remaining words. Then remove any white space or\n  // hyphens.\n  return str.replace(/(?:^\\w|[A-Z]|\\b\\w)/g, function (startChar, index) {\n    return index === 0 ? startChar.toLowerCase() : startChar.toUpperCase();\n  }).replace(/\\s+|-/g, '');\n}\n/**\n * Convert kebab case string to Title Case for use as a display name.\n * toTitleCase(\"my-kebab-string\") ===> 'My Kebab String';\n * @param {String} str - the string in kebab case\n * @returns {String} str - the string in Title Case\n */\n\nexport function toTitleCase(str) {\n  return str.split('-').map(word => word[0].toUpperCase() + word.substring(1)).join(' ');\n}\n/** Converts a string into a kebab-case handle suitable for a URL. Replaces\n * dots and spaces with a hyphen, then converts text characters to lower case.\n * @param {String} str - the string to convert to kebab case\n */\n\nexport function kebabize(str) {\n  return str.replace(/\\.|\\s/g, '-').toLowerCase();\n}\nexport function getTagHref(query, prefix, tag) {\n  const newTag = `${prefix}-${tag}`;\n  const {\n    collection\n  } = query; // tagQuery is the slug for the tag which is `tagA+tagB`\n\n  const tagQuery = !query.tagQuery ? // if there's no tagQuery, set it to be the newTag\n  newTag : query.tagQuery.indexOf(`${prefix}-`) > -1 ? // if the prefix is already in the query, then replace the old one\n  query.tagQuery.replace(new RegExp(`${prefix}-[^+]+`), newTag) : // otherwise add it to the end\n  `${query.tagQuery}+${newTag}`;\n  return {\n    pathname: '/collections/[collection]/[tagQuery]',\n    query: {\n      collection,\n      tagQuery\n    }\n  };\n}\n/** Returns a URL object with the current filter removed\n * @param {Object} query - query object from NextJS router\n * @param {String} prefix - name of an option, e.g., 'color', 'size'\n * @returns {Object} URL object that can be passed to href of Link\n */\n\nexport function getClearTagHref(query, prefix) {\n  /* Possible shapes for query:\n  query = {\n    \"collection\": \"womens-tanks\",\n  }\n  query = {\n    \"collection\": \"womens-tanks\",\n    \"tagQuery\": \"color-blue-green\"\n  }\n  query = {\n    \"collection\": \"womens-tanks\",\n    \"tagQuery\": \"color-blue-green+size-xl\"\n  }\n  */\n  // If tagQuery exists\n  if (query.tagQuery) {\n    // If there is only one tag, just return a path to the collection\n    if (!query.tagQuery.includes('+')) {\n      return {\n        pathname: '/collections/[collection]',\n        query: {\n          collection: query.collection\n        }\n      };\n    } else {\n      // There are more than one query tags. Split them into an array\n      const arr = query.tagQuery.split('+'); // ['size-m', 'color-light-blue', 'option-3']\n      // Filter out our prefix, join whatever is left as the updated tagQuery\n\n      const tagQuery = arr.filter(x => !x.includes(prefix)).join('+');\n      return {\n        pathname: '/collections/[collection]/[tagQuery]',\n        query: _objectSpread(_objectSpread({}, query), {}, {\n          tagQuery\n        })\n      };\n    }\n  } else {\n    return {};\n  }\n}\n/** Calculates the width of the browser scroll bar */\n\nexport function getScrollbarWidth() {\n  // Width of <html> excluding scroll bar\n  const documentWidth = document.documentElement.clientWidth; // Width of window including scroll bar\n\n  const windowWidth = window.innerWidth; // Return the difference\n\n  return windowWidth - documentWidth;\n}\n/** Hides the scrollbar. Call this right before opening a model. */\n\nexport function hideScrollbar() {\n  // Get the scrollbar width for the current browser\n  const scrollbarWidth = getScrollbarWidth(); // Hide the scroll bar\n\n  document.documentElement.style.overflow = 'hidden'; // Add margin to compensate (to prevent shift).\n\n  document.documentElement.style.marginRight = `${scrollbarWidth}px`;\n}\n/** Returns true if color is considered a light color */\n\nexport function colorIsLight(color) {\n  // Single source of truth for which colors are considered light.\n  const lights = ['White', 'White Solid', 'Bright White', 'White Bright', 'Ivory'];\n  return lights.includes(color);\n}\nexport async function fetchJson(url, options = undefined) {\n  return fetch(url, options).then(res => res.json());\n}\n/** Fetch some data from the given URL\n * @param {String} url - the resource to fetch\n * @param {Object} options - optional settings\n * @return {Object} a Promise that resolves to JSON\n */\n\nexport async function getJSON(url, options = undefined) {\n  const response = await fetch(url, options);\n\n  if (response.ok) {\n    return await response.json();\n  } else {\n    console.error(`getJSON(): response from ${url} was not OK. Status ${response.status}: ${response.statusText}`); // Can catch this error in the caller\n\n    throw new Error(`Status ${response.status}: ${response.statusText}`);\n  }\n}\n/**\n * Get the value of a cookie.\n * @param {string} name - the name of the cookie\n * @return {string | Boolean} the cookie's value if it exists, else false.\n */\n\nexport function getCookie(name) {\n  const array = document.cookie.split(';');\n  const row = array.find(row => row.trim().startsWith(`${name}=`));\n\n  if (row) {\n    return row.split('=')[1];\n  } else {\n    return false;\n  }\n}\n/**\n * Sets the value of a cookie.\n * @param {string} name - the name of the cookie\n * @param {string} value - the value of the cookie\n */\n\nexport function setCookie(name, value) {\n  document.cookie = `${name}=${value}; path=/`;\n}\n/**\n * Throttles a function. Initial call not executed until delay has elapsed.\n * Subsequent calls are ignored until delay has elapsed again.\n * @param {Object} fn - the function to throttle\n * @param {number} wait - the delay in milliseconds\n * @returns\n */\n\nexport function throttle(fn, wait) {\n  let id;\n  return function throttledFunc(...args) {\n    if (id) {\n      // This is what throttles. If there is a timer id, just do nothing, so\n      // that this execution is dropped.\n      return;\n    } //  Otherwise, keep going. After a delay, execute the desired function only\n    //  once. Establish a timer id so that subsequent calls will be ignored.\n    //  This will execute the *first* of a bunch.\n\n\n    id = setTimeout(() => {\n      fn(...args);\n      id = null;\n    }, wait);\n  };\n}\n/**\n * Get the user's screen resolution (not the available dimensions, just the\n * monitor size)\n * @returns string with screen width x height\n */\n\nexport function getResolution() {\n  if (true) return 'resolution-unknown';\n  return `${window.screen.width} x ${window.screen.height}`;\n}\n/**\n * Get the browser's user agent string. For example: 'Mozilla/5.0 (Windows NT\n * 6.1; WOW64; rv:37.0) Gecko/20100101 Firefox/37.0'\n * @returns string with screen width x height\n */\n\nexport function getUA() {\n  if (true) return 'userAgent-unknown';\n  return window.navigator.userAgent;\n}\n/**\n * Gets the path and the path with query for a given router. Replaces dynamic\n * route placeholders with corresponding values from `router.query`. Helps us\n * determine which page we're on.\n * @param {Object} router - router from NextJS useRouter()\n * @returns {string[]} - tuple with `path` and `pathWithQuery`\n */\n\nexport function getPathnames(router) {\n  // Determine the path (without params)\n  let path = router.pathname; // Replace dynamic route placeholders with matching param value\n\n  Object.entries(router.query).forEach(([key, value]) => {\n    path = path.replace(`[${key}]`, value);\n  }); // Filter out params that are known dynamic slug placeholders. This leaves\n  // only the actual params.\n\n  const params = new URLSearchParams(router.query);\n  const placeholders = ['collection', 'product'];\n  placeholders.forEach(placeholder => {\n    params.delete(placeholder);\n  });\n  let paramsStr = params.toString();\n  const pathWithQuery = paramsStr ? `${path}?${paramsStr}` : path;\n  return [path, pathWithQuery];\n}",".outsmartly/analysis/modules/195.js":"// components/Email.js\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React from 'react';\nimport { wrapper, grid, griditem, title, form, inputGroup, fieldGroup, input, messages, success, error, formActions, button, buttonIcon } from './Email.module.css';\nimport Icon from './icons/Icon';\nexport default function Email() {\n  return /*#__PURE__*/_jsx(\"section\", {\n    className: `${wrapper} closes-drawer`,\n    \"aria-label\": \"Email\",\n    children: /*#__PURE__*/_jsx(\"div\", {\n      className: \"page-width\",\n      children: /*#__PURE__*/_jsxs(\"div\", {\n        className: grid,\n        children: [/*#__PURE__*/_jsx(\"div\", {\n          className: griditem,\n          children: /*#__PURE__*/_jsx(\"p\", {\n            className: title,\n            children: \"Enjoy 15% off your first order\"\n          })\n        }), /*#__PURE__*/_jsx(\"div\", {\n          className: griditem,\n          children: /*#__PURE__*/_jsx(\"form\", {\n            id: \"footer_email_signup\",\n            className: form,\n            action: \"//manage.kmail-lists.com/subscriptions/subscribe\",\n            method: \"GET\",\n            target: \"_blank\",\n            noValidate: \"novalidate\",\n            children: /*#__PURE__*/_jsxs(\"div\", {\n              className: `input-group newsletter-form ${inputGroup}`,\n              children: [/*#__PURE__*/_jsxs(\"div\", {\n                className: `klaviyo_field_group ${fieldGroup}`,\n                children: [/*#__PURE__*/_jsx(\"input\", {\n                  type: \"hidden\",\n                  name: \"g\",\n                  value: \"Mm6xMG\"\n                }), /*#__PURE__*/_jsx(\"input\", {\n                  type: \"email\",\n                  name: \"email\",\n                  id: \"k_id_email\",\n                  className: input,\n                  \"aria-label\": \"Email\",\n                  placeholder: \"Join Our List\"\n                })]\n              }), /*#__PURE__*/_jsxs(\"div\", {\n                className: `klaviyo_messages ${messages}`,\n                children: [/*#__PURE__*/_jsx(\"div\", {\n                  style: {\n                    display: 'none'\n                  },\n                  className: `success_message ${success}`,\n                  children: \"Successfully added email address\"\n                }), /*#__PURE__*/_jsx(\"div\", {\n                  style: {\n                    display: 'none'\n                  },\n                  className: `error_message ${error}`,\n                  children: \"Invalid email address\"\n                })]\n              }), /*#__PURE__*/_jsx(\"div\", {\n                className: `klaviyo_form_actions ${formActions}`,\n                children: /*#__PURE__*/_jsxs(\"button\", {\n                  type: \"submit\",\n                  className: button,\n                  children: [/*#__PURE__*/_jsx(Icon, {\n                    icon: \"angle-right1\",\n                    className: buttonIcon\n                  }), /*#__PURE__*/_jsx(\"span\", {\n                    className: \"visually-hidden\",\n                    children: \"Subscribe\"\n                  })]\n                })\n              })]\n            })\n          })\n        })]\n      })\n    })\n  });\n}",".outsmartly/analysis/modules/315.js":"// lib/useWindowSize.js\nimport { useState, useEffect } from 'react';\nimport { throttle } from 'lib/utils';\n/**\n * Custom hook to get the current size of the browser window. Returns an object\n * containing the window's width and height. If executed server-side (no window\n * object) the value of the width and height will be undefined.\n */\n\nexport function useWindowSize() {\n  // Initialize state with undefined width/height\n  const {\n    0: windowSize,\n    1: setWindowSize\n  } = useState({\n    width: undefined,\n    height: undefined\n  });\n  useEffect(() => {\n    // Call this on window resize\n    function handleResize() {\n      // Set state\n      setWindowSize({\n        width: window.innerWidth,\n        height: window.innerHeight\n      });\n    } // Create a throttled version of this function so it is called at most every\n    // 'wait' milliseconds (so it doesn't run too frequently)\n\n\n    const throttledHandleResize = throttle(handleResize, 400); // Add event listener\n\n    window.addEventListener('resize', throttledHandleResize); // Call it right away\n\n    throttledHandleResize(); // Remove event listener to clean up\n\n    return () => window.removeEventListener('resize', throttledHandleResize);\n  }, []);\n  return windowSize;\n}",".outsmartly/analysis/modules/255.js":"// node_modules/next/dist/client/route-loader.js\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nexports.__esModule = true;\nexports.markAssetError = markAssetError;\nexports.isAssetError = isAssetError;\nexports.getClientBuildManifest = getClientBuildManifest;\nexports.default = void 0;\n\nvar _getAssetPathFromRoute = _interopRequireDefault(require(\"../next-server/lib/router/utils/get-asset-path-from-route\"));\n\nvar _requestIdleCallback = require(\"./request-idle-callback\"); // 3.8s was arbitrarily chosen as it's what https://web.dev/interactive\n// considers as \"Good\" time-to-interactive. We must assume something went\n// wrong beyond this point, and then fall-back to a full page transition to\n// show the user something of value.\n\n\nconst MS_MAX_IDLE_DELAY = 3800;\n\nfunction withFuture(key, map, generator) {\n  let entry = map.get(key);\n\n  if (entry) {\n    if ('future' in entry) {\n      return entry.future;\n    }\n\n    return Promise.resolve(entry);\n  }\n\n  let resolver;\n  const prom = new Promise(resolve => {\n    resolver = resolve;\n  });\n  map.set(key, entry = {\n    resolve: resolver,\n    future: prom\n  });\n  return generator ? // eslint-disable-next-line no-sequences\n  generator().then(value => (resolver(value), value)).catch(e => {\n    map.delete(key);\n    throw e;\n  }) : prom;\n}\n\nfunction hasPrefetch(link) {\n  try {\n    link = document.createElement('link');\n    return (// detect IE11 since it supports prefetch but isn't detected\n      // with relList.support\n      !!window.MSInputMethodContext && !!document.documentMode || link.relList.supports('prefetch')\n    );\n  } catch (_unused) {\n    return false;\n  }\n}\n\nconst canPrefetch = hasPrefetch();\n\nfunction prefetchViaDom(href, as, link) {\n  return new Promise((res, rej) => {\n    if (document.querySelector(`link[rel=\"prefetch\"][href^=\"${href}\"]`)) {\n      return res();\n    }\n\n    link = document.createElement('link'); // The order of property assignment here is intentional:\n\n    if (as) link.as = as;\n    link.rel = `prefetch`;\n    link.crossOrigin = process.env.__NEXT_CROSS_ORIGIN;\n    link.onload = res;\n    link.onerror = rej; // `href` should always be last:\n\n    link.href = href;\n    document.head.appendChild(link);\n  });\n}\n\nconst ASSET_LOAD_ERROR = Symbol('ASSET_LOAD_ERROR'); // TODO: unexport\n\nfunction markAssetError(err) {\n  return Object.defineProperty(err, ASSET_LOAD_ERROR, {});\n}\n\nfunction isAssetError(err) {\n  return err && ASSET_LOAD_ERROR in err;\n}\n\nfunction appendScript(src, script) {\n  return new Promise((resolve, reject) => {\n    script = document.createElement('script'); // The order of property assignment here is intentional.\n    // 1. Setup success/failure hooks in case the browser synchronously\n    //    executes when `src` is set.\n\n    script.onload = resolve;\n\n    script.onerror = () => reject(markAssetError(new Error(`Failed to load script: ${src}`))); // 2. Configure the cross-origin attribute before setting `src` in case the\n    //    browser begins to fetch.\n\n\n    script.crossOrigin = process.env.__NEXT_CROSS_ORIGIN; // 3. Finally, set the source and inject into the DOM in case the child\n    //    must be appended for fetching to start.\n\n    script.src = src;\n    document.body.appendChild(script);\n  });\n} // Resolve a promise that times out after given amount of milliseconds.\n\n\nfunction resolvePromiseWithTimeout(p, ms, err) {\n  return new Promise((resolve, reject) => {\n    let cancelled = false;\n    p.then(r => {\n      // Resolved, cancel the timeout\n      cancelled = true;\n      resolve(r);\n    }).catch(reject);\n    (0, _requestIdleCallback.requestIdleCallback)(() => setTimeout(() => {\n      if (!cancelled) {\n        reject(err);\n      }\n    }, ms));\n  });\n} // TODO: stop exporting or cache the failure\n// It'd be best to stop exporting this. It's an implementation detail. We're\n// only exporting it for backwards compatibilty with the `page-loader`.\n// Only cache this response as a last resort if we cannot eliminate all other\n// code branches that use the Build Manifest Callback and push them through\n// the Route Loader interface.\n\n\nfunction getClientBuildManifest() {\n  if (self.__BUILD_MANIFEST) {\n    return Promise.resolve(self.__BUILD_MANIFEST);\n  }\n\n  const onBuildManifest = new Promise(resolve => {\n    // Mandatory because this is not concurrent safe:\n    const cb = self.__BUILD_MANIFEST_CB;\n\n    self.__BUILD_MANIFEST_CB = () => {\n      resolve(self.__BUILD_MANIFEST);\n      cb && cb();\n    };\n  });\n  return resolvePromiseWithTimeout(onBuildManifest, MS_MAX_IDLE_DELAY, markAssetError(new Error('Failed to load client build manifest')));\n}\n\nfunction getFilesForRoute(assetPrefix, route) {\n  if (false) {\n    return Promise.resolve({\n      scripts: [assetPrefix + '/_next/static/chunks/pages' + encodeURI((0, _getAssetPathFromRoute.default)(route, '.js'))],\n      // Styles are handled by `style-loader` in development:\n      css: []\n    });\n  }\n\n  return getClientBuildManifest().then(manifest => {\n    if (!(route in manifest)) {\n      throw markAssetError(new Error(`Failed to lookup route: ${route}`));\n    }\n\n    const allFiles = manifest[route].map(entry => assetPrefix + '/_next/' + encodeURI(entry));\n    return {\n      scripts: allFiles.filter(v => v.endsWith('.js')),\n      css: allFiles.filter(v => v.endsWith('.css'))\n    };\n  });\n}\n\nfunction createRouteLoader(assetPrefix) {\n  const entrypoints = new Map();\n  const loadedScripts = new Map();\n  const styleSheets = new Map();\n  const routes = new Map();\n\n  function maybeExecuteScript(src) {\n    let prom = loadedScripts.get(src);\n\n    if (prom) {\n      return prom;\n    } // Skip executing script if it's already in the DOM:\n\n\n    if (document.querySelector(`script[src^=\"${src}\"]`)) {\n      return Promise.resolve();\n    }\n\n    loadedScripts.set(src, prom = appendScript(src));\n    return prom;\n  }\n\n  function fetchStyleSheet(href) {\n    let prom = styleSheets.get(href);\n\n    if (prom) {\n      return prom;\n    }\n\n    styleSheets.set(href, prom = fetch(href).then(res => {\n      if (!res.ok) {\n        throw new Error(`Failed to load stylesheet: ${href}`);\n      }\n\n      return res.text().then(text => ({\n        href: href,\n        content: text\n      }));\n    }).catch(err => {\n      throw markAssetError(err);\n    }));\n    return prom;\n  }\n\n  return {\n    whenEntrypoint(route) {\n      return withFuture(route, entrypoints);\n    },\n\n    onEntrypoint(route, execute) {\n      Promise.resolve(execute).then(fn => fn()).then(exports => ({\n        component: exports && exports.default || exports,\n        exports: exports\n      }), err => ({\n        error: err\n      })).then(input => {\n        const old = entrypoints.get(route);\n        entrypoints.set(route, input);\n        if (old && 'resolve' in old) old.resolve(input);\n      });\n    },\n\n    loadRoute(route, prefetch) {\n      return withFuture(route, routes, () => {\n        return resolvePromiseWithTimeout(getFilesForRoute(assetPrefix, route).then(({\n          scripts,\n          css\n        }) => {\n          return Promise.all([entrypoints.has(route) ? [] : Promise.all(scripts.map(maybeExecuteScript)), Promise.all(css.map(fetchStyleSheet))]);\n        }).then(res => {\n          return this.whenEntrypoint(route).then(entrypoint => ({\n            entrypoint,\n            styles: res[1]\n          }));\n        }), MS_MAX_IDLE_DELAY, markAssetError(new Error(`Route did not complete loading: ${route}`))).then(({\n          entrypoint,\n          styles\n        }) => {\n          const res = Object.assign({\n            styles: styles\n          }, entrypoint);\n          return 'error' in entrypoint ? entrypoint : res;\n        }).catch(err => {\n          if (prefetch) {\n            // we don't want to cache errors during prefetch\n            throw err;\n          }\n\n          return {\n            error: err\n          };\n        });\n      });\n    },\n\n    prefetch(route) {\n      // https://github.com/GoogleChromeLabs/quicklink/blob/453a661fa1fa940e2d2e044452398e38c67a98fb/src/index.mjs#L115-L118\n      // License: Apache 2.0\n      let cn;\n\n      if (cn = navigator.connection) {\n        // Don't prefetch if using 2G or if Save-Data is enabled.\n        if (cn.saveData || /2g/.test(cn.effectiveType)) return Promise.resolve();\n      }\n\n      return getFilesForRoute(assetPrefix, route).then(output => Promise.all(canPrefetch ? output.scripts.map(script => prefetchViaDom(script, 'script')) : [])).then(() => {\n        (0, _requestIdleCallback.requestIdleCallback)(() => this.loadRoute(route, true).catch(() => {}));\n      }).catch( // swallow prefetch errors\n      () => {});\n    }\n\n  };\n}\n\nvar _default = createRouteLoader;\nexports.default = _default;",".outsmartly/analysis/modules/244.js":"// components/LemonSpot/LemonSpotBox.js\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { useState, useRef, useEffect } from 'react';\nimport { useRouter } from 'next/router';\nimport { Slider } from 'components/Slider/Slider';\nimport { Lemon } from './Lemon';\nimport { box, boxTitle, lemonScroller } from './LemonSpotBox.module.css';\nimport { useWindowSize } from 'lib/useWindowSize';\nimport { useMessageBus } from '@outsmartly/core';\nimport { getPathnames } from 'lib/utils';\n/**\n * LemonSpotBox displays one set of products in a Slider\n * @param {string[]} data - array of product objects\n * @param {string} boxKey - key identifying the current box type\n * @param {boolean} cart - set to true for the Cart page, else leave undefined\n */\n\nexport function LemonSpotBox({\n  data,\n  boxKey,\n  cart,\n  forceLargeCards = false\n}) {\n  var _process$env$messageB;\n\n  const {\n    0: xDown,\n    1: setXDown\n  } = useState(null);\n  const {\n    0: yDown,\n    1: setYDown\n  } = useState(null);\n  const {\n    0: isPaged,\n    1: setIsPaged\n  } = useState(false);\n  const size = useWindowSize(); // Need this be able to call one of Slider's methods\n\n  const sliderRef = useRef(); // When screen is greater than 768px (iPad) the slides are paged, so swiping\n  // left/right will navigate to previous/next page. At 768 and below the user\n  // can use normal horizontal scrolling.\n\n  useEffect(() => {\n    setIsPaged(size.width > 768);\n  }, [size]); // Get the page path information\n\n  const router = useRouter();\n  const [path, pathWithQuery] = getPathnames(router); // Get a reference to the client message bus\n\n  const bus = useMessageBus({\n    debug: (_process$env$messageB = process.env.messageBusDebug) !== null && _process$env$messageB !== void 0 ? _process$env$messageB : false\n  });\n  /**\n   * When a recommendation event occurs use the message bus to emit a message\n   */\n\n  function handleRecEvent(i, boxKey, product, eventType) {\n    const obj = {\n      boxIndex: i,\n      boxKey: boxKey,\n      handle: product.handle,\n      id: product.id,\n      path: path,\n      timestamp: new Date().toISOString(),\n      url: pathWithQuery\n    };\n    bus.emit(eventType, obj);\n  }\n  /**\n   * Called when touch gesture begins\n   */\n\n\n  function startTouch(e) {\n    if (!isPaged) return;\n    const firstTouch = e.touches[0];\n    setXDown(firstTouch.clientX);\n    setYDown(firstTouch.clientY);\n  }\n  /**\n   * Called when touch gesture ends\n   */\n\n\n  function endTouch(e) {\n    if (!isPaged) return;\n    const xUp = e.changedTouches[0].clientX;\n    const yUp = e.changedTouches[0].clientY;\n    const xDiff = xDown - xUp;\n    const yDiff = yDown - yUp;\n    const THRESHOLD = 20; // If horizontal was greater than vertical, then it was left or right\n\n    if (Math.abs(xDiff) > Math.abs(yDiff)) {\n      // If the swipe was far enough then call navigatePage()\n      if (Math.abs(xDiff) > THRESHOLD) {\n        sliderRef.current.navigatePage(xDiff > 0 ? 'next' : 'previous');\n      }\n    }\n\n    setXDown(null);\n    setYDown(null);\n  } // Map of box keys to titles (headings)\n\n\n  const boxTitles = {\n    related: 'Related Items',\n    crossSell: 'Frequently Purchased Together',\n    recent: 'Recently Viewed Items',\n    trending: 'Trending Items',\n    youMayLike: 'You May Like'\n  };\n  const cardSize = isPaged || forceLargeCards ? 290 : 150;\n  return /*#__PURE__*/_jsx(_Fragment, {\n    children: data.length > 0 && /*#__PURE__*/_jsxs(\"div\", {\n      className: box,\n      onTouchStart: startTouch,\n      onTouchEnd: endTouch,\n      children: [/*#__PURE__*/_jsx(\"h2\", {\n        className: boxTitle,\n        children: boxTitles[boxKey]\n      }), /*#__PURE__*/_jsx(Slider, {\n        ref: sliderRef // Sometimes a product has bad data, so we need to filter them\n        // before passing down to Slider.\n        ,\n        slides: data.filter(product => product.url),\n        slideWidth: cardSize // Tell Slider what component to use for each slide\n        ,\n        slideComponent: (product, i) => /*#__PURE__*/_jsx(Lemon, {\n          content: product,\n          cart: cart,\n          onInView: product => handleRecEvent(i, boxKey, product, 'recInView'),\n          onClick: product => handleRecEvent(i, boxKey, product, 'recClick')\n        }, product.id),\n        scrollerClass: lemonScroller // If screen width is greater than 768, update windowWidth prop.\n        // Else, just pass a constant (so Slider doesn't recalculate layout)\n        ,\n        windowWidth: isPaged ? size.width : 768\n      })]\n    })\n  });\n}",".outsmartly/analysis/modules/304.js":"// components/NotificationBar.js\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport Icon from './icons/Icon';\nimport { notification, active, messageWrap, close, closeIcon } from './NotificationBar.module.css';\n/** Generic component that wraps a notification message. Showing/hiding and\n * duration handled by the parent. */\n\nexport default function NotificationBar({\n  messageClass = notification,\n  show = false,\n  onClose,\n  children\n}) {\n  return /*#__PURE__*/_jsx(\"div\", {\n    className: `${messageClass} ${show ? active : ''}`,\n    \"aria-hidden\": !show,\n    children: /*#__PURE__*/_jsxs(\"div\", {\n      className: `page-width ${messageWrap}`,\n      children: [children, /*#__PURE__*/_jsxs(\"button\", {\n        type: \"button\",\n        className: close,\n        onClick: onClose,\n        children: [/*#__PURE__*/_jsx(Icon, {\n          icon: \"close3\",\n          className: closeIcon\n        }), /*#__PURE__*/_jsx(\"span\", {\n          className: \"visually-hidden\",\n          children: \"Close\"\n        })]\n      })]\n    })\n  });\n}",".outsmartly/analysis/modules/215.js":"// lib/shopify.ts\nimport { _loadCollectionHandles } from './shopify/loadCollectionHandles';\nimport { _loadPages } from './shopify/loadPages';\nimport { _loadSingleProduct } from './shopify/loadSingleProduct';\nimport { _loadSingleCollection } from './shopify/loadSingleCollection';\nimport { _loadSinglePage } from './shopify/loadSinglePage';\nimport { _getYotpoBottomline } from './shopify/yotpoReviews';\nimport { _loadProducts } from './shopify/loadProducts';\nimport { _loadTopCollectionProducts } from './shopify/loadTopCollectionProducts';\nimport { _loadSingleCollectionTitle } from './shopify/loadSingleCollectionTitle';\nimport { _searchProducts } from './shopify/searchProducts';\nconst shopName = process.env.shopName;\nconst accessToken = process.env.accessToken;\nconst apiVersion = process.env.apiVersion;\nconst YOTPO_API_KEY = process.env.YOTPO_API_KEY;\nconst graphqlParams = {\n  shopName,\n  accessToken,\n  apiVersion\n};\nexport function loadCollectionHandles() {\n  return _loadCollectionHandles({\n    graphqlParams\n  });\n}\nexport function loadPages() {\n  return _loadPages({\n    graphqlParams\n  });\n}\nexport function loadProducts() {\n  return _loadProducts({\n    graphqlParams\n  });\n}\nexport function loadSingleCollection(handle) {\n  return _loadSingleCollection({\n    graphqlParams,\n    handle,\n    YOTPO_API_KEY\n  });\n}\nexport function loadSingleCollectionTitle(handle) {\n  return _loadSingleCollectionTitle({\n    graphqlParams,\n    handle\n  });\n}\nexport function loadSinglePage(handle) {\n  return _loadSinglePage({\n    graphqlParams,\n    handle\n  });\n}\nexport function loadSingleProduct(handle) {\n  return _loadSingleProduct({\n    graphqlParams,\n    handle,\n    YOTPO_API_KEY\n  });\n}\nexport function loadTopCollectionProducts() {\n  _loadTopCollectionProducts({\n    graphqlParams\n  });\n}\nexport function getYotpoBottomline(productId) {\n  return _getYotpoBottomline({\n    YOTPO_API_KEY,\n    productId\n  });\n}\nexport function search(query) {\n  return _searchProducts({\n    query,\n    graphqlParams,\n    YOTPO_API_KEY\n  });\n}",".outsmartly/analysis/modules/184.js":"// pages/pages/about-rbx.js\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React from 'react';\nimport styles from 'styles/Main.module.css';\nimport { SEO } from 'components/Seo';\nimport config from '../../jackrabbit.config';\nimport jackrabbitComponents from '../../jackrabbit.components';\nconst {\n  AboutPageContent\n} = jackrabbitComponents;\nconst {\n  seo\n} = config;\nexport default function AboutPage() {\n  // Add page type class to <main>\n  const pageType = 'templatePage';\n  return /*#__PURE__*/_jsxs(\"main\", {\n    id: \"mainContent\",\n    className: `${styles['mainContent']} ${styles[pageType]}`,\n    children: [/*#__PURE__*/_jsx(SEO, _objectSpread({\n      ogType: \"website\"\n    }, seo.about)), /*#__PURE__*/_jsx(\"div\", {\n      className: \"page-width\",\n      children: /*#__PURE__*/_jsx(AboutPageContent, {})\n    })]\n  });\n}",".outsmartly/analysis/modules/177.js":"// pages/api/_next/nav.ts\nimport { nav } from 'lib/scrape/scrapeNav';\nexport default (async (req, res) => {\n  res.statusCode = 200;\n  res.json(await nav);\n});",".outsmartly/analysis/modules/126.js":"// lib/useWindowSize.js\nimport { useState, useEffect } from 'react';\nimport { throttle } from 'lib/utils';\n/**\n * Custom hook to get the current size of the browser window. Returns an object\n * containing the window's width and height. If executed server-side (no window\n * object) the value of the width and height will be undefined.\n */\n\nexport function useWindowSize() {\n  // Initialize state with undefined width/height\n  var _useState = useState({\n    width: undefined,\n    height: undefined\n  }),\n      windowSize = _useState[0],\n      setWindowSize = _useState[1];\n\n  useEffect(function () {\n    // Call this on window resize\n    function handleResize() {\n      // Set state\n      setWindowSize({\n        width: window.innerWidth,\n        height: window.innerHeight\n      });\n    } // Create a throttled version of this function so it is called at most every\n    // 'wait' milliseconds (so it doesn't run too frequently)\n\n\n    var throttledHandleResize = throttle(handleResize, 400); // Add event listener\n\n    window.addEventListener('resize', throttledHandleResize); // Call it right away\n\n    throttledHandleResize(); // Remove event listener to clean up\n\n    return function () {\n      return window.removeEventListener('resize', throttledHandleResize);\n    };\n  }, []);\n  return windowSize;\n}",".outsmartly/analysis/modules/221.js":"// components/Logo.js\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nexport function RBXLogoSVG(props) {\n  return /*#__PURE__*/_jsxs(\"svg\", _objectSpread(_objectSpread({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 715.55 642.08\"\n  }, props), {}, {\n    children: [/*#__PURE__*/_jsx(\"path\", {\n      d: \"M182.19 247.69C106.71 375.04 40.14 476.37 15.55 462.19c-24.38-14 32.17-123.58 107.68-250.87S266.39-11.66 288.86 1.15c22.89 13-31.16 119.21-106.67 246.54M265.28 280.24c-64.07 108.13-120.59 194.2-141.5 182.15-20.69-11.94 27.34-104.92 91.4-213s121.6-189.35 140.7-178.52c19.41 11.06-26.46 101.24-90.6 209.37M340.78 302.12c-56.45 95.19-106.22 171-124.66 160.41-18.19-10.51 24.14-92.38 80.56-187.58s107.1-166.73 123.86-157.17c17.08 9.73-23.3 89.15-79.75 184.34M594.78 278.04c67.23 58.66 119.71 109.59 106.77 124.72-12.72 14.95-72-30-139.16-88.71S442.04 200.82 453.78 187.04c11.86-14 73.73 32.32 141 91M542.55 318.04c69.32 53.44 123.72 100.26 111.72 116.15-11.82 15.69-72.55-24.76-141.87-78.23S392.37 255.04 403.22 240.57c11-14.73 70 24 139.33 77.43M491.11 357.55c68.77 47.54 122.78 89.63 111.67 106.09-11 16.3-71-19.1-139.75-66.63S343.78 306.52 353.9 291.53c10.23-15.27 68.49 18.5 137.21 66M170.54 642.04c-5.57 0-10-1.83-13.4-5.5l-61-62.65a13.88 13.88 0 01-2.5-3.14 8.3 8.3 0 01-.94-4.37v-6.24c0-3.52 1.74-5.27 5.29-5.27h27.75c6.54 0 11.34-1.22 14.51-3.65a12 12 0 004.73-10.12q0-13.62-19.24-13.62H80.49v109.1c0 3.67-1.81 5.5-5.5 5.5H5.43q-5.43 0-5.43-5.5V509.04c0-3.54 1.81-5.28 5.43-5.28h177.28a55.4 55.4 0 0117 2.52 42.36 42.36 0 0113.7 7.21 33.67 33.67 0 019 11.16 32.15 32.15 0 013.2 14.4 36.07 36.07 0 01-3.13 15.3 35 35 0 01-8.47 11.69 43 43 0 01-12.59 7.92 63 63 0 01-15.27 4.25l56 57.39a4.1 4.1 0 011.43 3.24 3.31 3.31 0 01-.94 2.23 3.4 3.4 0 01-2.71 1zM336.41 578.6c-3.55 0-5.32-1.75-5.32-5.28v-13.18c0-3.52 1.77-5.27 5.32-5.27h45.42q10.13 0 13.84-3.85a13.32 13.32 0 003.8-9.92 13 13 0 00-3.8-9.85c-2.47-2.5-7.09-3.77-13.84-3.77h-57.56v90.88h54.12c7.68 0 13.22-1.72 16.62-5.23s5.08-8.43 5.08-15-1.7-11.59-5.08-14.79-8.94-4.78-16.62-4.78zm-78.47 63.44c-3.55 0-5.29-1.83-5.29-5.5v-127.5c0-3.54 1.74-5.28 5.29-5.28h176q20.29 0 30.33 9.23t10 25.66a29.26 29.26 0 01-1.74 10.75 28.73 28.73 0 01-4.1 7.48 22.88 22.88 0 01-5.29 4.88 56.11 56.11 0 01-4.87 2.84 23.88 23.88 0 017.09 3.95 33.93 33.93 0 017.1 7.51 40 40 0 015.36 10.74 42.87 42.87 0 01-.7 28.78 36.31 36.31 0 01-8.94 13.3 45.27 45.27 0 01-15.4 9.54q-9.29 3.62-22.29 3.62zM603.87 618.18l18.79 18.37a15.08 15.08 0 0010.74 4.49h77.38c3.2 0 4.77-1.3 4.77-3.85a5.13 5.13 0 00-2-3.84l-62.77-61.48 62.92-61.49a5.41 5.41 0 001.85-4q0-3.63-4.8-3.63h-77.17a14.26 14.26 0 00-10.75 4.45l-19 18.66\"\n    }), /*#__PURE__*/_jsx(\"path\", {\n      d: \"M591.04 525.82l-19-18.66a14.26 14.26 0 00-10.74-4.45h-77.14c-3.17 0-4.8 1.21-4.8 3.63a5.51 5.51 0 001.84 4.06l62.92 61.47-62.74 61.44a5.13 5.13 0 00-2 3.84c0 2.56 1.6 3.85 4.8 3.85h77.35a15 15 0 0010.75-4.47l18.78-18.35\"\n    })]\n  }));\n}",".outsmartly/analysis/modules/330.js":"// components/SizingGuide/ViewSizeGuide.js\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { useState, useMemo } from 'react';\nimport Link from 'next/link';\nimport { useRouter } from 'next/router';\nimport { sizeGuide, titleModal, tableWrapModal } from './SizingGuide.module.css';\nimport { sizeGuideLink, sizeGuideModal } from './ViewSizeGuide.module.css';\nimport SizeGuide from './SizeGuide';\nimport Modal from 'components/Modal';\nimport { hideScrollbar } from 'lib/utils';\nexport default function ViewSizeGuide({\n  product\n}) {\n  const {\n    0: showModal,\n    1: setShowModal\n  } = useState(false); // Determine whether or not to show the View Size Guide link, and if so, which\n  // size guide to put in the modal\n\n  const guideHandle = useMemo(() => {\n    if (product.tags.includes('Mens') || product.tags.includes('Men')) {\n      return 'size-guide-men';\n    } else if (product.tags.includes('plus') || product.tags.includes('Plus') || product.tags.includes('PLUS')) {\n      return 'size-guide-plus-size';\n    } else if (product.tags.includes('Women')) {\n      return 'size-guide-women';\n    } else if (product.tags.includes('Boys')) {\n      return 'size-guide-boys';\n    } else if (product.tags.includes('Girls')) {\n      return 'size-guide-girls';\n    } else {\n      return null;\n    }\n  }, [product.tags]);\n  /**\n   * Handles a click on the View Size Guide link. Opens a modal with the\n   * appropriate size guide.\n   */\n\n  const openSizeGuideModal = e => {\n    e.preventDefault();\n    hideScrollbar();\n    setShowModal(true);\n  };\n  /** Closes the Size Guide modal */\n\n\n  const closeSizeGuideModal = e => {\n    setShowModal(false);\n  };\n\n  return /*#__PURE__*/_jsx(_Fragment, {\n    children: guideHandle && /*#__PURE__*/_jsxs(_Fragment, {\n      children: [/*#__PURE__*/_jsx(\"a\", {\n        href: \"#size_guide\",\n        className: sizeGuideLink,\n        onClick: openSizeGuideModal,\n        children: \"View size guide\"\n      }), /*#__PURE__*/_jsx(Modal, {\n        show: showModal,\n        onClose: closeSizeGuideModal,\n        contentClass: sizeGuideModal,\n        children: /*#__PURE__*/_jsx(SizeGuide, {\n          handle: guideHandle,\n          contentWrapClass: sizeGuide,\n          titleClass: titleModal,\n          wrapClass: tableWrapModal\n        })\n      })]\n    })\n  });\n}",".outsmartly/analysis/modules/270.js":"// contentful/format-announcement-bar.js\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport { nullIfUndefined } from './helpers';\n/**\n * Formats an individual message so the prop names match what our component wants\n * @param {string} entry id\n * @param {Object} message\n * @returns {Object} message props object\n */\n\nexport function formatMessage(id, message) {\n  const {\n    name,\n    heading\n  } = message,\n        rest = _objectWithoutProperties(message, [\"name\", \"heading\"]);\n\n  return _objectSpread({\n    id,\n    name: nullIfUndefined(name),\n    heading: nullIfUndefined(heading)\n  }, rest);\n}",".outsmartly/analysis/modules/283.js":"// lib/shopify/loadTopCollectionProducts.ts\nimport { getShopifyClient } from './shopifyClient';\nexport async function _loadTopCollectionProducts({\n  graphqlParams\n}) {\n  var _data$collections;\n\n  const shopifyClient = getShopifyClient(graphqlParams);\n  const data = await shopifyClient.request(collectionsQuery());\n  const edges = data === null || data === void 0 ? void 0 : (_data$collections = data.collections) === null || _data$collections === void 0 ? void 0 : _data$collections.edges;\n  const collections = edges === null || edges === void 0 ? void 0 : edges.map(({\n    node\n  }) => {\n    var _node$products, _node$products$edges, _node$products$edges$;\n\n    node.products = node === null || node === void 0 ? void 0 : (_node$products = node.products) === null || _node$products === void 0 ? void 0 : (_node$products$edges = _node$products.edges) === null || _node$products$edges === void 0 ? void 0 : (_node$products$edges$ = _node$products$edges.filter(({\n      node\n    }) => node.availableForSale && node.onlineStoreUrl)) === null || _node$products$edges$ === void 0 ? void 0 : _node$products$edges$.map(({\n      node: {\n        handle\n      }\n    }) => handle);\n    return node;\n  }).filter(collection => {\n    var _collection$products;\n\n    return (collection === null || collection === void 0 ? void 0 : (_collection$products = collection.products) === null || _collection$products === void 0 ? void 0 : _collection$products.length) > 0;\n  });\n  return collections;\n}\n\nfunction collectionsQuery() {\n  return `{\n        collections(\n          first: 100,\n          sortKey:UPDATED_AT,\n          reverse:true,\n          query:\"collection_type:custom\") {\n          edges {\n            cursor\n            node {              \n              handle\n              products(first: 10, sortKey:BEST_SELLING) {\n                edges {\n                  cursor\n                  node {\n                    handle\n                    availableForSale\n                    onlineStoreUrl\n                  }\n                }\n              }\n            }\n          }\n          pageInfo {\n            hasNextPage\n          }\n        }\n      }`;\n}",".outsmartly/analysis/modules/112.js":"// components/Product/ProductMeta.js\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React, { useState } from 'react';\nimport { title, sku, rating, price, comparePrice, afterpay, stock, hideStock, meta, metaList, finalSale, afterpayModalContent } from './ProductMeta.module.css';\nimport styles from './ProductMeta.module.css';\nimport ProductRating from './ProductRating';\nimport { getVariant } from 'context/getVariant';\nimport Modal from 'components/Modal';\nimport Afterpay from 'components/Afterpay/Afterpay';\nimport { hideScrollbar } from 'lib/utils';\nimport { useViewContent } from '@outsmartly/shopify-analytics';\nimport { getDiscountInfo } from 'lib/discounts';\nexport default function ProductMeta(_ref) {\n  var product = _ref.product,\n      selectedOptions = _ref.selectedOptions;\n  var currentVariant = getVariant(product, selectedOptions);\n  useViewContent(product, currentVariant); // Hold state for opening the Afterpay modal\n\n  var _useState = useState(false),\n      showModal = _useState[0],\n      setShowModal = _useState[1]; // Custom inlines styles for Afterpay modal\n\n\n  var css = {\n    backdrop: {\n      backgroundColor: '#00000080',\n      padding: 0\n    },\n    closeBtn: {\n      fontSize: 40\n    }\n  }; // Create a prefix for afterpay image URLs\n\n  var apPrefix = 'https://static.afterpay.com/integration/product-page/';\n\n  var _getDiscountInfo = getDiscountInfo(product, currentVariant),\n      priceText = _getDiscountInfo.priceText,\n      saleMessage = _getDiscountInfo.saleMessage,\n      oldPrice = _getDiscountInfo.oldPrice; // Determine whether this is a sale price. Check product.variants[i].compare_at_price\n\n\n  var isSale = oldPrice ? 'salePrice' : null; // Create a flag for whether to show the number available\n\n  var showStock = (currentVariant === null || currentVariant === void 0 ? void 0 : currentVariant.quantityAvailable) && (currentVariant === null || currentVariant === void 0 ? void 0 : currentVariant.quantityAvailable) < 5;\n  /** Opens the Afterpay modal */\n\n  var openAfterpayModal = function openAfterpayModal(e) {\n    e.preventDefault();\n    hideScrollbar();\n    setShowModal(true);\n  };\n  /** Closes the Afterpay modal */\n\n\n  var closeAfterpayModal = function closeAfterpayModal(e) {\n    e.preventDefault();\n    setShowModal(false);\n  };\n\n  return /*#__PURE__*/_jsxs(\"div\", {\n    className: meta,\n    children: [/*#__PURE__*/_jsx(\"h1\", {\n      className: title,\n      children: product.title\n    }), /*#__PURE__*/_jsx(\"div\", {\n      className: sku,\n      children: currentVariant === null || currentVariant === void 0 ? void 0 : currentVariant.sku\n    }), /*#__PURE__*/_jsx(\"div\", {\n      className: rating,\n      children: /*#__PURE__*/_jsx(ProductRating, {\n        rating: product.rating,\n        showFullReviewText: true,\n        numReviews: product.numReviews\n      })\n    }), /*#__PURE__*/_jsxs(\"ul\", {\n      className: metaList,\n      children: [/*#__PURE__*/_jsxs(\"li\", {\n        children: [product.showFinalSale && /*#__PURE__*/_jsx(\"span\", {\n          className: finalSale,\n          children: \"Final Sale\"\n        }), /*#__PURE__*/_jsx(\"div\", {\n          className: \"\".concat(price, \" \").concat(styles[isSale]),\n          itemProp: \"price\",\n          children: priceText\n        }), saleMessage ? /*#__PURE__*/_jsx(\"div\", {\n          style: {\n            margin: '6px 0 0 0'\n          },\n          children: saleMessage\n        }) : null, /*#__PURE__*/_jsxs(\"p\", {\n          className: afterpay,\n          children: [/*#__PURE__*/_jsx(\"img\", {\n            alt: \"Afterpay\",\n            src: \"\".concat(apPrefix, \"logo-afterpay-black.png\"),\n            srcSet: \"\".concat(apPrefix, \"logo-afterpay-black.png 1x,\\n                        \").concat(apPrefix, \"logo-afterpay-black@2x.png 2x,\\n                        \").concat(apPrefix, \"logo-afterpay-black@3x.png 3x\")\n          }), /*#__PURE__*/_jsx(\"span\", {\n            children: \" available for orders over $35 \"\n          }), /*#__PURE__*/_jsx(\"a\", {\n            href: \"https://www.afterpay.com/purchase-payment-agreement\",\n            \"aria-label\": \"Afterpay Information - Opens a dialog\",\n            onClick: openAfterpayModal,\n            tabIndex: \"0\",\n            children: \"\\u24D8\"\n          })]\n        }), /*#__PURE__*/_jsx(\"span\", {\n          className: \"visually-hidden\",\n          children: \"Regular price\"\n        }), currentVariant && oldPrice ? /*#__PURE__*/_jsxs(\"s\", {\n          className: comparePrice,\n          children: [\"$\", oldPrice]\n        }) : null]\n      }), /*#__PURE__*/_jsx(\"li\", {\n        children: /*#__PURE__*/_jsx(\"span\", {\n          className: \"\".concat(stock, \" \").concat(showStock ? '' : hideStock),\n          children: showStock && /*#__PURE__*/_jsxs(_Fragment, {\n            children: [currentVariant === null || currentVariant === void 0 ? void 0 : currentVariant.quantityAvailable, \" available\"]\n          })\n        })\n      })]\n    }), /*#__PURE__*/_jsx(Modal, {\n      show: showModal,\n      onClose: closeAfterpayModal,\n      contentClass: afterpayModalContent,\n      customCss: css,\n      children: /*#__PURE__*/_jsx(Afterpay, {})\n    })]\n  });\n}",".outsmartly/analysis/modules/143.js":"// components/FilterSidebar/SizeFilter.js\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React, { useContext } from 'react';\nimport Link from 'next/link';\nimport { list, pill, selectedPill } from './SizeFilter.module.css';\nimport { CollectionContext } from 'context/CollectionContext';\nimport { getTagHref, getClearTagHref, toTitleCase } from 'lib/utils';\nimport { useRouter } from 'next/router';\nexport default function SizeFilter(_ref) {\n  var handle = _ref.handle;\n  // Get the route for this collection to use as a prefix for each swatch\n  var router = useRouter();\n  var query = router.query;\n\n  var _useContext = useContext(CollectionContext),\n      sizes = _useContext.sizes; // Get the correct route for the \"Clear filter\" link\n\n\n  var clearHref = getClearTagHref(query, 'size'); // Convert the array of sizes into an object array for rendering\n\n  var sizeItems = sizes.map(function (item) {\n    var href = getTagHref(query, 'size', item); // Convert the size tags differently\n\n    var name;\n\n    if (item.includes('-')) {\n      // For handles with at least hyphen.\n      // First, handle special case: 'one-size' --> 'One Size'\n      // Then, for sizes: 1. replace hypens with periods, 2. replace first\n      // period with hyphen\n      name = item === 'one-size' ? toTitleCase(item) : item.replace(/\\-/g, '.').replace(/\\./, '-');\n    } else {\n      // For abbreviations\n      name = item.toUpperCase();\n    } // Determine if this color is selected\n\n\n    var isSelected = href.query.tagQuery === query.tagQuery;\n    return {\n      name: name,\n      href: isSelected ? clearHref : href,\n      selected: isSelected\n    };\n  });\n  return /*#__PURE__*/_jsxs(\"div\", {\n    className: \"scroll-content\",\n    children: [/*#__PURE__*/_jsx(\"form\", {\n      children: /*#__PURE__*/_jsx(\"input\", {\n        type: \"text\",\n        className: \"fm-search-box snize-input-style\",\n        name: \"q\",\n        placeholder: \"search...\",\n        style: {\n          display: 'none'\n        },\n        autoComplete: \"off\"\n      })\n    }), /*#__PURE__*/_jsx(\"ul\", {\n      className: list,\n      children: sizeItems.map(function (size) {\n        return /*#__PURE__*/_jsx(\"li\", {\n          children: /*#__PURE__*/_jsx(Link, {\n            href: size.href,\n            children: /*#__PURE__*/_jsx(\"a\", {\n              title: \"\".concat(size.selected ? 'Clear' : 'Add', \" filter: \").concat(size.name),\n              children: /*#__PURE__*/_jsx(\"div\", {\n                className: \"\".concat(size.selected ? selectedPill : pill),\n                children: size.name\n              })\n            })\n          })\n        }, size.name);\n      })\n    })]\n  });\n}",".outsmartly/analysis/modules/88.js":"// third-party-scripts/zendesk.js\nimport { loadScript, loadScriptWithDelay } from './utils';\nexport function loadZendesk() {\n  var config = {\n    src: \"https://cdn.shopify.com/s/files/1/1115/2394/t/248/assets/zendesk-embeddable.js?16220&shop=rbxactive.myshopify.com\",\n    id: 'zendesk-script',\n    defer: false\n  };\n  loadScript(config);\n}\nexport function loadZendeskWithDelay() {\n  var config = {\n    src: \"https://cdn.shopify.com/s/files/1/1115/2394/t/248/assets/zendesk-embeddable.js?16220&shop=rbxactive.myshopify.com\",\n    id: 'zendesk-script',\n    timeout: 5 * 1000\n  };\n  loadScriptWithDelay(config);\n}",".outsmartly/analysis/modules/98.js":"// node_modules/next/dist/next-server/lib/head.js\n\"use strict\";\n\nvar _defineProperty = require(\"/Users/kai/Work/rbx-rewrite/node_modules/next/node_modules/@babel/runtime/helpers/defineProperty\");\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nexports.__esModule = true;\nexports.defaultHead = defaultHead;\nexports[\"default\"] = void 0;\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _sideEffect = _interopRequireDefault(require(\"./side-effect\"));\n\nvar _ampContext = require(\"./amp-context\");\n\nvar _headManagerContext = require(\"./head-manager-context\");\n\nvar _amp = require(\"./amp\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nfunction _getRequireWildcardCache() {\n  if (typeof WeakMap !== \"function\") return null;\n  var cache = new WeakMap();\n\n  _getRequireWildcardCache = function _getRequireWildcardCache() {\n    return cache;\n  };\n\n  return cache;\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  }\n\n  if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") {\n    return {\n      \"default\": obj\n    };\n  }\n\n  var cache = _getRequireWildcardCache();\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n  var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) {\n      var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n      if (desc && (desc.get || desc.set)) {\n        Object.defineProperty(newObj, key, desc);\n      } else {\n        newObj[key] = obj[key];\n      }\n    }\n  }\n\n  newObj[\"default\"] = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}\n\nfunction defaultHead() {\n  var inAmpMode = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n  var head = [/*#__PURE__*/_react[\"default\"].createElement(\"meta\", {\n    charSet: \"utf-8\"\n  })];\n\n  if (!inAmpMode) {\n    head.push( /*#__PURE__*/_react[\"default\"].createElement(\"meta\", {\n      name: \"viewport\",\n      content: \"width=device-width\"\n    }));\n  }\n\n  return head;\n}\n\nfunction onlyReactElement(list, child) {\n  // React children can be \"string\" or \"number\" in this case we ignore them for backwards compat\n  if (typeof child === 'string' || typeof child === 'number') {\n    return list;\n  } // Adds support for React.Fragment\n\n\n  if (child.type === _react[\"default\"].Fragment) {\n    return list.concat(_react[\"default\"].Children.toArray(child.props.children).reduce(function (fragmentList, fragmentChild) {\n      if (typeof fragmentChild === 'string' || typeof fragmentChild === 'number') {\n        return fragmentList;\n      }\n\n      return fragmentList.concat(fragmentChild);\n    }, []));\n  }\n\n  return list.concat(child);\n}\n\nvar METATYPES = ['name', 'httpEquiv', 'charSet', 'itemProp'];\n/*\nreturns a function for filtering head child elements\nwhich shouldn't be duplicated, like <title/>\nAlso adds support for deduplicated `key` properties\n*/\n\nfunction unique() {\n  var keys = new Set();\n  var tags = new Set();\n  var metaTypes = new Set();\n  var metaCategories = {};\n  return function (h) {\n    var isUnique = true;\n    var hasKey = false;\n\n    if (h.key && typeof h.key !== 'number' && h.key.indexOf('$') > 0) {\n      hasKey = true;\n      var key = h.key.slice(h.key.indexOf('$') + 1);\n\n      if (keys.has(key)) {\n        isUnique = false;\n      } else {\n        keys.add(key);\n      }\n    } // eslint-disable-next-line default-case\n\n\n    switch (h.type) {\n      case 'title':\n      case 'base':\n        if (tags.has(h.type)) {\n          isUnique = false;\n        } else {\n          tags.add(h.type);\n        }\n\n        break;\n\n      case 'meta':\n        for (var i = 0, len = METATYPES.length; i < len; i++) {\n          var metatype = METATYPES[i];\n          if (!h.props.hasOwnProperty(metatype)) continue;\n\n          if (metatype === 'charSet') {\n            if (metaTypes.has(metatype)) {\n              isUnique = false;\n            } else {\n              metaTypes.add(metatype);\n            }\n          } else {\n            var category = h.props[metatype];\n            var categories = metaCategories[metatype] || new Set();\n\n            if ((metatype !== 'name' || !hasKey) && categories.has(category)) {\n              isUnique = false;\n            } else {\n              categories.add(category);\n              metaCategories[metatype] = categories;\n            }\n          }\n        }\n\n        break;\n    }\n\n    return isUnique;\n  };\n}\n/**\n*\n* @param headElements List of multiple <Head> instances\n*/\n\n\nfunction reduceComponents(headElements, props) {\n  return headElements.reduce(function (list, headElement) {\n    var headElementChildren = _react[\"default\"].Children.toArray(headElement.props.children);\n\n    return list.concat(headElementChildren);\n  }, []).reduce(onlyReactElement, []).reverse().concat(defaultHead(props.inAmpMode)).filter(unique()).reverse().map(function (c, i) {\n    var key = c.key || i;\n\n    if (true && process.env.__NEXT_OPTIMIZE_FONTS && !props.inAmpMode) {\n      if (c.type === 'link' && c.props['href'] && // TODO(prateekbh@): Replace this with const from `constants` when the tree shaking works.\n      ['https://fonts.googleapis.com/css', 'https://use.typekit.net/'].some(function (url) {\n        return c.props['href'].startsWith(url);\n      })) {\n        var newProps = _objectSpread({}, c.props || {});\n\n        newProps['data-href'] = newProps['href'];\n        newProps['href'] = undefined; // Add this attribute to make it easy to identify optimized tags\n\n        newProps['data-optimized-fonts'] = true;\n        return /*#__PURE__*/_react[\"default\"].cloneElement(c, newProps);\n      }\n    }\n\n    return /*#__PURE__*/_react[\"default\"].cloneElement(c, {\n      key: key\n    });\n  });\n}\n/**\n* This component injects elements to `<head>` of your page.\n* To avoid duplicated `tags` in `<head>` you can use the `key` property, which will make sure every tag is only rendered once.\n*/\n\n\nfunction Head(_ref) {\n  var children = _ref.children;\n  var ampState = (0, _react.useContext)(_ampContext.AmpStateContext);\n  var headManager = (0, _react.useContext)(_headManagerContext.HeadManagerContext);\n  return /*#__PURE__*/_react[\"default\"].createElement(_sideEffect[\"default\"], {\n    reduceComponentsToState: reduceComponents,\n    headManager: headManager,\n    inAmpMode: (0, _amp.isInAmpMode)(ampState)\n  }, children);\n}\n\nvar _default = Head;\nexports[\"default\"] = _default;",".outsmartly/analysis/modules/7.js":"// components/FilterSidebar/CalloutsNoCss.js\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports._outsmartly_thunk = _outsmartly_thunk;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _objectWithoutProperties2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutProperties\"));\n\nvar _Callout = require(\"./Callout\");\n\nvar __jsx = _react[\"default\"].createElement;\n\nfunction _outsmartly_thunk(_temp) {\n  if (_outsmartly_slices.$1 || _outsmartly_slices.$2) {\n    var callouts = _temp.callouts,\n        _temp$css = _temp.css,\n        calloutGroup = _temp$css.calloutGroup,\n        restCss = (0, _objectWithoutProperties2[\"default\"])(_temp$css, [\"calloutGroup\"]);\n  }\n\n  if (_outsmartly_branch_selections.$0) {\n    {\n      if (_outsmartly_slices.$1) {\n        _outsmartly_outlets.$1 = callouts.map(function (callout) {\n          return /*#__PURE__*/_react[\"default\"].createElement(_Callout.Callout, {\n            callout: callout,\n            css: restCss,\n            key: callout.id\n          });\n        });\n      }\n\n      if (_outsmartly_slices.$2) {\n        _outsmartly_outlets.$2 = calloutGroup;\n      }\n    }\n    return _outsmartly_no_return;\n  } else {\n    return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n      className: calloutGroup\n    }, callouts.map(function (callout) {\n      return /*#__PURE__*/_react[\"default\"].createElement(_Callout.Callout, {\n        callout: callout,\n        css: restCss,\n        key: callout.id\n      });\n    }));\n  }\n}\n\nvar CalloutsNoCss = _outsmartly_thunk;",".outsmartly/analysis/modules/153.js":"// components/SizingGuide/ViewSizeGuide.js\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { useState, useMemo } from 'react';\nimport Link from 'next/link';\nimport { useRouter } from 'next/router';\nimport { sizeGuide, titleModal, tableWrapModal } from './SizingGuide.module.css';\nimport { sizeGuideLink, sizeGuideModal } from './ViewSizeGuide.module.css';\nimport SizeGuide from './SizeGuide';\nimport Modal from 'components/Modal';\nimport { hideScrollbar } from 'lib/utils';\nexport default function ViewSizeGuide(_ref) {\n  var product = _ref.product;\n\n  var _useState = useState(false),\n      showModal = _useState[0],\n      setShowModal = _useState[1]; // Determine whether or not to show the View Size Guide link, and if so, which\n  // size guide to put in the modal\n\n\n  var guideHandle = useMemo(function () {\n    if (product.tags.includes('Mens') || product.tags.includes('Men')) {\n      return 'size-guide-men';\n    } else if (product.tags.includes('plus') || product.tags.includes('Plus') || product.tags.includes('PLUS')) {\n      return 'size-guide-plus-size';\n    } else if (product.tags.includes('Women')) {\n      return 'size-guide-women';\n    } else if (product.tags.includes('Boys')) {\n      return 'size-guide-boys';\n    } else if (product.tags.includes('Girls')) {\n      return 'size-guide-girls';\n    } else {\n      return null;\n    }\n  }, [product.tags]);\n  /**\n   * Handles a click on the View Size Guide link. Opens a modal with the\n   * appropriate size guide.\n   */\n\n  var openSizeGuideModal = function openSizeGuideModal(e) {\n    e.preventDefault();\n    hideScrollbar();\n    setShowModal(true);\n  };\n  /** Closes the Size Guide modal */\n\n\n  var closeSizeGuideModal = function closeSizeGuideModal(e) {\n    setShowModal(false);\n  };\n\n  return /*#__PURE__*/_jsx(_Fragment, {\n    children: guideHandle && /*#__PURE__*/_jsxs(_Fragment, {\n      children: [/*#__PURE__*/_jsx(\"a\", {\n        href: \"#size_guide\",\n        className: sizeGuideLink,\n        onClick: openSizeGuideModal,\n        children: \"View size guide\"\n      }), /*#__PURE__*/_jsx(Modal, {\n        show: showModal,\n        onClose: closeSizeGuideModal,\n        contentClass: sizeGuideModal,\n        children: /*#__PURE__*/_jsx(SizeGuide, {\n          handle: guideHandle,\n          contentWrapClass: sizeGuide,\n          titleClass: titleModal,\n          wrapClass: tableWrapModal\n        })\n      })]\n    })\n  });\n}",".outsmartly/analysis/modules/102.js":"// components/FeaturedContent.js\nimport _taggedTemplateLiteral from \"/Users/kai/Work/rbx-rewrite/node_modules/next/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n\\n.\", \"__subtitle {\\n  text-shadow: 2px 2px 20px \", \";\\n}\\n\\n.\", \"__link {\\n  background-color: \", \"\", \";\\n  color: \", \";\\n}\\n\\n.\", \"__link:hover {\\n  background-color: \", \";\\n  color: \", \";\\n}\\n\\n  \"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React from 'react';\nimport Link from 'next/link';\nimport { cap } from '../lib/utils';\nimport { trackOutcome } from './outsmartly/track-outcome';\nimport oneLineTrim from 'common-tags/lib/oneLineTrim';\nexport default function FeaturedContent(props) {\n  var parent = props.parent,\n      id = props.id,\n      titleText = props.titleText,\n      subtitleText = props.subtitleText,\n      captionText = props.captionText,\n      linkText = props.linkText,\n      linkRoute = props.linkRoute,\n      align = props.align,\n      outsmartlyTracking = props.outsmartlyTracking;\n\n  var _ref = props.css || {\n    styles: {}\n  },\n      content = _ref.content,\n      title = _ref.title,\n      subtitle = _ref.subtitle,\n      caption = _ref.caption,\n      link = _ref.link,\n      styles = _ref.styles; // Convert alignment value to CSS class\n\n\n  var alignClass = \"align\".concat(cap(align)); // This assures our CSS is scoped to the individual slide\n\n  var elementId = \"featured-content-\".concat(id); // Assemble CSS classes for content element\n\n  var contentClasses = \"\".concat(content, \" sm-align-center \").concat(styles[alignClass], \" \").concat(styles[parent]);\n  return /*#__PURE__*/_jsxs(\"div\", {\n    className: contentClasses,\n    children: [/*#__PURE__*/_jsx(FeaturedContentCss, {\n      item: props.item,\n      elementId: elementId\n    }), /*#__PURE__*/_jsxs(\"div\", {\n      className: \"page-width\",\n      children: [titleText && /*#__PURE__*/_jsx(\"h3\", {\n        className: title,\n        dangerouslySetInnerHTML: {\n          __html: titleText\n        }\n      }), /*#__PURE__*/_jsx(\"p\", {\n        className: \"\".concat(subtitle, \" \").concat(elementId, \"__subtitle\"),\n        dangerouslySetInnerHTML: {\n          __html: subtitleText\n        }\n      }), captionText && /*#__PURE__*/_jsx(\"p\", {\n        className: caption,\n        dangerouslySetInnerHTML: {\n          __html: captionText\n        }\n      }), /*#__PURE__*/_jsx(Link, {\n        href: linkRoute,\n        children: /*#__PURE__*/_jsx(\"a\", {\n          onClick: function onClick() {\n            trackOutcome('homeFeatureClicked', outsmartlyTracking);\n          },\n          className: \"\".concat(link, \" \").concat(elementId, \"__link\"),\n          children: linkText\n        })\n      })]\n    })]\n  });\n}\n/** Creates a <style> tag with CSS from Contentful */\n\nfunction FeaturedContentCss(props) {\n  var _props$item = props.item,\n      item = _props$item === void 0 ? {} : _props$item,\n      elementId = props.elementId;\n  var buttonBackgroundColor = item.buttonBackgroundColor,\n      buttonBackgroundColorOpacity = item.buttonBackgroundColorOpacity,\n      buttonTextColor = item.buttonTextColor,\n      buttonTextHoverColor = item.buttonTextHoverColor,\n      headlineTextShadowColor = item.headlineTextShadowColor; // Opacity from Contentful is from 0-1. Convert it to hex so we can append it.\n\n  var opacity = buttonBackgroundColorOpacity ? Math.floor(buttonBackgroundColorOpacity * 255).toString(16).padStart(2, '0') : '';\n  return /*#__PURE__*/_jsx(\"style\", {\n    dangerouslySetInnerHTML: {\n      __html: oneLineTrim(_templateObject(), elementId, headlineTextShadowColor, elementId, buttonBackgroundColor, opacity, buttonTextColor, elementId, buttonBackgroundColor, buttonTextHoverColor)\n    }\n  });\n}",".outsmartly/analysis/modules/293.js":"// components/Product/ProductDescription.js\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { description, item, toggle, title, open, close, panel, content } from './ProductDescription.module.css';\nimport Accordion from 'components/Accordion/Accordion';\n/** Product Information and Description accordion */\n\nexport default function ProductDescription({\n  bullets,\n  html\n}) {\n  // Array of items for the accordion\n  const accordionData = [{\n    id: 1,\n    title: 'Product Information',\n    content: /*#__PURE__*/_jsx(_Fragment, {\n      children: bullets.map((bullet, i) => /*#__PURE__*/_jsx(\"p\", {\n        children: bullet\n      }, i))\n    })\n  }, {\n    id: 2,\n    title: 'Description',\n    content: /*#__PURE__*/_jsx(\"div\", {\n      dangerouslySetInnerHTML: html\n    })\n  }].filter(({\n    id\n  }) => {\n    // Filter out sections w/ no data\n    if (id === 1) {\n      return bullets.length > 0;\n    }\n\n    if (id === 2) {\n      return !!(html !== null && html !== void 0 && html.__html);\n    }\n  }); // Assemble CSS classes to pass down through Accordion to AccordionItem\n\n  const cssClasses = {\n    item: item,\n    header: toggle,\n    headerTitle: title,\n    open: open,\n    close: close,\n    panel: panel,\n    content: content\n  };\n  return /*#__PURE__*/_jsx(\"div\", {\n    className: description,\n    itemProp: \"description\",\n    children: /*#__PURE__*/_jsx(Accordion, {\n      items: accordionData,\n      cssClasses: cssClasses,\n      initiallyOpen: ['Product Information'],\n      buttonVariant: 2\n    })\n  });\n}",".outsmartly/analysis/modules/260.js":"// components/Product/ProductTag.js\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { tag, newArrival, extendedTag } from './ProductTag.module.css';\nexport default function ProductTag({\n  product,\n  extended = false\n}) {\n  var _ref;\n\n  const label = (_ref = extended ? product.extended : product.tag) !== null && _ref !== void 0 ? _ref : null;\n  return label && /*#__PURE__*/_jsx(\"div\", {\n    className: `${tag} ${label === 'New' ? newArrival : ''} ${extended ? extendedTag : ''}`,\n    children: label\n  });\n}\nexport function extractTagLabel(tags, extended) {\n  if (extended) {\n    // This code is taken straight from the liquid template\n    if (tags.includes('XS_XL')) {\n      return 'XS - XL';\n    }\n\n    if (tags.includes('S_4X')) {\n      return 'S - 4X';\n    } // Don't show the extended tag if the product isn't tagged as such.\n\n\n    if (!tags.includes('extended') && !tags.includes('extended2')) {\n      return;\n    }\n\n    const sOption = ['xxs', 'xs', 's'].find(o => tags.includes(`size-${o}`));\n    const lOption = ['xxl', 'xl', 'l'].find(o => tags.includes(`size-${o}`));\n\n    if (sOption && lOption) {\n      return `${sOption} - ${lOption}`.toLocaleUpperCase();\n    } // Logic from liquid template\n    // if (product.tags.includes('extended')) {\n    //   return 'XS - 3X';\n    // }\n    // if (product.tags.includes('extended2')) {\n    //   return 'XS - XXL'; //or XS-3X\n    // }\n\n  } else {\n    if (tags.includes('deal')) {\n      return 'Deal Of The Day';\n    }\n\n    if (tags.includes('sale')) {\n      return 'Sale';\n    }\n\n    if (tags.includes('new arrivals')) {\n      return 'New';\n    }\n\n    if (tags.includes('clearance')) {\n      return 'Clearance';\n    }\n  }\n\n  return;\n}",".outsmartly/analysis/modules/320.js":"// components/ProductOption/ProductColor.js\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React from 'react';\nimport { swatchList, swatchItem, productColor, checked, checkmark, lightColor, tooltip } from './ProductColor.module.css';\nimport Swatch from './Swatch';\nimport Icon from 'components/icons/Icon';\nimport { camelize, toTitleCase, colorIsLight } from 'lib/utils';\nimport { availableOptionsState } from 'context/availableOptionsState';\nimport { useIsVariantReady } from 'components/Product';\nexport default function ProductColor({\n  product,\n  selectedOptions,\n  selectSingleOption,\n  listItemType,\n  colorParent\n}) {\n  // this allows proper hydration when we override\n  const isVariantReady = useIsVariantReady();\n  const options = availableOptionsState({\n    product,\n    optionName: 'Color',\n    selectedOptions,\n    selectSingleOption\n  }); // Convert the array of colors into an object array for rendering\n\n  const colors = options === null || options === void 0 ? void 0 : options.map(({\n    option,\n    availableForSale,\n    selected,\n    selectOption\n  }) => ({\n    color: option,\n    cssClass: camelize(option),\n    name: toTitleCase(option),\n    checked: selected,\n    selectOption,\n    colorIsLight: colorIsLight(option),\n    availableForSale\n  }));\n  return /*#__PURE__*/_jsx(\"ul\", {\n    className: swatchList,\n    children: colors === null || colors === void 0 ? void 0 : colors.map(c => {\n      return /*#__PURE__*/_jsxs(\"li\", {\n        className: `${listItemType ? listItemType : swatchItem} ${isVariantReady && c.checked ? checked : ''}`,\n        children: [!listItemType && /*#__PURE__*/_jsx(_Fragment, {\n          children: /*#__PURE__*/_jsx(\"div\", {\n            className: tooltip,\n            children: c.name\n          })\n        }), /*#__PURE__*/_jsx(Swatch, {\n          available: c.availableForSale,\n          optionalClass: productColor,\n          colorParent: colorParent,\n          color: c.cssClass,\n          colorName: c.name,\n          onClick: c.selectOption\n        }), isVariantReady && c.checked && /*#__PURE__*/_jsx(Icon, {\n          icon: \"checkmark\",\n          className: `${c.colorIsLight ? lightColor : checkmark}`\n        })]\n      }, `${c.color}`);\n    })\n  });\n}",".outsmartly/analysis/modules/231.js":"// components/Collection/index.js\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { useEffect, useRef } from 'react';\nimport { collectionBanner, collectionHeader, collectionTitle, collectionCrumbsNav, collectionCrumbs, collectionCrumbsIcon, collectionSortLabel, collectionSortInput, grid25 } from './Collection.module.css';\nimport { CollectionProvider } from 'context/CollectionContext';\nimport BreadCrumbs from 'components/BreadCrumbs';\nimport FilterSidebar from 'components/FilterSidebar/FilterSidebar';\nimport CollectionGrid from './CollectionGrid';\nimport styles from 'styles/Main.module.css';\nimport { groups } from 'data/navigation';\nimport { useRouter } from 'next/router';\nimport { sortFields } from 'lib/productSort';\nimport { LemonSpot } from 'components/LemonSpot/LemonSpot';\nimport { SEO } from 'components/Seo';\nimport { getImageUrl } from 'lib/getImageUrl';\nimport { useMessageBus } from '@outsmartly/core';\nimport { getPathnames, getResolution } from 'lib/utils';\nimport { emitTimeSpend } from 'components/LemonSpot/emitTimeSpend';\nexport default function Collection({\n  content,\n  callouts\n}) {\n  var _process$env$messageB;\n\n  const router = useRouter();\n  const {\n    sort_by\n  } = router.query; // Get path information for this page\n\n  const [path, pathWithQuery] = getPathnames(router);\n  const page = 'Collection'; // Get a reference to the client message bus\n\n  const bus = useMessageBus({\n    debug: (_process$env$messageB = process.env.messageBusDebug) !== null && _process$env$messageB !== void 0 ? _process$env$messageB : false\n  }); // Create a start time ref that persists across renders\n\n  const startTime = useRef(0); // Run when the collection changes\n\n  useEffect(() => {\n    // Set the start time for viewing this collection\n    startTime.current = new Date().getTime(); // Assemble the payload for a \"collection view\" event and emit it\n\n    const obj = {\n      collectionId: content.id,\n      page,\n      path,\n      resolution: getResolution(),\n      timestamp: new Date().toISOString(),\n      url: pathWithQuery\n    };\n    bus.emit('collectionView', obj); // When user navigates away, emit the \"collection time spend\" event\n\n    return () => {\n      emitTimeSpend(startTime, page, path, content.id, bus);\n    };\n  }, [content]); // Attach a regular event listener for navigating outside of Next app\n\n  useEffect(() => {\n    // Use a wrapper function to facilitate attaching and clean up\n    const emitWrapper = () => {\n      emitTimeSpend(startTime, page, path, content.id, bus);\n    };\n\n    window.addEventListener('beforeunload', emitWrapper);\n    return () => {\n      window.removeEventListener('beforeunload', emitWrapper);\n    };\n  }, [page, path, content.id, bus]); // Add page type class to <main>\n\n  const pageType = 'templateCollection'; // Create a background image styling rule (if there is one)\n\n  const bannerImageSrc = getImageUrl(content.image);\n  const bannerStyle = content.image && {\n    backgroundImage: `url(${bannerImageSrc})`\n  }; // Determine which group this collection belongs to.\n\n  const group = groups.find(g => content.handle.startsWith(g.name));\n  const groupName = group && group.name;\n\n  function updateSort(event) {\n    router.replace({\n      pathname: router.pathname,\n      query: _objectSpread(_objectSpread({}, router.query), {}, {\n        sort_by: event.target.value\n      })\n    }, undefined, {\n      shallow: true\n    });\n  }\n\n  const description = content.description !== '' ? content.description : `${content.title} Collection`;\n  const preloads = bannerImageSrc !== '' ? [bannerImageSrc] : [];\n  return /*#__PURE__*/_jsxs(\"main\", {\n    id: \"mainContent\",\n    className: `${styles['mainContent']} ${styles[pageType]}`,\n    children: [/*#__PURE__*/_jsx(SEO, {\n      ogType: \"website\",\n      title: content.title,\n      canonical: `/collections/${content.handle}`,\n      description: description,\n      images: [content.image],\n      preloads: preloads\n    }), /*#__PURE__*/_jsxs(\"div\", {\n      className: content.image ? collectionBanner : 'visually-hidden',\n      style: bannerStyle,\n      children: [/*#__PURE__*/_jsx(\"h1\", {\n        children: content.title\n      }), content.descriptionHtml && /*#__PURE__*/_jsx(\"p\", {\n        dangerouslySetInnerHTML: content.descriptionHtml\n      })]\n    }), /*#__PURE__*/_jsxs(\"div\", {\n      className: \"page-width\",\n      children: [/*#__PURE__*/_jsxs(\"header\", {\n        className: collectionHeader,\n        children: [/*#__PURE__*/_jsx(\"h2\", {\n          className: collectionTitle,\n          children: content.title\n        }), /*#__PURE__*/_jsx(BreadCrumbs, {\n          title: content.title,\n          groupName: groupName,\n          navClass: collectionCrumbsNav,\n          crumbListClass: collectionCrumbs,\n          iconClass: collectionCrumbsIcon\n        }), /*#__PURE__*/_jsxs(\"div\", {\n          className: \"text-right\",\n          children: [/*#__PURE__*/_jsx(\"label\", {\n            htmlFor: \"sortBy\",\n            className: collectionSortLabel,\n            children: \"Sort by\"\n          }), /*#__PURE__*/_jsx(\"select\", {\n            name: \"sortBy\",\n            id: \"sortBy\",\n            className: collectionSortInput,\n            onChange: updateSort,\n            value: sort_by,\n            children: sortFields.map(({\n              value,\n              label\n            }) => /*#__PURE__*/_jsx(\"option\", {\n              value: value,\n              children: label\n            }, value))\n          })]\n        })]\n      }), /*#__PURE__*/_jsx(CollectionProvider, {\n        value: content,\n        children: /*#__PURE__*/_jsxs(\"div\", {\n          className: grid25,\n          children: [/*#__PURE__*/_jsx(FilterSidebar, {\n            handle: content.handle,\n            groupName: groupName,\n            callouts: callouts\n          }), /*#__PURE__*/_jsx(CollectionGrid, {\n            handle: content.handle\n          })]\n        })\n      }), /*#__PURE__*/_jsx(LemonSpot, {\n        page: \"Collection\"\n      })]\n    })]\n  });\n}",".outsmartly/analysis/modules/136.js":"// components/Tabs/Tabs.js\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { cloneElement, useState } from 'react';\nimport { container, list, content, showPanel, hidePanel } from './Tabs.module.css'; // Based on this:\n// https://medium.com/@diegocasmo/a-simple-react-tabs-component-47cac2cfbb5\n// For additional features consider emulating:\n// https://github.com/reactjs/react-tabs\n// itemClass, itemActiveClass, and linkClass can either be passed as props to\n// <Tabs />, in which case they will apply to all <Tab /> components, or\n// passed as props to each individual <Tab /> component.\n\nexport default function Tabs(_ref) {\n  var _ref$defaultTab = _ref.defaultTab,\n      defaultTab = _ref$defaultTab === void 0 ? 0 : _ref$defaultTab,\n      children = _ref.children,\n      _ref$keepInDom = _ref.keepInDom,\n      keepInDom = _ref$keepInDom === void 0 ? false : _ref$keepInDom,\n      _ref$containerClass = _ref.containerClass,\n      containerClass = _ref$containerClass === void 0 ? container : _ref$containerClass,\n      _ref$listClass = _ref.listClass,\n      listClass = _ref$listClass === void 0 ? list : _ref$listClass,\n      _ref$contentClass = _ref.contentClass,\n      contentClass = _ref$contentClass === void 0 ? content : _ref$contentClass,\n      itemClass = _ref.itemClass,\n      itemActiveClass = _ref.itemActiveClass,\n      linkClass = _ref.linkClass;\n\n  // State for the active tab is the index in the array of tabs\n  var _useState = useState(defaultTab),\n      activeTab = _useState[0],\n      setActiveTab = _useState[1];\n  /** Handles click on a tab item. Updates state with the active tab index */\n\n\n  var handleTabClick = function handleTabClick(tab) {\n    if (tab !== activeTab) {\n      setActiveTab(tab);\n    }\n  }; // Determine whether to keep all the content panels in the DOM or only the\n  // active one\n\n\n  var tabContents;\n\n  if (keepInDom) {\n    tabContents = children.map(function (tab, i) {\n      return /*#__PURE__*/_jsx(\"div\", {\n        className: i === activeTab ? showPanel : hidePanel,\n        children: tab.props.children\n      }, i);\n    });\n  } else {\n    tabContents = children[activeTab].props.children;\n  }\n\n  return /*#__PURE__*/_jsxs(\"div\", {\n    className: containerClass,\n    children: [/*#__PURE__*/_jsx(\"ul\", {\n      className: listClass,\n      children: children.map(function (tab, i) {\n        return /*#__PURE__*/cloneElement(tab, {\n          key: i,\n          index: i,\n          onClick: handleTabClick,\n          isActive: i === activeTab,\n          itemClass: itemClass,\n          itemActiveClass: itemActiveClass,\n          linkClass: linkClass\n        });\n      })\n    }), /*#__PURE__*/_jsx(\"div\", {\n      className: contentClass,\n      children: tabContents\n    })]\n  });\n}",".outsmartly/analysis/modules/167.js":"// pages/_document.js\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport Document, { Html, Head, Main, NextScript } from 'next/document';\nimport { OutsmartlyScript } from '@outsmartly/react';\nimport config from '../staging.config.json';\nimport jackrabbitConfig from '../jackrabbit.config';\n\nclass MyDocument extends Document {\n  static async getInitialProps(ctx) {\n    const initialProps = await Document.getInitialProps(ctx);\n    return _objectSpread({}, initialProps);\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxs(Html, {\n      lang: \"en-US\",\n      children: [/*#__PURE__*/_jsxs(Head, {\n        children: [/*#__PURE__*/_jsx(\"meta\", {\n          charSet: \"UTF-8\"\n        }), /*#__PURE__*/_jsx(\"script\", {\n          \"data-app-config\": true,\n          dangerouslySetInnerHTML: {\n            __html: [`window.__APP_CONFIG__=${JSON.stringify(config.__APP_CONFIG__)};`, `window.__APP_CONFIG__.startTimestamp=Date.now();`, `window.__APP_CONFIG__.headTimestamp=Date.now();`, `window.__APP_CONFIG__.postLogger=function(o){console.log('postLogger', o);};`, `window.__APP_CONFIG__.outcome=function(o){console.log('outcome', o);};`, `window.__DEBUG_TRACKING__=true;`].join('')\n          }\n        }), /*#__PURE__*/_jsx(\"script\", {\n          dangerouslySetInnerHTML: {\n            __html: [`window.dataLayer = window.dataLayer || [];`, `function gtag() {`, `dataLayer.push(arguments);`, `};`, `gtag('js', new Date());`, `gtag('config', window.__APP_CONFIG__.ANALYTICS.GA_ID);`].join('')\n          }\n        }), /*#__PURE__*/_jsx(\"script\", {\n          dangerouslySetInnerHTML: {\n            __html: [`var Shopify = Shopify || {};`, `Shopify.shop = \"${jackrabbitConfig.shopify.name}.myshopify.com\";`, `Shopify.locale = \"en\";`, `Shopify.currency = {\"active\":\"USD\",\"rate\":\"1.0\"};`, `Shopify.country = \"US\";`, `Shopify.theme = ${jackrabbitConfig.shopify.theme}`, `Shopify.theme.handle = \"null\";`, `Shopify.theme.style = {\"id\":null,\"handle\":null};`, `Shopify.cdnHost = \"cdn.shopify.com\";`].join('')\n          }\n        }), /*#__PURE__*/_jsx(\"script\", {\n          dangerouslySetInnerHTML: {\n            __html: `\n(function() {\n  function asyncLoad() {\n    var urls = [\"https://static.klaviyo.com/onsite/js/klaviyo.js?company_id=${config.__APP_CONFIG__.ANALYTICS.KLAVIYO_ID}\\u0026shop=${jackrabbitConfig.shopify.name}.myshopify.com\"];\n    for (var i = 0; i < urls.length; i++) {\n      var s = document.createElement('script');\n      s.type = 'text/javascript';\n      s.async = true;\n      s.src = urls[i];\n      var x = document.getElementsByTagName('script')[0];\n      x.parentNode.insertBefore(s, x);\n    }\n  };\n  if(window.attachEvent) {\n    window.attachEvent('onload', asyncLoad);\n  } else {\n    window.addEventListener('load', asyncLoad, false);\n  }\n})()`\n          }\n        })]\n      }), /*#__PURE__*/_jsxs(\"body\", {\n        children: [/*#__PURE__*/_jsx(Main, {}), /*#__PURE__*/_jsx(OutsmartlyScript, {}), /*#__PURE__*/_jsx(NextScript, {}), /*#__PURE__*/_jsx(\"script\", {\n          className: \"analytics\"\n        })]\n      })]\n    });\n  }\n\n}\n\nexport default MyDocument;",".outsmartly/analysis/modules/345.js":"// components/Product/ProductPhotos/Thumbnails.js\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { getProductImageUrl } from '../../../lib/getImageUrl';\nimport { useOverrideProp } from './ProductPhotosMainImage';\n\nfunction getImages(imageMap, color) {\n  var _imageMap$color;\n\n  return (_imageMap$color = imageMap[color]) !== null && _imageMap$color !== void 0 ? _imageMap$color : Object.values(imageMap)[0];\n}\n\nexport function Thumbnails({\n  thumbsInner,\n  thumb,\n  serverColor = undefined,\n  clientColor,\n  imageMap,\n  imageIndex,\n  active,\n  handleThumbClick\n}) {\n  const color = useOverrideProp(serverColor, clientColor);\n  const images = getImages(imageMap, color);\n  return /*#__PURE__*/_jsx(\"div\", {\n    className: thumbsInner,\n    children: images.map((img, i) => /*#__PURE__*/_jsx(\"div\", {\n      className: `${thumb} ${i === imageIndex ? active : ''}`,\n      children: /*#__PURE__*/_jsx(\"a\", {\n        href: getProductImageUrl(img),\n        onClick: e => handleThumbClick(i, e),\n        children: /*#__PURE__*/_jsx(\"img\", {\n          src: getProductImageUrl(img, i === 0 ? 600 : 100),\n          alt: color,\n          height: \"130\" // This functions as the max height for the image.\n          ,\n          width: 130 * (13 / 18) // the height times the aspect ratio\n\n        })\n      })\n    }, img))\n  });\n}",".outsmartly/analysis/modules/194.js":"// components/Header.js\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React, { useEffect, useRef, useState } from 'react';\nimport Link from 'next/link';\nimport { header, headerBarWrap, headerBar, headerItem, itemFixed, navItem, toggleNavWrap, toggleNav, openDrawerIcon, closeDrawerIcon, logo, logoLink, headerLinkWrap, headerLink, headerLinkSearch, searchIcon, cartIcon, cartIndicator } from './Header.module.css';\nimport CartNotification from './CartNotification';\nimport Icon from './icons/Icon';\nimport { drawer, topLink, dropdown, active } from './SiteNav.module.css';\nimport SiteNav from './SiteNav';\nimport Modal from './Modal';\nimport SearchBar from './SearchBar';\nimport { hideScrollbar } from 'lib/utils';\nimport { loadSearchaniseImmediately } from '../third-party-scripts/searchanise';\nimport jackRabbitComponents from 'jackrabbit.components';\nimport { useHasItemsInCart } from 'third-party-scripts/routeapp';\nconst {\n  LogoComponent\n} = jackRabbitComponents;\nexport default function Header() {\n  const {\n    0: showSearch,\n    1: setShowSearch\n  } = useState(false); // Determine status of cart indicator\n\n  const hasItemsInCart = useHasItemsInCart(); // Grab a reference to elements for later\n\n  const headerRef = useRef();\n  const toggleNavRef = useRef();\n  /** Add click handler */\n\n  useEffect(() => {\n    window.addEventListener('click', handleClick); // Cleanup this component\n\n    return () => {\n      window.removeEventListener('click', handleClick);\n    };\n  }, []);\n  /** Toggle the nav drawer open or closed. Update associated elements. */\n\n  const toggleDrawer = () => {\n    // Set CSS class on body. Expanded becomes `true` when opened\n    let expanded = document.body.classList.toggle('drawer-open'); // Update aria-expanded and button label\n\n    const btn = toggleNavRef.current;\n    const btnLabel = expanded ? 'Close navigation' : 'Open navigation';\n    btn.setAttribute('aria-expanded', expanded);\n    btn.querySelector('.btn-label').textContent = btnLabel; // Update class on site nav\n\n    document.getElementById('sitenav').classList.toggle(drawer); // Consider add title=\"Open navigation\" to markup, and updating here:\n    // btn.setAttribute('title', btnLabel);\n  };\n  /**\n   * Removes \"active\" class from element with the given class\n   * @param {Object} target - the initiating target node\n   * @param {string} className - the modified class name\n   */\n\n\n  const deactivateDropdowns = (target, className) => {\n    const list = target.closest('ul');\n    let activeDropdowns = list.querySelectorAll(`.${className}.${active}`);\n\n    if (activeDropdowns.length) {\n      activeDropdowns.forEach(activeDropdown => {\n        activeDropdown.classList.remove(active);\n      });\n    }\n  };\n  /** Removes \"active\" class from any topLink */\n\n\n  const deactivateTopLinks = () => {\n    let activeLinks = headerRef.current.querySelectorAll(`.${topLink}.${active}`);\n\n    if (activeLinks.length) {\n      activeLinks.forEach(activeLink => {\n        activeLink.classList.remove(active);\n      });\n    }\n  };\n  /**\n   * Handle clicks anywhere on the page.\n   * @param {Object} e - the event object\n   */\n\n\n  const handleClick = e => {\n    const list = e.target.classList; // If it occurred on nav drawer curtain then toggle the nav drawer.\n\n    if (list.contains('closes-drawer')) {\n      toggleDrawer();\n    } // If it occurred on header then remove any active nav links.\n\n\n    if (list.contains(header) || list.contains(headerBar)) {\n      deactivateTopLinks(); // Also close any active dropdowns\n\n      headerLeave();\n    }\n  };\n  /**\n   * Handle when mouse leaves header or dropdown. Locate the <header> element\n   * with a useRef, rather than with an event.target, because sometimes a\n   * dropdown ul will trigger this event.\n   *\n   * Not in nav drawer, only in large screen nav bar\n   */\n\n\n  const headerLeave = () => {\n    let nav = headerRef.current.querySelector('#sitenav');\n\n    if (nav.classList.contains(drawer)) {\n      return;\n    } // Grab the first topLink, since deactivateDropdowns will find a parent list\n\n\n    let firstTopLink = headerRef.current.querySelector(`.${topLink}`);\n    deactivateDropdowns(firstTopLink, dropdown);\n  };\n  /** Called when Search icon is clicked. Opens the Modal with SearchBar. */\n\n\n  const openSearchModal = e => {\n    e.preventDefault();\n    hideScrollbar();\n    setShowSearch(true);\n  };\n  /** Passed to onClose prop of Modal with SearchBar. Called when: 1. Close\n   * button is clicked, 2. backdrop is clicked, or 3. Escape key is pressed.\n   */\n\n\n  const closeSearchModal = () => {\n    setShowSearch(false);\n  };\n\n  return /*#__PURE__*/_jsxs(\"header\", {\n    className: header,\n    onMouseLeave: headerLeave,\n    ref: headerRef,\n    children: [/*#__PURE__*/_jsx(CartNotification, {}), /*#__PURE__*/_jsx(\"div\", {\n      className: headerBarWrap,\n      children: /*#__PURE__*/_jsxs(\"div\", {\n        className: `${headerBar} page-width`,\n        children: [/*#__PURE__*/_jsx(\"div\", {\n          className: `${headerItem} ${toggleNavWrap}`,\n          children: /*#__PURE__*/_jsxs(\"button\", {\n            ref: toggleNavRef,\n            className: toggleNav,\n            type: \"button\",\n            \"aria-expanded\": \"false\",\n            \"aria-controls\": \"sitenav\",\n            onClick: toggleDrawer,\n            children: [/*#__PURE__*/_jsx(Icon, {\n              icon: \"hamburger\",\n              className: openDrawerIcon\n            }), /*#__PURE__*/_jsx(Icon, {\n              icon: \"close3\",\n              className: closeDrawerIcon\n            }), /*#__PURE__*/_jsx(\"span\", {\n              className: \"btn-label visually-hidden\",\n              children: \"Open navigation\"\n            })]\n          })\n        }), /*#__PURE__*/_jsx(\"div\", {\n          className: `${headerItem} ${itemFixed}`,\n          children: /*#__PURE__*/_jsx(Link, {\n            href: \"/\",\n            className: logoLink,\n            children: /*#__PURE__*/_jsx(\"a\", {\n              className: logoLink,\n              \"aria-label\": \"home\",\n              children: /*#__PURE__*/_jsx(LogoComponent, {\n                className: logo\n              })\n            })\n          })\n        }), /*#__PURE__*/_jsx(\"div\", {\n          className: `${headerItem} ${navItem}`,\n          children: /*#__PURE__*/_jsx(SiteNav, {\n            deactivateDropdowns: deactivateDropdowns,\n            deactivateTopLinks: deactivateTopLinks,\n            toggleDrawer: toggleDrawer\n          })\n        }), /*#__PURE__*/_jsx(\"div\", {\n          className: `${headerItem} ${itemFixed}`,\n          children: /*#__PURE__*/_jsxs(\"div\", {\n            className: headerLinkWrap,\n            children: [/*#__PURE__*/_jsxs(\"a\", {\n              href: \"/#search\",\n              className: headerLinkSearch,\n              onClick: openSearchModal // load the searchinse script immediately if mouse enters\n              ,\n              onMouseEnter: loadSearchaniseImmediately,\n              children: [/*#__PURE__*/_jsx(Icon, {\n                icon: \"search-glass\",\n                className: searchIcon\n              }), /*#__PURE__*/_jsx(\"span\", {\n                className: \"visually-hidden\",\n                children: \"Search\"\n              })]\n            }), /*#__PURE__*/_jsx(Link, {\n              href: \"/cart\",\n              children: /*#__PURE__*/_jsxs(\"a\", {\n                className: headerLink,\n                children: [/*#__PURE__*/_jsx(Icon, {\n                  icon: \"cart\",\n                  className: cartIcon\n                }), /*#__PURE__*/_jsx(\"span\", {\n                  className: \"visually-hidden\",\n                  children: \"Cart\"\n                }), /*#__PURE__*/_jsx(\"span\", {\n                  className: hasItemsInCart ? cartIndicator : ''\n                })]\n              })\n            })]\n          })\n        })]\n      })\n    }), /*#__PURE__*/_jsx(Modal, {\n      show: showSearch,\n      onClose: closeSearchModal,\n      keepInDom: \"true\",\n      children: /*#__PURE__*/_jsx(SearchBar, {})\n    })]\n  });\n}",".outsmartly/analysis/modules/205.js":"// lib/getImageUrl.js\nimport { fastImageToCloudinary } from '../outsmartly/helpers/fastImageToCloudinary';\nimport { fromEntries } from './helpers';\nimport { kebabize } from './utils'; // const CLOUDINARY_BUCKET = process.env.CLOUDINARY_BUCKET;\n// const CLOUDINARY_TEMPLATE = process.env.CLOUDINARY_TEMPLATE;\n\nconst CLOUDINARY_BUCKET = 'rbx';\nconst CLOUDINARY_TEMPLATE = 'cdn.shopify.com/s/files/1/1115/2394/';\nconst QUICK_BUILD = process.env.QUICK_BUILD;\nconst TEMPLATE_REGEXP = new RegExp(`.+${CLOUDINARY_TEMPLATE}`);\nconst PRODUCT_REGEXP = new RegExp(`\\^products/`);\nexport function getProductImageUrl(url, width = undefined) {\n  var _url, _url2;\n\n  if (!((_url = url) !== null && _url !== void 0 && _url.includes(CLOUDINARY_TEMPLATE)) && !((_url2 = url) !== null && _url2 !== void 0 && _url2.startsWith('/fast-image'))) {\n    url = `//${CLOUDINARY_TEMPLATE}products/${url}`;\n  }\n\n  return getImageUrl(url, width, '13:18') || 'data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7';\n}\nexport function strippedImage(url) {\n  return url === null || url === void 0 ? void 0 : url.replace(TEMPLATE_REGEXP, '').replace(PRODUCT_REGEXP, '');\n}\n\nfunction getAltTextToColor(variants = []) {\n  const altToColor = {};\n  variants.map(({\n    optionMap,\n    image\n  }) => {\n    const color = optionMap['Color'];\n\n    if (image && color && color !== image.altText) {\n      altToColor[image.altText] = color;\n    }\n  });\n  return altToColor;\n}\n\nexport function getImageMap({\n  images,\n  variants,\n  tags,\n  limit = 5\n}) {\n  const altToColor = getAltTextToColor(variants);\n  const imageMap = images.reduce((map, image) => {\n    var _altToColor$image$alt, _map$colorName;\n\n    const colorName = (_altToColor$image$alt = altToColor[image === null || image === void 0 ? void 0 : image.altText]) !== null && _altToColor$image$alt !== void 0 ? _altToColor$image$alt : image === null || image === void 0 ? void 0 : image.altText;\n    map[colorName] = (_map$colorName = map[colorName]) !== null && _map$colorName !== void 0 ? _map$colorName : [];\n\n    if (map[colorName].length < limit) {\n      const src = strippedImage(image.src);\n      map[colorName].push(src);\n    }\n\n    return map;\n  }, {}); // The available colors are in the tag array, we want the available colors\n  // to be first, so here we are sorting the keys on the image map to put the\n  // images of the available colors first.\n\n  return fromEntries(Object.entries(imageMap).sort(([color1], [color2]) => {\n    const color1Tag = `color-${kebabize(color1)}`;\n    const color2Tag = `color-${kebabize(color2)}`;\n\n    if (tags.includes(color1Tag) && !tags.includes(color2Tag)) {\n      return -1;\n    }\n\n    if (!tags.includes(color1Tag) && tags.includes(color2Tag)) {\n      return 1;\n    }\n\n    return 0;\n  }));\n}\nexport function getImageUrl(url, width = undefined, aspectRatio = undefined) {\n  if (!url) {\n    return '';\n  }\n\n  const aspectString = aspectRatio ? `,c_pad,ar_${aspectRatio},g_north` : '';\n\n  if (url.indexOf('/fast-image') !== -1) {\n    const filePath = url.replace(/.*\\/fast-image\\/(c_scale,(w_\\d+)?,fl_progressive:steep[^/]*\\/)?/, '');\n    const resize = getResize(width, aspectString);\n    url = `/fast-image/${resize}${filePath}`;\n  }\n\n  if (url.indexOf('cdn.shopify.com') !== -1) {\n    const filePath = url.replace(TEMPLATE_REGEXP, '');\n    const resize = getResize(width, aspectString);\n    url = `/fast-image/${resize}${CLOUDINARY_BUCKET}/${filePath}`;\n  }\n\n  if (url.indexOf('res.cloudinary.com/davda9b9c') > -1) {\n    const filePath = url.replace(/.+res.cloudinary.com\\/davda9b9c\\/image\\/upload\\//, '');\n    const resize = getResize(width, aspectString);\n    url = `/fast-image/${resize}${filePath}`;\n  }\n\n  if (true && !QUICK_BUILD) {// pregenerate(url);\n  }\n\n  return url;\n}\nconst pregenerated = {};\nlet prefetchPromise = null;\n\nconst sleep = ms => new Promise(resolve => setTimeout(resolve, ms));\n\nasync function pregenerate(pathname) {\n  try {\n    if (!pathname.startsWith('/fast-image/rbx') || pregenerated[pathname]) {\n      return;\n    }\n\n    await prefetchPromise;\n    const fastImageUrl = new URL(`https://res.cloudinary.com${pathname}`);\n    const cloudinaryUrl = fastImageToCloudinary(fastImageUrl);\n    pregenerated[pathname] = true;\n    prefetchPromise = (await fetch(cloudinaryUrl)).body;\n  } catch (e) {}\n}\n\nfunction getResize(width, aspect) {\n  return width ? `c_scale,w_${width},fl_progressive:steep${aspect}/` : 'fl_progressive:steep/';\n}",".outsmartly/analysis/modules/314.js":"// components/SizingGuide/Boys.js\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { title, tableWrap } from './SizingGuide.module.css';\nexport default function Boys({\n  titleClass = title,\n  wrapClass = tableWrap\n}) {\n  return /*#__PURE__*/_jsxs(\"div\", {\n    id: \"boys\",\n    children: [/*#__PURE__*/_jsx(\"p\", {\n      className: titleClass,\n      children: /*#__PURE__*/_jsx(\"strong\", {\n        children: \"Boys Size Guide\"\n      })\n    }), /*#__PURE__*/_jsx(\"div\", {\n      className: wrapClass,\n      children: /*#__PURE__*/_jsxs(\"table\", {\n        children: [/*#__PURE__*/_jsx(\"thead\", {\n          children: /*#__PURE__*/_jsxs(\"tr\", {\n            children: [/*#__PURE__*/_jsx(\"th\", {\n              scope: \"col\",\n              children: \"Size\"\n            }), /*#__PURE__*/_jsx(\"th\", {\n              scope: \"col\",\n              children: \"US Numeric Size\"\n            }), /*#__PURE__*/_jsx(\"th\", {\n              scope: \"col\",\n              children: \"Height\"\n            }), /*#__PURE__*/_jsx(\"th\", {\n              scope: \"col\",\n              children: \"Weight\"\n            }), /*#__PURE__*/_jsx(\"th\", {\n              scope: \"col\",\n              children: \"Chest\"\n            }), /*#__PURE__*/_jsx(\"th\", {\n              scope: \"col\",\n              children: \"Waist\"\n            }), /*#__PURE__*/_jsx(\"th\", {\n              scope: \"col\",\n              children: \"Hip\"\n            })]\n          })\n        }), /*#__PURE__*/_jsxs(\"tbody\", {\n          children: [/*#__PURE__*/_jsxs(\"tr\", {\n            children: [/*#__PURE__*/_jsx(\"th\", {\n              scope: \"row\",\n              children: \"XXS\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"4\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"38\\\"-41\\\"\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"36-40 lbs\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"22\\\"\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"21\\\"\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"23\\\"\"\n            })]\n          }), /*#__PURE__*/_jsxs(\"tr\", {\n            children: [/*#__PURE__*/_jsx(\"th\", {\n              scope: \"row\",\n              children: \"XS\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"5/6\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"42\\\"-46\\\"\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"40-48 lbs\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"23\\\"-23\\\"\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"21.5\\\"-22\\\"\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"24\\\"-25\\\"\"\n            })]\n          }), /*#__PURE__*/_jsxs(\"tr\", {\n            children: [/*#__PURE__*/_jsx(\"th\", {\n              scope: \"row\",\n              children: \"S\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"7\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"47\\\"-48\\\"\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"47-54 lbs\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"25\\\"\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"22.5\\\"\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"26\\\"\"\n            })]\n          }), /*#__PURE__*/_jsxs(\"tr\", {\n            children: [/*#__PURE__*/_jsx(\"th\", {\n              scope: \"row\",\n              children: \"M\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"8\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"50\\\"-52\\\"\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"55-70 lbs\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"26.5\\\"\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"23.5\\\"\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"26.5\\\"\"\n            })]\n          }), /*#__PURE__*/_jsxs(\"tr\", {\n            children: [/*#__PURE__*/_jsx(\"th\", {\n              scope: \"row\",\n              children: \"L\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"10/12\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"53\\\"-58\\\"\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"70-92 lbs\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"28\\\"-29.5\\\"\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"24.5\\\"-25.5\\\"\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"28.5\\\"-30\\\"\"\n            })]\n          }), /*#__PURE__*/_jsxs(\"tr\", {\n            children: [/*#__PURE__*/_jsx(\"th\", {\n              scope: \"row\",\n              children: \"XL\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"14/16\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"58\\\"-64\\\"\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"92-115 lbs\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"31\\\"-32.5\\\"\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"26.5\\\"-27.5\\\"\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"32\\\"-34\\\"\"\n            })]\n          }), /*#__PURE__*/_jsxs(\"tr\", {\n            children: [/*#__PURE__*/_jsx(\"th\", {\n              scope: \"row\",\n              children: \"XXL\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"18/20\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"64\\\"+\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"116 lbs+\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"33\\\"+\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"28.5\\\"+\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"34\\\"+\"\n            })]\n          })]\n        })]\n      })\n    })]\n  });\n}",".outsmartly/analysis/modules/254.js":"// node_modules/next/dist/next-server/lib/mitt.js\n\"use strict\";\n\nexports.__esModule = true;\nexports.default = mitt;\n/*\nMIT License\nCopyright (c) Jason Miller (https://jasonformat.com/)\nPermission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\nThe above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n*/\n// This file is based on https://github.com/developit/mitt/blob/v1.1.3/src/index.js\n// It's been edited for the needs of this script\n// See the LICENSE at the top of the file\n\nfunction mitt() {\n  const all = Object.create(null);\n  return {\n    on(type, handler) {\n      ;\n      (all[type] || (all[type] = [])).push(handler);\n    },\n\n    off(type, handler) {\n      if (all[type]) {\n        all[type].splice(all[type].indexOf(handler) >>> 0, 1);\n      }\n    },\n\n    emit(type, ...evts) {\n      // eslint-disable-next-line array-callback-return\n      ;\n      (all[type] || []).slice().map(handler => {\n        handler(...evts);\n      });\n    }\n\n  };\n}",".outsmartly/analysis/modules/334.js":"// components/Collection/ProductCard.js\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport Link from 'next/link';\nimport ProductRating from 'components/Product/ProductRating';\nimport ProductColor from 'components/ProductOption/ProductColor';\nimport { productCard, imageWrap, multiImage, mainImage, secondaryImage, overlay, overlayBtn, trigger, productCardInfo, productName, productPrice, regularPrice, salePrice, productCardColorSwatch, productCardSwatchItem, productRatingWrap } from './ProductCard.module.css';\nimport { getProductImageUrl } from 'lib/getImageUrl';\nimport ProductTag from 'components/Product/ProductTag';\nimport { useEffect, useState } from 'react';\nimport { selectedImagesState } from 'context/selectedImagesState';\nimport { getDiscountInfo } from 'lib/discounts';\nexport default function ProductCard({\n  className,\n  handle,\n  product,\n  onQuickClick\n}) {\n  var _images$, _images$2, _images$3;\n\n  const {\n    images,\n    selectSingleOption\n  } = selectedImagesState({\n    product\n  });\n  const {\n    0: isLargeScreen,\n    1: setIsLargeScreen\n  } = useState(false);\n  useEffect(() => {\n    var _window;\n\n    setIsLargeScreen(((_window = window) === null || _window === void 0 ? void 0 : _window.innerWidth) >= 990);\n  }, []);\n  const href = `/collections/${handle}/products/${product.handle}`;\n  /**\n   * Handles a click on the Product Card overlay button\n   * @param {Object} e - the event object\n   * @param {Number} id - the product id\n   */\n\n  const handleQuickViewClick = (e, productHandle) => {\n    e.preventDefault(); // Open modal for this product handle\n    //console.log('Open modal for product', productHandle);\n\n    onQuickClick(productHandle);\n  }; // Show from price\n\n\n  const {\n    priceText,\n    saleMessage,\n    oldPrice\n  } = getDiscountInfo(product);\n  return /*#__PURE__*/_jsxs(\"li\", {\n    className: className,\n    children: [/*#__PURE__*/_jsx(Link, {\n      href: href,\n      children: /*#__PURE__*/_jsx(\"a\", {\n        className: productCard,\n        children: /*#__PURE__*/_jsxs(\"div\", {\n          className: `${imageWrap} ${multiImage}`,\n          children: [/*#__PURE__*/_jsx(ProductTag, {\n            product: product\n          }), /*#__PURE__*/_jsx(ProductTag, {\n            product: product,\n            extended: true\n          }), /*#__PURE__*/_jsx(\"img\", {\n            src: getProductImageUrl((_images$ = images[0]) === null || _images$ === void 0 ? void 0 : _images$.src, 600),\n            alt: `${product.title} - ${(_images$2 = images[0]) === null || _images$2 === void 0 ? void 0 : _images$2.altText}`,\n            className: mainImage,\n            loading: \"lazy\"\n          }), /*#__PURE__*/_jsx(\"img\", {\n            src: getProductImageUrl(isLargeScreen && images.length > 1 ? images[1].src : images[0].src, 600),\n            alt: `${product.title} - ${(_images$3 = images[0]) === null || _images$3 === void 0 ? void 0 : _images$3.altText}`,\n            className: secondaryImage,\n            \"aria-hidden\": \"true\",\n            loading: \"lazy\"\n          }), /*#__PURE__*/_jsx(\"div\", {\n            className: overlay,\n            children: /*#__PURE__*/_jsx(\"span\", {\n              className: `${overlayBtn} ${trigger}`,\n              onClick: e => handleQuickViewClick(e, product.handle),\n              children: \"Quick Shop\"\n            })\n          })]\n        })\n      })\n    }), /*#__PURE__*/_jsxs(\"div\", {\n      className: productCardInfo,\n      children: [/*#__PURE__*/_jsx(\"div\", {\n        className: productName,\n        children: product.title\n      }), /*#__PURE__*/_jsx(\"div\", {\n        className: productPrice,\n        children: oldPrice ? /*#__PURE__*/_jsxs(_Fragment, {\n          children: [/*#__PURE__*/_jsx(\"span\", {\n            className: \"visually-hidden\",\n            children: \"Sale price\"\n          }), /*#__PURE__*/_jsx(\"span\", {\n            className: salePrice,\n            children: priceText\n          }), /*#__PURE__*/_jsx(\"span\", {\n            className: \"visually-hidden\",\n            children: \"Regular price\"\n          }), /*#__PURE__*/_jsxs(\"s\", {\n            className: regularPrice,\n            children: [\"$\", oldPrice]\n          })]\n        }) : priceText\n      }), saleMessage ? /*#__PURE__*/_jsx(\"div\", {\n        style: {\n          margin: '6px 0 0 0',\n          fontSize: '12px'\n        },\n        children: saleMessage\n      }) : null]\n    }), product.numReviews && product.numReviews > 0 && /*#__PURE__*/_jsx(Link, {\n      href: href,\n      children: /*#__PURE__*/_jsx(\"a\", {\n        className: productRatingWrap,\n        children: /*#__PURE__*/_jsx(ProductRating, {\n          rating: product.rating,\n          numReviews: product.numReviews\n        })\n      })\n    }), /*#__PURE__*/_jsx(ProductColor, {\n      listItemType: productCardSwatchItem,\n      colorParent: productCardColorSwatch,\n      product: product,\n      selectSingleOption: selectSingleOption\n    })]\n  });\n}",".outsmartly/analysis/modules/274.js":"// lib/shopify/loadCollectionHandles.ts\nimport { getShopifyClient } from './shopifyClient';\nexport async function _loadCollectionHandles({\n  graphqlParams,\n  query = undefined,\n  cursor = undefined\n}) {\n  var _data$collections, _edges$filter, _data$collections2, _data$collections2$pa;\n\n  const shopifyClient = getShopifyClient(graphqlParams);\n  const data = await shopifyClient.request(collectionsQuery({\n    cursor,\n    query\n  }));\n  const edges = data === null || data === void 0 ? void 0 : (_data$collections = data.collections) === null || _data$collections === void 0 ? void 0 : _data$collections.edges;\n  let collections = edges === null || edges === void 0 ? void 0 : (_edges$filter = edges.filter(hasValidProducts)) === null || _edges$filter === void 0 ? void 0 : _edges$filter.map(({\n    node\n  }) => node.handle);\n  console.log(collections.length);\n\n  if (data !== null && data !== void 0 && (_data$collections2 = data.collections) !== null && _data$collections2 !== void 0 && (_data$collections2$pa = _data$collections2.pageInfo) !== null && _data$collections2$pa !== void 0 && _data$collections2$pa.hasNextPage) {\n    const {\n      cursor\n    } = edges[edges.length - 1];\n    const nextResult = await _loadCollectionHandles({\n      graphqlParams,\n      cursor,\n      query\n    });\n    collections = collections.concat(nextResult);\n  }\n\n  return collections;\n}\n\nfunction hasValidProducts({\n  node\n}) {\n  var _node$products;\n\n  const products = node === null || node === void 0 ? void 0 : (_node$products = node.products) === null || _node$products === void 0 ? void 0 : _node$products.edges;\n  const validProducts = products === null || products === void 0 ? void 0 : products.filter(({\n    node\n  }) => node.availableForSale && node.onlineStoreUrl);\n  return validProducts.length > 1;\n}\n\nfunction collectionsQuery({\n  cursor,\n  query\n}) {\n  const afterCursor = cursor ? `, after: \"${cursor}\"` : '';\n  return `{\n        collections(first: 100${afterCursor}, query:\"collection_type:custom\") {\n          edges {\n            cursor\n            node {              \n              handle\n              products(first: 2) {\n                edges {\n                  cursor\n                  node {\n                    availableForSale\n                    onlineStoreUrl\n                  }\n                }\n              }  \n            }\n          }\n          pageInfo {            \n            hasNextPage\n          }\n        }\n      }`;\n}",".outsmartly/analysis/modules/225.js":"// lib/scrape/scrapeOutfitsPage.ts\nimport cheerio from 'cheerio';\nimport { getImageUrl } from 'lib/getImageUrl';\nimport { STORE_URL } from 'outsmartly/variables';\nimport { scrapeBannerImg } from './scrapePage';\nexport async function scrapeOutfitsPage() {\n  const response = await fetch(`${STORE_URL}/pages/outfits?__orly_origin=shopify`);\n  const text = await response.text();\n  const outfits = processDOM(text);\n  const bannerImg = scrapeBannerImg(text);\n  return {\n    bannerImg,\n    outfits\n  };\n}\n\nfunction processDOM(html) {\n  const $ = cheerio.load(html);\n  const outfits = [];\n  $('.outfit-card').each(function () {\n    const href = $(this).find('a').attr('href');\n\n    if (href) {\n      const handle = href.split('/').pop();\n      const outfit = {\n        handle,\n        href,\n        src: getImageUrl($(this).find('img').attr('src').replace(/_large\\.jpg/, '.jpg'), 600),\n        //get full size image\n        title: $(this).find('h3').text(),\n        text: $(this).find('.piece').text()\n      };\n      outfits.push(outfit);\n    }\n  });\n  return outfits;\n}",".outsmartly/analysis/modules/147.js":"// components/FilterSidebar/Callouts.js\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { calloutGroup } from './Callouts.module.css';\nimport { calloutElem, content, contentHeading, link } from './Callout.module.css';\nimport { CalloutsNoCss } from './CalloutsNoCss';\nexport default function Callouts(_ref) {\n  var callouts = _ref.callouts;\n  return /*#__PURE__*/_jsx(CalloutsNoCss, {\n    callouts: callouts,\n    css: {\n      calloutGroup: calloutGroup,\n      calloutElem: calloutElem,\n      content: content,\n      contentHeading: contentHeading,\n      link: link\n    }\n  });\n}",".outsmartly/analysis/modules/116.js":"// node_modules/next/dist/next-server/lib/side-effect.js\n\"use strict\";\n\nvar _toConsumableArray = require(\"/Users/kai/Work/rbx-rewrite/node_modules/next/node_modules/@babel/runtime/helpers/toConsumableArray\");\n\nvar _classCallCheck = require(\"/Users/kai/Work/rbx-rewrite/node_modules/next/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/Users/kai/Work/rbx-rewrite/node_modules/next/node_modules/@babel/runtime/helpers/createClass\");\n\nvar _assertThisInitialized = require(\"/Users/kai/Work/rbx-rewrite/node_modules/next/node_modules/@babel/runtime/helpers/assertThisInitialized\");\n\nvar _inherits = require(\"/Users/kai/Work/rbx-rewrite/node_modules/next/node_modules/@babel/runtime/helpers/inherits\");\n\nvar _possibleConstructorReturn = require(\"/Users/kai/Work/rbx-rewrite/node_modules/next/node_modules/@babel/runtime/helpers/possibleConstructorReturn\");\n\nvar _getPrototypeOf = require(\"/Users/kai/Work/rbx-rewrite/node_modules/next/node_modules/@babel/runtime/helpers/getPrototypeOf\");\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nexports.__esModule = true;\nexports[\"default\"] = void 0;\n\nvar _react = require(\"react\");\n\nvar isServer = false;\n\nvar _default = /*#__PURE__*/function (_react$Component) {\n  _inherits(_default, _react$Component);\n\n  var _super = _createSuper(_default);\n\n  function _default(props) {\n    var _this;\n\n    _classCallCheck(this, _default);\n\n    _this = _super.call(this, props);\n    _this._hasHeadManager = void 0;\n\n    _this.emitChange = function () {\n      if (_this._hasHeadManager) {\n        _this.props.headManager.updateHead(_this.props.reduceComponentsToState(_toConsumableArray(_this.props.headManager.mountedInstances), _this.props));\n      }\n    };\n\n    _this._hasHeadManager = _this.props.headManager && _this.props.headManager.mountedInstances;\n\n    if (isServer && _this._hasHeadManager) {\n      _this.props.headManager.mountedInstances.add(_assertThisInitialized(_this));\n\n      _this.emitChange();\n    }\n\n    return _this;\n  }\n\n  _createClass(_default, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      if (this._hasHeadManager) {\n        this.props.headManager.mountedInstances.add(this);\n      }\n\n      this.emitChange();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      this.emitChange();\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      if (this._hasHeadManager) {\n        this.props.headManager.mountedInstances[\"delete\"](this);\n      }\n\n      this.emitChange();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return null;\n    }\n  }]);\n\n  return _default;\n}(_react.Component);\n\nexports[\"default\"] = _default;",".outsmartly/analysis/modules/287.js":"// components/Accordion/Accordion.js\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React, { useState } from 'react';\nimport { accordion } from './Accordion.module.css';\nimport AccordionItem from './AccordionItem';\n/** Creates an accordion widget with the items you pass in.\n * @param {Array} items - an array of item objects. Keys: id, title, content.\n * @param {Boolean} allowMultipleOpen - when false (default), only one item can\n * be open at a time. When true, multiple items can be open.\n * @param {Object} cssClasses - object containing styling classes from the caller.\n * @param {Array<String>} initiallyOpen - array of title strings for the items\n * that should be open initially. If allowMultipleOpen is false, only the first\n * item will be open initially.\n */\n\nexport default function Accordion({\n  items,\n  allowMultipleOpen = false,\n  cssClasses,\n  initiallyOpen = [],\n  buttonVariant\n}) {\n  // Determine which items should be open initially\n  const {\n    0: openItems,\n    1: setOpenItems\n  } = useState(new Set(initiallyOpen.length ? allowMultipleOpen ? initiallyOpen : [initiallyOpen[0]] : []));\n  /** Opens or closes the clicked content panel */\n\n  const togglePanel = title => {\n    // Make a copy\n    const openItemsCopy = new Set(openItems); // If item present in the set, remove it\n\n    if (openItems.has(title)) {\n      openItemsCopy.delete(title);\n    } else {\n      // If item not present, first check if we need to clear all\n      if (!allowMultipleOpen) {\n        openItemsCopy.clear();\n      } // Add the item\n\n\n      openItemsCopy.add(title);\n    }\n\n    setOpenItems(openItemsCopy);\n  };\n\n  return /*#__PURE__*/_jsx(\"div\", {\n    className: accordion,\n    children: items.map(item => /*#__PURE__*/_jsx(AccordionItem, {\n      title: item.title,\n      isActive: openItems.has(item.title),\n      onClick: togglePanel,\n      duration: 350,\n      cssClasses: cssClasses,\n      buttonVariant: buttonVariant,\n      children: item.content\n    }, item.id))\n  });\n}",".outsmartly/analysis/modules/180.js":"// pages/collections/[collection].tsx\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport Collection from 'components/Collection';\nimport OutfitCollection from 'components/OutfitCollection';\nimport { getStaticPathsWrapper } from 'lib/getStaticPathsWrapper';\nimport { nav } from 'lib/scrape/scrapeNav';\nimport { scrapeOutfitsPage } from 'lib/scrape/scrapeOutfitsPage';\nexport { getStaticProps } from './[collection]/[tagQuery]';\n/** Return the list of paths that will match this dynamic page */\n\nexport const getStaticPaths = getStaticPathsWrapper(async () => {\n  const outfitsPage = await scrapeOutfitsPage();\n  const outfitHandles = outfitsPage.outfits.map(({\n    handle\n  }) => handle);\n  const collections = [...outfitHandles, ...(await nav).collections];\n  const paths = collections.map(collection => {\n    return {\n      params: {\n        collection\n      }\n    };\n  });\n  return {\n    paths,\n    fallback: 'blocking'\n  };\n});\n/** Choose the component for rendering this collection */\n\nexport default function Choose({\n  content,\n  callouts\n}) {\n  return content.handle.includes('-outfit-') ? /*#__PURE__*/_jsx(OutfitCollection, {\n    content: content\n  }) : /*#__PURE__*/_jsx(Collection, {\n    content: content,\n    callouts: callouts\n  });\n}",".outsmartly/analysis/modules/211.js":"// components/Afterpay/Afterpay.js\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React from 'react';\nimport { afterpayModalWrapper, gridContainer, row0, row1, row3, process, processStep1, processStep2, processStep3, processStep4, afterpayLogoBlack, afterpayModalHeadline, processIconContainer, processSubheading, shoppingCart, afterpayDesktop, afterpayMobile, signUpDesktop, signUpMobile, fourPayments, disclaimer, disclaimerLink, loanAgreement } from './Afterpay.module.css';\nimport AfterpayIconSet from './AfterpayIconSet';\nimport Icon from 'components/icons/Icon';\nexport default function Afterpay() {\n  return /*#__PURE__*/_jsxs(\"div\", {\n    className: afterpayModalWrapper,\n    children: [/*#__PURE__*/_jsx(\"meta\", {\n      name: \"viewport\",\n      content: \"width=device-width,initial-scale=1.0\"\n    }), /*#__PURE__*/_jsx(AfterpayIconSet, {}), /*#__PURE__*/_jsxs(\"div\", {\n      className: gridContainer,\n      children: [/*#__PURE__*/_jsx(\"div\", {\n        className: row0,\n        children: /*#__PURE__*/_jsx(Icon, {\n          icon: \"afterpay-logo\",\n          className: afterpayLogoBlack,\n          \"aria-label\": \"Afterpay logo black\"\n        })\n      }), /*#__PURE__*/_jsxs(\"div\", {\n        className: row1,\n        children: [/*#__PURE__*/_jsxs(\"h3\", {\n          className: afterpayModalHeadline,\n          children: [\"Shop now. \", /*#__PURE__*/_jsx(\"span\", {\n            children: \"Pay later.\"\n          })]\n        }), /*#__PURE__*/_jsx(\"h3\", {\n          className: afterpayModalHeadline,\n          children: \"Always interest-free.\"\n        })]\n      }), /*#__PURE__*/_jsxs(\"div\", {\n        className: `${process} ${processStep1}`,\n        children: [/*#__PURE__*/_jsx(\"div\", {\n          className: processIconContainer,\n          children: /*#__PURE__*/_jsx(Icon, {\n            icon: \"afterpay-cart\",\n            className: shoppingCart,\n            \"aria-label\": \"Shopping cart\"\n          })\n        }), /*#__PURE__*/_jsxs(\"p\", {\n          className: processSubheading,\n          children: [\"Add your\", /*#__PURE__*/_jsx(\"br\", {}), \"favorites to cart\"]\n        })]\n      }), /*#__PURE__*/_jsxs(\"div\", {\n        className: `${process} ${processStep2}`,\n        children: [/*#__PURE__*/_jsxs(\"div\", {\n          className: processIconContainer,\n          children: [/*#__PURE__*/_jsx(Icon, {\n            icon: \"afterpay-desktop\",\n            className: afterpayDesktop,\n            \"aria-label\": \"Afterpay laptop\"\n          }), /*#__PURE__*/_jsx(Icon, {\n            icon: \"afterpay-mobile\",\n            className: afterpayMobile,\n            \"aria-label\": \"Afterpay mobile\"\n          })]\n        }), /*#__PURE__*/_jsx(\"p\", {\n          className: processSubheading,\n          children: \"Select Afterpay at checkout\"\n        })]\n      }), /*#__PURE__*/_jsxs(\"div\", {\n        className: `${process} ${processStep3}`,\n        children: [/*#__PURE__*/_jsxs(\"div\", {\n          className: processIconContainer,\n          children: [/*#__PURE__*/_jsx(Icon, {\n            icon: \"afterpay-signup-desktop\",\n            className: signUpDesktop,\n            \"aria-label\": \"Sign up laptop\"\n          }), /*#__PURE__*/_jsx(Icon, {\n            icon: \"afterpay-signup-mobile\",\n            className: signUpMobile,\n            \"aria-label\": \"Sign up mobile\"\n          })]\n        }), /*#__PURE__*/_jsx(\"p\", {\n          className: processSubheading,\n          children: \"Log into or create your Afterpay account, instant approval decision\"\n        })]\n      }), /*#__PURE__*/_jsxs(\"div\", {\n        className: `${process} ${processStep4}`,\n        children: [/*#__PURE__*/_jsx(\"div\", {\n          className: processIconContainer,\n          children: /*#__PURE__*/_jsx(Icon, {\n            icon: \"afterpay-four-payments\",\n            className: fourPayments,\n            \"aria-label\": \"Four payments\"\n          })\n        }), /*#__PURE__*/_jsx(\"p\", {\n          className: processSubheading,\n          children: \"Your purchase will be split into 4 payments, payable every 2 weeks\"\n        })]\n      }), /*#__PURE__*/_jsx(\"div\", {\n        className: row3,\n        children: /*#__PURE__*/_jsxs(\"p\", {\n          className: disclaimer,\n          children: [\"You must be over 18, a resident of the U.S. and meet additional eligibility criteria to qualify. Late fees may apply. Estimated payment amounts shown on product pages exclude taxes and shipping charges, which are added at checkout. Click\", ' ', /*#__PURE__*/_jsx(\"a\", {\n            href: \"https://www.afterpay.com/purchase-payment-agreement\",\n            \"aria-label\": \"Afterpay Terms (New Window)\",\n            target: \"_blank\",\n            rel: \"noopener\",\n            className: disclaimerLink,\n            children: \"here\"\n          }), ' ', \"for complete terms.\", /*#__PURE__*/_jsx(\"span\", {\n            className: loanAgreement,\n            children: \"Loans to California residents made or arranged pursuant to a California Finance Lenders Law license.\"\n          }), /*#__PURE__*/_jsx(\"span\", {\n            children: \"\\xA9 2020 Afterpay\"\n          })]\n        })\n      })]\n    })]\n  });\n}",".outsmartly/analysis/modules/240.js":"// components/GuestIntro.js\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { container, list, listCloseBtn, notification, content, msg, action, actionBtn, notificationCloseBtn } from './GuestIntro.module.css';\n/**\n * GuestIntro\n *\n * Creates a popup notification message for a first time guest\n */\n\nexport function GuestIntro({\n  onClose,\n  onLearnMore\n}) {\n  return /*#__PURE__*/_jsx(\"div\", {\n    className: container,\n    children: /*#__PURE__*/_jsxs(\"div\", {\n      className: list,\n      children: [/*#__PURE__*/_jsx(\"div\", {\n        className: listCloseBtn,\n        onClick: () => onClose(false),\n        children: \"\\xD7\"\n      }), /*#__PURE__*/_jsxs(\"div\", {\n        className: notification,\n        children: [/*#__PURE__*/_jsxs(\"div\", {\n          className: content,\n          children: [/*#__PURE__*/_jsx(\"div\", {\n            className: msg,\n            children: \"Did you know you can earn points for signing up, making purchases and more?\"\n          }), /*#__PURE__*/_jsx(\"div\", {\n            className: action,\n            children: /*#__PURE__*/_jsx(\"a\", {\n              className: actionBtn,\n              tabIndex: \"0\",\n              onClick: onLearnMore,\n              children: \"Learn more\"\n            })\n          })]\n        }), /*#__PURE__*/_jsx(\"a\", {\n          className: notificationCloseBtn,\n          tabIndex: \"0\",\n          children: \"\\xD7\"\n        })]\n      })]\n    })\n  });\n}",".outsmartly/analysis/modules/300.js":"// context/getCollectionInfo.ts\nimport { fetchJson } from 'lib/utils';\nimport { useRouter } from 'next/router';\nimport { useEffect, useState } from 'react';\nexport function getCollectionInfo(defaultInfo) {\n  if (defaultInfo) {\n    return defaultInfo;\n  }\n\n  const {\n    0: collectionInfo,\n    1: setCollectionInfo\n  } = useState({});\n  const router = useRouter();\n  useEffect(() => {\n    if (typeof document !== 'undefined') {\n      var _document;\n\n      const pathname = (_document = document) === null || _document === void 0 ? void 0 : _document.location.pathname;\n      const match = pathname === null || pathname === void 0 ? void 0 : pathname.match(/collections\\/([^\\/]+)\\//);\n\n      if (match) {\n        const handle = match[1];\n        const {\n          collectionHandle\n        } = collectionInfo;\n\n        if (collectionHandle !== handle) {\n          fetchInfo(handle).then(setCollectionInfo);\n        }\n      }\n    }\n  }, [router.pathname]);\n  return collectionInfo;\n}\nconst cachedResults = {};\n\nasync function fetchInfo(handle) {\n  if (!cachedResults[handle]) {\n    const json = await fetchJson(`/api/_next/collectionTitle?handle=${handle}`);\n    cachedResults[handle] = json;\n  }\n\n  return cachedResults[handle];\n}",".outsmartly/analysis/modules/122.js":"// context/getVariant.ts\nexport function getVariant(product, options) {\n  if (!product.variants) {\n    return {\n      price: product.price\n    };\n  }\n\n  return product.variants.find(function (_ref) {\n    var optionMap = _ref.optionMap;\n    return options.every(function (option) {\n      return optionMap[option.name] === option.value;\n    });\n  });\n}",".outsmartly/analysis/modules/173.js":"// pages/api/logger.ts\nexport default function logger(req, res) {\n  console.log('\\n================================================');\n  console.log('Logger API route got this:', JSON.stringify(req.body, null, 2));\n  res.json({});\n}",".outsmartly/analysis/modules/3.js":"// components/FeaturedNoCss.js\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports._outsmartly_thunk = _outsmartly_thunk;\n\nvar _objectWithoutProperties2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutProperties\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _FeaturedContent = _interopRequireDefault(require(\"./FeaturedContent\"));\n\nvar _trackExposure = require(\"./outsmartly/track-exposure\");\n\nvar __jsx = _react[\"default\"].createElement;\n\nfunction _outsmartly_thunk(_temp) {\n  if (_outsmartly_slices.$1 || _outsmartly_slices.$2) {\n    var featuredItems = _temp.featuredItems,\n        _temp$css = _temp.css,\n        featured = _temp$css.featured,\n        featuredItem = _temp$css.featuredItem,\n        featuredImage = _temp$css.featuredImage,\n        restCss = (0, _objectWithoutProperties2[\"default\"])(_temp$css, [\"featured\", \"featuredItem\", \"featuredImage\"]);\n  }\n\n  if (_outsmartly_branch_selections.$0) {\n    {\n      if (_outsmartly_slices.$1) {\n        _outsmartly_outlets.$1 = featuredItems.map(function (item) {\n          return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n            className: featuredItem,\n            key: item.linkRoute\n          }, /*#__PURE__*/_react[\"default\"].createElement(_trackExposure.TrackExposure, {\n            outsmartlyTracking: item.outsmartlyTracking\n          }, /*#__PURE__*/_react[\"default\"].createElement(\"img\", {\n            className: featuredImage,\n            src: item.imgSrc,\n            alt: item.imgAlt,\n            loading: \"lazy\"\n          })), /*#__PURE__*/_react[\"default\"].createElement(_FeaturedContent[\"default\"], {\n            parent: \"featured\",\n            id: item.id,\n            titleText: item.title,\n            subtitleText: item.subtitle,\n            captionText: item.caption,\n            linkText: item.linkText,\n            linkRoute: item.linkRoute,\n            align: item.align,\n            item: item // Outsmartly's CLI does not currently support CSS Modules so we\n            // need to pass these in as props and thread them through, for the time being\n            ,\n            // Outsmartly's CLI does not currently support CSS Modules so we\n            // need to pass these in as props and thread them through, for the time being\n            css: restCss,\n            outsmartlyTracking: item.outsmartlyTracking\n          }));\n        });\n      }\n\n      if (_outsmartly_slices.$2) {\n        _outsmartly_outlets.$2 = featured;\n      }\n    }\n    return _outsmartly_no_return;\n  } else {\n    return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n      className: featured\n    }, featuredItems.map(function (item) {\n      return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: featuredItem,\n        key: item.linkRoute\n      }, /*#__PURE__*/_react[\"default\"].createElement(_trackExposure.TrackExposure, {\n        outsmartlyTracking: item.outsmartlyTracking\n      }, /*#__PURE__*/_react[\"default\"].createElement(\"img\", {\n        className: featuredImage,\n        src: item.imgSrc,\n        alt: item.imgAlt,\n        loading: \"lazy\"\n      })), /*#__PURE__*/_react[\"default\"].createElement(_FeaturedContent[\"default\"], {\n        parent: \"featured\",\n        id: item.id,\n        titleText: item.title,\n        subtitleText: item.subtitle,\n        captionText: item.caption,\n        linkText: item.linkText,\n        linkRoute: item.linkRoute,\n        align: item.align,\n        item: item // Outsmartly's CLI does not currently support CSS Modules so we\n        // need to pass these in as props and thread them through, for the time being\n        ,\n        // Outsmartly's CLI does not currently support CSS Modules so we\n        // need to pass these in as props and thread them through, for the time being\n        css: restCss,\n        outsmartlyTracking: item.outsmartlyTracking\n      }));\n    }));\n  }\n}\n\nvar FeaturedNoCss = _outsmartly_thunk;",".outsmartly/analysis/modules/163.js":"// components/Product/ProductPhotos/Thumbnails.js\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { getProductImageUrl } from '../../../lib/getImageUrl';\nimport { useOverrideProp } from './ProductPhotosMainImage';\n\nfunction getImages(imageMap, color) {\n  var _imageMap$color;\n\n  return (_imageMap$color = imageMap[color]) !== null && _imageMap$color !== void 0 ? _imageMap$color : Object.values(imageMap)[0];\n}\n\nexport function Thumbnails(_ref) {\n  var thumbsInner = _ref.thumbsInner,\n      thumb = _ref.thumb,\n      _ref$serverColor = _ref.serverColor,\n      serverColor = _ref$serverColor === void 0 ? undefined : _ref$serverColor,\n      clientColor = _ref.clientColor,\n      imageMap = _ref.imageMap,\n      imageIndex = _ref.imageIndex,\n      active = _ref.active,\n      handleThumbClick = _ref.handleThumbClick;\n  var color = useOverrideProp(serverColor, clientColor);\n  var images = getImages(imageMap, color);\n  return /*#__PURE__*/_jsx(\"div\", {\n    className: thumbsInner,\n    children: images.map(function (img, i) {\n      return /*#__PURE__*/_jsx(\"div\", {\n        className: \"\".concat(thumb, \" \").concat(i === imageIndex ? active : ''),\n        children: /*#__PURE__*/_jsx(\"a\", {\n          href: getProductImageUrl(img),\n          onClick: function onClick(e) {\n            return handleThumbClick(i, e);\n          },\n          children: /*#__PURE__*/_jsx(\"img\", {\n            src: getProductImageUrl(img, i === 0 ? 600 : 100),\n            alt: color,\n            height: \"130\" // This functions as the max height for the image.\n            ,\n            width: 130 * (13 / 18) // the height times the aspect ratio\n\n          })\n        })\n      }, img);\n    })\n  });\n}",".outsmartly/analysis/modules/132.js":"// components/Slider/Slider.js\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport _slicedToArray from \"/Users/kai/Work/rbx-rewrite/node_modules/next/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport { useState, useRef, useEffect, forwardRef, useImperativeHandle } from 'react';\nimport { slider, bounceLeft, bounceRight } from './Slider.module.css';\nimport { SlideContainer } from './SlideContainer';\nimport { Arrow } from './Arrow';\nimport { Dots } from './Dots'; // In order to allow parent to use Slider's navigatePage() method, we must do\n// Ref Forwarding along with useImperativeHandle. See:\n// https://reactjs.org/docs/forwarding-refs.html and\n// https://reactjs.org/docs/hooks-reference.html#useimperativehandle\n\nexport var Slider = /*#__PURE__*/forwardRef(SliderComponent);\n/**\n * Creates a container that we can style and position. Has a child which is\n * <SlideContainer/>. Holds logic for navigating to previous/next page of\n * slides by clicking Dots or Arrow buttons.\n */\n\nfunction SliderComponent(_ref, ref) {\n  var slides = _ref.slides,\n      slideComponent = _ref.slideComponent,\n      _ref$slideWidth = _ref.slideWidth,\n      slideWidth = _ref$slideWidth === void 0 ? 290 : _ref$slideWidth,\n      _ref$gap = _ref.gap,\n      gap = _ref$gap === void 0 ? 15 : _ref$gap,\n      _ref$transition = _ref.transition,\n      transition = _ref$transition === void 0 ? 700 : _ref$transition,\n      scrollerClass = _ref.scrollerClass,\n      windowWidth = _ref.windowWidth;\n\n  var _useState = useState(0),\n      translate = _useState[0],\n      setTranslate = _useState[1];\n\n  var _useState2 = useState([]),\n      pageStops = _useState2[0],\n      setPageStops = _useState2[1];\n\n  var _useState3 = useState(1),\n      currentPage = _useState3[0],\n      setCurrentPage = _useState3[1];\n\n  var _useState4 = useState(''),\n      bounceClass = _useState4[0],\n      setBounceClass = _useState4[1]; // Grab a reference to the slider widget element\n\n\n  var sliderEl = useRef(); // Update layout when window is resized\n\n  useEffect(function () {\n    // Find the zero-based index of the current slide, then navigate to it\n    navigatePage(translate / (slideWidth + gap));\n  }, [windowWidth]);\n  /**\n   * Determine page stops for Dots\n   * @returns {Number[]} array of page stop values\n   */\n\n  function getPageStops() {\n    var array = [];\n\n    var _getPageSizeWidth = getPageSizeWidth(),\n        _getPageSizeWidth2 = _slicedToArray(_getPageSizeWidth, 2),\n        pageSize = _getPageSizeWidth2[0],\n        pageWidth = _getPageSizeWidth2[1]; // Note: pageSize will never be 0\n\n\n    var pagesDecimal = slides.length / pageSize;\n    var max = getMaxTranslate();\n\n    for (var i = 0; i < pagesDecimal; i++) {\n      if (i * pageWidth > max) {\n        array.push(max);\n      } else {\n        array.push(i * pageWidth);\n      }\n    }\n\n    return array;\n  }\n  /**\n   * Returns the page size (number of full slides that appear on a page) and the\n   * page width (width of full slides plus gaps, in pixels). Called initially\n   * and on any interaction.\n   * @returns {Array} [pageSize, pageWidth]\n   */\n\n\n  function getPageSizeWidth() {\n    var currentWidth = getCurrentWidth();\n    var size = Math.floor((currentWidth - slideWidth) / (slideWidth + gap)) + 1; // If 0 full slides fit, handle as if 1 full slide fits\n\n    if (size === 0) {\n      size = 1;\n    }\n\n    var width = size * (slideWidth + gap);\n    return [size, width];\n  }\n  /** Gets the translation amount that puts the last slide on the right edge */\n\n\n  function getMaxTranslate() {\n    var trayWidth = (slideWidth + gap) * slides.length - gap;\n    var currentWidth = getCurrentWidth();\n    return trayWidth - currentWidth;\n  }\n  /** Gets the current width of the slider element */\n\n\n  function getCurrentWidth() {\n    var _sliderEl$current;\n\n    return ((_sliderEl$current = sliderEl.current) === null || _sliderEl$current === void 0 ? void 0 : _sliderEl$current.getBoundingClientRect().width) || 0;\n  } // Here we make it possible for a parent to call navigatePage() like this:\n  // sliderRef.current.navigatePage()\n\n\n  useImperativeHandle(ref, function () {\n    return {\n      navigatePage: navigatePage\n    };\n  });\n  /**\n   * Navigates to a different page of slides. Called when a single Dot is\n   * clicked, or when the Previous or Next arrow is clicked. Also called when\n   * swipe left or swipe right event occurs anywhere inside the parent\n   * component.\n   * @param {number | string} target - either the zero-based index of the first\n   * slide on the desired page, or 'previous' or 'next'.\n   */\n\n  function navigatePage(target) {\n    // Before doing anything, recalculate page layout in case anything changed\n    var pageStops = getPageStops();\n\n    var _getPageSizeWidth3 = getPageSizeWidth(),\n        _getPageSizeWidth4 = _slicedToArray(_getPageSizeWidth3, 2),\n        pageSize = _getPageSizeWidth4[0],\n        pageWidth = _getPageSizeWidth4[1];\n\n    var max = getMaxTranslate();\n    var currentWidth = getCurrentWidth();\n    var attempt, newTranslate, newPage;\n\n    if (typeof target === 'number') {\n      //------------------------------------ Dot was clicked -------------------\n      // Find the page with the desired slide\n      newPage = Math.ceil((target + 1) / pageSize); // Calculate the new translation amount\n\n      attempt = pageStops[newPage - 1]; // If last page is a partial then `attempt` will exceed `max`\n\n      newTranslate = attempt > max ? max : attempt;\n    } else {\n      //-------------------------------- Previous or Next was clicked ----------\n      if (target === 'previous') {\n        // Bounce on edge\n        if (translate === 0) {\n          edgeBounce('left');\n        } // Determine the new/proposed translate amount\n\n\n        attempt = translate === max ? max + (currentWidth - pageWidth) - pageWidth + gap : translate - pageWidth;\n        newTranslate = attempt < 0 ? 0 : attempt;\n      } else if (target === 'next') {\n        // Bounce on edge\n        if (translate === max) {\n          edgeBounce('right');\n        } // Determine the new/proposed translate amount\n\n\n        attempt = translate + pageWidth;\n        newTranslate = attempt > max ? max : attempt;\n      } // Update the current page using the new translate amount\n\n\n      newPage = newTranslate === max ? pageStops.length : Math.ceil((newTranslate / (slideWidth + gap) + 1) / pageSize);\n    } // Update state\n\n\n    setTranslate(newTranslate);\n    setPageStops(pageStops);\n    setCurrentPage(newPage);\n  }\n  /**\n   * Add and then quickly remove a CSS class that causes a bounce animation\n   * @param {string} direction - either 'Left' or 'Right\n   */\n\n\n  function edgeBounce(direction) {\n    setBounceClass(direction === 'left' ? bounceLeft : bounceRight);\n    setTimeout(function () {\n      setBounceClass('');\n    }, 500);\n  }\n\n  return /*#__PURE__*/_jsxs(\"div\", {\n    ref: sliderEl,\n    className: slider,\n    children: [/*#__PURE__*/_jsx(\"div\", {\n      className: \"\".concat(scrollerClass, \" \").concat(bounceClass),\n      children: /*#__PURE__*/_jsx(SlideContainer, {\n        slideWidth: slideWidth,\n        gap: gap,\n        trayWidth: (slideWidth + gap) * slides.length - gap,\n        translate: translate,\n        transition: transition,\n        children: slides && slides.length > 0 && slides.map(function (slide, i) {\n          return slideComponent(slide, i);\n        })\n      })\n    }), pageStops.length > 1 && /*#__PURE__*/_jsxs(_Fragment, {\n      children: [/*#__PURE__*/_jsx(Arrow, {\n        direction: \"previous\",\n        handleClick: navigatePage\n      }), /*#__PURE__*/_jsx(Arrow, {\n        direction: \"next\",\n        handleClick: navigatePage\n      })]\n    }), /*#__PURE__*/_jsx(Dots, {\n      numPages: pageStops.length,\n      currentPage: currentPage,\n      handleClick: navigatePage,\n      pageSize: getPageSizeWidth()[0]\n    })]\n  });\n}",".outsmartly/analysis/modules/310.js":"// components/SizingGuide/Women.js\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { title, tableWrap } from './SizingGuide.module.css';\nexport default function Women({\n  titleClass = title,\n  wrapClass = tableWrap\n}) {\n  return /*#__PURE__*/_jsxs(\"div\", {\n    id: \"women\",\n    children: [/*#__PURE__*/_jsx(\"p\", {\n      className: titleClass,\n      children: /*#__PURE__*/_jsx(\"strong\", {\n        children: \"Women Size Guide\"\n      })\n    }), /*#__PURE__*/_jsx(\"div\", {\n      className: wrapClass,\n      children: /*#__PURE__*/_jsxs(\"table\", {\n        children: [/*#__PURE__*/_jsxs(\"colgroup\", {\n          children: [/*#__PURE__*/_jsx(\"col\", {}), /*#__PURE__*/_jsx(\"col\", {\n            span: \"4\"\n          })]\n        }), /*#__PURE__*/_jsxs(\"thead\", {\n          children: [/*#__PURE__*/_jsxs(\"tr\", {\n            children: [/*#__PURE__*/_jsx(\"th\", {\n              scope: \"col\",\n              children: \"Size\"\n            }), /*#__PURE__*/_jsx(\"th\", {\n              scope: \"colgroup\",\n              children: \"Tops/Bottoms\"\n            }), /*#__PURE__*/_jsx(\"th\", {}), /*#__PURE__*/_jsx(\"th\", {}), /*#__PURE__*/_jsx(\"th\", {})]\n          }), /*#__PURE__*/_jsxs(\"tr\", {\n            children: [/*#__PURE__*/_jsx(\"td\", {}), /*#__PURE__*/_jsx(\"th\", {\n              scope: \"col\",\n              children: \"Size Equivalent\"\n            }), /*#__PURE__*/_jsx(\"th\", {\n              scope: \"col\",\n              children: \"Bust\"\n            }), /*#__PURE__*/_jsx(\"th\", {\n              scope: \"col\",\n              children: \"Waist\"\n            }), /*#__PURE__*/_jsx(\"th\", {\n              scope: \"col\",\n              children: \"Hips\"\n            })]\n          })]\n        }), /*#__PURE__*/_jsxs(\"tbody\", {\n          children: [/*#__PURE__*/_jsxs(\"tr\", {\n            children: [/*#__PURE__*/_jsx(\"th\", {\n              scope: \"row\",\n              children: \"XS\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"0-2\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"32.5\\\"-33.5\\\"\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"25\\\"-26\\\"\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"35.5\\\"-36.5\\\"\"\n            })]\n          }), /*#__PURE__*/_jsxs(\"tr\", {\n            children: [/*#__PURE__*/_jsx(\"th\", {\n              scope: \"row\",\n              children: \"S\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"4-6\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"34\\\"-35\\\"\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"27\\\"-28\\\"\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"36.5\\\"-37.5\\\"\"\n            })]\n          }), /*#__PURE__*/_jsxs(\"tr\", {\n            children: [/*#__PURE__*/_jsx(\"th\", {\n              scope: \"row\",\n              children: \"M\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"8-10\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"36\\\"-37\\\"\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"29\\\"-30\\\"\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"38.5\\\"-39.5\\\"\"\n            })]\n          }), /*#__PURE__*/_jsxs(\"tr\", {\n            children: [/*#__PURE__*/_jsx(\"th\", {\n              scope: \"row\",\n              children: \"L\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"12-14\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"38\\\"-40\\\"\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"31\\\"-33\\\"\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"40.5\\\"-42.5\\\"\"\n            })]\n          }), /*#__PURE__*/_jsxs(\"tr\", {\n            children: [/*#__PURE__*/_jsx(\"th\", {\n              scope: \"row\",\n              children: \"XL\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"16\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"41\\\"-43\\\"\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"34\\\"-36\\\"\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"43.5\\\"-45.5\\\"\"\n            })]\n          })]\n        })]\n      })\n    })]\n  });\n}",".outsmartly/analysis/modules/250.js":"// components/LemonSpot/useRecBox.js\nimport { useState, useEffect } from 'react';\nimport { useRouter } from 'next/router';\nimport { useMessageBus } from '@outsmartly/core';\nimport { getPathnames, getResolution } from 'lib/utils';\n/**\n * Custom hook that provides both state and a useEffect to emit a render event\n * for various types of LemonSpot boxes.\n * @param {string} boxKey - id/key for the recommendation box\n * @param {string} page - the current page\n */\n\nexport function useRecBox(boxKey, page) {\n  var _process$env$messageB;\n\n  const {\n    0: array,\n    1: setArray\n  } = useState([]);\n  const router = useRouter();\n  const [path, pathWithQuery] = getPathnames(router); // Get a reference to the client message bus\n\n  const bus = useMessageBus({\n    debug: (_process$env$messageB = process.env.messageBusDebug) !== null && _process$env$messageB !== void 0 ? _process$env$messageB : false\n  });\n  useEffect(() => {\n    if (array.length) {\n      const obj = {\n        boxKey,\n        integerData: array.length,\n        page: page,\n        path: path,\n        resolution: getResolution(),\n        timestamp: new Date().toISOString(),\n        url: pathWithQuery\n      };\n      bus.emit('boxRender', obj);\n    }\n  }, [array]);\n  return [array, setArray];\n}",".outsmartly/analysis/modules/341.js":"// components/Slider/Arrow.js\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { arrowN, arrowP, angleRight, angleLeft } from './Arrow.module.css';\nimport Icon from 'components/icons/Icon';\n/**\n * A next/previous arrow.\n */\n\nexport function Arrow({\n  direction,\n  handleClick\n}) {\n  return /*#__PURE__*/_jsx(_Fragment, {\n    children: direction === 'previous' ? /*#__PURE__*/_jsx(\"button\", {\n      className: arrowP,\n      onClick: e => handleClick(direction),\n      children: /*#__PURE__*/_jsx(Icon, {\n        icon: \"angle-left-lime\",\n        className: angleLeft\n      })\n    }) : /*#__PURE__*/_jsx(\"button\", {\n      className: arrowN,\n      onClick: e => handleClick(direction),\n      children: /*#__PURE__*/_jsx(Icon, {\n        icon: \"angle-right-lime\",\n        className: angleRight\n      })\n    })\n  });\n}",".outsmartly/analysis/modules/201.js":"// components/OutfitCard.js\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React from 'react';\nimport Link from 'next/link';\nimport { card, link } from './OutfitCard.module.css';\nexport default function OutfitCard({\n  href,\n  src,\n  title,\n  text\n}) {\n  return /*#__PURE__*/_jsx(\"div\", {\n    className: card,\n    children: /*#__PURE__*/_jsx(Link, {\n      href: href,\n      children: /*#__PURE__*/_jsxs(\"a\", {\n        className: link,\n        children: [/*#__PURE__*/_jsx(\"img\", {\n          src: src,\n          alt: `${title} Outfit`,\n          loading: \"lazy\",\n          height: \"831\",\n          width: \"600\"\n        }), /*#__PURE__*/_jsx(\"h3\", {\n          children: title\n        }), /*#__PURE__*/_jsx(\"p\", {\n          children: text\n        })]\n      })\n    })\n  });\n}",".outsmartly/analysis/modules/190.js":"// lib/polyfills.js\n// Polyfilling globalThis for Safari 12.\nif (typeof globalThis === 'undefined') {\n  Object.defineProperty(self, 'globalThis', {\n    value: self,\n    writable: true,\n    configurable: true\n  });\n} // We need to polyfill Event for Node <15.4\n\n\nif (true) {\n  require('event-target-polyfill');\n}",".outsmartly/analysis/modules/297.js":"// components/Product/ProductPhotos/ProductPhotos.js\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { useEffect, useRef, useState } from 'react';\nimport { getProductImageUrl } from 'lib/getImageUrl';\nimport { photos, main, mainImgWrap, mainImg, thumbs, thumbsInner, thumb, active } from './ProductPhotos.module.css';\nimport ProductTag from '../ProductTag';\nimport ImageZoom from './ImageZoom';\nimport { ProductPhotosServerImage } from './ProductPhotosServerImage';\nimport { ServerThumbnails } from './ServerThumbnails';\nimport { getColorsByVariantId } from 'lib/helpers';\nexport default function ProductPhotos({\n  product,\n  images,\n  color\n}) {\n  // preload all the images, this is how they do it now\n  // probably pretty wasteful and could be optimized further\n  // for example, just preloading the main image for each color and\n  // then letting the other one load when changing, or loading small\n  // images for the non-main image\n  useEffect(() => {\n    setTimeout(() => {\n      Object.values(product.imageMap).forEach(imageSrc => {\n        imageSrc.forEach((src, i) => {\n          if (images.find(defaultImage => defaultImage.src === src)) {\n            // skip the images already displayed\n            return;\n          }\n\n          const image = new Image();\n          image.src = getProductImageUrl(src, i === 0 ? 600 : 100);\n        });\n      });\n    }, 5000);\n  }, [product.images]); // Grab a ref to the main image, and pass it to ImageZoom\n\n  const mainImgRef = useRef();\n  const {\n    0: imageIndex,\n    1: setImageIndex\n  } = useState(0); // Reset to first image when changing colors.\n\n  useEffect(() => {\n    setImageIndex(0);\n  }, [color]);\n  /** Handles a click on a thumbnail. Activates the clicked thumbnail and\n   * updates the main image.\n   * @param {String} clickedId - id of the clicked thumbnail image\n   * @param {Object} e - the event object\n   */\n\n  const handleThumbClick = (index, e) => {\n    e.preventDefault(); // Update the main image\n\n    setImageIndex(index);\n  };\n\n  const {\n    0: mainSrc,\n    1: setMainSrc\n  } = useState();\n  return /*#__PURE__*/_jsxs(\"div\", {\n    className: photos,\n    children: [/*#__PURE__*/_jsx(\"div\", {\n      className: main,\n      children: /*#__PURE__*/_jsxs(\"div\", {\n        className: mainImgWrap,\n        children: [/*#__PURE__*/_jsx(ProductTag, {\n          product: product\n        }), /*#__PURE__*/_jsx(ImageZoom, {\n          imageRef: mainImgRef,\n          zoomSrc: mainSrc,\n          zoomviewsize: [480, 480],\n          magnification: \"2.2\",\n          children: /*#__PURE__*/_jsx(ProductPhotosServerImage, {\n            imgRef: mainImgRef,\n            setSrc: setMainSrc,\n            className: mainImg,\n            imageMap: product.imageMap,\n            clientColor: color,\n            colorsByVariant: getColorsByVariantId(product),\n            index: imageIndex\n          })\n        })]\n      })\n    }), /*#__PURE__*/_jsx(\"div\", {\n      className: thumbs,\n      children: /*#__PURE__*/_jsx(ServerThumbnails, {\n        thumbsInner: thumbsInner,\n        imageIndex: imageIndex,\n        clientColor: color,\n        thumb: thumb,\n        active: active,\n        imageMap: product.imageMap,\n        handleThumbClick: handleThumbClick,\n        colorsByVariant: getColorsByVariantId(product)\n      })\n    })]\n  });\n}",".outsmartly/analysis/modules/106.js":"// components/BreadCrumbs.js\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React from 'react';\nimport Link from 'next/link';\nimport Icon from './icons/Icon';\nimport { nav, breadcrumbs, angleRight, crumb } from './BreadCrumbs.module.css';\nexport default function Breadcrumbs(_ref) {\n  var title = _ref.title,\n      groupName = _ref.groupName,\n      _ref$groupHandle = _ref.groupHandle,\n      groupHandle = _ref$groupHandle === void 0 ? undefined : _ref$groupHandle,\n      _ref$navClass = _ref.navClass,\n      navClass = _ref$navClass === void 0 ? nav : _ref$navClass,\n      _ref$crumbListClass = _ref.crumbListClass,\n      crumbListClass = _ref$crumbListClass === void 0 ? breadcrumbs : _ref$crumbListClass,\n      _ref$iconClass = _ref.iconClass,\n      iconClass = _ref$iconClass === void 0 ? angleRight : _ref$iconClass,\n      _ref$crumbTitleClass = _ref.crumbTitleClass,\n      crumbTitleClass = _ref$crumbTitleClass === void 0 ? crumb : _ref$crumbTitleClass;\n\n  if (!groupHandle) {\n    groupHandle = groupName;\n  }\n\n  return /*#__PURE__*/_jsx(\"nav\", {\n    className: navClass,\n    \"aria-label\": \"Breadcrumbs\",\n    children: /*#__PURE__*/_jsxs(\"ol\", {\n      className: crumbListClass,\n      children: [/*#__PURE__*/_jsxs(\"li\", {\n        className: crumb,\n        children: [/*#__PURE__*/_jsx(Link, {\n          href: \"/\",\n          children: /*#__PURE__*/_jsx(\"a\", {\n            children: \"Home\"\n          })\n        }), /*#__PURE__*/_jsx(Icon, {\n          icon: \"angle-right\",\n          className: iconClass\n        })]\n      }), groupName && /*#__PURE__*/_jsxs(\"li\", {\n        className: crumb,\n        children: [/*#__PURE__*/_jsx(Link, {\n          href: \"/collections/\".concat(groupHandle),\n          children: /*#__PURE__*/_jsx(\"a\", {\n            children: groupName\n          })\n        }), /*#__PURE__*/_jsx(Icon, {\n          icon: \"angle-right\",\n          className: iconClass\n        })]\n      }), /*#__PURE__*/_jsx(\"li\", {\n        className: crumbTitleClass,\n        children: /*#__PURE__*/_jsx(\"span\", {\n          children: title\n        })\n      })]\n    })\n  });\n}",".outsmartly/analysis/modules/157.js":"// components/Slider/Dots.js\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { dotsWrap, dots, dotArea, dotAreaActive, dot } from './Dots.module.css';\n/**\n * A set of dots indicating which page of slides we're on\n */\n\nexport function Dots(_ref) {\n  var numPages = _ref.numPages,\n      currentPage = _ref.currentPage,\n      handleClick = _ref.handleClick,\n      pageSize = _ref.pageSize;\n  var dotArray = [];\n\n  var _loop = function _loop(i) {\n    var slideIndex = (i - 1) * pageSize;\n    dotArray.push( /*#__PURE__*/_jsx(Dot, {\n      active: i === currentPage,\n      dotClick: function dotClick(e) {\n        return handleClick(slideIndex);\n      }\n    }, i));\n  };\n\n  for (var i = 1; i <= numPages; i++) {\n    _loop(i);\n  }\n\n  return /*#__PURE__*/_jsx(\"div\", {\n    className: dotsWrap,\n    children: /*#__PURE__*/_jsx(\"div\", {\n      className: dots,\n      children: dotArray\n    })\n  });\n}\n/**\n * A single dot\n */\n\nfunction Dot(_ref2) {\n  var active = _ref2.active,\n      dotClick = _ref2.dotClick;\n  return /*#__PURE__*/_jsx(\"div\", {\n    className: active ? dotAreaActive : dotArea,\n    onClick: active ? null : dotClick,\n    children: /*#__PURE__*/_jsx(\"span\", {\n      className: dot\n    })\n  });\n}",".outsmartly/analysis/modules/235.js":"// third-party-scripts/searchanise.js\nimport { loadScriptWithDelay, loadScript } from './utils';\nconst config = {\n  src: '//www.searchanise.com/widgets/shopify/init.js?a=4P8e9P3N8M\\u0026shop=rbxactive.myshopify.com',\n  id: 'searchanise-script',\n  timeout: 10 * 1000\n};\nexport function loadSearchanise() {\n  loadScriptWithDelay(config);\n}\nexport function loadSearchaniseImmediately() {\n  loadScript(config);\n}",".outsmartly/analysis/modules/264.js":"// contentful/format-sidebar-callouts.js\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport { nullIfUndefined } from './helpers';\n/**\n * Formats an individual callout so the prop names match what our component wants\n * @param {string} entry id\n * @param {Object} callout\n * @returns {Object} callout props object\n */\n\nexport function formatCallout(id, callout) {\n  const {\n    image,\n    headingText,\n    headingTextColor,\n    linkUrl,\n    buttonText,\n    buttonTextColor,\n    buttonTextHoverColor,\n    buttonBackgroundColor,\n    buttonBackgroundColorOpacity,\n    textAlignment,\n    textSizes\n  } = callout,\n        rest = _objectWithoutProperties(callout, [\"image\", \"headingText\", \"headingTextColor\", \"linkUrl\", \"buttonText\", \"buttonTextColor\", \"buttonTextHoverColor\", \"buttonBackgroundColor\", \"buttonBackgroundColorOpacity\", \"textAlignment\", \"textSizes\"]);\n\n  return _objectSpread({\n    id,\n    headingText: nullIfUndefined(headingText),\n    headingTextColor: nullIfUndefined(headingTextColor),\n    linkUrl: nullIfUndefined(linkUrl),\n    buttonText: nullIfUndefined(buttonText),\n    buttonTextColor: nullIfUndefined(buttonTextColor),\n    buttonTextHoverColor: nullIfUndefined(buttonTextHoverColor),\n    buttonBackgroundColor: nullIfUndefined(buttonBackgroundColor),\n    buttonBackgroundColorOpacity: nullIfUndefined(buttonBackgroundColorOpacity),\n    align: nullIfUndefined(textAlignment),\n    textSizes: textSizes,\n    imgAlt: image.title,\n    imgSrc: image.url\n  }, rest);\n} // Below is just example data\n\nconst data = {\n  sys: {\n    type: 'Array'\n  },\n  total: 1,\n  skip: 0,\n  limit: 100,\n  items: [{\n    sys: {\n      space: {\n        sys: {\n          type: 'Link',\n          linkType: 'Space',\n          id: 'ajgn17op1zyt'\n        }\n      },\n      id: '2GonRwLrXaU9jXMVwIp8B4',\n      type: 'Entry',\n      createdAt: '2021-03-27T00:02:44.631Z',\n      updatedAt: '2021-03-27T00:02:44.631Z',\n      environment: {\n        sys: {\n          id: 'master',\n          type: 'Link',\n          linkType: 'Environment'\n        }\n      },\n      revision: 1,\n      contentType: {\n        sys: {\n          type: 'Link',\n          linkType: 'ContentType',\n          id: 'sidebarCallouts'\n        }\n      },\n      locale: 'en-US'\n    },\n    fields: {\n      name: 'Default Sidebar Callouts',\n      callouts: [{\n        sys: {\n          space: {\n            sys: {\n              type: 'Link',\n              linkType: 'Space',\n              id: 'ajgn17op1zyt'\n            }\n          },\n          id: '38WR4xNyAbD5pQ5r5uI6hP',\n          type: 'Entry',\n          createdAt: '2021-03-26T20:29:01.565Z',\n          updatedAt: '2021-03-29T22:53:38.655Z',\n          environment: {\n            sys: {\n              id: 'master',\n              type: 'Link',\n              linkType: 'Environment'\n            }\n          },\n          revision: 4,\n          contentType: {\n            sys: {\n              type: 'Link',\n              linkType: 'ContentType',\n              id: 'sidebarCallout'\n            }\n          },\n          locale: 'en-US'\n        },\n        fields: {\n          calloutName: '30% off socks',\n          image: {\n            sys: {\n              space: {\n                sys: {\n                  type: 'Link',\n                  linkType: 'Space',\n                  id: 'ajgn17op1zyt'\n                }\n              },\n              id: '4gCxxTJRn4vcugAd5NsFas',\n              type: 'Asset',\n              createdAt: '2021-03-26T20:05:17.129Z',\n              updatedAt: '2021-03-26T20:08:16.412Z',\n              environment: {\n                sys: {\n                  id: 'master',\n                  type: 'Link',\n                  linkType: 'Environment'\n                }\n              },\n              revision: 3,\n              locale: 'en-US'\n            },\n            fields: {\n              title: '30% off socks',\n              description: 'Sidebar callout',\n              file: {\n                url: '//images.ctfassets.net/ajgn17op1zyt/4gCxxTJRn4vcugAd5NsFas/9dd7dfcd82f9f5ddf061616cd0db9d0d/collection-sidebar-callout-1.jpg',\n                details: {\n                  size: 19293,\n                  image: {\n                    width: 544,\n                    height: 500\n                  }\n                },\n                fileName: 'collection-sidebar-callout-1.jpg?v=12890746020675652086',\n                contentType: 'image/jpeg'\n              }\n            }\n          },\n          headingText: '30% off<br>socks',\n          headingTextColor: '#ffffff',\n          linkUrl: '/collections/socks-collection',\n          buttonText: 'Shop Now',\n          buttonTextColor: '#fc8ea2',\n          buttonTextHoverColor: '#d65c72',\n          buttonBackgroundColor: '#ffffff',\n          buttonBackgroundColorOpacity: 0.5,\n          textAlignment: 'Left',\n          textSizes: {\n            sys: {\n              space: {\n                sys: {\n                  type: 'Link',\n                  linkType: 'Space',\n                  id: 'ajgn17op1zyt'\n                }\n              },\n              id: '6obzLqAjakFPykyZPdpQMy',\n              type: 'Entry',\n              createdAt: '2021-03-29T22:51:34.666Z',\n              updatedAt: '2021-03-29T22:51:34.666Z',\n              environment: {\n                sys: {\n                  id: 'master',\n                  type: 'Link',\n                  linkType: 'Environment'\n                }\n              },\n              revision: 1,\n              contentType: {\n                sys: {\n                  type: 'Link',\n                  linkType: 'ContentType',\n                  id: 'calloutFontSizes'\n                }\n              },\n              locale: 'en-US'\n            },\n            fields: {\n              name: 'Default Sidebar Callout Font Sizes',\n              headingFontSizeMobile: '18px',\n              headingFontSizeTablet: '18px',\n              headingFontSizeDesktop: '30px',\n              buttonFontSizeMobile: '12px',\n              buttonFontSizeTablet: '12px',\n              buttonFontSizeDesktop: '14px'\n            }\n          }\n        }\n      }, {\n        sys: {\n          space: {\n            sys: {\n              type: 'Link',\n              linkType: 'Space',\n              id: 'ajgn17op1zyt'\n            }\n          },\n          id: '2pz9O5b0eYfuy674X710xo',\n          type: 'Entry',\n          createdAt: '2021-03-26T23:51:21.180Z',\n          updatedAt: '2021-03-29T22:53:24.273Z',\n          environment: {\n            sys: {\n              id: 'master',\n              type: 'Link',\n              linkType: 'Environment'\n            }\n          },\n          revision: 3,\n          contentType: {\n            sys: {\n              type: 'Link',\n              linkType: 'ContentType',\n              id: 'sidebarCallout'\n            }\n          },\n          locale: 'en-US'\n        },\n        fields: {\n          calloutName: '3-Pack Masks',\n          image: {\n            sys: {\n              space: {\n                sys: {\n                  type: 'Link',\n                  linkType: 'Space',\n                  id: 'ajgn17op1zyt'\n                }\n              },\n              id: '7GF0L18g1Ph7z92Mi4futz',\n              type: 'Asset',\n              createdAt: '2021-03-26T20:06:12.081Z',\n              updatedAt: '2021-03-26T20:08:37.148Z',\n              environment: {\n                sys: {\n                  id: 'master',\n                  type: 'Link',\n                  linkType: 'Environment'\n                }\n              },\n              revision: 2,\n              locale: 'en-US'\n            },\n            fields: {\n              title: '3 pack masks',\n              description: 'Sidebar callout',\n              file: {\n                url: '//images.ctfassets.net/ajgn17op1zyt/7GF0L18g1Ph7z92Mi4futz/fee6b02db7069137f953f45d5b122394/collection-sidebar-callout-2.jpg',\n                details: {\n                  size: 22806,\n                  image: {\n                    width: 544,\n                    height: 500\n                  }\n                },\n                fileName: 'collection-sidebar-callout-2.jpg?v=1438465675439480469',\n                contentType: 'image/jpeg'\n              }\n            }\n          },\n          headingText: '3-Pack<br>Masks',\n          headingTextColor: '#ffffff',\n          linkUrl: '/collections/accessories',\n          buttonText: 'Shop Now',\n          buttonTextColor: '#558678',\n          buttonTextHoverColor: '#9397ba',\n          buttonBackgroundColor: '#ffffff',\n          textAlignment: 'Right',\n          textSizes: {\n            sys: {\n              space: {\n                sys: {\n                  type: 'Link',\n                  linkType: 'Space',\n                  id: 'ajgn17op1zyt'\n                }\n              },\n              id: '6obzLqAjakFPykyZPdpQMy',\n              type: 'Entry',\n              createdAt: '2021-03-29T22:51:34.666Z',\n              updatedAt: '2021-03-29T22:51:34.666Z',\n              environment: {\n                sys: {\n                  id: 'master',\n                  type: 'Link',\n                  linkType: 'Environment'\n                }\n              },\n              revision: 1,\n              contentType: {\n                sys: {\n                  type: 'Link',\n                  linkType: 'ContentType',\n                  id: 'calloutFontSizes'\n                }\n              },\n              locale: 'en-US'\n            },\n            fields: {\n              name: 'Default Sidebar Callout Font Sizes',\n              headingFontSizeMobile: '18px',\n              headingFontSizeTablet: '18px',\n              headingFontSizeDesktop: '30px',\n              buttonFontSizeMobile: '12px',\n              buttonFontSizeTablet: '12px',\n              buttonFontSizeDesktop: '14px'\n            }\n          }\n        }\n      }]\n    }\n  }],\n  includes: {\n    Entry: [{\n      sys: {\n        space: {\n          sys: {\n            type: 'Link',\n            linkType: 'Space',\n            id: 'ajgn17op1zyt'\n          }\n        },\n        id: '2pz9O5b0eYfuy674X710xo',\n        type: 'Entry',\n        createdAt: '2021-03-26T23:51:21.180Z',\n        updatedAt: '2021-03-29T22:53:24.273Z',\n        environment: {\n          sys: {\n            id: 'master',\n            type: 'Link',\n            linkType: 'Environment'\n          }\n        },\n        revision: 3,\n        contentType: {\n          sys: {\n            type: 'Link',\n            linkType: 'ContentType',\n            id: 'sidebarCallout'\n          }\n        },\n        locale: 'en-US'\n      },\n      fields: {\n        calloutName: '3-Pack Masks',\n        image: {\n          sys: {\n            space: {\n              sys: {\n                type: 'Link',\n                linkType: 'Space',\n                id: 'ajgn17op1zyt'\n              }\n            },\n            id: '7GF0L18g1Ph7z92Mi4futz',\n            type: 'Asset',\n            createdAt: '2021-03-26T20:06:12.081Z',\n            updatedAt: '2021-03-26T20:08:37.148Z',\n            environment: {\n              sys: {\n                id: 'master',\n                type: 'Link',\n                linkType: 'Environment'\n              }\n            },\n            revision: 2,\n            locale: 'en-US'\n          },\n          fields: {\n            title: '3 pack masks',\n            description: 'Sidebar callout',\n            file: {\n              url: '//images.ctfassets.net/ajgn17op1zyt/7GF0L18g1Ph7z92Mi4futz/fee6b02db7069137f953f45d5b122394/collection-sidebar-callout-2.jpg',\n              details: {\n                size: 22806,\n                image: {\n                  width: 544,\n                  height: 500\n                }\n              },\n              fileName: 'collection-sidebar-callout-2.jpg?v=1438465675439480469',\n              contentType: 'image/jpeg'\n            }\n          }\n        },\n        headingText: '3-Pack<br>Masks',\n        headingTextColor: '#ffffff',\n        linkUrl: '/collections/accessories',\n        buttonText: 'Shop Now',\n        buttonTextColor: '#558678',\n        buttonTextHoverColor: '#9397ba',\n        buttonBackgroundColor: '#ffffff',\n        textAlignment: 'Right',\n        textSizes: {\n          sys: {\n            space: {\n              sys: {\n                type: 'Link',\n                linkType: 'Space',\n                id: 'ajgn17op1zyt'\n              }\n            },\n            id: '6obzLqAjakFPykyZPdpQMy',\n            type: 'Entry',\n            createdAt: '2021-03-29T22:51:34.666Z',\n            updatedAt: '2021-03-29T22:51:34.666Z',\n            environment: {\n              sys: {\n                id: 'master',\n                type: 'Link',\n                linkType: 'Environment'\n              }\n            },\n            revision: 1,\n            contentType: {\n              sys: {\n                type: 'Link',\n                linkType: 'ContentType',\n                id: 'calloutFontSizes'\n              }\n            },\n            locale: 'en-US'\n          },\n          fields: {\n            name: 'Default Sidebar Callout Font Sizes',\n            headingFontSizeMobile: '18px',\n            headingFontSizeTablet: '18px',\n            headingFontSizeDesktop: '30px',\n            buttonFontSizeMobile: '12px',\n            buttonFontSizeTablet: '12px',\n            buttonFontSizeDesktop: '14px'\n          }\n        }\n      }\n    }, {\n      sys: {\n        space: {\n          sys: {\n            type: 'Link',\n            linkType: 'Space',\n            id: 'ajgn17op1zyt'\n          }\n        },\n        id: '38WR4xNyAbD5pQ5r5uI6hP',\n        type: 'Entry',\n        createdAt: '2021-03-26T20:29:01.565Z',\n        updatedAt: '2021-03-29T22:53:38.655Z',\n        environment: {\n          sys: {\n            id: 'master',\n            type: 'Link',\n            linkType: 'Environment'\n          }\n        },\n        revision: 4,\n        contentType: {\n          sys: {\n            type: 'Link',\n            linkType: 'ContentType',\n            id: 'sidebarCallout'\n          }\n        },\n        locale: 'en-US'\n      },\n      fields: {\n        calloutName: '30% off socks',\n        image: {\n          sys: {\n            space: {\n              sys: {\n                type: 'Link',\n                linkType: 'Space',\n                id: 'ajgn17op1zyt'\n              }\n            },\n            id: '4gCxxTJRn4vcugAd5NsFas',\n            type: 'Asset',\n            createdAt: '2021-03-26T20:05:17.129Z',\n            updatedAt: '2021-03-26T20:08:16.412Z',\n            environment: {\n              sys: {\n                id: 'master',\n                type: 'Link',\n                linkType: 'Environment'\n              }\n            },\n            revision: 3,\n            locale: 'en-US'\n          },\n          fields: {\n            title: '30% off socks',\n            description: 'Sidebar callout',\n            file: {\n              url: '//images.ctfassets.net/ajgn17op1zyt/4gCxxTJRn4vcugAd5NsFas/9dd7dfcd82f9f5ddf061616cd0db9d0d/collection-sidebar-callout-1.jpg',\n              details: {\n                size: 19293,\n                image: {\n                  width: 544,\n                  height: 500\n                }\n              },\n              fileName: 'collection-sidebar-callout-1.jpg?v=12890746020675652086',\n              contentType: 'image/jpeg'\n            }\n          }\n        },\n        headingText: '30% off<br>socks',\n        headingTextColor: '#ffffff',\n        linkUrl: '/collections/socks-collection',\n        buttonText: 'Shop Now',\n        buttonTextColor: '#fc8ea2',\n        buttonTextHoverColor: '#d65c72',\n        buttonBackgroundColor: '#ffffff',\n        buttonBackgroundColorOpacity: 0.5,\n        textAlignment: 'Left',\n        textSizes: {\n          sys: {\n            space: {\n              sys: {\n                type: 'Link',\n                linkType: 'Space',\n                id: 'ajgn17op1zyt'\n              }\n            },\n            id: '6obzLqAjakFPykyZPdpQMy',\n            type: 'Entry',\n            createdAt: '2021-03-29T22:51:34.666Z',\n            updatedAt: '2021-03-29T22:51:34.666Z',\n            environment: {\n              sys: {\n                id: 'master',\n                type: 'Link',\n                linkType: 'Environment'\n              }\n            },\n            revision: 1,\n            contentType: {\n              sys: {\n                type: 'Link',\n                linkType: 'ContentType',\n                id: 'calloutFontSizes'\n              }\n            },\n            locale: 'en-US'\n          },\n          fields: {\n            name: 'Default Sidebar Callout Font Sizes',\n            headingFontSizeMobile: '18px',\n            headingFontSizeTablet: '18px',\n            headingFontSizeDesktop: '30px',\n            buttonFontSizeMobile: '12px',\n            buttonFontSizeTablet: '12px',\n            buttonFontSizeDesktop: '14px'\n          }\n        }\n      }\n    }, {\n      sys: {\n        space: {\n          sys: {\n            type: 'Link',\n            linkType: 'Space',\n            id: 'ajgn17op1zyt'\n          }\n        },\n        id: '6obzLqAjakFPykyZPdpQMy',\n        type: 'Entry',\n        createdAt: '2021-03-29T22:51:34.666Z',\n        updatedAt: '2021-03-29T22:51:34.666Z',\n        environment: {\n          sys: {\n            id: 'master',\n            type: 'Link',\n            linkType: 'Environment'\n          }\n        },\n        revision: 1,\n        contentType: {\n          sys: {\n            type: 'Link',\n            linkType: 'ContentType',\n            id: 'calloutFontSizes'\n          }\n        },\n        locale: 'en-US'\n      },\n      fields: {\n        name: 'Default Sidebar Callout Font Sizes',\n        headingFontSizeMobile: '18px',\n        headingFontSizeTablet: '18px',\n        headingFontSizeDesktop: '30px',\n        buttonFontSizeMobile: '12px',\n        buttonFontSizeTablet: '12px',\n        buttonFontSizeDesktop: '14px'\n      }\n    }],\n    Asset: [{\n      sys: {\n        space: {\n          sys: {\n            type: 'Link',\n            linkType: 'Space',\n            id: 'ajgn17op1zyt'\n          }\n        },\n        id: '4gCxxTJRn4vcugAd5NsFas',\n        type: 'Asset',\n        createdAt: '2021-03-26T20:05:17.129Z',\n        updatedAt: '2021-03-26T20:08:16.412Z',\n        environment: {\n          sys: {\n            id: 'master',\n            type: 'Link',\n            linkType: 'Environment'\n          }\n        },\n        revision: 3,\n        locale: 'en-US'\n      },\n      fields: {\n        title: '30% off socks',\n        description: 'Sidebar callout',\n        file: {\n          url: '//images.ctfassets.net/ajgn17op1zyt/4gCxxTJRn4vcugAd5NsFas/9dd7dfcd82f9f5ddf061616cd0db9d0d/collection-sidebar-callout-1.jpg',\n          details: {\n            size: 19293,\n            image: {\n              width: 544,\n              height: 500\n            }\n          },\n          fileName: 'collection-sidebar-callout-1.jpg?v=12890746020675652086',\n          contentType: 'image/jpeg'\n        }\n      }\n    }, {\n      sys: {\n        space: {\n          sys: {\n            type: 'Link',\n            linkType: 'Space',\n            id: 'ajgn17op1zyt'\n          }\n        },\n        id: '7GF0L18g1Ph7z92Mi4futz',\n        type: 'Asset',\n        createdAt: '2021-03-26T20:06:12.081Z',\n        updatedAt: '2021-03-26T20:08:37.148Z',\n        environment: {\n          sys: {\n            id: 'master',\n            type: 'Link',\n            linkType: 'Environment'\n          }\n        },\n        revision: 2,\n        locale: 'en-US'\n      },\n      fields: {\n        title: '3 pack masks',\n        description: 'Sidebar callout',\n        file: {\n          url: '//images.ctfassets.net/ajgn17op1zyt/7GF0L18g1Ph7z92Mi4futz/fee6b02db7069137f953f45d5b122394/collection-sidebar-callout-2.jpg',\n          details: {\n            size: 22806,\n            image: {\n              width: 544,\n              height: 500\n            }\n          },\n          fileName: 'collection-sidebar-callout-2.jpg?v=1438465675439480469',\n          contentType: 'image/jpeg'\n        }\n      }\n    }]\n  }\n};",".outsmartly/analysis/modules/324.js":"// components/outsmartly/track-outcome.js\nexport async function trackOutcome(outcome, outsmartlyTracking) {\n  if (window.__DEBUG_TRACKING__) {\n    console.log('outcome ->', {\n      outcome,\n      outsmartlyTracking\n    });\n  } // guard for not actually being on the edge\n\n\n  if (!window.__APP_CONFIG__.gifLoggerUrl || !outsmartlyTracking) {\n    return;\n  }\n\n  const elapsedTime = parseInt(window.performance.now());\n  const event = {\n    name: 'outcome',\n    log: {\n      rid: window.__APP_CONFIG__.rid,\n      vid: window.__APP_CONFIG__.vid,\n      outcome,\n      timelineMark: window.__APP_CONFIG__.startTimestamp + elapsedTime,\n      elapsedTime,\n      pathname: window.location.pathname,\n      outsmartlyTracking\n    }\n  };\n\n  try {\n    const response = await fetch(window.__APP_CONFIG__.gifLoggerUrl, {\n      method: 'POST',\n      body: JSON.stringify(event),\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    });\n\n    if (window.__DEBUG_TRACKING__) {\n      const data = await response.json();\n      console.error('response in exposures ->', data);\n    }\n  } catch (e) {\n    if (window.__DEBUG_TRACKING__) {\n      console.error('error in exposures ->', e);\n    }\n  }\n}",".outsmartly/analysis/modules/25.js":"// node_modules/next/dist/client/index.js\n\"use strict\";\n\nvar _regeneratorRuntime = require(\"/Users/kai/Work/rbx-rewrite/node_modules/next/node_modules/@babel/runtime/regenerator\");\n\nvar _asyncToGenerator = require(\"/Users/kai/Work/rbx-rewrite/node_modules/next/node_modules/@babel/runtime/helpers/asyncToGenerator\");\n\nvar _classCallCheck = require(\"/Users/kai/Work/rbx-rewrite/node_modules/next/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/Users/kai/Work/rbx-rewrite/node_modules/next/node_modules/@babel/runtime/helpers/createClass\");\n\nvar _inherits = require(\"/Users/kai/Work/rbx-rewrite/node_modules/next/node_modules/@babel/runtime/helpers/inherits\");\n\nvar _possibleConstructorReturn = require(\"/Users/kai/Work/rbx-rewrite/node_modules/next/node_modules/@babel/runtime/helpers/possibleConstructorReturn\");\n\nvar _getPrototypeOf = require(\"/Users/kai/Work/rbx-rewrite/node_modules/next/node_modules/@babel/runtime/helpers/getPrototypeOf\");\n\nvar _slicedToArray = require(\"/Users/kai/Work/rbx-rewrite/node_modules/next/node_modules/@babel/runtime/helpers/slicedToArray\");\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nexports.__esModule = true;\nexports.render = render;\nexports.renderError = renderError;\nexports[\"default\"] = exports.emitter = exports.router = exports.version = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nrequire(\"@next/polyfill-module\");\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _reactDom = _interopRequireDefault(require(\"react-dom\"));\n\nvar _headManagerContext = require(\"../next-server/lib/head-manager-context\");\n\nvar _mitt = _interopRequireDefault(require(\"../next-server/lib/mitt\"));\n\nvar _routerContext = require(\"../next-server/lib/router-context\");\n\nvar _router = require(\"../next-server/lib/router/router\");\n\nvar _isDynamic = require(\"../next-server/lib/router/utils/is-dynamic\");\n\nvar querystring = _interopRequireWildcard(require(\"../next-server/lib/router/utils/querystring\"));\n\nvar envConfig = _interopRequireWildcard(require(\"../next-server/lib/runtime-config\"));\n\nvar _utils = require(\"../next-server/lib/utils\");\n\nvar _portal = require(\"./portal\");\n\nvar _headManager = _interopRequireDefault(require(\"./head-manager\"));\n\nvar _pageLoader = _interopRequireDefault(require(\"./page-loader\"));\n\nvar _performanceRelayer = _interopRequireDefault(require(\"./performance-relayer\"));\n\nvar _routeAnnouncer = require(\"./route-announcer\");\n\nvar _router2 = require(\"./router\");\n/* global location */\n\n\nvar data = JSON.parse(document.getElementById('__NEXT_DATA__').textContent);\nwindow.__NEXT_DATA__ = data;\nvar version = \"11.0.1-outsmartly.1\";\nexports.version = version;\n\nvar looseToArray = function looseToArray(input) {\n  return [].slice.call(input);\n};\n\nvar hydrateProps = data.props,\n    hydrateErr = data.err,\n    page = data.page,\n    query = data.query,\n    buildId = data.buildId,\n    assetPrefix = data.assetPrefix,\n    runtimeConfig = data.runtimeConfig,\n    dynamicIds = data.dynamicIds,\n    isFallback = data.isFallback,\n    locale = data.locale,\n    locales = data.locales,\n    domainLocales = data.domainLocales,\n    isPreview = data.isPreview;\nvar defaultLocale = data.defaultLocale;\nvar prefix = assetPrefix || ''; // With dynamic assetPrefix it's no longer possible to set assetPrefix at the build time\n// So, this is how we do it in the client side at runtime\n\n__webpack_public_path__ = \"\".concat(prefix, \"/_next/\"); //eslint-disable-line\n// Initialize next/config with the environment configuration\n\nenvConfig.setConfig({\n  serverRuntimeConfig: {},\n  publicRuntimeConfig: runtimeConfig || {}\n});\nvar asPath = (0, _utils.getURL)(); // make sure not to attempt stripping basePath for 404s\n\nif ((0, _router.hasBasePath)(asPath)) {\n  asPath = (0, _router.delBasePath)(asPath);\n}\n\nif (process.env.__NEXT_I18N_SUPPORT) {\n  var _require = require('../next-server/lib/i18n/normalize-locale-path'),\n      normalizeLocalePath = _require.normalizeLocalePath;\n\n  var _require2 = require('../next-server/lib/i18n/detect-domain-locale'),\n      detectDomainLocale = _require2.detectDomainLocale;\n\n  var _require3 = require('../next-server/lib/router/utils/parse-relative-url'),\n      parseRelativeUrl = _require3.parseRelativeUrl;\n\n  var _require4 = require('../next-server/lib/router/utils/format-url'),\n      formatUrl = _require4.formatUrl;\n\n  if (locales) {\n    var parsedAs = parseRelativeUrl(asPath);\n    var localePathResult = normalizeLocalePath(parsedAs.pathname, locales);\n\n    if (localePathResult.detectedLocale) {\n      parsedAs.pathname = localePathResult.pathname;\n      asPath = formatUrl(parsedAs);\n    } else {\n      // derive the default locale if it wasn't detected in the asPath\n      // since we don't prerender static pages with all possible default\n      // locales\n      defaultLocale = locale;\n    } // attempt detecting default locale based on hostname\n\n\n    var detectedDomain = detectDomainLocale(process.env.__NEXT_I18N_DOMAINS, window.location.hostname); // TODO: investigate if defaultLocale needs to be populated after\n    // hydration to prevent mismatched renders\n\n    if (detectedDomain) {\n      defaultLocale = detectedDomain.defaultLocale;\n    }\n  }\n}\n\nif (data.scriptLoader) {\n  var _require5 = require('./script'),\n      initScriptLoader = _require5.initScriptLoader;\n\n  initScriptLoader(data.scriptLoader);\n}\n\nvar pageLoader = new _pageLoader[\"default\"](buildId, prefix);\n\nvar register = function register(_ref) {\n  var _ref2 = _slicedToArray(_ref, 2),\n      r = _ref2[0],\n      f = _ref2[1];\n\n  return pageLoader.routeLoader.onEntrypoint(r, f);\n};\n\nif (window.__NEXT_P) {\n  // Defer page registration for another tick. This will increase the overall\n  // latency in hydrating the page, but reduce the total blocking time.\n  window.__NEXT_P.map(function (p) {\n    return setTimeout(function () {\n      return register(p);\n    }, 0);\n  });\n}\n\nwindow.__NEXT_P = [];\nwindow.__NEXT_P.push = register;\nvar headManager = (0, _headManager[\"default\"])();\nvar appElement = document.getElementById('__next');\n\nvar _lastRenderReject;\n\nvar webpackHMR;\nvar router;\nexports.router = router;\nvar CachedApp, onPerfEntry;\n\nvar Container = /*#__PURE__*/function (_react$default$Compon) {\n  _inherits(Container, _react$default$Compon);\n\n  var _super = _createSuper(Container);\n\n  function Container() {\n    _classCallCheck(this, Container);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(Container, [{\n    key: \"componentDidCatch\",\n    value: function componentDidCatch(componentErr, info) {\n      this.props.fn(componentErr, info);\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.scrollToHash(); // We need to replace the router state if:\n      // - the page was (auto) exported and has a query string or search (hash)\n      // - it was auto exported and is a dynamic route (to provide params)\n      // - if it is a client-side skeleton (fallback render)\n\n      if (router.isSsr && // We don't update for 404 requests as this can modify\n      // the asPath unexpectedly e.g. adding basePath when\n      // it wasn't originally present\n      page !== '/404' && !(page === '/_error' && hydrateProps && hydrateProps.pageProps && hydrateProps.pageProps.statusCode === 404) && (isFallback || data.nextExport && ((0, _isDynamic.isDynamicRoute)(router.pathname) || location.search || process.env.__NEXT_HAS_REWRITES) || hydrateProps && hydrateProps.__N_SSG && (location.search || process.env.__NEXT_HAS_REWRITES))) {\n        // update query on mount for exported pages\n        router.replace(router.pathname + '?' + String(querystring.assign(querystring.urlQueryToSearchParams(router.query), new URLSearchParams(location.search))), asPath, {\n          // @ts-ignore\n          // WARNING: `_h` is an internal option for handing Next.js\n          // client-side hydration. Your app should _never_ use this property.\n          // It may change at any time without notice.\n          _h: 1,\n          // Fallback pages must trigger the data fetch, so the transition is\n          // not shallow.\n          // Other pages (strictly updating query) happens shallowly, as data\n          // requirements would already be present.\n          shallow: !isFallback\n        });\n      }\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      this.scrollToHash();\n    }\n  }, {\n    key: \"scrollToHash\",\n    value: function scrollToHash() {\n      var _location = location,\n          hash = _location.hash;\n      hash = hash && hash.substring(1);\n      if (!hash) return;\n      var el = document.getElementById(hash);\n      if (!el) return; // If we call scrollIntoView() in here without a setTimeout\n      // it won't scroll properly.\n\n      setTimeout(function () {\n        return el.scrollIntoView();\n      }, 0);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (true) {\n        return this.props.children;\n      } else {\n        var _require6 = require('@next/react-dev-overlay/lib/client'),\n            ReactDevOverlay = _require6.ReactDevOverlay;\n\n        return /*#__PURE__*/_react[\"default\"].createElement(ReactDevOverlay, null, this.props.children);\n      }\n    }\n  }]);\n\n  return Container;\n}(_react[\"default\"].Component);\n\nvar emitter = (0, _mitt[\"default\"])();\nexports.emitter = emitter;\nvar CachedComponent;\n\nvar _default = /*#__PURE__*/function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n    var opts,\n        initialErr,\n        appEntrypoint,\n        app,\n        mod,\n        pageEntrypoint,\n        _require7,\n        isValidElementType,\n        _require8,\n        getNodeError,\n        renderCtx,\n        _args = arguments;\n\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            opts = _args.length > 0 && _args[0] !== undefined ? _args[0] : {};\n\n            // This makes sure this specific lines are removed in production\n            if (false) {\n              webpackHMR = opts.webpackHMR;\n            }\n\n            initialErr = hydrateErr;\n            _context.prev = 3;\n            _context.next = 6;\n            return pageLoader.routeLoader.whenEntrypoint('/_app');\n\n          case 6:\n            appEntrypoint = _context.sent;\n\n            if (!('error' in appEntrypoint)) {\n              _context.next = 9;\n              break;\n            }\n\n            throw appEntrypoint.error;\n\n          case 9:\n            app = appEntrypoint.component, mod = appEntrypoint.exports;\n            CachedApp = app;\n\n            if (mod && mod.reportWebVitals) {\n              onPerfEntry = function onPerfEntry(_ref4) {\n                var id = _ref4.id,\n                    name = _ref4.name,\n                    startTime = _ref4.startTime,\n                    value = _ref4.value,\n                    duration = _ref4.duration,\n                    entryType = _ref4.entryType,\n                    entries = _ref4.entries;\n                // Combines timestamp with random number for unique ID\n                var uniqueID = \"\".concat(Date.now(), \"-\").concat(Math.floor(Math.random() * (9e12 - 1)) + 1e12);\n                var perfStartEntry;\n\n                if (entries && entries.length) {\n                  perfStartEntry = entries[0].startTime;\n                }\n\n                mod.reportWebVitals({\n                  id: id || uniqueID,\n                  name: name,\n                  startTime: startTime || perfStartEntry,\n                  value: value == null ? duration : value,\n                  label: entryType === 'mark' || entryType === 'measure' ? 'custom' : 'web-vital'\n                });\n              };\n            }\n\n            if (!(false && hydrateErr)) {\n              _context.next = 16;\n              break;\n            }\n\n            _context.t0 = {\n              error: hydrateErr\n            };\n            _context.next = 19;\n            break;\n\n          case 16:\n            _context.next = 18;\n            return pageLoader.routeLoader.whenEntrypoint(page);\n\n          case 18:\n            _context.t0 = _context.sent;\n\n          case 19:\n            pageEntrypoint = _context.t0;\n\n            if (!('error' in pageEntrypoint)) {\n              _context.next = 22;\n              break;\n            }\n\n            throw pageEntrypoint.error;\n\n          case 22:\n            CachedComponent = pageEntrypoint.component;\n\n            if (!false) {\n              _context.next = 27;\n              break;\n            }\n\n            _require7 = require('react-is'), isValidElementType = _require7.isValidElementType;\n\n            if (isValidElementType(CachedComponent)) {\n              _context.next = 27;\n              break;\n            }\n\n            throw new Error(\"The default export is not a React Component in page: \\\"\".concat(page, \"\\\"\"));\n\n          case 27:\n            _context.next = 32;\n            break;\n\n          case 29:\n            _context.prev = 29;\n            _context.t1 = _context[\"catch\"](3);\n            // This catches errors like throwing in the top level of a module\n            initialErr = _context.t1;\n\n          case 32:\n            if (false) {\n              _require8 = require('@next/react-dev-overlay/lib/client'), getNodeError = _require8.getNodeError; // Server-side runtime errors need to be re-thrown on the client-side so\n              // that the overlay is rendered.\n\n              if (initialErr) {\n                if (initialErr === hydrateErr) {\n                  setTimeout(function () {\n                    var error;\n\n                    try {\n                      // Generate a new error object. We `throw` it because some browsers\n                      // will set the `stack` when thrown, and we want to ensure ours is\n                      // not overridden when we re-throw it below.\n                      throw new Error(initialErr.message);\n                    } catch (e) {\n                      error = e;\n                    }\n\n                    error.name = initialErr.name;\n                    error.stack = initialErr.stack;\n                    var node = getNodeError(error);\n                    throw node;\n                  });\n                } // We replaced the server-side error with a client-side error, and should\n                // no longer rewrite the stack trace to a Node error.\n                else {\n                    setTimeout(function () {\n                      throw initialErr;\n                    });\n                  }\n              }\n            }\n\n            if (!window.__NEXT_PRELOADREADY) {\n              _context.next = 36;\n              break;\n            }\n\n            _context.next = 36;\n            return window.__NEXT_PRELOADREADY(dynamicIds);\n\n          case 36:\n            exports.router = router = (0, _router2.createRouter)(page, query, asPath, {\n              initialProps: hydrateProps,\n              pageLoader: pageLoader,\n              App: CachedApp,\n              Component: CachedComponent,\n              wrapApp: wrapApp,\n              err: initialErr,\n              isFallback: Boolean(isFallback),\n              subscription: function subscription(info, App, scroll) {\n                return render(Object.assign({}, info, {\n                  App: App,\n                  scroll: scroll\n                }));\n              },\n              locale: locale,\n              locales: locales,\n              defaultLocale: defaultLocale,\n              domainLocales: domainLocales,\n              isPreview: isPreview\n            });\n            renderCtx = {\n              App: CachedApp,\n              initial: true,\n              Component: CachedComponent,\n              props: hydrateProps,\n              err: initialErr\n            };\n\n            if (!true) {\n              _context.next = 43;\n              break;\n            }\n\n            render(renderCtx);\n            return _context.abrupt(\"return\", emitter);\n\n          case 43:\n            return _context.abrupt(\"return\", {\n              emitter: emitter,\n              render: render,\n              renderCtx: renderCtx\n            });\n\n          case 44:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[3, 29]]);\n  }));\n\n  return function _default() {\n    return _ref3.apply(this, arguments);\n  };\n}();\n\nexports[\"default\"] = _default;\n\nfunction render(_x) {\n  return _render.apply(this, arguments);\n} // This method handles all runtime and debug errors.\n// 404 and 500 errors are special kind of errors\n// and they are still handle via the main render method.\n\n\nfunction _render() {\n  _render = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(renderingProps) {\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            if (!renderingProps.err) {\n              _context2.next = 4;\n              break;\n            }\n\n            _context2.next = 3;\n            return renderError(renderingProps);\n\n          case 3:\n            return _context2.abrupt(\"return\");\n\n          case 4:\n            _context2.prev = 4;\n            _context2.next = 7;\n            return doRender(renderingProps);\n\n          case 7:\n            _context2.next = 16;\n            break;\n\n          case 9:\n            _context2.prev = 9;\n            _context2.t0 = _context2[\"catch\"](4);\n\n            if (!_context2.t0.cancelled) {\n              _context2.next = 13;\n              break;\n            }\n\n            throw _context2.t0;\n\n          case 13:\n            if (false) {\n              // Ensure this error is displayed in the overlay in development\n              setTimeout(function () {\n                throw _context2.t0;\n              });\n            }\n\n            _context2.next = 16;\n            return renderError((0, _extends2[\"default\"])({}, renderingProps, {\n              err: _context2.t0\n            }));\n\n          case 16:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2, null, [[4, 9]]);\n  }));\n  return _render.apply(this, arguments);\n}\n\nfunction renderError(renderErrorProps) {\n  var App = renderErrorProps.App,\n      err = renderErrorProps.err; // In development runtime errors are caught by our overlay\n  // In production we catch runtime errors using componentDidCatch which will trigger renderError\n\n  if (false) {\n    // A Next.js rendering runtime error is always unrecoverable\n    // FIXME: let's make this recoverable (error in GIP client-transition)\n    webpackHMR.onUnrecoverableError(); // We need to render an empty <App> so that the `<ReactDevOverlay>` can\n    // render itself.\n\n    return doRender({\n      App: function App() {\n        return null;\n      },\n      props: {},\n      Component: function Component() {\n        return null;\n      },\n      styleSheets: []\n    });\n  } // Make sure we log the error to the console, otherwise users can't track down issues.\n\n\n  console.error(err);\n  return pageLoader.loadPage('/_error').then(function (_ref5) {\n    var ErrorComponent = _ref5.page,\n        styleSheets = _ref5.styleSheets;\n    // In production we do a normal render with the `ErrorComponent` as component.\n    // If we've gotten here upon initial render, we can use the props from the server.\n    // Otherwise, we need to call `getInitialProps` on `App` before mounting.\n    var AppTree = wrapApp(App);\n    var appCtx = {\n      Component: ErrorComponent,\n      AppTree: AppTree,\n      router: router,\n      ctx: {\n        err: err,\n        pathname: page,\n        query: query,\n        asPath: asPath,\n        AppTree: AppTree\n      }\n    };\n    return Promise.resolve(renderErrorProps.props ? renderErrorProps.props : (0, _utils.loadGetInitialProps)(App, appCtx)).then(function (initProps) {\n      return doRender((0, _extends2[\"default\"])({}, renderErrorProps, {\n        err: err,\n        Component: ErrorComponent,\n        styleSheets: styleSheets,\n        props: initProps\n      }));\n    });\n  });\n}\n\nvar reactRoot = null;\nvar shouldHydrate = typeof _reactDom[\"default\"].hydrate === 'function';\n\nfunction renderReactElement(domEl, fn) {\n  // mark start of hydrate/render\n  if (_utils.ST) {\n    performance.mark('beforeRender');\n  }\n\n  var reactEl = fn(shouldHydrate ? markHydrateComplete : markRenderComplete);\n\n  if (process.env.__NEXT_REACT_ROOT) {\n    if (!reactRoot) {\n      reactRoot = _reactDom[\"default\"].createRoot(domEl, {\n        hydrate: shouldHydrate\n      });\n    }\n\n    reactRoot.render(reactEl);\n    shouldHydrate = false;\n  } else {\n    // The check for `.hydrate` is there to support React alternatives like preact\n    if (shouldHydrate) {\n      _reactDom[\"default\"].hydrate(reactEl, domEl);\n\n      shouldHydrate = false;\n    } else {\n      _reactDom[\"default\"].render(reactEl, domEl);\n    }\n  }\n}\n\nfunction markHydrateComplete() {\n  if (!_utils.ST) return;\n  performance.mark('afterHydrate'); // mark end of hydration\n\n  performance.measure('Next.js-before-hydration', 'navigationStart', 'beforeRender');\n  performance.measure('Next.js-hydration', 'beforeRender', 'afterHydrate');\n\n  if (onPerfEntry) {\n    performance.getEntriesByName('Next.js-hydration').forEach(onPerfEntry);\n  }\n\n  clearMarks();\n}\n\nfunction markRenderComplete() {\n  if (!_utils.ST) return;\n  performance.mark('afterRender'); // mark end of render\n\n  var navStartEntries = performance.getEntriesByName('routeChange', 'mark');\n  if (!navStartEntries.length) return;\n  performance.measure('Next.js-route-change-to-render', navStartEntries[0].name, 'beforeRender');\n  performance.measure('Next.js-render', 'beforeRender', 'afterRender');\n\n  if (onPerfEntry) {\n    performance.getEntriesByName('Next.js-render').forEach(onPerfEntry);\n    performance.getEntriesByName('Next.js-route-change-to-render').forEach(onPerfEntry);\n  }\n\n  clearMarks();\n  ['Next.js-route-change-to-render', 'Next.js-render'].forEach(function (measure) {\n    return performance.clearMeasures(measure);\n  });\n}\n\nfunction clearMarks() {\n  ;\n  ['beforeRender', 'afterHydrate', 'afterRender', 'routeChange'].forEach(function (mark) {\n    return performance.clearMarks(mark);\n  });\n}\n\nfunction AppContainer(_ref6) {\n  var children = _ref6.children;\n  return /*#__PURE__*/_react[\"default\"].createElement(Container, {\n    fn: function fn(error) {\n      return renderError({\n        App: CachedApp,\n        err: error\n      })[\"catch\"](function (err) {\n        return console.error('Error rendering page: ', err);\n      });\n    }\n  }, /*#__PURE__*/_react[\"default\"].createElement(_routerContext.RouterContext.Provider, {\n    value: (0, _router2.makePublicRouterInstance)(router)\n  }, /*#__PURE__*/_react[\"default\"].createElement(_headManagerContext.HeadManagerContext.Provider, {\n    value: headManager\n  }, children)));\n}\n\nvar wrapApp = function wrapApp(App) {\n  return function (wrappedAppProps) {\n    var appProps = (0, _extends2[\"default\"])({}, wrappedAppProps, {\n      Component: CachedComponent,\n      err: hydrateErr,\n      router: router\n    });\n    return /*#__PURE__*/_react[\"default\"].createElement(AppContainer, null, /*#__PURE__*/_react[\"default\"].createElement(App, appProps));\n  };\n};\n\nvar lastAppProps;\n\nfunction doRender(input) {\n  var App = input.App,\n      Component = input.Component,\n      props = input.props,\n      err = input.err;\n  var styleSheets = 'initial' in input ? undefined : input.styleSheets;\n  Component = Component || lastAppProps.Component;\n  props = props || lastAppProps.props;\n  var appProps = (0, _extends2[\"default\"])({}, props, {\n    Component: Component,\n    err: err,\n    router: router\n  }); // lastAppProps has to be set before ReactDom.render to account for ReactDom throwing an error.\n\n  lastAppProps = appProps;\n  var canceled = false;\n  var resolvePromise;\n  var renderPromise = new Promise(function (resolve, reject) {\n    if (_lastRenderReject) {\n      _lastRenderReject();\n    }\n\n    resolvePromise = function resolvePromise() {\n      _lastRenderReject = null;\n      resolve();\n    };\n\n    _lastRenderReject = function lastRenderReject() {\n      canceled = true;\n      _lastRenderReject = null;\n      var error = new Error('Cancel rendering route');\n      error.cancelled = true;\n      reject(error);\n    };\n  }); // This function has a return type to ensure it doesn't start returning a\n  // Promise. It should remain synchronous.\n\n  function onStart() {\n    if (!styleSheets || // We use `style-loader` in development, so we don't need to do anything\n    // unless we're in production:\n    false) {\n      return false;\n    }\n\n    var currentStyleTags = looseToArray(document.querySelectorAll('style[data-n-href]'));\n    var currentHrefs = new Set(currentStyleTags.map(function (tag) {\n      return tag.getAttribute('data-n-href');\n    }));\n    var noscript = document.querySelector('noscript[data-n-css]');\n    var nonce = noscript == null ? void 0 : noscript.getAttribute('data-n-css');\n    styleSheets.forEach(function (_ref7) {\n      var href = _ref7.href,\n          text = _ref7.text;\n\n      if (!currentHrefs.has(href)) {\n        var styleTag = document.createElement('style');\n        styleTag.setAttribute('data-n-href', href);\n        styleTag.setAttribute('media', 'x');\n\n        if (nonce) {\n          styleTag.setAttribute('nonce', nonce);\n        }\n\n        document.head.appendChild(styleTag);\n        styleTag.appendChild(document.createTextNode(text));\n      }\n    });\n    return true;\n  }\n\n  function onHeadCommit() {\n    if ( // We use `style-loader` in development, so we don't need to do anything\n    // unless we're in production:\n    true && // We can skip this during hydration. Running it wont cause any harm, but\n    // we may as well save the CPU cycles:\n    styleSheets && // Ensure this render was not canceled\n    !canceled) {\n      var desiredHrefs = new Set(styleSheets.map(function (s) {\n        return s.href;\n      }));\n      var currentStyleTags = looseToArray(document.querySelectorAll('style[data-n-href]'));\n      var currentHrefs = currentStyleTags.map(function (tag) {\n        return tag.getAttribute('data-n-href');\n      }); // Toggle `<style>` tags on or off depending on if they're needed:\n\n      for (var idx = 0; idx < currentHrefs.length; ++idx) {\n        if (desiredHrefs.has(currentHrefs[idx])) {\n          currentStyleTags[idx].removeAttribute('media');\n        } else {\n          currentStyleTags[idx].setAttribute('media', 'x');\n        }\n      } // Reorder styles into intended order:\n\n\n      var referenceNode = document.querySelector('noscript[data-n-css]');\n\n      if ( // This should be an invariant:\n      referenceNode) {\n        styleSheets.forEach(function (_ref8) {\n          var href = _ref8.href;\n          var targetTag = document.querySelector(\"style[data-n-href=\\\"\".concat(href, \"\\\"]\"));\n\n          if ( // This should be an invariant:\n          targetTag) {\n            referenceNode.parentNode.insertBefore(targetTag, referenceNode.nextSibling);\n            referenceNode = targetTag;\n          }\n        });\n      } // Finally, clean up server rendered stylesheets:\n\n\n      looseToArray(document.querySelectorAll('link[data-n-p]')).forEach(function (el) {\n        el.parentNode.removeChild(el);\n      }); // Force browser to recompute layout, which should prevent a flash of\n      // unstyled content:\n\n      getComputedStyle(document.body, 'height');\n    }\n\n    if (input.scroll) {\n      window.scrollTo(input.scroll.x, input.scroll.y);\n    }\n  }\n\n  function onRootCommit() {\n    resolvePromise();\n  }\n\n  onStart();\n\n  var elem = /*#__PURE__*/_react[\"default\"].createElement(_react[\"default\"].Fragment, null, /*#__PURE__*/_react[\"default\"].createElement(Head, {\n    callback: onHeadCommit\n  }), /*#__PURE__*/_react[\"default\"].createElement(AppContainer, null, /*#__PURE__*/_react[\"default\"].createElement(App, appProps), /*#__PURE__*/_react[\"default\"].createElement(_portal.Portal, {\n    type: \"next-route-announcer\"\n  }, /*#__PURE__*/_react[\"default\"].createElement(_routeAnnouncer.RouteAnnouncer, null)))); // We catch runtime errors using componentDidCatch which will trigger renderError\n\n\n  renderReactElement(appElement, function (callback) {\n    return /*#__PURE__*/_react[\"default\"].createElement(Root, {\n      callbacks: [callback, onRootCommit]\n    }, process.env.__NEXT_STRICT_MODE ? /*#__PURE__*/_react[\"default\"].createElement(_react[\"default\"].StrictMode, null, elem) : elem);\n  });\n  return renderPromise;\n}\n\nfunction Root(_ref9) {\n  var callbacks = _ref9.callbacks,\n      children = _ref9.children;\n\n  // We use `useLayoutEffect` to guarantee the callbacks are executed\n  // as soon as React flushes the update\n  _react[\"default\"].useLayoutEffect(function () {\n    return callbacks.forEach(function (callback) {\n      return callback();\n    });\n  }, [callbacks]);\n\n  if (process.env.__NEXT_TEST_MODE) {\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    _react[\"default\"].useEffect(function () {\n      window.__NEXT_HYDRATED = true;\n\n      if (window.__NEXT_HYDRATED_CB) {\n        window.__NEXT_HYDRATED_CB();\n      }\n    }, []);\n  } // We should ask to measure the Web Vitals after rendering completes so we\n  // don't cause any hydration delay:\n\n\n  _react[\"default\"].useEffect(function () {\n    (0, _performanceRelayer[\"default\"])(onPerfEntry);\n  }, []);\n\n  return children;\n} // Dummy component that we render as a child of Root so that we can\n// toggle the correct styles before the page is rendered.\n\n\nfunction Head(_ref10) {\n  var callback = _ref10.callback;\n\n  // We use `useLayoutEffect` to guarantee the callback is executed\n  // as soon as React flushes the update.\n  _react[\"default\"].useLayoutEffect(function () {\n    return callback();\n  }, [callback]);\n\n  return null;\n}",".outsmartly/analysis/modules/74.js":"// components/AboutRBX.js\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport Link from 'next/link';\nimport { pagefly, leftBlurb, rightBlurb, wrap, heading } from 'styles/pagefly.module.css';\nimport { aboutBanner, aboutPageTitle, mission, missionFullBlurb, missionText, everyday, empowered, within, info, text, pic, accordionItem, accordionPanel, accordionHeader, accordionOpen, accordionClose, locationPagefly, locationTitle, contactFullblurb } from './AboutRBX.module.css';\nimport { getImageUrl } from 'lib/getImageUrl';\nimport Accordion from './Accordion/Accordion';\nimport Locations from './Locations';\nimport Contact from './Contact';\nexport default function AboutRBX() {\n  // Wrap the getImageUrl function to clean up image source strings\n  var url = function url(str, width) {\n    return getImageUrl('/fast-image/rbx/t/272/assets/' + str, width);\n  };\n\n  var src1 = url('pf-4fad7e02--AboutRBXMain.jpg?v=1589558677');\n  var dset2 = \"\\n    \".concat(url('pf-86686fb5--AboutRBX1.jpg?v=1589571637'), \" 1200w,\\n    \").concat(url('pf-86686fb5--AboutRBX1.jpg?v=1589571637', 800), \" 800w,\\n    \").concat(url('pf-86686fb5--AboutRBX1.jpg?v=1589571637', 400), \" 400w\");\n  var set2 = \"\\n    \".concat(url('pf-86686fb5--AboutRBX1.jpg?v=1589571637'), \" 1200w,\\n    \").concat(url('pf-86686fb5--AboutRBX1.jpg?v=1589571637', 800), \" 800w,\\n    \").concat(url('pf-86686fb5--AboutRBX1.jpg?v=1589571637', 400), \" 400w\");\n  var dset3 = \"\\n    \".concat(url('pf-7e0291e4--AboutRBX2.jpg?v=1589558712'), \" 1200w,\\n    \").concat(url('pf-7e0291e4--AboutRBX2_800x572.jpg?v=1589558712', 800), \" 800w,\\n    \").concat(url('pf-7e0291e4--AboutRBX2_400x286.jpg?v=1589558712', 400), \" 400w\");\n  var set3 = \"\\n    \".concat(url('pf-7e0291e4--AboutRBX2.jpg?v=1589558712'), \" 1200w,\\n    \").concat(url('pf-7e0291e4--AboutRBX2_800x572.jpg?v=1589558712', 800), \" 800w,\\n    \").concat(url('pf-7e0291e4--AboutRBX2_400x286.jpg?v=1589558712', 400), \" 400w\");\n  var dset4 = \"\\n    \".concat(url('pf-686fb5ff--AboutRBX3v2.jpg?v=1589572806'), \" 1200w,\\n    \").concat(url('pf-686fb5ff--AboutRBX3v2_800x572.jpg?v=1589572806', 800), \" 800w,\\n    \").concat(url('pf-686fb5ff--AboutRBX3v2_400x286.jpg?v=1589572806', 400), \" 400w\");\n  var set4 = \"\\n    \".concat(url('pf-686fb5ff--AboutRBX3v2.jpg?v=1589572806'), \" 1200w,\\n    \").concat(url('pf-686fb5ff--AboutRBX3v2_800x572.jpg?v=1589572806', 800), \" 800w,\\n    \").concat(url('pf-686fb5ff--AboutRBX3v2_400x286.jpg?v=1589572806', 400), \" 400w\");\n  var imgSizes = '(min-width: 992px) 1200px, (min-width: 768px) and (max-width: 991px) 800px, 400px'; // Array of items for the accordion\n\n  var accordionData = [{\n    id: 1,\n    title: 'Visit our store',\n    content: /*#__PURE__*/_jsx(Locations, {\n      pageflyClass: locationPagefly,\n      pageTitleClass: locationTitle\n    })\n  }, {\n    id: 2,\n    title: 'Contact us',\n    content: /*#__PURE__*/_jsx(Contact, {\n      titleBlurbClass: contactFullblurb\n    })\n  }]; // Assemble CSS classes to pass down through Accordion to AccordionItem\n\n  var cssClasses = {\n    item: accordionItem,\n    header: accordionHeader,\n    open: accordionOpen,\n    close: accordionClose,\n    panel: accordionPanel\n  };\n  return /*#__PURE__*/_jsxs(\"div\", {\n    className: pagefly,\n    children: [/*#__PURE__*/_jsx(\"div\", {\n      className: aboutBanner,\n      children: /*#__PURE__*/_jsx(\"img\", {\n        src: src1,\n        alt: \"Four women wearing RBX tank tops\",\n        loading: \"lazy\"\n      })\n    }), /*#__PURE__*/_jsx(\"div\", {\n      className: mission,\n      children: /*#__PURE__*/_jsx(\"div\", {\n        className: missionFullBlurb,\n        children: /*#__PURE__*/_jsxs(\"div\", {\n          className: wrap,\n          children: [/*#__PURE__*/_jsx(\"h2\", {\n            className: aboutPageTitle,\n            children: \"Our Mission\"\n          }), /*#__PURE__*/_jsx(\"p\", {\n            className: missionText,\n            children: \"From our beginnings over a decade ago, Rugged Bear X-Treme\\u2122 has evolved into RBX Active. Built on the idea that being healthy and active should not be a luxury, but rather a basic need, RBX Active seeks to bring fashionable fitness apparel and products to everyone at affordable prices.\"\n          })]\n        })\n      })\n    }), /*#__PURE__*/_jsx(\"div\", {\n      className: everyday,\n      children: /*#__PURE__*/_jsxs(\"div\", {\n        className: leftBlurb,\n        children: [/*#__PURE__*/_jsxs(\"div\", {\n          className: text,\n          children: [/*#__PURE__*/_jsx(\"h3\", {\n            className: heading,\n            children: \"#everydayactive\"\n          }), /*#__PURE__*/_jsx(\"p\", {\n            children: \"We believe that living an active lifestyle promotes both physical and mental wellness. Whether you are an avid gym-goer, yogi, or runner and you are literally active every day, or you try to include activity in your everyday life by choosing to take the stairs instead of the elevator \\u2013 we are here to support your efforts.\"\n          })]\n        }), /*#__PURE__*/_jsx(\"div\", {\n          className: pic,\n          children: /*#__PURE__*/_jsx(\"img\", {\n            sizes: imgSizes,\n            \"data-srcset\": dset2,\n            srcSet: set2,\n            alt: \"Woman jogging on a beach\",\n            loading: \"lazy\"\n          })\n        })]\n      })\n    }), /*#__PURE__*/_jsx(\"div\", {\n      className: empowered,\n      children: /*#__PURE__*/_jsxs(\"div\", {\n        className: rightBlurb,\n        children: [/*#__PURE__*/_jsx(\"div\", {\n          className: pic,\n          children: /*#__PURE__*/_jsx(\"img\", {\n            sizes: imgSizes,\n            \"data-srcset\": dset3,\n            srcSet: set3,\n            alt: \"Man kicking a soccer ball\",\n            loading: \"lazy\"\n          })\n        }), /*#__PURE__*/_jsxs(\"div\", {\n          className: text,\n          children: [/*#__PURE__*/_jsxs(\"h3\", {\n            className: heading,\n            children: [\"Empowered by\", /*#__PURE__*/_jsx(\"br\", {}), \"health and fitness\"]\n          }), /*#__PURE__*/_jsxs(\"p\", {\n            children: [\"As we continue to grow, so has our mission. As the world learns more about what constitutes healthy living, we want to help guide our growing community by providing them with the information and tools to improve their lives. Whether it\\u2019s a killer workout routine, a great recipe or the latest mindfulness tip, we are all over it \\u2013 and sharing it on our\", ' ', /*#__PURE__*/_jsx(Link, {\n              href: \"/blogs/fitness\",\n              children: /*#__PURE__*/_jsx(\"a\", {\n                target: \"_blank\",\n                children: \"blog\"\n              })\n            }), \".\"]\n          })]\n        })]\n      })\n    }), /*#__PURE__*/_jsx(\"div\", {\n      className: within,\n      children: /*#__PURE__*/_jsxs(\"div\", {\n        className: leftBlurb,\n        children: [/*#__PURE__*/_jsxs(\"div\", {\n          className: text,\n          children: [/*#__PURE__*/_jsx(\"h3\", {\n            className: heading,\n            children: \"Within our walls\"\n          }), /*#__PURE__*/_jsx(\"p\", {\n            children: \"Team RBX celebrates fitness with integrity, innovation and an eye on fashion. Together we\\u2019ve built a passionate community that illustrates the ideals of elite athletes tempered with the realities of the everyday lives of regular people. We strive to offer products and solutions that empower and outfit us all, as we stay active together.\"\n          })]\n        }), /*#__PURE__*/_jsx(\"div\", {\n          className: pic,\n          children: /*#__PURE__*/_jsx(\"img\", {\n            sizes: imgSizes,\n            \"data-srcset\": dset4,\n            srcSet: set4,\n            alt: \"Woman exercising on bleachers\"\n          })\n        })]\n      })\n    }), /*#__PURE__*/_jsx(\"div\", {\n      className: info,\n      children: /*#__PURE__*/_jsx(Accordion, {\n        items: accordionData,\n        allowMultipleOpen: true,\n        cssClasses: cssClasses\n      })\n    })]\n  });\n}",".outsmartly/analysis/modules/87.js":"// lib/helpers.js\nimport _slicedToArray from \"/Users/kai/Work/rbx-rewrite/node_modules/next/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _toConsumableArray from \"/Users/kai/Work/rbx-rewrite/node_modules/next/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nexport function firstAvailableVariant(_ref) {\n  var variants = _ref.variants;\n  var variant = variants === null || variants === void 0 ? void 0 : variants.find(function (_ref2) {\n    var availableForSale = _ref2.availableForSale;\n    return availableForSale;\n  });\n  return variant !== null && variant !== void 0 ? variant : variants[0];\n}\nexport function getColorsByVariantId(_ref3) {\n  var variants = _ref3.variants;\n  return fromEntries(variants.map(function (_ref4) {\n    var id = _ref4.id,\n        optionMap = _ref4.optionMap;\n    return [id, optionMap['Color']];\n  }));\n}\nexport function getFirstImage(imageMap) {\n  return Object.values(imageMap)[0][0];\n}\nexport function getFirstColor(imageMap) {\n  return Object.keys(imageMap)[0];\n}\nexport function getFilteredImagesByColor(imageMap) {\n  var _imageMap$color;\n\n  var color = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n  var filteredImages = (_imageMap$color = imageMap[color]) !== null && _imageMap$color !== void 0 ? _imageMap$color : Object.values(imageMap).reduce(function (allImages, colorImages) {\n    return [].concat(_toConsumableArray(allImages), _toConsumableArray(colorImages));\n  }, []);\n  return filteredImages.map(function (src) {\n    return {\n      id: src,\n      src: src,\n      altText: color\n    };\n  });\n}\nexport function getColorByVariantId(colorsByVariant, variantId) {\n  return colorsByVariant[variantId];\n}\nexport function fromEntries(arr) {\n  return arr.reduce(function (obj, _ref5) {\n    var _ref6 = _slicedToArray(_ref5, 2),\n        key = _ref6[0],\n        val = _ref6[1];\n\n    obj[key] = val;\n    return obj;\n  }, {});\n}",".outsmartly/analysis/modules/40.js":"// components/Email.js\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React from 'react';\nimport { wrapper, grid, griditem, title, form, inputGroup, fieldGroup, input, messages, success, error, formActions, button, buttonIcon } from './Email.module.css';\nimport Icon from './icons/Icon';\nexport default function Email() {\n  return /*#__PURE__*/_jsx(\"section\", {\n    className: \"\".concat(wrapper, \" closes-drawer\"),\n    \"aria-label\": \"Email\",\n    children: /*#__PURE__*/_jsx(\"div\", {\n      className: \"page-width\",\n      children: /*#__PURE__*/_jsxs(\"div\", {\n        className: grid,\n        children: [/*#__PURE__*/_jsx(\"div\", {\n          className: griditem,\n          children: /*#__PURE__*/_jsx(\"p\", {\n            className: title,\n            children: \"Enjoy 15% off your first order\"\n          })\n        }), /*#__PURE__*/_jsx(\"div\", {\n          className: griditem,\n          children: /*#__PURE__*/_jsx(\"form\", {\n            id: \"footer_email_signup\",\n            className: form,\n            action: \"//manage.kmail-lists.com/subscriptions/subscribe\",\n            method: \"GET\",\n            target: \"_blank\",\n            noValidate: \"novalidate\",\n            children: /*#__PURE__*/_jsxs(\"div\", {\n              className: \"input-group newsletter-form \".concat(inputGroup),\n              children: [/*#__PURE__*/_jsxs(\"div\", {\n                className: \"klaviyo_field_group \".concat(fieldGroup),\n                children: [/*#__PURE__*/_jsx(\"input\", {\n                  type: \"hidden\",\n                  name: \"g\",\n                  value: \"Mm6xMG\"\n                }), /*#__PURE__*/_jsx(\"input\", {\n                  type: \"email\",\n                  name: \"email\",\n                  id: \"k_id_email\",\n                  className: input,\n                  \"aria-label\": \"Email\",\n                  placeholder: \"Join Our List\"\n                })]\n              }), /*#__PURE__*/_jsxs(\"div\", {\n                className: \"klaviyo_messages \".concat(messages),\n                children: [/*#__PURE__*/_jsx(\"div\", {\n                  style: {\n                    display: 'none'\n                  },\n                  className: \"success_message \".concat(success),\n                  children: \"Successfully added email address\"\n                }), /*#__PURE__*/_jsx(\"div\", {\n                  style: {\n                    display: 'none'\n                  },\n                  className: \"error_message \".concat(error),\n                  children: \"Invalid email address\"\n                })]\n              }), /*#__PURE__*/_jsx(\"div\", {\n                className: \"klaviyo_form_actions \".concat(formActions),\n                children: /*#__PURE__*/_jsxs(\"button\", {\n                  type: \"submit\",\n                  className: button,\n                  children: [/*#__PURE__*/_jsx(Icon, {\n                    icon: \"angle-right1\",\n                    className: buttonIcon\n                  }), /*#__PURE__*/_jsx(\"span\", {\n                    className: \"visually-hidden\",\n                    children: \"Subscribe\"\n                  })]\n                })\n              })]\n            })\n          })\n        })]\n      })\n    })\n  });\n}",".outsmartly/analysis/modules/11.js":"// components/FeaturedNoCss.js\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports._outsmartly_thunk = _outsmartly_thunk;\n\nvar _objectWithoutProperties2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutProperties\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _FeaturedContent = _interopRequireDefault(require(\"./FeaturedContent\"));\n\nvar _trackExposure = require(\"./outsmartly/track-exposure\");\n\nvar __jsx = _react[\"default\"].createElement;\n\nfunction _outsmartly_thunk(_temp) {\n  if (_outsmartly_slices.$1 || _outsmartly_slices.$2) {\n    var featuredItems = _temp.featuredItems,\n        _temp$css = _temp.css,\n        featured = _temp$css.featured,\n        featuredItem = _temp$css.featuredItem,\n        featuredImage = _temp$css.featuredImage,\n        restCss = (0, _objectWithoutProperties2[\"default\"])(_temp$css, [\"featured\", \"featuredItem\", \"featuredImage\"]);\n  }\n\n  if (_outsmartly_branch_selections.$0) {\n    {\n      if (_outsmartly_slices.$1) {\n        _outsmartly_outlets.$1 = featuredItems.map(function (item) {\n          return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n            className: featuredItem,\n            key: item.linkRoute\n          }, /*#__PURE__*/_react[\"default\"].createElement(_trackExposure.TrackExposure, {\n            outsmartlyTracking: item.outsmartlyTracking\n          }, /*#__PURE__*/_react[\"default\"].createElement(\"img\", {\n            className: featuredImage,\n            src: item.imgSrc,\n            alt: item.imgAlt,\n            loading: \"lazy\"\n          })), /*#__PURE__*/_react[\"default\"].createElement(_FeaturedContent[\"default\"], {\n            parent: \"featured\",\n            id: item.id,\n            titleText: item.title,\n            subtitleText: item.subtitle,\n            captionText: item.caption,\n            linkText: item.linkText,\n            linkRoute: item.linkRoute,\n            align: item.align,\n            item: item // Outsmartly's CLI does not currently support CSS Modules so we\n            // need to pass these in as props and thread them through, for the time being\n            ,\n            // Outsmartly's CLI does not currently support CSS Modules so we\n            // need to pass these in as props and thread them through, for the time being\n            css: restCss,\n            outsmartlyTracking: item.outsmartlyTracking\n          }));\n        });\n      }\n\n      if (_outsmartly_slices.$2) {\n        _outsmartly_outlets.$2 = featured;\n      }\n    }\n    return _outsmartly_no_return;\n  } else {\n    return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n      className: featured\n    }, featuredItems.map(function (item) {\n      return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: featuredItem,\n        key: item.linkRoute\n      }, /*#__PURE__*/_react[\"default\"].createElement(_trackExposure.TrackExposure, {\n        outsmartlyTracking: item.outsmartlyTracking\n      }, /*#__PURE__*/_react[\"default\"].createElement(\"img\", {\n        className: featuredImage,\n        src: item.imgSrc,\n        alt: item.imgAlt,\n        loading: \"lazy\"\n      })), /*#__PURE__*/_react[\"default\"].createElement(_FeaturedContent[\"default\"], {\n        parent: \"featured\",\n        id: item.id,\n        titleText: item.title,\n        subtitleText: item.subtitle,\n        captionText: item.caption,\n        linkText: item.linkText,\n        linkRoute: item.linkRoute,\n        align: item.align,\n        item: item // Outsmartly's CLI does not currently support CSS Modules so we\n        // need to pass these in as props and thread them through, for the time being\n        ,\n        // Outsmartly's CLI does not currently support CSS Modules so we\n        // need to pass these in as props and thread them through, for the time being\n        css: restCss,\n        outsmartlyTracking: item.outsmartlyTracking\n      }));\n    }));\n  }\n}\n\nvar FeaturedNoCss = _outsmartly_thunk;",".outsmartly/analysis/modules/129.js":"// components/SizingGuide/Girls.js\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { title, tableWrap } from './SizingGuide.module.css';\nexport default function Girls(_ref) {\n  var _ref$titleClass = _ref.titleClass,\n      titleClass = _ref$titleClass === void 0 ? title : _ref$titleClass,\n      _ref$wrapClass = _ref.wrapClass,\n      wrapClass = _ref$wrapClass === void 0 ? tableWrap : _ref$wrapClass;\n  return /*#__PURE__*/_jsxs(\"div\", {\n    id: \"girls\",\n    children: [/*#__PURE__*/_jsx(\"p\", {\n      className: titleClass,\n      children: /*#__PURE__*/_jsx(\"strong\", {\n        children: \"Girls Size Guide\"\n      })\n    }), /*#__PURE__*/_jsx(\"div\", {\n      className: wrapClass,\n      children: /*#__PURE__*/_jsxs(\"table\", {\n        children: [/*#__PURE__*/_jsx(\"thead\", {\n          children: /*#__PURE__*/_jsxs(\"tr\", {\n            children: [/*#__PURE__*/_jsx(\"th\", {\n              scope: \"col\",\n              children: \"Size\"\n            }), /*#__PURE__*/_jsx(\"th\", {\n              scope: \"col\",\n              children: \"US Numeric Size\"\n            }), /*#__PURE__*/_jsx(\"th\", {\n              scope: \"col\",\n              children: \"Height\"\n            }), /*#__PURE__*/_jsx(\"th\", {\n              scope: \"col\",\n              children: \"Weight\"\n            }), /*#__PURE__*/_jsx(\"th\", {\n              scope: \"col\",\n              children: \"Chest\"\n            }), /*#__PURE__*/_jsx(\"th\", {\n              scope: \"col\",\n              children: \"Waist\"\n            }), /*#__PURE__*/_jsx(\"th\", {\n              scope: \"col\",\n              children: \"Hip\"\n            })]\n          })\n        }), /*#__PURE__*/_jsxs(\"tbody\", {\n          children: [/*#__PURE__*/_jsxs(\"tr\", {\n            children: [/*#__PURE__*/_jsx(\"th\", {\n              scope: \"row\",\n              children: \"XXS\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"4\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"38\\\"-41\\\"\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"36-40 lbs\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"22\\\"\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"21\\\"\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"23\\\"\"\n            })]\n          }), /*#__PURE__*/_jsxs(\"tr\", {\n            children: [/*#__PURE__*/_jsx(\"th\", {\n              scope: \"row\",\n              children: \"XS\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"5/6\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"42\\\"-46\\\"\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"40-48 lbs\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"23\\\"-23\\\"\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"21.5\\\"-22\\\"\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"24\\\"-25\\\"\"\n            })]\n          }), /*#__PURE__*/_jsxs(\"tr\", {\n            children: [/*#__PURE__*/_jsx(\"th\", {\n              scope: \"row\",\n              children: \"S\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"7\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"47\\\"-48\\\"\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"53-62 lbs\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"25\\\"\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"22.5\\\"\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"26\\\"\"\n            })]\n          }), /*#__PURE__*/_jsxs(\"tr\", {\n            children: [/*#__PURE__*/_jsx(\"th\", {\n              scope: \"row\",\n              children: \"M\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"8\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"50\\\"-52\\\"\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"62-70 lbs\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"27\\\"\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"23\\\"\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"28\\\"\"\n            })]\n          }), /*#__PURE__*/_jsxs(\"tr\", {\n            children: [/*#__PURE__*/_jsx(\"th\", {\n              scope: \"row\",\n              children: \"L\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"10/12\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"53\\\"-58\\\"\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"70-90 lbs\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"28.5\\\"- 30\\\"\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"24\\\"-25\\\"\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"30\\\" - 32\\\"\"\n            })]\n          }), /*#__PURE__*/_jsxs(\"tr\", {\n            children: [/*#__PURE__*/_jsx(\"th\", {\n              scope: \"row\",\n              children: \"XL\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"14/16\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"58\\\"-64\\\"\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"90-110 lbs\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"31\\\"-33\\\"\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"26\\\"-27\\\"\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"34\\\"-36\\\"\"\n            })]\n          }), /*#__PURE__*/_jsxs(\"tr\", {\n            children: [/*#__PURE__*/_jsx(\"th\", {\n              scope: \"row\",\n              children: \"XXL\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"18/20\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"64\\\"+\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"110 lbs+\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"33\\\"+\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"27\\\"+\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"36\\\"+\"\n            })]\n          })]\n        })]\n      })\n    })]\n  });\n}",".outsmartly/analysis/modules/178.js":"// pages/api/_next/product.ts\nimport { convertProductToProps } from 'lib/convertProductToProps';\nimport { loadSingleProduct } from 'lib/shopify';\nexport default (async (req, res) => {\n  const {\n    handle\n  } = req.query;\n  const product = await loadSingleProduct(handle);\n  res.statusCode = 200;\n  res.json(convertProductToProps(product));\n});",".outsmartly/analysis/modules/168.js":"// pages/_error.ts\nimport { CustomErrorPage } from '@outsmartly/jackrabbit';\nexport default CustomErrorPage;",".outsmartly/analysis/modules/139.js":"// context/getProduct.ts\nimport _regeneratorRuntime from \"/Users/kai/Work/rbx-rewrite/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/kai/Work/rbx-rewrite/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { fetchJson } from 'lib/utils';\nimport { useEffect, useState } from 'react';\nimport getConfig from 'next/config'; // Only holds serverRuntimeConfig and publicRuntimeConfig\n\nvar _getConfig = getConfig(),\n    publicRuntimeConfig = _getConfig.publicRuntimeConfig;\n\nexport function getFullProduct(collectionProduct) {\n  var _useState = useState(collectionProduct),\n      product = _useState[0],\n      setProduct = _useState[1];\n\n  useEffect(function () {\n    if (!product.variants || collectionProduct.handle !== product.handle) {\n      fetchInfo();\n    }\n  }, [collectionProduct]);\n\n  function fetchInfo() {\n    return _fetchInfo.apply(this, arguments);\n  }\n\n  function _fetchInfo() {\n    _fetchInfo = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var _data$pageProps, _data$pageProps2, _data$pageProps2$cont;\n\n      var data, content;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return fetchJson(\"/_next/data/\".concat(publicRuntimeConfig.buildId, \"/products/\").concat(collectionProduct.handle, \".json\"));\n\n            case 2:\n              data = _context.sent;\n              content = data === null || data === void 0 ? void 0 : (_data$pageProps = data.pageProps) === null || _data$pageProps === void 0 ? void 0 : _data$pageProps.content;\n\n              if (data !== null && data !== void 0 && (_data$pageProps2 = data.pageProps) !== null && _data$pageProps2 !== void 0 && (_data$pageProps2$cont = _data$pageProps2.content) !== null && _data$pageProps2$cont !== void 0 && _data$pageProps2$cont.handle) {\n                setProduct(content);\n              }\n\n            case 5:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n    return _fetchInfo.apply(this, arguments);\n  }\n\n  return product;\n}",".outsmartly/analysis/modules/50.js":"// node_modules/next/dist/client/performance-relayer.js\n\"use strict\";\n\nexports.__esModule = true;\nexports[\"default\"] = void 0;\n\nvar _webVitals = require(\"next/dist/compiled/web-vitals\");\n\nvar initialHref = location.href;\nvar isRegistered = false;\nvar userReportHandler;\n\nfunction onReport(metric) {\n  if (userReportHandler) {\n    userReportHandler(metric);\n  } // This code is not shipped, executed, or present in the client-side\n  // JavaScript bundle unless explicitly enabled in your application.\n  //\n  // When this feature is enabled, we'll make it very clear by printing a\n  // message during the build (`next build`).\n\n\n  if (true && // This field is empty unless you explicitly configure it:\n  process.env.__NEXT_ANALYTICS_ID) {\n    var body = {\n      dsn: process.env.__NEXT_ANALYTICS_ID,\n      id: metric.id,\n      page: window.__NEXT_DATA__.page,\n      href: initialHref,\n      event_name: metric.name,\n      value: metric.value.toString(),\n      speed: 'connection' in navigator && navigator['connection'] && 'effectiveType' in navigator['connection'] ? navigator['connection']['effectiveType'] : ''\n    };\n    var blob = new Blob([new URLSearchParams(body).toString()], {\n      // This content type is necessary for `sendBeacon`:\n      type: 'application/x-www-form-urlencoded'\n    });\n    var vitalsUrl = 'https://vitals.vercel-insights.com/v1/vitals';\n    navigator.sendBeacon && navigator.sendBeacon(vitalsUrl, blob) || fetch(vitalsUrl, {\n      body: blob,\n      method: 'POST',\n      credentials: 'omit',\n      keepalive: true\n    });\n  }\n}\n\nvar _default = function _default(onPerfEntry) {\n  // Update function if it changes:\n  userReportHandler = onPerfEntry; // Only register listeners once:\n\n  if (isRegistered) {\n    return;\n  }\n\n  isRegistered = true;\n  (0, _webVitals.getCLS)(onReport);\n  (0, _webVitals.getFID)(onReport);\n  (0, _webVitals.getFCP)(onReport);\n  (0, _webVitals.getLCP)(onReport);\n  (0, _webVitals.getTTFB)(onReport);\n};\n\nexports[\"default\"] = _default;",".outsmartly/analysis/modules/8.js":"// components/overrides/AppConfigOverrides.js\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports._outsmartly_thunk = _outsmartly_thunk;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar __jsx = _react[\"default\"].createElement;\n\nfunction _outsmartly_thunk(_temp) {\n  if (_outsmartly_slices.$1 || _outsmartly_slices.$2) {\n    var _temp$extraAppConfigP = _temp.extraAppConfigProps,\n        extraAppConfigProps = _temp$extraAppConfigP === void 0 ? undefined : _temp$extraAppConfigP;\n  }\n\n  if (_outsmartly_slices.$1 ? !extraAppConfigProps : _outsmartly_branch_selections.$1) {\n    if (_outsmartly_branch_selections.$1) {\n      {}\n      return _outsmartly_no_return;\n    } else {\n      return null;\n    }\n  }\n\n  if (_outsmartly_branch_selections.$0) {\n    {\n      if (_outsmartly_slices.$2) {\n        _outsmartly_outlets.$2 = {\n          __html: extraAppConfigProps.map(function (_ref) {\n            var key = _ref.key,\n                value = _ref.value;\n            return \"window.__APP_CONFIG__.\".concat(key, \"=\").concat(JSON.stringify(value), \";\");\n          }).join('')\n        };\n      }\n    }\n    return _outsmartly_no_return;\n  } else {\n    return /*#__PURE__*/_react[\"default\"].createElement(\"script\", {\n      \"data-app-config-override\": true,\n      dangerouslySetInnerHTML: {\n        __html: extraAppConfigProps.map(function (_ref2) {\n          var key = _ref2.key,\n              value = _ref2.value;\n          return \"window.__APP_CONFIG__.\".concat(key, \"=\").concat(JSON.stringify(value), \";\");\n        }).join('')\n      }\n    });\n  }\n}\n\nvar AppConfigOverrides = _outsmartly_thunk;",".outsmartly/analysis/modules/97.js":"// outsmartly/helpers/fastImageToCloudinary.js\nimport { CLOUDINARY_ID } from '../variables';\nexport function fastImageToCloudinary(url) {\n  url.pathname = url.pathname.replace(\"/fast-image/\", \"/\".concat(CLOUDINARY_ID, \"/image/upload/\"));\n\n  if (url.search) {\n    url.pathname += \"\".concat(url.search.replace('?', '%3F'));\n    url.search = '';\n  }\n\n  url.hostname = \"res.cloudinary.com\";\n  return url;\n}",".outsmartly/analysis/modules/64.js":"// node_modules/next/dist/next-server/lib/router/utils/format-url.js\n\"use strict\";\n\nexports.__esModule = true;\nexports.formatUrl = formatUrl;\n\nvar querystring = _interopRequireWildcard(require(\"./querystring\"));\n\nfunction _getRequireWildcardCache() {\n  if (typeof WeakMap !== \"function\") return null;\n  var cache = new WeakMap();\n\n  _getRequireWildcardCache = function _getRequireWildcardCache() {\n    return cache;\n  };\n\n  return cache;\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  }\n\n  if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") {\n    return {\n      \"default\": obj\n    };\n  }\n\n  var cache = _getRequireWildcardCache();\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n  var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) {\n      var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n      if (desc && (desc.get || desc.set)) {\n        Object.defineProperty(newObj, key, desc);\n      } else {\n        newObj[key] = obj[key];\n      }\n    }\n  }\n\n  newObj[\"default\"] = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n} // Format function modified from nodejs\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n\nvar slashedProtocols = /https?|ftp|gopher|file/;\n\nfunction formatUrl(urlObj) {\n  var auth = urlObj.auth,\n      hostname = urlObj.hostname;\n  var protocol = urlObj.protocol || '';\n  var pathname = urlObj.pathname || '';\n  var hash = urlObj.hash || '';\n  var query = urlObj.query || '';\n  var host = false;\n  auth = auth ? encodeURIComponent(auth).replace(/%3A/i, ':') + '@' : '';\n\n  if (urlObj.host) {\n    host = auth + urlObj.host;\n  } else if (hostname) {\n    host = auth + (~hostname.indexOf(':') ? \"[\".concat(hostname, \"]\") : hostname);\n\n    if (urlObj.port) {\n      host += ':' + urlObj.port;\n    }\n  }\n\n  if (query && typeof query === 'object') {\n    query = String(querystring.urlQueryToSearchParams(query));\n  }\n\n  var search = urlObj.search || query && \"?\".concat(query) || '';\n  if (protocol && protocol.substr(-1) !== ':') protocol += ':';\n\n  if (urlObj.slashes || (!protocol || slashedProtocols.test(protocol)) && host !== false) {\n    host = '//' + (host || '');\n    if (pathname && pathname[0] !== '/') pathname = '/' + pathname;\n  } else if (!host) {\n    host = '';\n  }\n\n  if (hash && hash[0] !== '#') hash = '#' + hash;\n  if (search && search[0] !== '?') search = '?' + search;\n  pathname = pathname.replace(/[?#]/g, encodeURIComponent);\n  search = search.replace('#', '%23');\n  return \"\".concat(protocol).concat(host).concat(pathname).concat(search).concat(hash);\n}",".outsmartly/analysis/modules/35.js":"// node_modules/next/dist/next-server/lib/router/utils/resolve-rewrites.js\n\"use strict\";\n\nvar _toArray = require(\"/Users/kai/Work/rbx-rewrite/node_modules/next/node_modules/@babel/runtime/helpers/toArray\");\n\nexports.__esModule = true;\nexports[\"default\"] = resolveRewrites;\n\nvar _pathMatch = _interopRequireDefault(require(\"./path-match\"));\n\nvar _prepareDestination = _interopRequireWildcard(require(\"./prepare-destination\"));\n\nvar _normalizeTrailingSlash = require(\"../../../../client/normalize-trailing-slash\");\n\nvar _normalizeLocalePath = require(\"../../i18n/normalize-locale-path\");\n\nvar _parseRelativeUrl = require(\"./parse-relative-url\");\n\nvar _router = require(\"../router\");\n\nfunction _getRequireWildcardCache() {\n  if (typeof WeakMap !== \"function\") return null;\n  var cache = new WeakMap();\n\n  _getRequireWildcardCache = function _getRequireWildcardCache() {\n    return cache;\n  };\n\n  return cache;\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  }\n\n  if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") {\n    return {\n      \"default\": obj\n    };\n  }\n\n  var cache = _getRequireWildcardCache();\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n  var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) {\n      var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n      if (desc && (desc.get || desc.set)) {\n        Object.defineProperty(newObj, key, desc);\n      } else {\n        newObj[key] = obj[key];\n      }\n    }\n  }\n\n  newObj[\"default\"] = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nvar customRouteMatcher = (0, _pathMatch[\"default\"])(true);\n\nfunction resolveRewrites(asPath, pages, rewrites, query, resolveHref, locales) {\n  var matchedPage = false;\n  var parsedAs = (0, _parseRelativeUrl.parseRelativeUrl)(asPath);\n  var fsPathname = (0, _normalizeTrailingSlash.removePathTrailingSlash)((0, _normalizeLocalePath.normalizeLocalePath)((0, _router.delBasePath)(parsedAs.pathname), locales).pathname);\n  var resolvedHref;\n\n  var handleRewrite = function handleRewrite(rewrite) {\n    var matcher = customRouteMatcher(rewrite.source);\n    var params = matcher(parsedAs.pathname);\n\n    if (rewrite.has && params) {\n      var hasParams = (0, _prepareDestination.matchHas)({\n        headers: {\n          host: document.location.hostname\n        },\n        cookies: document.cookie.split('; ').reduce(function (acc, item) {\n          var _item$split = item.split('='),\n              _item$split2 = _toArray(_item$split),\n              key = _item$split2[0],\n              value = _item$split2.slice(1);\n\n          acc[key] = value.join('=');\n          return acc;\n        }, {})\n      }, rewrite.has, parsedAs.query);\n\n      if (hasParams) {\n        Object.assign(params, hasParams);\n      } else {\n        params = false;\n      }\n    }\n\n    if (params) {\n      if (!rewrite.destination) {\n        // this is a proxied rewrite which isn't handled on the client\n        return true;\n      }\n\n      var destRes = (0, _prepareDestination[\"default\"])(rewrite.destination, params, query, true);\n      parsedAs = destRes.parsedDestination;\n      asPath = destRes.newUrl;\n      Object.assign(query, destRes.parsedDestination.query);\n      fsPathname = (0, _normalizeTrailingSlash.removePathTrailingSlash)((0, _normalizeLocalePath.normalizeLocalePath)((0, _router.delBasePath)(asPath), locales).pathname);\n\n      if (pages.includes(fsPathname)) {\n        // check if we now match a page as this means we are done\n        // resolving the rewrites\n        matchedPage = true;\n        resolvedHref = fsPathname;\n        return true;\n      } // check if we match a dynamic-route, if so we break the rewrites chain\n\n\n      resolvedHref = resolveHref(fsPathname);\n\n      if (resolvedHref !== asPath && pages.includes(resolvedHref)) {\n        matchedPage = true;\n        return true;\n      }\n    }\n  };\n\n  var finished = false;\n\n  for (var i = 0; i < rewrites.beforeFiles.length; i++) {\n    // we don't end after match in beforeFiles to allow\n    // continuing through all beforeFiles rewrites\n    handleRewrite(rewrites.beforeFiles[i]);\n  }\n\n  matchedPage = pages.includes(fsPathname);\n\n  if (!matchedPage) {\n    if (!finished) {\n      for (var _i = 0; _i < rewrites.afterFiles.length; _i++) {\n        if (handleRewrite(rewrites.afterFiles[_i])) {\n          finished = true;\n          break;\n        }\n      }\n    } // check dynamic route before processing fallback rewrites\n\n\n    if (!finished) {\n      resolvedHref = resolveHref(fsPathname);\n      matchedPage = pages.includes(resolvedHref);\n      finished = matchedPage;\n    }\n\n    if (!finished) {\n      for (var _i2 = 0; _i2 < rewrites.fallback.length; _i2++) {\n        if (handleRewrite(rewrites.fallback[_i2])) {\n          finished = true;\n          break;\n        }\n      }\n    }\n  }\n\n  return {\n    asPath: asPath,\n    parsedAs: parsedAs,\n    matchedPage: matchedPage,\n    resolvedHref: resolvedHref\n  };\n}",".outsmartly/analysis/modules/15.js":"// components/FilterSidebar/CalloutsNoCss.js\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports._outsmartly_thunk = _outsmartly_thunk;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _objectWithoutProperties2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutProperties\"));\n\nvar _Callout = require(\"./Callout\");\n\nvar __jsx = _react[\"default\"].createElement;\n\nfunction _outsmartly_thunk(_temp) {\n  if (_outsmartly_slices.$1 || _outsmartly_slices.$2) {\n    var callouts = _temp.callouts,\n        _temp$css = _temp.css,\n        calloutGroup = _temp$css.calloutGroup,\n        restCss = (0, _objectWithoutProperties2[\"default\"])(_temp$css, [\"calloutGroup\"]);\n  }\n\n  if (_outsmartly_branch_selections.$0) {\n    {\n      if (_outsmartly_slices.$1) {\n        _outsmartly_outlets.$1 = callouts.map(function (callout) {\n          return /*#__PURE__*/_react[\"default\"].createElement(_Callout.Callout, {\n            callout: callout,\n            css: restCss,\n            key: callout.id\n          });\n        });\n      }\n\n      if (_outsmartly_slices.$2) {\n        _outsmartly_outlets.$2 = calloutGroup;\n      }\n    }\n    return _outsmartly_no_return;\n  } else {\n    return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n      className: calloutGroup\n    }, callouts.map(function (callout) {\n      return /*#__PURE__*/_react[\"default\"].createElement(_Callout.Callout, {\n        callout: callout,\n        css: restCss,\n        key: callout.id\n      });\n    }));\n  }\n}\n\nvar CalloutsNoCss = _outsmartly_thunk;",".outsmartly/analysis/modules/44.js":"// components/OutfitCollection.js\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React from 'react';\nimport styles from 'styles/Main.module.css';\nimport { outfitHeader, imageWrap, headerContent, outfitTitle, outfitInfo, grid50 } from './OutfitCollection.module.css';\nimport QuickView from './QuickView';\nimport { getImageUrl, getProductImageUrl } from 'lib/getImageUrl';\nimport { LemonSpot } from 'components/LemonSpot/LemonSpot';\nimport { SEO } from './Seo';\nimport { useCollectionView } from '@outsmartly/shopify-analytics';\nimport { getFirstColor, getFirstImage } from 'lib/helpers';\nexport default function OutfitCollection(_ref) {\n  var content = _ref.content;\n  useCollectionView(content, content.products); // Add page type class to <main>\n\n  var pageType = 'templateCollection';\n  var heroImage = getImageUrl(content.image, 600);\n  var description = content.description !== '' ? content.description : \"\".concat(content.title, \" 2-piece outfit: \").concat(content.products.map(function (_ref2) {\n    var title = _ref2.title;\n    return title;\n  }).join(' & '));\n  return /*#__PURE__*/_jsxs(\"main\", {\n    id: \"mainContent\",\n    className: \"\".concat(styles['mainContent'], \" \").concat(styles[pageType]),\n    children: [/*#__PURE__*/_jsx(SEO, {\n      ogType: \"website\",\n      title: content.title,\n      canonical: \"/collections/\".concat(content.handle),\n      description: description,\n      images: [content.image],\n      preloads: [heroImage]\n    }), /*#__PURE__*/_jsxs(\"div\", {\n      className: \"page-width\",\n      children: [/*#__PURE__*/_jsx(\"header\", {\n        className: outfitHeader,\n        children: /*#__PURE__*/_jsxs(\"div\", {\n          className: grid50,\n          children: [/*#__PURE__*/_jsx(\"div\", {\n            className: imageWrap,\n            children: /*#__PURE__*/_jsx(\"img\", {\n              src: heroImage,\n              style: {\n                aspectRatio: '13/18'\n              },\n              alt: \"\".concat(content.title, \" Outfit\"),\n              width: \"600\",\n              height: \"831\"\n            })\n          }), /*#__PURE__*/_jsxs(\"div\", {\n            className: headerContent,\n            children: [/*#__PURE__*/_jsx(\"h1\", {\n              className: outfitTitle,\n              children: content.title\n            }), /*#__PURE__*/_jsx(\"p\", {\n              children: \"2-piece outfit\"\n            }), /*#__PURE__*/_jsx(\"h2\", {\n              children: \"In this outfit\"\n            }), content.products.map(function (product) {\n              return /*#__PURE__*/_jsx(\"div\", {\n                className: outfitInfo,\n                children: /*#__PURE__*/_jsxs(\"a\", {\n                  href: \"#\".concat(product.id),\n                  children: [/*#__PURE__*/_jsx(\"img\", {\n                    src: getProductImageUrl(getFirstImage(product.imageMap), 600),\n                    alt: getFirstColor(product.imageMap),\n                    style: {\n                      aspectRatio: '13/18'\n                    },\n                    width: \"600\",\n                    height: \"831\",\n                    loading: \"lazy\"\n                  }), /*#__PURE__*/_jsxs(\"p\", {\n                    children: [product.title, \" - \", /*#__PURE__*/_jsx(\"strong\", {\n                      children: \"$\".concat(product.price)\n                    })]\n                  })]\n                })\n              }, product.id);\n            })]\n          })]\n        })\n      }), /*#__PURE__*/_jsx(\"div\", {\n        className: \"page-width\",\n        children: content.products.map(function (product) {\n          return /*#__PURE__*/_jsx(QuickView, {\n            instance: \"outfitCollectionItem\",\n            collectionHandle: content.handle,\n            product: product\n          }, product.id);\n        })\n      }), /*#__PURE__*/_jsx(LemonSpot, {\n        page: \"Collection\"\n      })]\n    })]\n  });\n}",".outsmartly/analysis/modules/70.js":"// components/Product/ProductWithCollection.js\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport Product from '.';\nexport default function ProductWithCollection(_ref) {\n  var collectionInfo = _ref.collectionInfo,\n      content = _ref.content;\n  return /*#__PURE__*/_jsx(Product, {\n    collectionInfo: collectionInfo,\n    content: content\n  });\n}",".outsmartly/analysis/modules/21.js":"// jackrabbit.config.js\nexport default {\n  siteName: 'RBX Active',\n  shopify: {\n    name: 'rbxactive',\n    theme: '{\"name\":\"February 2021 End of Season Sale Theme 3\",\"id\":45798686842,\"theme_store_id\":null,\"role\":\"main\"};'\n  },\n  social: {\n    twitter: '@rbx_active'\n  },\n  urls: {\n    base: 'https://www.rbxactive.com',\n    fastImage: '/fast-image/rbx-ctf/'\n  },\n  favicon: '//cdn.shopify.com/s/files/1/1115/2394/t/320/assets/favicon.png?v=5787369902304841158',\n  images: {\n    defaultOgImage: '//cdn.shopify.com/s/files/1/1115/2394/t/320/assets/logo.png?v=1154069579403264894'\n  },\n  seo: {\n    home: {\n      title: 'RBX Active | Active Apparel At An Affordable Price',\n      description: 'Outfitting your healthy and active lifestyle with athletic apparel designed with attributes you can count on for performance and comfort.'\n    },\n    contact: {\n      title: 'Contact Us',\n      canonical: '/pages/contact-rbx'\n    },\n    about: {\n      title: 'About RBX Active',\n      canonical: '/pages/about-rbx'\n    }\n  },\n  contactInfo: [{\n    heading: 'Customer Support',\n    text: 'cs@rbxactive.com',\n    href: 'mailto:cs@rbxactive.com'\n  }, {\n    heading: 'Business Inquiries',\n    href: 'mailto:info@rbxactive.com',\n    text: 'info@rbxactive.com'\n  }, {\n    heading: 'Phone',\n    href: 'tel:+18885882892',\n    text: '(888) 588-2892'\n  }],\n  sections: {\n    homePage: {\n      heroItems: {\n        slideshowName: 'Default Slideshow',\n        slides: [{\n          id: '3XH3d7iZSA7RbZWGAOu1kl',\n          title: '<span style=\"color:#fff;\">new arrivals</span>',\n          subtitle: '<strong>lightweight<br>pants</strong>',\n          caption: null,\n          linkText: 'shop now',\n          linkRoute: '/collections/new-arrivals-collection',\n          align: 'Right',\n          textSizes: {\n            name: 'Default Home Slide Text Sizes',\n            headingSizeMobile: '15px',\n            headingSizeTablet: '25px',\n            headingSizeDesktop: '35px',\n            subheadingSizeMobile: '32px',\n            subheadingSizeTablet: '50px',\n            subheadingSizeDesktop: '80px',\n            captionSizeMobile: '18px',\n            captionSizeTablet: '22px',\n            captionSizeDesktop: '24px'\n          },\n          slideName: 'Woman Kneeling: Lightweight pants',\n          headingTextColor: '#FFFFFF',\n          subheadingTextShadowColor: '#af7150',\n          subheadingTextColor: '#FFFFFF',\n          captionTextColor: '#FFFFFF',\n          buttonBackgroundColor: '#FFFFFF',\n          buttonBackgroundColorOpacity: 1,\n          buttonTextColor: '#AF7150',\n          buttonTextHoverColor: '#F2A176',\n          imgAlt: 'Woman kneeling and woman standing in background',\n          imgSrc: '/fast-image/rbx-ctf/5x2rdjtv4EY6h2l2IjhaJb/d3004af0993186d270cf8bfbeeef97fa/hero_slide_1.progressive.jpg'\n        }, {\n          id: 'C6mnx7GlCDAT4pQgxD9oP',\n          title: '<strong>new arrivals</strong>',\n          subtitle: '<strong>made<br>for<br>curves</strong>',\n          caption: null,\n          linkText: 'shop plus',\n          linkRoute: '/collections/womens-plus-size',\n          align: 'Right',\n          textSizes: {\n            name: 'Default Home Slide Text Sizes',\n            headingSizeMobile: '15px',\n            headingSizeTablet: '25px',\n            headingSizeDesktop: '35px',\n            subheadingSizeMobile: '32px',\n            subheadingSizeTablet: '50px',\n            subheadingSizeDesktop: '80px',\n            captionSizeMobile: '18px',\n            captionSizeTablet: '22px',\n            captionSizeDesktop: '24px'\n          },\n          slideName: 'Woman Sitting: Made for curves',\n          headingTextColor: '#FFFFFF',\n          subheadingTextShadowColor: '#627AB1',\n          subheadingTextColor: '#FFFFFF',\n          buttonBackgroundColor: '#FFFFFF',\n          buttonBackgroundColorOpacity: 0.3,\n          buttonTextColor: '#FFFFFF',\n          buttonTextHoverColor: '#627AB1',\n          imgAlt: 'Woman sitting on ground',\n          imgSrc: '/fast-image/rbx-ctf/6ZGXSUEAS55Oz3cWFaqvwV/07a16de9a684c8afebba2ef620e302c2/hero_slide_2.jpg'\n        }, {\n          id: '68VWvsRm5bxBrByPBpZmTR',\n          title: 'new arrivals',\n          subtitle: \"<strong>men's<br>joggers</strong>\",\n          caption: null,\n          linkText: 'shop men',\n          linkRoute: '/collections/mens-running-pants',\n          align: 'Left',\n          textSizes: {\n            name: 'Default Home Slide Text Sizes',\n            headingSizeMobile: '15px',\n            headingSizeTablet: '25px',\n            headingSizeDesktop: '35px',\n            subheadingSizeMobile: '32px',\n            subheadingSizeTablet: '50px',\n            subheadingSizeDesktop: '80px',\n            captionSizeMobile: '18px',\n            captionSizeTablet: '22px',\n            captionSizeDesktop: '24px'\n          },\n          slideName: 'Mens: Joggers',\n          headingTextColor: '#373c86',\n          subheadingTextShadowColor: '#405893',\n          subheadingTextColor: '#FFFFFF',\n          captionTextColor: '#FFFFFF',\n          buttonBackgroundColor: '#FFFFFF',\n          buttonBackgroundColorOpacity: 0.3,\n          buttonTextColor: '#FFFFFF',\n          buttonTextHoverColor: '#405893',\n          imgAlt: 'Man sitting on ground',\n          imgSrc: '/fast-image/rbx-ctf/3IwmRw1hQtpZP0H9zA21OT/a3056130e40cddc9b687d1257f52e0fb/hero_slide_3.jpg'\n        }],\n        slideshowSpeedInSeconds: 5\n      },\n      featuredItems: [{\n        id: '6vGrFEGgQvOHiuKAVEPOvW',\n        subtitle: 'looks<br>we<br>love',\n        linkRoute: '/pages/outfits',\n        linkText: 'shop outfits',\n        buttonBackgroundColor: '#FFFFFF',\n        buttonBackgroundColorOpacity: 0.3,\n        buttonTextColor: '#FFFFFF',\n        buttonTextHoverColor: '#996BB7',\n        align: 'Left',\n        name: 'Shop Outfits',\n        headlineTextShadowColor: '#ba8b91',\n        imgAlt: 'Woman wearing purple sweatshirt and sitting',\n        imgSrc: '//images.ctfassets.net/ajgn17op1zyt/21CYTsj7g5wLiSns84C7SU/838bb9754cd05807eaf51986cd14f00e/feature-image-1.jpg'\n      }, {\n        id: '5SUa19RN0EEI0Hv1juLIuz',\n        subtitle: 'camo<br>collection',\n        linkRoute: '/collections/camo-camo',\n        linkText: 'shop camo',\n        buttonBackgroundColor: '#FFFFFF',\n        buttonBackgroundColorOpacity: 0.3,\n        buttonTextColor: '#FFFFFF',\n        buttonTextHoverColor: '#53635A',\n        align: 'Left',\n        name: 'Shop Camo',\n        headlineTextShadowColor: '#616e61',\n        imgAlt: 'Woman wearing camo pants, view from waste down and kneeling',\n        imgSrc: '//images.ctfassets.net/ajgn17op1zyt/6pAC6SgFWfhr4HuiQSBcNc/bcfacda6b7f4282dd4b590b7a24826ac/feature-image-2.jpg'\n      }]\n    },\n    footer: {\n      copyrightText: '2021 TRB Acquisitions LLC. RBX and Claw Design is a registered rademark of TRB Acquisitions LLC. All Rights Reserved. Website operated by RBX Direct LLC under license.',\n      logo: '/fast-image/rbx/t/308/assets/footer-logo.png?v=12937813969273505854',\n      links: [{\n        id: 'rbx',\n        heading: 'RBX',\n        links: [{\n          text: 'About Us',\n          route: '/pages/about-rbx'\n        }, {\n          text: 'Contact Us',\n          route: '/pages/contact-rbx'\n        }, {\n          text: 'FAQ',\n          route: '/pages/faq'\n        } // { text: 'Locations', route: '/pages/locations' },\n        ],\n        nested: {\n          id: 'social',\n          heading: 'Social',\n          links: [{\n            name: 'facebook',\n            href: 'https://www.facebook.com/rbxactive',\n            pathd: \"M18.222 11.556V8.91c0-1.194.264-1.8\\n    2.118-1.8h2.326V2.668h-3.882c-4.757 0-6.326 2.18-6.326\\n    5.924v2.966H9.333V16h3.125v13.333h5.764V16h3.917l.527-4.444h-4.444z\"\n          }, {\n            name: 'twitter',\n            href: 'https://twitter.com/rbx_active',\n            pathd: \"M30.75 6.844c-1.087.48-2.25.806-3.475.956a6.08 6.08 0 0 0 2.663-3.35\\n    12.02 12.02 0 0 1-3.844 1.47A6.044 6.044 0 0 0 21.674 4a6.052 6.052 0 0\\n    0-6.05 6.056c0 .475.05.938.157 1.38a17.147 17.147 0 0 1-12.474-6.33 6.068\\n    6.068 0 0 0 1.88 8.088 5.91 5.91 0 0 1-2.75-.756v.075a6.056 6.056 0 0 0\\n    4.857 5.937 6.113 6.113 0 0 1-1.594.212c-.39 0-.77-.038-1.14-.113a6.06 6.06\\n    0 0 0 5.657 4.205 12.132 12.132 0 0 1-8.963 2.507A16.91 16.91 0 0 0 10.516\\n    28c11.144 0 17.23-9.23 17.23-17.238 0-.262-.005-.525-.018-.78a12.325 12.325\\n    0 0 0 3.02-3.14z\"\n          }, {\n            name: 'pinterest',\n            href: 'https://www.pinterest.com/rbxactive/',\n            pathd: \"M16 2C8.27 2 2 8.27 2 16c0 5.73 3.45 10.656 8.38\\n    12.825-.036-.975-.005-2.15.245-3.212.27-1.137 1.8-7.63\\n    1.8-7.63s-.45-.895-.45-2.214c0-2.076 1.2-3.626 2.7-3.626 1.275 0 1.887.956\\n    1.887 2.1 0 1.28-.82 3.194-1.238 4.97-.35 1.487.744 2.693 2.212 2.693 2.65 0\\n    4.438-3.406 4.438-7.444 0-3.07-2.07-5.362-5.825-5.362-4.245 0-6.895\\n    3.17-6.895 6.707 0 1.22.363 2.08.925\\n    2.744.256.307.294.432.2.782-.07.256-.22.875-.287\\n    1.125-.094.356-.38.48-.7.35-1.956-.8-2.87-2.938-2.87-5.35 0-3.975\\n    3.357-8.744 10.007-8.744 5.344 0 8.863 3.87 8.863 8.02 0 5.493-3.056\\n    9.593-7.556 9.593-1.512 0-2.93-.82-3.42-1.744 0 0-.812 3.225-.987 3.85-.294\\n    1.08-.875 2.156-1.406 3 1.256.37 2.588.575 3.97.575 7.73 0 14-6.27\\n    14-14C29.998 8.27 23.73 2 15.998 2z\"\n          }, {\n            name: 'instagram',\n            href: 'https://www.instagram.com/rbxactive/',\n            pathd: \"M29.368 6a3.3 3.3 0 0 0-3.3-3.3H6A3.3 3.3 0 0 0 2.7 6v20.07A3.3 3.3\\n    0 0 0 6 29.367h20.07a3.3 3.3 0 0 0 3.298-3.3V6zm-13.3 4.433a5.556 5.556 0 1\\n    1 0 11.112 5.556 5.556 0 0 1 0-11.112zm11.078-1.065a1.11 1.11 0 0 1-1.11\\n    1.11H22.7a1.11 1.11 0 0 1-1.11-1.11V6.035c0-.614.496-1.11\\n    1.11-1.11h3.333c.614 0 1.11.496 1.11 1.11v3.333zm-1.042 17.778h-20c-.613\\n    0-1.18-.568-1.18-1.18V13.81h3.685a7.61 7.61 0 0 0-.32 2.193c0 2.078.81 4.022\\n    2.28 5.49s3.42 2.275 5.5 2.275 4.03-.81 5.5-2.28 2.277-3.406\\n    2.277-5.483c0-.76-.11-1.5-.317-2.194h3.616v12.153c0\\n    .613-.43 1.18-1.042 1.18z\"\n          }]\n        }\n      }, {\n        id: 'community',\n        heading: 'Community',\n        links: [{\n          text: 'RBX Blog',\n          route: '/blogs/fitness'\n        }, {\n          text: 'RBX Rewards',\n          route: '/pages/rbx-rewards'\n        }, {\n          text: 'Current Promotions',\n          route: '/pages/current-promotion'\n        }, {\n          text: 'Gift Cards',\n          route: '/products/rbx-active-electronic-gift-card'\n        }, {\n          text: 'Become an Influencer',\n          route: '/pages/rbx-influencer'\n        }]\n      }, {\n        id: 'customer',\n        heading: 'Customer Care',\n        links: [{\n          text: 'Sizing Guide',\n          route: '/pages/sizing-guide'\n        }, {\n          text: 'Privacy Policy',\n          route: '/pages/privacy-policy'\n        }, {\n          text: 'Terms & Conditions',\n          route: '/pages/terms-conditions'\n        }, {\n          text: 'Return Policy',\n          route: '/pages/return-policy'\n        }, {\n          text: 'Returns Portal',\n          route: 'https://returns.rbxactive.com/'\n        }]\n      }]\n    }\n  },\n  helpers: {\n    browserTitle: function browserTitle(title) {\n      return title.indexOf('RBX') > -1 ? title : \"\".concat(title, \" \\u2013 RBX Active\");\n    }\n  }\n};",".outsmartly/analysis/modules/83.js":"// third-party-scripts/searchanise.js\nimport { loadScriptWithDelay, loadScript } from './utils';\nvar config = {\n  src: \"//www.searchanise.com/widgets/shopify/init.js?a=4P8e9P3N8M&shop=rbxactive.myshopify.com\",\n  id: 'searchanise-script',\n  timeout: 10 * 1000\n};\nexport function loadSearchanise() {\n  loadScriptWithDelay(config);\n}\nexport function loadSearchaniseImmediately() {\n  loadScript(config);\n}",".outsmartly/analysis/modules/288.js":"// third-party-scripts/utils.js\nconst timeoutIds = {};\nexport function loadScript(config, callback = () => {}) {\n  const {\n    src,\n    id,\n    anonymous = true,\n    defer = true\n  } = config; // If there is a setTimeout running for this script, clear it. This may occur\n  // when user interactions require the script to be loaded sooner.\n\n  if (timeoutIds[src]) {\n    window.clearTimeout(timeoutIds[src]);\n  } // If the script has already been loaded, do nothing\n\n\n  if (document.getElementById(id)) {\n    return;\n  }\n\n  const script = document.createElement('script');\n  script.src = src;\n  script.defer = defer;\n  script.id = id;\n\n  if (anonymous) {\n    script.crossOrigin = 'anonymous';\n  } // A lot of the scripts have the same timeout, so use requestIdleCallback\n  // to callback when idle and avoid overloading main thread.\n\n\n  script.onload = typeof window.requestIdleCallback === 'function' ? () => window.requestIdleCallback(callback) : callback;\n  document.body.append(script);\n}\nexport function loadScriptWithDelay(config, callback = () => {}) {\n  const {\n    src,\n    id\n  } = config; // If the script has already been loaded, just execute the callback right away\n\n  if (document.getElementById(id)) {\n    if (typeof window.requestIdleCallback === 'function') {\n      window.requestIdleCallback(callback);\n    } else {\n      window.setTimeout(callback, 0);\n    }\n\n    return;\n  } // If config object says so, and it's available, load script in lull period\n\n\n  if (config.useRequestIdleCallback && typeof window.requestIdleCallback === 'function') {\n    window.requestIdleCallback(() => loadScript(config, callback));\n  } else {\n    // window.scriptDelayTime let's us control this from edge, if desired\n    const timeout = config.timeout || window.scriptDelayTime || 10000;\n    timeoutIds[src] = window.setTimeout(loadScript, timeout, config, callback);\n  }\n}",".outsmartly/analysis/modules/119.js":"// third-party-scripts/index.js\nexport { loadPebblePost } from './pebblepost';\nexport { loadRouteapp } from './routeapp';\nexport { loadSearchanise } from './searchanise';\nexport { loadZendesk } from './zendesk';",".outsmartly/analysis/modules/148.js":"// data/sidebarNav.js\nvar navGroups = [{\n  id: 269571772,\n  name: 'women',\n  links: [{\n    id: 382012440,\n    navText: 'Tops',\n    route: '/collections/womens-tops',\n    initialActive: true,\n    subNav: [{\n      id: 443957010,\n      navText: 'Tanks',\n      route: '/collections/womens-tanks'\n    }, {\n      id: 365188181,\n      navText: 'T-Shirts',\n      route: '/collections/womens-tees'\n    }, {\n      id: 516764647,\n      navText: 'Long Sleeve',\n      route: '/collections/women-longsleeve'\n    }, {\n      id: 378503080,\n      navText: 'Sweatshirts',\n      route: '/collections/womens-sweatshirts' // hidden: true,\n\n    }, {\n      id: 411896099,\n      navText: 'Jackets',\n      route: '/collections/jackets',\n      hidden: true\n    }]\n  }, {\n    id: 504850016,\n    navText: 'Bottoms',\n    route: '/collections/women-bottoms',\n    subNav: [{\n      id: 472560934,\n      navText: 'Leggings',\n      route: '/collections/women-leggings'\n    }, {\n      id: 244461898,\n      navText: 'Capris',\n      route: '/collections/capris'\n    }, {\n      id: 436115746,\n      navText: 'Skorts',\n      route: '/collections/womens-skorts'\n    }, {\n      id: 493212209,\n      navText: 'Shorts',\n      route: '/collections/womens-shorts'\n    }, {\n      id: 436115746,\n      navText: 'Pants',\n      route: '/collections/womens-pants'\n    }]\n  }, {\n    id: 484677635,\n    navText: 'Bras',\n    route: '/collections/bras'\n  }, {\n    id: 304997827,\n    navText: 'Intimates',\n    route: '/collections/intimates',\n    hidden: true\n  }, {\n    id: 487080627,\n    navText: 'Socks',\n    route: '/collections/womens-socks'\n  }, {\n    id: 487080627,\n    navText: 'Shoes',\n    route: '/collections/womens-shoes-1'\n  }, {\n    id: 413626659,\n    navText: 'Plus Size',\n    route: '/collections/womens-plus-size',\n    hidden: true\n  }, {\n    id: 475843420,\n    navText: 'Sale',\n    route: '/collections/womens-sale'\n  }, {\n    id: 269571772,\n    navText: 'View All',\n    route: '/collections/women',\n    hidden: true\n  }]\n}, {\n  id: 239126299,\n  name: 'men',\n  links: [{\n    id: 316417257,\n    navText: 'Tops',\n    route: '/collections/mens-tops',\n    subNav: [{\n      id: 538796632,\n      navText: 'T-Shirt',\n      route: '/collections/mens-t-shirt'\n    }, {\n      id: 516268928,\n      navText: 'Tanks',\n      route: '/collections/mens-sleeveless'\n    }, {\n      id: 534308887,\n      navText: 'Long Sleeve',\n      route: '/collections/men-long-sleeve'\n    }, {\n      id: 214329577,\n      navText: 'Sweatshirts',\n      route: '/collections/men-sweatshirts',\n      hidden: true\n    }]\n  }, {\n    id: 496011011,\n    navText: 'Bottoms',\n    route: '/collections/mens-bottoms',\n    subNav: [{\n      id: 376987766,\n      navText: 'Shorts',\n      route: '/collections/men-shorts'\n    }, {\n      id: 201642584,\n      navText: 'Pants',\n      route: '/collections/mens-running-pants'\n    }]\n  }, {\n    id: 460493113,\n    navText: 'Socks',\n    route: '/collections/mens-socks'\n  }, {\n    id: 236758991,\n    navText: 'Underwear',\n    route: '/collections/mens-underwear'\n  }, {\n    id: 320106041,\n    navText: 'Swim',\n    route: '/collections/mens-swim'\n  }, {\n    id: 234259415,\n    navText: 'Sale',\n    route: '/collections/mens-sale'\n  }, {\n    id: 239126299,\n    navText: 'View All',\n    route: '/collections/men'\n  }]\n}, {\n  id: 424531021,\n  name: 'sale',\n  links: [{\n    id: 456941628,\n    navText: \"Women's Sale\",\n    route: '/collections/womens-sale'\n  }, {\n    id: 375255896,\n    navText: \"Men's Sale\",\n    route: '/collections/mens-sale'\n  }, {\n    id: 242461553,\n    navText: 'Final Sale',\n    route: '/collections/clearance'\n  }]\n}];\nexport default navGroups;",".outsmartly/analysis/modules/158.js":"// components/Slider/Arrow.js\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { arrowN, arrowP, angleRight, angleLeft } from './Arrow.module.css';\nimport Icon from 'components/icons/Icon';\n/**\n * A next/previous arrow.\n */\n\nexport function Arrow(_ref) {\n  var direction = _ref.direction,\n      handleClick = _ref.handleClick;\n  return /*#__PURE__*/_jsx(_Fragment, {\n    children: direction === 'previous' ? /*#__PURE__*/_jsx(\"button\", {\n      className: arrowP,\n      onClick: function onClick(e) {\n        return handleClick(direction);\n      },\n      children: /*#__PURE__*/_jsx(Icon, {\n        icon: \"angle-left-lime\",\n        className: angleLeft\n      })\n    }) : /*#__PURE__*/_jsx(\"button\", {\n      className: arrowN,\n      onClick: function onClick(e) {\n        return handleClick(direction);\n      },\n      children: /*#__PURE__*/_jsx(Icon, {\n        icon: \"angle-right-lime\",\n        className: angleRight\n      })\n    })\n  });\n}",".outsmartly/analysis/modules/109.js":"// components/FilterSidebar/FilterSidebar.js\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React, { useRef } from 'react';\nimport Link from 'next/link';\nimport { useRouter } from 'next/router';\nimport { filterSidebar, navList, parent, trigger, triggerIcon, childList, filterToggle, active, wrap, menu, group, hasSelection, clear } from './FilterSidebar.module.css';\nimport Icon from 'components/icons/Icon';\nimport sidebarNav from 'data/sidebarNav';\nimport ColorFilter from './ColorFilter';\nimport SizeFilter from './SizeFilter';\nimport Callouts from './Callouts';\nimport { getClearTagHref } from 'lib/utils';\nexport default function FilterSidebar(_ref) {\n  var _query$tagQuery$inclu, _query$tagQuery, _query$tagQuery$inclu2, _query$tagQuery2, _document, _document$location;\n\n  var handle = _ref.handle,\n      groupName = _ref.groupName,\n      callouts = _ref.callouts;\n  var navListRef = useRef();\n  var filterPanelRef = useRef();\n  var router = useRouter();\n  /** Handle a \"trigger click\": a click on a top level link in the sidebar\n   * navigation that has a child list. First determine if trigger wants to open\n   * or close its childList. If wants to open, close all lists, then open this\n   * one. If wants to close, just close it. */\n\n  var triggerClick = function triggerClick(e) {\n    e.preventDefault(); //Get the list associated with this trigger\n\n    var list = e.target.parentElement.querySelector(\".\".concat(childList)); // Is it currently open?\n\n    if (list.classList.contains(active)) {\n      // If yes, then we want to close it. So just close it.\n      list.classList.remove(active);\n    } else {\n      // If not, then we want to open it. Close any open lists (should be only\n      // zero or one open list)...\n      var childLists = navListRef.current.querySelectorAll(\".\".concat(childList, \".\").concat(active));\n\n      if (childLists.length) {\n        childLists.forEach(function (childList) {\n          childList.classList.remove(active);\n        });\n      } // ...then open this one.\n\n\n      list.classList.add(active);\n    }\n  };\n  /** Toggle the filter panel in the sidebar */\n\n\n  var toggleFilter = function toggleFilter(e) {\n    var btn = e.target; // Set CSS class on filter panel. Expanded becomes `true` when opened\n\n    var expanded = filterPanelRef.current.classList.toggle(active);\n    btn.setAttribute('aria-expanded', expanded);\n    var btnLabel = expanded ? 'Hide Filter Menu' : 'Show Filter Menu';\n    btn.textContent = btnLabel;\n  }; // If this collection is within a group, find the group name and links\n\n\n  var sidebarLinks;\n\n  if (groupName) {\n    var sidebarNavGroup = sidebarNav.find(function (g) {\n      return g.name === groupName;\n    });\n    sidebarLinks = sidebarNavGroup.links;\n  } // Determine whether to show the \"clear\" links on the Color and Size filter\n  // headings.\n\n\n  var query = router.query;\n  var hasSelectedColor = (_query$tagQuery$inclu = (_query$tagQuery = query.tagQuery) === null || _query$tagQuery === void 0 ? void 0 : _query$tagQuery.includes('color')) !== null && _query$tagQuery$inclu !== void 0 ? _query$tagQuery$inclu : false;\n  var hasSelectedSize = (_query$tagQuery$inclu2 = (_query$tagQuery2 = query.tagQuery) === null || _query$tagQuery2 === void 0 ? void 0 : _query$tagQuery2.includes('size')) !== null && _query$tagQuery$inclu2 !== void 0 ? _query$tagQuery$inclu2 : false; // Determine the correct route for the \"clear\" links\n\n  var clearColorHref = getClearTagHref(query, 'color');\n  var clearSizeHref = getClearTagHref(query, 'size');\n  var isAllProducts = typeof document !== 'undefined' && ((_document = document) === null || _document === void 0 ? void 0 : (_document$location = _document.location) === null || _document$location === void 0 ? void 0 : _document$location.pathname) === '/collections/all';\n  return /*#__PURE__*/_jsxs(\"div\", {\n    className: filterSidebar,\n    children: [groupName && /*#__PURE__*/_jsx(\"nav\", {\n      \"aria-label\": \"Secondary\",\n      children: /*#__PURE__*/_jsx(\"ul\", {\n        className: navList,\n        ref: navListRef,\n        children: sidebarLinks.map(function (link) {\n          if (link.hidden) {\n            return null;\n          } else {\n            return /*#__PURE__*/_jsx(\"li\", {\n              className: parent,\n              children: link.subNav ?\n              /*#__PURE__*/\n\n              /* If child list exists, print a trigger anchor and the list */\n              _jsxs(_Fragment, {\n                children: [/*#__PURE__*/_jsxs(\"a\", {\n                  className: trigger,\n                  href: \"#\",\n                  onClick: triggerClick,\n                  children: [link.navText, /*#__PURE__*/_jsx(Icon, {\n                    icon: \"angle-down\",\n                    className: triggerIcon\n                  })]\n                }), /*#__PURE__*/_jsx(\"ul\", {\n                  className: \"\".concat(childList, \" \").concat(link.initialActive ? active : ''),\n                  children: link.subNav.map(function (sub) {\n                    if (sub.hidden) {\n                      return null;\n                    } else {\n                      return /*#__PURE__*/_jsx(\"li\", {\n                        children: /*#__PURE__*/_jsx(Link, {\n                          href: sub.route,\n                          children: /*#__PURE__*/_jsx(\"a\", {\n                            children: sub.navText\n                          })\n                        })\n                      }, sub.navText);\n                    }\n                  })\n                })]\n              }) :\n              /*#__PURE__*/\n\n              /* Otherwise, just print a link */\n              _jsx(Link, {\n                href: link.route,\n                children: /*#__PURE__*/_jsx(\"a\", {\n                  children: link.navText\n                })\n              })\n            }, link.navText);\n          }\n        })\n      })\n    }), /*#__PURE__*/_jsx(\"button\", {\n      className: filterToggle,\n      onClick: toggleFilter,\n      \"aria-controls\": \"filter-panel\",\n      \"aria-expanded\": \"false\",\n      children: \"Show Filter Menu\"\n    }), /*#__PURE__*/_jsx(\"div\", {\n      id: \"filter-panel\",\n      ref: filterPanelRef,\n      className: wrap,\n      children: /*#__PURE__*/_jsxs(\"div\", {\n        className: menu,\n        children: [/*#__PURE__*/_jsxs(\"div\", {\n          className: group,\n          children: [/*#__PURE__*/_jsx(\"h4\", {\n            children: \"Refine\"\n          }), !isAllProducts ? /*#__PURE__*/_jsx(Link, {\n            href: \"/collections/all\",\n            children: /*#__PURE__*/_jsx(\"a\", {\n              className: clear,\n              children: \"view all\"\n            })\n          }) : null]\n        }), /*#__PURE__*/_jsxs(\"div\", {\n          className: hasSelectedColor ? hasSelection : group,\n          children: [/*#__PURE__*/_jsx(\"h4\", {\n            children: \"Color\"\n          }), /*#__PURE__*/_jsx(Link, {\n            href: clearColorHref,\n            children: /*#__PURE__*/_jsx(\"a\", {\n              className: clear,\n              children: \"clear\"\n            })\n          }), /*#__PURE__*/_jsx(ColorFilter, {\n            handle: handle\n          })]\n        }), /*#__PURE__*/_jsxs(\"div\", {\n          className: hasSelectedSize ? hasSelection : group,\n          children: [/*#__PURE__*/_jsx(\"h4\", {\n            children: \"Size\"\n          }), /*#__PURE__*/_jsx(Link, {\n            href: clearSizeHref,\n            children: /*#__PURE__*/_jsx(\"a\", {\n              className: clear,\n              children: \"clear\"\n            })\n          }), /*#__PURE__*/_jsx(SizeFilter, {\n            handle: handle\n          })]\n        })]\n      })\n    }), /*#__PURE__*/_jsx(Callouts, {\n      callouts: callouts\n    })]\n  });\n}",".outsmartly/analysis/modules/298.js":"// components/Collection/CollectionGrid.js\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React, { useContext, useState, useMemo } from 'react';\nimport { useRouter } from 'next/router';\nimport { wrapper, collectionGrid, collectionItem } from './CollectionGrid.module.css';\nimport ProductCard from './ProductCard';\nimport Pagination from './Pagination';\nimport { CollectionContext } from 'context/CollectionContext';\nimport Modal from 'components/Modal';\nimport QuickView from 'components/QuickView';\nimport { quickshop } from 'components/QuickView/QuickView.module.css';\nimport { sortProducts } from 'lib/productSort';\nimport { hideScrollbar } from 'lib/utils';\nimport { useCollectionView } from '@outsmartly/shopify-analytics';\n/** The CollectionGrid component */\n\nexport default function CollectionGrid({\n  handle\n}) {\n  const {\n    title,\n    products: unsortedProducts\n  } = useContext(CollectionContext);\n\n  if (unsortedProducts.length === 0) {\n    return /*#__PURE__*/_jsx(\"div\", {\n      className: wrapper,\n      children: /*#__PURE__*/_jsx(\"p\", {\n        children: \"Sorry, there are no products in this collection\"\n      })\n    });\n  }\n\n  return /*#__PURE__*/_jsx(InternalGrid, {\n    handle: handle,\n    unsortedProducts: unsortedProducts,\n    title: title\n  });\n}\n\nfunction InternalGrid({\n  handle,\n  unsortedProducts,\n  title\n}) {\n  const {\n    0: showModal,\n    1: setShowModal\n  } = useState(false);\n  const {\n    0: quick,\n    1: setQuick\n  } = useState({}); // Determine the page number and sort_by from the URL\n\n  const router = useRouter();\n  const {\n    sort_by,\n    page = 1\n  } = router.query;\n  const products = useMemo(() => sortProducts(unsortedProducts, sort_by), [unsortedProducts, sort_by]); // Determine if pagination control should appear\n\n  const pageSize = 24;\n  let showPagination = false;\n\n  if (products.length > pageSize) {\n    showPagination = true;\n  } // Determine how many pages there are, and which page to show\n\n\n  const totalPages = Math.ceil(products.length / pageSize); // Grab the products that are on the current page\n\n  const start = (page - 1) * pageSize;\n  const end = page * pageSize;\n  const currentPage = useMemo(() => products.slice(start, end), [products, start, end]);\n  useCollectionView({\n    title\n  }, currentPage);\n  /** Opens the Quick Shop modal */\n\n  const openQuickShopModal = productHandle => {\n    // Find this product in the currentPage array\n    const product = currentPage.find(p => p.handle === productHandle);\n    setQuick(product);\n    hideScrollbar();\n    setShowModal(true);\n  };\n  /** Closes the Quick Shop modal */\n\n\n  const closeQuickShopModal = e => {\n    setShowModal(false);\n  };\n\n  return /*#__PURE__*/_jsxs(\"div\", {\n    className: wrapper,\n    children: [/*#__PURE__*/_jsx(\"ul\", {\n      className: collectionGrid,\n      children: currentPage.map(product => /*#__PURE__*/_jsx(ProductCard, {\n        className: collectionItem,\n        \"data-id\": `Product Id ${product.id}`,\n        handle: handle,\n        product: product,\n        onQuickClick: openQuickShopModal\n      }, product.id))\n    }), showPagination && /*#__PURE__*/_jsx(Pagination, {\n      page: page,\n      totalPages: totalPages\n    }), /*#__PURE__*/_jsx(Modal, {\n      show: showModal,\n      onClose: closeQuickShopModal,\n      contentClass: quickshop,\n      children: /*#__PURE__*/_jsx(QuickView, {\n        instance: \"quickShopModal\",\n        collectionHandle: handle,\n        product: quick,\n        onClose: closeQuickShopModal\n      })\n    })]\n  });\n}",".outsmartly/analysis/modules/93.js":"// components/SizingGuide/SizeGuide.js\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport Women from './Women';\nimport Men from './Men';\nimport PlusSize from './PlusSize';\nimport Girls from './Girls';\nimport Boys from './Boys';\nimport { title, tableWrap, sizeGuidePage } from './SizingGuide.module.css';\n/** Returns a single size guide based on a string prop. `handle` must be one of:\n * size-guide-women\n * size-guide-men\n * size-guide-plus-size\n * size-guide-girls\n * size-guide-boys\n */\n\nexport default function SizeGuide(_ref) {\n  var handle = _ref.handle,\n      _ref$contentWrapClass = _ref.contentWrapClass,\n      contentWrapClass = _ref$contentWrapClass === void 0 ? sizeGuidePage : _ref$contentWrapClass,\n      _ref$titleClass = _ref.titleClass,\n      titleClass = _ref$titleClass === void 0 ? title : _ref$titleClass,\n      _ref$wrapClass = _ref.wrapClass,\n      wrapClass = _ref$wrapClass === void 0 ? tableWrap : _ref$wrapClass;\n\n  // Exit early if handle isn't as expected\n  if (!handle.startsWith('size-guide-')) {\n    console.error('`handle` must start with `size-guide-`');\n    return null;\n  } // Determine which guide to show\n\n\n  var guide;\n\n  switch (handle.substring(11)) {\n    case 'women':\n      guide = /*#__PURE__*/_jsx(Women, {\n        titleClass: titleClass,\n        wrapClass: wrapClass\n      });\n      break;\n\n    case 'men':\n      guide = /*#__PURE__*/_jsx(Men, {\n        titleClass: titleClass,\n        wrapClass: wrapClass\n      });\n      break;\n\n    case 'plus-size':\n      guide = /*#__PURE__*/_jsx(PlusSize, {\n        titleClass: titleClass,\n        wrapClass: wrapClass\n      });\n      break;\n\n    case 'girls':\n      guide = /*#__PURE__*/_jsx(Girls, {\n        titleClass: titleClass,\n        wrapClass: wrapClass\n      });\n      break;\n\n    case 'boys':\n      guide = /*#__PURE__*/_jsx(Boys, {\n        titleClass: titleClass,\n        wrapClass: wrapClass\n      });\n      break;\n\n    default:\n      console.error('No matching size guide');\n      break;\n  }\n\n  return /*#__PURE__*/_jsx(\"div\", {\n    id: \"size_guide\",\n    className: contentWrapClass,\n    children: guide\n  });\n}",".outsmartly/analysis/modules/31.js":"// node_modules/next/dist/next-server/lib/router/utils/is-dynamic.js\n\"use strict\";\n\nexports.__esModule = true;\nexports.isDynamicRoute = isDynamicRoute; // Identify /[param]/ in route string\n\nvar TEST_ROUTE = /\\/\\[[^/]+?\\](?=\\/|$)/;\n\nfunction isDynamicRoute(route) {\n  return TEST_ROUTE.test(route);\n}",".outsmartly/analysis/modules/60.js":"// components/icons/Icon.js\nimport _defineProperty from \"/Users/kai/Work/rbx-rewrite/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nexport default function Icon(props) {\n  return /*#__PURE__*/_jsx(\"svg\", _objectSpread(_objectSpread({}, props), {}, {\n    \"aria-hidden\": \"true\",\n    focusable: \"false\",\n    children: /*#__PURE__*/_jsx(\"use\", {\n      xlinkHref: \"#\".concat(props.icon)\n    })\n  }));\n}",".outsmartly/analysis/modules/54.js":"// components/Locations.js\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { pagefly, pageTitle, heading, fullBlurb, rightBlurb, wrap, divider } from 'styles/pagefly.module.css';\nimport { location, locationCard, hoursWrap, hours } from './Locations.module.css';\nimport { getImageUrl } from 'lib/getImageUrl';\nexport default function Locations(_ref) {\n  var pageflyClass = _ref.pageflyClass,\n      pageTitleClass = _ref.pageTitleClass;\n  // Get image info\n  var image = {\n    src: 'https://cdn.shopify.com/s/files/1/1115/2394/t/272/assets/pf-91e478df--PhillyStore.jpg?v=1589558737',\n    alt: 'RBX Storefront'\n  };\n  return /*#__PURE__*/_jsx(\"div\", {\n    className: \"\".concat(pagefly, \" \").concat(pageflyClass ? pageflyClass : ''),\n    children: /*#__PURE__*/_jsxs(\"div\", {\n      className: location,\n      children: [/*#__PURE__*/_jsx(\"div\", {\n        className: fullBlurb,\n        children: /*#__PURE__*/_jsx(\"div\", {\n          className: wrap,\n          children: /*#__PURE__*/_jsxs(\"h2\", {\n            className: \"\".concat(pageTitle, \" \").concat(pageTitleClass ? pageTitleClass : ''),\n            children: [\"Visit our store at\", /*#__PURE__*/_jsx(\"br\", {}), \"Philadelphia Premium Outlets\"]\n          })\n        })\n      }), /*#__PURE__*/_jsx(\"div\", {\n        className: locationCard,\n        children: /*#__PURE__*/_jsxs(\"div\", {\n          className: wrap,\n          children: [/*#__PURE__*/_jsxs(\"div\", {\n            className: rightBlurb,\n            children: [/*#__PURE__*/_jsx(\"div\", {\n              className: wrap,\n              children: /*#__PURE__*/_jsx(\"img\", {\n                src: getImageUrl(image.src),\n                alt: image.alt,\n                loading: \"lazy\"\n              })\n            }), /*#__PURE__*/_jsx(\"div\", {\n              className: wrap,\n              children: /*#__PURE__*/_jsxs(\"div\", {\n                className: hoursWrap,\n                children: [/*#__PURE__*/_jsx(\"h3\", {\n                  className: heading,\n                  children: \"Open Hours\"\n                }), /*#__PURE__*/_jsxs(\"p\", {\n                  className: hours,\n                  children: [\"Monday - Saturday\", /*#__PURE__*/_jsx(\"br\", {}), \"11 AM to 7 PM\", /*#__PURE__*/_jsx(\"br\", {}), /*#__PURE__*/_jsx(\"br\", {}), \"Sunday \", /*#__PURE__*/_jsx(\"br\", {}), \"12 PM to 6 PM\"]\n                }), /*#__PURE__*/_jsx(\"hr\", {\n                  className: divider\n                }), /*#__PURE__*/_jsx(\"h3\", {\n                  className: heading,\n                  children: \"Address\"\n                }), /*#__PURE__*/_jsxs(\"p\", {\n                  className: hours,\n                  children: [\"18 West Lightcap Road, Suite 759\", /*#__PURE__*/_jsx(\"br\", {}), \"Pottstown, PA 19464\"]\n                }), /*#__PURE__*/_jsx(\"h3\", {\n                  className: heading,\n                  children: \"Phone\"\n                }), /*#__PURE__*/_jsx(\"p\", {\n                  className: hours,\n                  children: /*#__PURE__*/_jsx(\"a\", {\n                    href: \"tel:+18885882892\",\n                    children: \"(888) 588-2892 ext. 106\"\n                  })\n                })]\n              })\n            })]\n          }), /*#__PURE__*/_jsx(\"div\", {\n            className: fullBlurb,\n            children: /*#__PURE__*/_jsx(\"div\", {\n              className: wrap,\n              children: /*#__PURE__*/_jsx(\"iframe\", {\n                src: \"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3045.761014702737!2d-75.57277454896087!3d40.23661557928518!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x89c6850a24d35fb1%3A0x70ee02a6485c6d56!2s18%20Lightcap%20Rd%20%23759%2C%20Pottstown%2C%20PA%2019464!5e0!3m2!1sen!2sus!4v1589555215484!5m2!1sen!2sus\",\n                width: \"100%\",\n                height: \"450\",\n                frameBorder: \"0\",\n                style: {\n                  border: 0\n                },\n                allowFullScreen: \"\",\n                \"aria-hidden\": \"false\",\n                tabIndex: \"0\"\n              })\n            })\n          })]\n        })\n      })]\n    })\n  });\n}",".outsmartly/analysis/modules/14.js":"// components/Product/ProductPhotos/ProductPhotosServerImage.js\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports._outsmartly_thunk = _outsmartly_thunk;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _objectWithoutProperties2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutProperties\"));\n\nvar _helpers = require(\"../../../lib/helpers\");\n\nvar _ProductPhotosMainImage = require(\"./ProductPhotosMainImage\");\n\nvar __jsx = _react[\"default\"].createElement;\n\nfunction _outsmartly_thunk(_temp) {\n  if (_outsmartly_slices.$1) {\n    var _temp$variantId = _temp.variantId,\n        variantId = _temp$variantId === void 0 ? undefined : _temp$variantId,\n        colorsByVariant = _temp.colorsByVariant,\n        rest = (0, _objectWithoutProperties2[\"default\"])(_temp, [\"variantId\", \"colorsByVariant\"]);\n  }\n\n  if (_outsmartly_slices.$1) {\n    var serverColor = (0, _helpers.getColorByVariantId)(colorsByVariant, variantId);\n  }\n\n  if (_outsmartly_branch_selections.$0) {\n    {\n      if (_outsmartly_slices.$1) {\n        _outsmartly_outlets.$1 = /*#__PURE__*/_react[\"default\"].createElement(_ProductPhotosMainImage.ProductPhotosMainImage, (0, _extends2[\"default\"])({\n          serverColor: serverColor\n        }, rest));\n      }\n    }\n    return _outsmartly_no_return;\n  } else {\n    return /*#__PURE__*/_react[\"default\"].createElement(_ProductPhotosMainImage.ProductPhotosMainImage, (0, _extends2[\"default\"])({\n      serverColor: serverColor\n    }, rest));\n  }\n}\n\nvar ProductPhotosServerImage = _outsmartly_thunk;",".outsmartly/analysis/modules/45.js":"// components/Help.js\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { useState } from 'react';\nimport Icon from 'components/icons/Icon';\nimport { Loader } from './Loader';\nimport { container, btn, icon, label } from './Help.module.css';\nimport { loadZendesk } from 'third-party-scripts/zendesk';\n/**\n * Help\n *\n * A button that launches the Zendesk help chat window.\n */\n\nexport function Help(props) {\n  var _useState = useState(true),\n      isInitial = _useState[0],\n      setIsInitial = _useState[1];\n\n  var _useState2 = useState(false),\n      loading = _useState2[0],\n      setLoading = _useState2[1];\n  /** Handles a click on the Help Chat button */\n\n\n  function handleClick(e) {\n    if (isInitial) {\n      // Show a loading spinner, and put down the isInitial flag\n      setLoading(true);\n      setIsInitial(false); // Wait for Zendesk to be setup. There is no real event, so we use this\n      // as a way to know when it's \"ready\"\n\n      Object.defineProperty(globalThis, 'zE', {\n        enumerable: true,\n        configurable: true,\n        get: function get() {\n          return;\n        },\n        set: function set(value) {\n          Object.defineProperty(globalThis, 'zE', {\n            enumerable: true,\n            writable: true,\n            configurable: true,\n            value: value\n          }); // Show the widget, and open the chat window\n\n          zE('webWidget', 'show');\n          zE('webWidget', 'open'); // When the chat window closes, hide the widget, remove the spinner\n\n          zE('webWidget:on', 'close', function () {\n            zE('webWidget', 'hide');\n            setLoading(false);\n          });\n        }\n      }); // Load and execute the script\n\n      loadZendesk();\n    } else {\n      // Show the widget, and open the chat window\n      zE('webWidget', 'show');\n      zE('webWidget', 'open');\n    }\n  }\n\n  return /*#__PURE__*/_jsx(\"div\", {\n    className: container,\n    children: /*#__PURE__*/_jsxs(\"button\", {\n      className: btn,\n      onClick: handleClick,\n      children: [loading ? /*#__PURE__*/_jsx(Loader, {}) : /*#__PURE__*/_jsx(Icon, {\n        icon: \"zd-question\",\n        className: icon\n      }), /*#__PURE__*/_jsx(\"span\", {\n        className: label,\n        children: \"Chat\"\n      })]\n    })\n  });\n}",".outsmartly/analysis/modules/71.js":"// context/SelectedOptionsContext.tsx\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport _toConsumableArray from \"/Users/kai/Work/rbx-rewrite/node_modules/next/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport { toTitleCase } from 'lib/utils';\nimport { useRouter } from 'next/router';\nimport { createContext, useEffect, useState } from 'react';\nexport function addOption(selectedOptions) {\n  var newOptions = selectedOptions;\n\n  for (var _len = arguments.length, options = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    options[_key - 1] = arguments[_key];\n  }\n\n  var _loop = function _loop() {\n    var option = _options[_i];\n    var sameValue = newOptions.find(function (_ref) {\n      var name = _ref.name,\n          value = _ref.value;\n      return name === option.name && value === option.value;\n    });\n\n    if (!sameValue) {\n      var unchangedOptions = newOptions.filter(function (selectedOption) {\n        return selectedOption.name !== option.name;\n      });\n      newOptions = [option].concat(_toConsumableArray(unchangedOptions));\n    }\n  };\n\n  for (var _i = 0, _options = options; _i < _options.length; _i++) {\n    _loop();\n  }\n\n  return newOptions;\n}\n\nfunction extractOptions(tags) {\n  var _tags$match$map, _tags$match;\n\n  return (_tags$match$map = (_tags$match = tags.match(/(size|color)-([^+]+)/g)) === null || _tags$match === void 0 ? void 0 : _tags$match.map(function (tag) {\n    var arr = tag.split('-');\n    var name = toTitleCase(arr.shift());\n    var value = name === 'Size' ? arr.join('-').toUpperCase() : toTitleCase(arr.join('-'));\n    return {\n      name: name,\n      value: value\n    };\n  })) !== null && _tags$match$map !== void 0 ? _tags$match$map : [];\n}\n\nexport var SelectedOptionsContext = /*#__PURE__*/createContext({\n  defaultOptions: [],\n  updateOptionDefaults: function updateOptionDefaults() {\n    return undefined;\n  }\n});\nSelectedOptionsContext.displayName = 'SelectedOptionsContext';\nexport function SelectedOptionsProvider(_ref2) {\n  var children = _ref2.children;\n  var router = useRouter();\n\n  var _useState = useState([]),\n      defaultOptions = _useState[0],\n      setDefaultOptions = _useState[1];\n\n  var _router$query = router.query,\n      _router$query$collect = _router$query.collection,\n      collection = _router$query$collect === void 0 ? '' : _router$query$collect,\n      _router$query$tagQuer = _router$query.tagQuery,\n      tagQuery = _router$query$tagQuer === void 0 ? '' : _router$query$tagQuer;\n  useEffect(function () {\n    var tags = \"\".concat(collection, \"+\").concat(tagQuery);\n    var options = extractOptions(tags);\n    updateOptionDefaults.apply(void 0, _toConsumableArray(options));\n  }, [collection, tagQuery]);\n\n  function updateOptionDefaults() {\n    for (var _len2 = arguments.length, options = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      options[_key2] = arguments[_key2];\n    }\n\n    var newOptions = addOption.apply(void 0, [defaultOptions].concat(options));\n\n    if (newOptions !== defaultOptions) {\n      setDefaultOptions(newOptions);\n    }\n  }\n\n  return /*#__PURE__*/_jsx(SelectedOptionsContext.Provider, {\n    value: {\n      defaultOptions: defaultOptions,\n      updateOptionDefaults: updateOptionDefaults\n    },\n    children: children\n  });\n}\nexport default SelectedOptionsContext;",".outsmartly/analysis/modules/20.js":"// pages/products/[product].ts\nimport Product from 'components/Product';\nexport var __N_SSG = true;\nexport default Product;",".outsmartly/analysis/modules/82.js":"// components/SearchBar.js\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { inner, input } from './SearchBar.module.css'; // The searchanize widget is looking for this Form to attach to. It needs to be\n// in the DOM, but hidden.\n\nexport default function SearchBar() {\n  return /*#__PURE__*/_jsxs(\"form\", {\n    action: \"/search\",\n    method: \"get\",\n    role: \"search\",\n    _lpchecked: \"1\",\n    children: [/*#__PURE__*/_jsx(\"input\", {\n      type: \"hidden\",\n      name: \"type\",\n      value: \"product\"\n    }), /*#__PURE__*/_jsxs(\"div\", {\n      className: inner,\n      children: [/*#__PURE__*/_jsx(\"label\", {\n        htmlFor: \"SiteNavSearch\",\n        className: \"visually-hidden\",\n        children: \"Search\"\n      }), /*#__PURE__*/_jsx(\"input\", {\n        ref: function ref(input) {\n          return input && input.focus();\n        },\n        name: \"q\",\n        id: \"SiteNavSearch\",\n        placeholder: \"Search\",\n        \"aria-label\": \"Search\",\n        className: input,\n        autoComplete: \"off\"\n      })]\n    })]\n  });\n}",".outsmartly/analysis/modules/118.js":"// node_modules/next/dist/next-server/lib/amp.js\n\"use strict\";\n\nexports.__esModule = true;\nexports.isInAmpMode = isInAmpMode;\nexports.useAmp = useAmp;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _ampContext = require(\"./amp-context\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nfunction isInAmpMode() {\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref$ampFirst = _ref.ampFirst,\n      ampFirst = _ref$ampFirst === void 0 ? false : _ref$ampFirst,\n      _ref$hybrid = _ref.hybrid,\n      hybrid = _ref$hybrid === void 0 ? false : _ref$hybrid,\n      _ref$hasQuery = _ref.hasQuery,\n      hasQuery = _ref$hasQuery === void 0 ? false : _ref$hasQuery;\n\n  return ampFirst || hybrid && hasQuery;\n}\n\nfunction useAmp() {\n  // Don't assign the context value to a variable to save bytes\n  return isInAmpMode(_react[\"default\"].useContext(_ampContext.AmpStateContext));\n}",".outsmartly/analysis/modules/289.js":"// node_modules/next/dist/next-server/lib/router/utils/path-match.js\n\"use strict\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nexports.__esModule = true;\nexports.pathToRegexp = exports.default = exports.customRouteMatcherOptions = exports.matcherOptions = void 0;\n\nvar pathToRegexp = _interopRequireWildcard(require(\"next/dist/compiled/path-to-regexp\"));\n\nexports.pathToRegexp = pathToRegexp;\n\nfunction _getRequireWildcardCache() {\n  if (typeof WeakMap !== \"function\") return null;\n  var cache = new WeakMap();\n\n  _getRequireWildcardCache = function () {\n    return cache;\n  };\n\n  return cache;\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  }\n\n  if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") {\n    return {\n      default: obj\n    };\n  }\n\n  var cache = _getRequireWildcardCache();\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n  var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) {\n      var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n      if (desc && (desc.get || desc.set)) {\n        Object.defineProperty(newObj, key, desc);\n      } else {\n        newObj[key] = obj[key];\n      }\n    }\n  }\n\n  newObj.default = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}\n\nconst matcherOptions = {\n  sensitive: false,\n  delimiter: '/'\n};\nexports.matcherOptions = matcherOptions;\n\nconst customRouteMatcherOptions = _objectSpread(_objectSpread({}, matcherOptions), {}, {\n  strict: true\n});\n\nexports.customRouteMatcherOptions = customRouteMatcherOptions;\n\nvar _default = (customRoute = false) => {\n  return path => {\n    const keys = [];\n    const matcherRegex = pathToRegexp.pathToRegexp(path, keys, customRoute ? customRouteMatcherOptions : matcherOptions);\n    const matcher = pathToRegexp.regexpToFunction(matcherRegex, keys);\n    return (pathname, params) => {\n      const res = pathname == null ? false : matcher(pathname);\n\n      if (!res) {\n        return false;\n      }\n\n      if (customRoute) {\n        for (const key of keys) {\n          // unnamed params should be removed as they\n          // are not allowed to be used in the destination\n          if (typeof key.name === 'number') {\n            delete res.params[key.name];\n          }\n        }\n      }\n\n      return _objectSpread(_objectSpread({}, params), res.params);\n    };\n  };\n};\n\nexports.default = _default;",".outsmartly/analysis/modules/149.js":"// components/Product/ProductRating.js\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React from 'react';\nimport { link, wrap, stars, star, reviews } from './ProductRating.module.css';\nimport styles from './ProductRating.module.css';\n/** The ProductRating component */\n\nexport default function ProductRating(_ref) {\n  var rating = _ref.rating,\n      numReviews = _ref.numReviews,\n      showFullReviewText = _ref.showFullReviewText;\n\n  /**\n   * Handle clicks on number of reviews. In collection grid, does nothing.\n   * In product view, it scrolls to the reviews section of product page.\n   */\n  var handleReviewsClick = function handleReviewsClick(e) {\n    var elements = document.getElementsByClassName('yotpo-main-widget');\n\n    if (elements.length > 0) {\n      elements[0].scrollIntoView();\n    }\n  };\n  /**\n   * Returns an array with star types for a given rating\n   * @param {Number} rating - the rating, can be an integer or a decimal\n   * @param {Number} numStars - the total possible stars. Default is 5.\n   * @returns {String[]} - array of star types: 'full', 'half', or 'empty'\n   */\n\n\n  function getStarArray(rating) {\n    var numStars = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 5;\n\n    if (rating > numStars) {\n      console.error('Rating exceeds number of possible stars');\n      return;\n    }\n\n    var arr = Array(numStars).fill('empty');\n    var rem = rating % 1;\n    var i;\n\n    for (i = 0; i < Math.floor(rating); i++) {\n      arr[i] = 'full';\n    }\n\n    if (rem > 0.25 && rem < 0.75) {\n      arr[i] = 'half';\n    }\n\n    if (rem > 0.75) {\n      arr[i] = 'full';\n    }\n\n    return arr;\n  } // Determine the icon star types for this rating\n\n\n  var starArray = getStarArray(rating);\n  return (\n    /*#__PURE__*/\n    // Only wrap in Link if we are in the CollectionGrid. On product page,\n    // don't.\n    _jsxs(\"div\", {\n      className: wrap,\n      onClick: handleReviewsClick,\n      children: [/*#__PURE__*/_jsxs(\"span\", {\n        className: stars,\n        children: [starArray.map(function (type, i) {\n          return /*#__PURE__*/_jsx(\"span\", {\n            className: \"\".concat(star, \" \").concat(styles[type])\n          }, i);\n        }), /*#__PURE__*/_jsx(\"span\", {\n          className: \"visually-hidden\",\n          children: \"\".concat(rating, \" star rating\")\n        })]\n      }), /*#__PURE__*/_jsx(\"span\", {\n        className: reviews,\n        children: !numReviews || numReviews === 0 ? 'Write a review' : showFullReviewText ? \"\".concat(numReviews, \" Reviews\") : \"(\".concat(numReviews, \")\")\n      })]\n    })\n  );\n}",".outsmartly/analysis/modules/159.js":"// components/ProductOption/Swatch.js\nimport _defineProperty from \"/Users/kai/Work/rbx-rewrite/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React from 'react';\nimport { colorSwatch, sizeSwatch, crossedOut, soldOut } from './Swatch.module.css';\nimport styles from './Swatch.module.css';\nexport default function Swatch(_ref) {\n  var _ref$available = _ref.available,\n      available = _ref$available === void 0 ? true : _ref$available,\n      optionalClass = _ref.optionalClass,\n      _ref$swatchType = _ref.swatchType,\n      swatchType = _ref$swatchType === void 0 ? 'colorSwatch' : _ref$swatchType,\n      colorParent = _ref.colorParent,\n      color = _ref.color,\n      _ref$colorName = _ref.colorName,\n      colorName = _ref$colorName === void 0 ? '' : _ref$colorName,\n      tooltip = _ref.tooltip,\n      sizeParent = _ref.sizeParent,\n      sizeText = _ref.sizeText,\n      onClick = _ref.onClick;\n  // Crossed out image\n  // swatchType can be either 'colorSwatch' or 'sizeSwatch'\n  return /*#__PURE__*/_jsx(_Fragment, {\n    children: swatchType === 'colorSwatch' ? /*#__PURE__*/_jsx(\"span\", {\n      className: \"\".concat(optionalClass ? optionalClass : '', \" \").concat(colorParent ? colorParent : colorSwatch, \" \").concat(available ? '' : soldOut, \" \").concat(styles[color] ? styles[color] : ''),\n      title: tooltip ? tooltip : colorName,\n      onClick: onClick,\n      children: !available && /*#__PURE__*/_jsx(SoldOut, {\n        className: crossedOut,\n        alt: \"Sold Out\"\n      })\n    }) : /*#__PURE__*/_jsxs(\"span\", {\n      className: \"\".concat(optionalClass ? optionalClass : '', \" \").concat(sizeParent ? sizeParent : sizeSwatch, \" \").concat(available ? '' : soldOut),\n      onClick: onClick,\n      children: [/*#__PURE__*/_jsx(\"span\", {\n        children: sizeText\n      }), !available && /*#__PURE__*/_jsx(SoldOut, {\n        className: crossedOut,\n        alt: \"Sold Out\"\n      })]\n    })\n  });\n}\n\nfunction SoldOut(props) {\n  return /*#__PURE__*/_jsxs(\"svg\", _objectSpread(_objectSpread({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 82.58 64.96\"\n  }, props), {}, {\n    children: [/*#__PURE__*/_jsx(\"filter\", {\n      id: \"blur\",\n      children: /*#__PURE__*/_jsx(\"feGaussianBlur\", {\n        \"in\": \"SourceGraphic\",\n        stdDeviation: \"2\"\n      })\n    }), /*#__PURE__*/_jsx(\"path\", {\n      filter: \"url(#blur)\",\n      fill: \"none\",\n      stroke: \"#333333\",\n      strokeMiterlimit: 10,\n      strokeWidth: 2,\n      d: \"M.61.79l81.35 63.38\"\n    })]\n  }));\n}",".outsmartly/analysis/modules/299.js":"// context/getVariant.ts\nexport function getVariant(product, options) {\n  if (!product.variants) {\n    return {\n      price: product.price\n    };\n  }\n\n  return product.variants.find(({\n    optionMap\n  }) => options.every(option => optionMap[option.name] === option.value));\n}",".outsmartly/analysis/modules/108.js":"// components/Accordion/Accordion.js\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React, { useState } from 'react';\nimport { accordion } from './Accordion.module.css';\nimport AccordionItem from './AccordionItem';\n/** Creates an accordion widget with the items you pass in.\n * @param {Array} items - an array of item objects. Keys: id, title, content.\n * @param {Boolean} allowMultipleOpen - when false (default), only one item can\n * be open at a time. When true, multiple items can be open.\n * @param {Object} cssClasses - object containing styling classes from the caller.\n * @param {Array<String>} initiallyOpen - array of title strings for the items\n * that should be open initially. If allowMultipleOpen is false, only the first\n * item will be open initially.\n */\n\nexport default function Accordion(_ref) {\n  var items = _ref.items,\n      _ref$allowMultipleOpe = _ref.allowMultipleOpen,\n      allowMultipleOpen = _ref$allowMultipleOpe === void 0 ? false : _ref$allowMultipleOpe,\n      cssClasses = _ref.cssClasses,\n      _ref$initiallyOpen = _ref.initiallyOpen,\n      initiallyOpen = _ref$initiallyOpen === void 0 ? [] : _ref$initiallyOpen,\n      buttonVariant = _ref.buttonVariant;\n\n  // Determine which items should be open initially\n  var _useState = useState(new Set(initiallyOpen.length ? allowMultipleOpen ? initiallyOpen : [initiallyOpen[0]] : [])),\n      openItems = _useState[0],\n      setOpenItems = _useState[1];\n  /** Opens or closes the clicked content panel */\n\n\n  var togglePanel = function togglePanel(title) {\n    // Make a copy\n    var openItemsCopy = new Set(openItems); // If item present in the set, remove it\n\n    if (openItems.has(title)) {\n      openItemsCopy[\"delete\"](title);\n    } else {\n      // If item not present, first check if we need to clear all\n      if (!allowMultipleOpen) {\n        openItemsCopy.clear();\n      } // Add the item\n\n\n      openItemsCopy.add(title);\n    }\n\n    setOpenItems(openItemsCopy);\n  };\n\n  return /*#__PURE__*/_jsx(\"div\", {\n    className: accordion,\n    children: items.map(function (item) {\n      return /*#__PURE__*/_jsx(AccordionItem, {\n        title: item.title,\n        isActive: openItems.has(item.title),\n        onClick: togglePanel,\n        duration: 350,\n        cssClasses: cssClasses,\n        buttonVariant: buttonVariant,\n        children: item.content\n      }, item.id);\n    })\n  });\n}",".outsmartly/analysis/modules/92.js":"// components/SizingGuide/AllSizeGuides.js\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport Tabs from 'components/Tabs/Tabs';\nimport Tab from 'components/Tabs/Tab';\nimport Women from './Women';\nimport Men from './Men';\nimport PlusSize from './PlusSize';\nimport Girls from './Girls';\nimport Boys from './Boys';\nimport { sizeGuidePage, guideList, guideItem, guideItemActive, guideLink, guideContent } from './SizingGuide.module.css';\n/** Returns all possible size guides in a tabbed format */\n\nexport default function AllSizeGuides() {\n  return /*#__PURE__*/_jsx(\"div\", {\n    id: \"size_guide\",\n    className: sizeGuidePage,\n    children: /*#__PURE__*/_jsxs(Tabs, {\n      keepInDom: true,\n      listClass: guideList,\n      contentClass: guideContent,\n      itemClass: guideItem,\n      itemActiveClass: guideItemActive,\n      linkClass: guideLink,\n      children: [/*#__PURE__*/_jsx(Tab, {\n        label: \"Women\",\n        children: /*#__PURE__*/_jsx(Women, {})\n      }), /*#__PURE__*/_jsx(Tab, {\n        label: \"Men\",\n        children: /*#__PURE__*/_jsx(Men, {})\n      }), /*#__PURE__*/_jsx(Tab, {\n        label: \"Plus Size\",\n        children: /*#__PURE__*/_jsx(PlusSize, {})\n      }), /*#__PURE__*/_jsx(Tab, {\n        label: \"Girls\",\n        children: /*#__PURE__*/_jsx(Girls, {})\n      }), /*#__PURE__*/_jsx(Tab, {\n        label: \"Boys\",\n        children: /*#__PURE__*/_jsx(Boys, {})\n      })]\n    })\n  });\n}",".outsmartly/analysis/modules/30.js":"// node_modules/next/dist/next-server/lib/i18n/normalize-locale-path.js\n\"use strict\";\n\nexports.__esModule = true;\nexports.normalizeLocalePath = normalizeLocalePath;\n\nfunction normalizeLocalePath(pathname, locales) {\n  var detectedLocale; // first item will be empty string from splitting at first char\n\n  var pathnameParts = pathname.split('/');\n  (locales || []).some(function (locale) {\n    if (pathnameParts[1].toLowerCase() === locale.toLowerCase()) {\n      detectedLocale = locale;\n      pathnameParts.splice(1, 1);\n      pathname = pathnameParts.join('/') || '/';\n      return true;\n    }\n\n    return false;\n  });\n  return {\n    pathname: pathname,\n    detectedLocale: detectedLocale\n  };\n}",".outsmartly/analysis/modules/61.js":"// components/LemonSpot/LemonSpot.js\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport _defineProperty from \"/Users/kai/Work/rbx-rewrite/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport _regeneratorRuntime from \"/Users/kai/Work/rbx-rewrite/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/kai/Work/rbx-rewrite/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/Users/kai/Work/rbx-rewrite/node_modules/next/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { useEffect } from 'react';\nimport { useInView } from 'react-intersection-observer';\nimport { useRouter } from 'next/router';\nimport { LemonSpotBox } from './LemonSpotBox';\nimport { useRecBox } from './useRecBox';\nimport { authorize, fetchArray, fetchItems, fetchRecent } from './api';\nimport { useYotpo } from 'third-party-scripts/yotpo';\nimport { getPathnames } from 'lib/utils';\n/**\n * LemonSpot is our version of Limespot. Used for personalization and\n * recommendations.\n */\n\nexport function LemonSpot(_ref) {\n  var productId = _ref.productId,\n      product = _ref.product,\n      page = _ref.page;\n  // Get path information for the current page\n  var router = useRouter();\n\n  var _getPathnames = getPathnames(router),\n      _getPathnames2 = _slicedToArray(_getPathnames, 1),\n      path = _getPathnames2[0]; // Get state and useEffects for each type of LemonSpot box\n\n\n  var _useRecBox = useRecBox('trending', page),\n      _useRecBox2 = _slicedToArray(_useRecBox, 2),\n      trending = _useRecBox2[0],\n      setTrending = _useRecBox2[1];\n\n  var _useRecBox3 = useRecBox('youmaylike', page),\n      _useRecBox4 = _slicedToArray(_useRecBox3, 2),\n      youMayLike = _useRecBox4[0],\n      setYouMayLike = _useRecBox4[1];\n\n  var _useRecBox5 = useRecBox('recent', page),\n      _useRecBox6 = _slicedToArray(_useRecBox5, 2),\n      recent = _useRecBox6[0],\n      setRecent = _useRecBox6[1];\n\n  var _useRecBox7 = useRecBox('related', page),\n      _useRecBox8 = _slicedToArray(_useRecBox7, 2),\n      related = _useRecBox8[0],\n      setRelated = _useRecBox8[1];\n\n  var _useRecBox9 = useRecBox('crosssell', page),\n      _useRecBox10 = _slicedToArray(_useRecBox9, 2),\n      crossSell = _useRecBox10[0],\n      setCrossSell = _useRecBox10[1]; // We use the intersection observer here to prioritize loading the\n  // personalization scripts if they come into the viewport\n\n\n  var _useInView = useInView({\n    triggerOnce: true,\n    rootMargin: '100px' // trigger when 100px outside of viewport\n\n  }),\n      _useInView2 = _slicedToArray(_useInView, 2),\n      ref = _useInView2[0],\n      inView = _useInView2[1]; // Load yotpo when it comes into view\n\n\n  useYotpo(productId, inView); // Go get product data on the initial load\n\n  useEffect(function () {\n    var mounted = true;\n    fetchLemonSpotData();\n    /**\n     * Calls authorize() to make sure we have a context ID. When that is done,\n     * it fetches the appropriate data for the given page.\n     */\n\n    function fetchLemonSpotData() {\n      return _fetchLemonSpotData.apply(this, arguments);\n    } // Clean up, in case component unmounts during a fetch\n\n\n    function _fetchLemonSpotData() {\n      _fetchLemonSpotData = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee5() {\n        var contextID, pageTargets, pageTarget, productPage, _productPage, homePage, _homePage, collectionPage, _collectionPage, cartPage, _cartPage;\n\n        return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                _cartPage = function _cartPage3() {\n                  _cartPage = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4() {\n                    var mappedYouMayLike, mappedRecentViews;\n                    return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n                      while (1) {\n                        switch (_context4.prev = _context4.next) {\n                          case 0:\n                            _context4.next = 2;\n                            return fetchArray(contextID, 'youmaylike', 'Cart', {\n                              fallbackToPopular: true\n                            });\n\n                          case 2:\n                            mappedYouMayLike = _context4.sent;\n                            _context4.next = 5;\n                            return fetchRecent(contextID, 'cart');\n\n                          case 5:\n                            mappedRecentViews = _context4.sent;\n\n                            if (mounted) {\n                              setYouMayLike(mappedYouMayLike);\n                              setRecent(mappedRecentViews);\n                            }\n\n                          case 7:\n                          case \"end\":\n                            return _context4.stop();\n                        }\n                      }\n                    }, _callee4);\n                  }));\n                  return _cartPage.apply(this, arguments);\n                };\n\n                cartPage = function _cartPage2() {\n                  return _cartPage.apply(this, arguments);\n                };\n\n                _collectionPage = function _collectionPage3() {\n                  _collectionPage = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3() {\n                    var mappedRecentViews;\n                    return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n                      while (1) {\n                        switch (_context3.prev = _context3.next) {\n                          case 0:\n                            _context3.next = 2;\n                            return fetchRecent(contextID, 'collection');\n\n                          case 2:\n                            mappedRecentViews = _context3.sent;\n\n                            if (mounted) {\n                              setRecent(mappedRecentViews);\n                            }\n\n                          case 4:\n                          case \"end\":\n                            return _context3.stop();\n                        }\n                      }\n                    }, _callee3);\n                  }));\n                  return _collectionPage.apply(this, arguments);\n                };\n\n                collectionPage = function _collectionPage2() {\n                  return _collectionPage.apply(this, arguments);\n                };\n\n                _homePage = function _homePage3() {\n                  _homePage = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n                    var _yield$Promise$all, _yield$Promise$all2, mappedRecentViews, mappedTrending, mappedYouMayLike;\n\n                    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n                      while (1) {\n                        switch (_context2.prev = _context2.next) {\n                          case 0:\n                            _context2.next = 2;\n                            return Promise.all([fetchRecent(contextID, 'Home'), fetchArray(contextID, 'trending', 'Home'), fetchArray(contextID, 'youmaylike', 'Home', {\n                              fallbackToPopular: true,\n                              limit: '30'\n                            })]);\n\n                          case 2:\n                            _yield$Promise$all = _context2.sent;\n                            _yield$Promise$all2 = _slicedToArray(_yield$Promise$all, 3);\n                            mappedRecentViews = _yield$Promise$all2[0];\n                            mappedTrending = _yield$Promise$all2[1];\n                            mappedYouMayLike = _yield$Promise$all2[2];\n\n                            if (mounted) {\n                              setRecent(mappedRecentViews);\n                              setTrending(mappedTrending); // Remove any duplicates that first appear in Trending from YouMayLike\n\n                              setYouMayLike(mappedYouMayLike.filter(function (item) {\n                                return !mappedTrending.find(function (_ref2) {\n                                  var id = _ref2.id;\n                                  return item.id === id;\n                                });\n                              }));\n                            }\n\n                          case 8:\n                          case \"end\":\n                            return _context2.stop();\n                        }\n                      }\n                    }, _callee2);\n                  }));\n                  return _homePage.apply(this, arguments);\n                };\n\n                homePage = function _homePage2() {\n                  return _homePage.apply(this, arguments);\n                };\n\n                _productPage = function _productPage3() {\n                  _productPage = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n                    var mappedRelated, mappedCrossSell, imgPrefix, color, currentProduct, mappedRecentViews;\n                    return _regeneratorRuntime.wrap(function _callee$(_context) {\n                      while (1) {\n                        switch (_context.prev = _context.next) {\n                          case 0:\n                            _context.next = 2;\n                            return fetchItems(contextID, 'related', 'Product', productId);\n\n                          case 2:\n                            mappedRelated = _context.sent;\n                            _context.next = 5;\n                            return fetchItems(contextID, 'crosssell', 'Product', productId);\n\n                          case 5:\n                            mappedCrossSell = _context.sent;\n                            // \"Unmap\" the current product (to match fetched properties) and add it\n                            // to the front of the Recent Views array in local storage. And don't\n                            // show it in the Recently Viewed Items box.\n                            imgPrefix = 'https://cdn.shopify.com/s/files/1/1115/2394/products/';\n                            color = product.variants[0].optionMap.Color;\n                            currentProduct = {\n                              Identifier: product.id,\n                              Title: product.title,\n                              Vendor: product.vendor,\n                              Price: String(product.price),\n                              DisplayUrl: \"/products/\".concat(product.handle),\n                              ImageUrl: \"\".concat(imgPrefix).concat(product.imageMap[color][0])\n                            };\n                            _context.next = 11;\n                            return fetchRecent(contextID, 'Product', currentProduct);\n\n                          case 11:\n                            mappedRecentViews = _context.sent;\n\n                            if (mounted) {\n                              // Update state\n                              setRelated(mappedRelated);\n                              setCrossSell(mappedCrossSell);\n                              setRecent(mappedRecentViews);\n                            }\n\n                          case 13:\n                          case \"end\":\n                            return _context.stop();\n                        }\n                      }\n                    }, _callee);\n                  }));\n                  return _productPage.apply(this, arguments);\n                };\n\n                productPage = function _productPage2() {\n                  return _productPage.apply(this, arguments);\n                };\n\n                _context5.next = 10;\n                return authorize();\n\n              case 10:\n                contextID = _context5.sent;\n                // Lookup map of possible pages to render to, based on page\n                pageTargets = {\n                  Product: productPage,\n                  Home: homePage,\n                  Collection: collectionPage,\n                  Cart: cartPage\n                };\n                pageTarget = pageTargets[page]; // Call the function for this particular page\n\n                pageTarget(); ////////////////////////////////////////////////////////////// Product\n\n              case 14:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5);\n      }));\n      return _fetchLemonSpotData.apply(this, arguments);\n    }\n\n    return function () {\n      mounted = false;\n    };\n  }, [path]); // Render different boxes on Product, Home, Collection, and Cart pages\n\n  var productPageBoxes = [{\n    boxKey: 'related',\n    data: related\n  }, {\n    boxKey: 'crossSell',\n    data: crossSell\n  }, {\n    boxKey: 'recent',\n    data: recent\n  }];\n  var homePageBoxes = [{\n    boxKey: 'trending',\n    data: trending,\n    forceLargeCards: true\n  }, {\n    boxKey: 'youMayLike',\n    data: youMayLike,\n    forceLargeCards: true\n  }, {\n    boxKey: 'recent',\n    data: recent,\n    forceLargeCards: true\n  }];\n  var collectionPageBoxes = [{\n    boxKey: 'recent',\n    data: recent\n  }];\n  var cartPageBoxes = [{\n    boxKey: 'youMayLike',\n    data: youMayLike,\n    cart: true\n  }, {\n    boxKey: 'recent',\n    data: recent,\n    cart: true\n  }]; //\n  //\n\n  return page === 'Product' ? /*#__PURE__*/_jsxs(\"div\", {\n    ref: ref,\n    children: [/*#__PURE__*/_jsx(\"section\", {\n      \"aria-label\": \"Personalization\",\n      style: {\n        minHeight: '600px'\n      },\n      children: productPageBoxes.map(function (box, i) {\n        return /*#__PURE__*/_jsx(LemonSpotBox, _objectSpread({}, box), i);\n      })\n    }), /*#__PURE__*/_jsx(\"section\", {\n      \"aria-label\": \"Shop RBXActive on Instagram\",\n      children: /*#__PURE__*/_jsx(\"div\", {\n        className: \"yotpo yotpo-pictures-widget\",\n        \"data-gallery-id\": \"5d40543dd060a4000d92579a\",\n        \"data-product-id\": productId\n      })\n    }), /*#__PURE__*/_jsx(\"section\", {\n      \"aria-label\": \"Product reviews\",\n      children: /*#__PURE__*/_jsx(\"div\", {\n        className: \"yotpo yotpo-main-widget\",\n        \"data-product-id\": productId\n      })\n    })]\n  }) : page === 'Home' ? /*#__PURE__*/_jsxs(\"div\", {\n    ref: ref,\n    className: \"page-width\",\n    children: [/*#__PURE__*/_jsx(\"section\", {\n      \"aria-label\": \"Personalization\",\n      style: {\n        minHeight: '800px'\n      },\n      children: homePageBoxes.map(function (box, i) {\n        return /*#__PURE__*/_jsx(LemonSpotBox, _objectSpread({}, box), i);\n      })\n    }), /*#__PURE__*/_jsxs(\"section\", {\n      \"aria-labelledby\": \"instagram-heading\",\n      className: \"page-width\",\n      children: [/*#__PURE__*/_jsxs(\"h3\", {\n        id: \"instagram-heading\",\n        className: \"instagramHeading\",\n        children: [\"SHOP\", ' ', /*#__PURE__*/_jsx(\"a\", {\n          rel: \"noopener\",\n          target: \"_blank\",\n          href: \"//www.instagram.com/rbxactive/\",\n          children: \"#RBXActive\"\n        }), ' ', \"On Instagram\"]\n      }), /*#__PURE__*/_jsx(\"div\", {\n        className: \"yotpo yotpo-pictures-widget\",\n        \"data-gallery-id\": \"5d313c30e94a496ea55bca4c\",\n        style: {\n          minHeight: '200px'\n        }\n      })]\n    })]\n  }) : page === 'Collection' ? /*#__PURE__*/_jsx(\"div\", {\n    ref: ref,\n    children: /*#__PURE__*/_jsx(\"section\", {\n      \"aria-label\": \"Personalization\",\n      style: {\n        minHeight: '600px'\n      },\n      children: collectionPageBoxes.map(function (box, i) {\n        return /*#__PURE__*/_jsx(LemonSpotBox, _objectSpread({}, box), i);\n      })\n    })\n  }) : page === 'Cart' ? /*#__PURE__*/_jsx(\"div\", {\n    ref: ref,\n    children: /*#__PURE__*/_jsx(\"section\", {\n      \"aria-label\": \"Personalization\",\n      style: {\n        minHeight: '1138px'\n      },\n      children: cartPageBoxes.map(function (box, i) {\n        return /*#__PURE__*/_jsx(LemonSpotBox, _objectSpread({}, box), i);\n      })\n    })\n  }) : null;\n}\n/*\nLemonSpot is the parent, and acts as a wrapper around the personalization,\nInstagram, and product review sections. It fetches appropriate data based on\npage, passes data down to LemonSpotBox, which passes it down to Slider.\nLemonSpotBox will tell Slider what component to use as the component for\nindividual slides (Lemon).\n\nSlider is dumb. Just takes the data as slides, puts slides in a wide tray\n(SlideContainer), shows you pages of slides. Takes up the full width of its\ncontainer, so caller needs to provide a wrapper element to set the width.\nRequires a few props from parent, and offers a few options:\n- id (string or int)\n- slides (Object array, required)\n- slideWidth: width of individual slides (default: 400)\n- slideComponent: component used to render individual slides (required)\n- gap: horizontal space between slides (default: 15)\n- transition: transition duration for previous/next (default: 1000)\n\nFuture options:\n- auto-play (default: disabled)\n- auto-play duration (default: 5000)\n- percentage width slides\n- full width slides\n- tray edge behaviors (\"reset\", \"wrap\". Default: \"bump\")\n- arrow style (pass down an arrow component. Default: LemonSpotArrow)\n- hide arrows (default: arrows showing)\n- dots style (pass down a dots component. Default: LemonSpotDots)\n- hide dots (default: dots showing)\n*/",".outsmartly/analysis/modules/55.js":"// lib/getImageUrl.js\nimport _regeneratorRuntime from \"/Users/kai/Work/rbx-rewrite/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/kai/Work/rbx-rewrite/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/Users/kai/Work/rbx-rewrite/node_modules/next/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport { fastImageToCloudinary } from '../outsmartly/helpers/fastImageToCloudinary';\nimport { fromEntries } from './helpers';\nimport { kebabize } from './utils'; // const CLOUDINARY_BUCKET = process.env.CLOUDINARY_BUCKET;\n// const CLOUDINARY_TEMPLATE = process.env.CLOUDINARY_TEMPLATE;\n\nvar CLOUDINARY_BUCKET = 'rbx';\nvar CLOUDINARY_TEMPLATE = 'cdn.shopify.com/s/files/1/1115/2394/';\nvar QUICK_BUILD = process.env.QUICK_BUILD;\nvar TEMPLATE_REGEXP = new RegExp(\".+\".concat(CLOUDINARY_TEMPLATE));\nvar PRODUCT_REGEXP = new RegExp(\"^products/\");\nexport function getProductImageUrl(url) {\n  var _url, _url2;\n\n  var width = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : undefined;\n\n  if (!((_url = url) !== null && _url !== void 0 && _url.includes(CLOUDINARY_TEMPLATE)) && !((_url2 = url) !== null && _url2 !== void 0 && _url2.startsWith('/fast-image'))) {\n    url = \"//\".concat(CLOUDINARY_TEMPLATE, \"products/\").concat(url);\n  }\n\n  return getImageUrl(url, width, '13:18') || 'data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7';\n}\nexport function strippedImage(url) {\n  return url === null || url === void 0 ? void 0 : url.replace(TEMPLATE_REGEXP, '').replace(PRODUCT_REGEXP, '');\n}\n\nfunction getAltTextToColor() {\n  var variants = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  var altToColor = {};\n  variants.map(function (_ref) {\n    var optionMap = _ref.optionMap,\n        image = _ref.image;\n    var color = optionMap['Color'];\n\n    if (image && color && color !== image.altText) {\n      altToColor[image.altText] = color;\n    }\n  });\n  return altToColor;\n}\n\nexport function getImageMap(_ref2) {\n  var images = _ref2.images,\n      variants = _ref2.variants,\n      tags = _ref2.tags,\n      _ref2$limit = _ref2.limit,\n      limit = _ref2$limit === void 0 ? 5 : _ref2$limit;\n  var altToColor = getAltTextToColor(variants);\n  var imageMap = images.reduce(function (map, image) {\n    var _altToColor$image$alt, _map$colorName;\n\n    var colorName = (_altToColor$image$alt = altToColor[image === null || image === void 0 ? void 0 : image.altText]) !== null && _altToColor$image$alt !== void 0 ? _altToColor$image$alt : image === null || image === void 0 ? void 0 : image.altText;\n    map[colorName] = (_map$colorName = map[colorName]) !== null && _map$colorName !== void 0 ? _map$colorName : [];\n\n    if (map[colorName].length < limit) {\n      var src = strippedImage(image.src);\n      map[colorName].push(src);\n    }\n\n    return map;\n  }, {}); // The available colors are in the tag array, we want the available colors\n  // to be first, so here we are sorting the keys on the image map to put the\n  // images of the available colors first.\n\n  return fromEntries(Object.entries(imageMap).sort(function (_ref3, _ref4) {\n    var _ref5 = _slicedToArray(_ref3, 1),\n        color1 = _ref5[0];\n\n    var _ref6 = _slicedToArray(_ref4, 1),\n        color2 = _ref6[0];\n\n    var color1Tag = \"color-\".concat(kebabize(color1));\n    var color2Tag = \"color-\".concat(kebabize(color2));\n\n    if (tags.includes(color1Tag) && !tags.includes(color2Tag)) {\n      return -1;\n    }\n\n    if (!tags.includes(color1Tag) && tags.includes(color2Tag)) {\n      return 1;\n    }\n\n    return 0;\n  }));\n}\nexport function getImageUrl(url) {\n  var width = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : undefined;\n  var aspectRatio = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : undefined;\n\n  if (!url) {\n    return '';\n  }\n\n  var aspectString = aspectRatio ? \",c_pad,ar_\".concat(aspectRatio, \",g_north\") : '';\n\n  if (url.indexOf('/fast-image') !== -1) {\n    var filePath = url.replace(/.*\\/fast-image\\/(c_scale,(w_\\d+)?,fl_progressive:steep[^/]*\\/)?/, '');\n    var resize = getResize(width, aspectString);\n    url = \"/fast-image/\".concat(resize).concat(filePath);\n  }\n\n  if (url.indexOf('cdn.shopify.com') !== -1) {\n    var _filePath = url.replace(TEMPLATE_REGEXP, '');\n\n    var _resize = getResize(width, aspectString);\n\n    url = \"/fast-image/\".concat(_resize).concat(CLOUDINARY_BUCKET, \"/\").concat(_filePath);\n  }\n\n  if (url.indexOf('res.cloudinary.com/davda9b9c') > -1) {\n    var _filePath2 = url.replace(/.+res.cloudinary.com\\/davda9b9c\\/image\\/upload\\//, '');\n\n    var _resize2 = getResize(width, aspectString);\n\n    url = \"/fast-image/\".concat(_resize2).concat(_filePath2);\n  }\n\n  if (false && !QUICK_BUILD) {// pregenerate(url);\n  }\n\n  return url;\n}\nvar pregenerated = {};\nvar prefetchPromise = null;\n\nvar sleep = function sleep(ms) {\n  return new Promise(function (resolve) {\n    return setTimeout(resolve, ms);\n  });\n};\n\nfunction pregenerate(_x) {\n  return _pregenerate.apply(this, arguments);\n}\n\nfunction _pregenerate() {\n  _pregenerate = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(pathname) {\n    var fastImageUrl, cloudinaryUrl;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n\n            if (!(!pathname.startsWith('/fast-image/rbx') || pregenerated[pathname])) {\n              _context.next = 3;\n              break;\n            }\n\n            return _context.abrupt(\"return\");\n\n          case 3:\n            _context.next = 5;\n            return prefetchPromise;\n\n          case 5:\n            fastImageUrl = new URL(\"https://res.cloudinary.com\".concat(pathname));\n            cloudinaryUrl = fastImageToCloudinary(fastImageUrl);\n            pregenerated[pathname] = true;\n            _context.next = 10;\n            return fetch(cloudinaryUrl);\n\n          case 10:\n            prefetchPromise = _context.sent.body;\n            _context.next = 15;\n            break;\n\n          case 13:\n            _context.prev = 13;\n            _context.t0 = _context[\"catch\"](0);\n\n          case 15:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[0, 13]]);\n  }));\n  return _pregenerate.apply(this, arguments);\n}\n\nfunction getResize(width, aspect) {\n  return width ? \"c_scale,w_\".concat(width, \",fl_progressive:steep\").concat(aspect, \"/\") : 'fl_progressive:steep/';\n}",".outsmartly/analysis/modules/24.js":"// components/Featured.js\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React from 'react';\nimport { featured, featuredItem, featuredImage } from '../components/Featured.module.css';\nimport { content, title, subtitle, caption, link } from './FeaturedContent.module.css';\nimport styles from './FeaturedContent.module.css';\nimport { FeaturedNoCss } from './FeaturedNoCss';\nexport default function Featured(_ref) {\n  var featuredItems = _ref.featuredItems;\n  return /*#__PURE__*/_jsx(FeaturedNoCss, {\n    featuredItems: featuredItems,\n    css: {\n      featured: featured,\n      featuredItem: featuredItem,\n      featuredImage: featuredImage,\n      content: content,\n      title: title,\n      subtitle: subtitle,\n      caption: caption,\n      link: link,\n      styles: styles\n    }\n  });\n}",".outsmartly/analysis/modules/75.js":"// components/IconSet1.js\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React from 'react';\n/*\nDefine a set of SVGs in here. Then include this set on the page.\n\nThen you'll use an individual icon like this:\n  <svg class=\"icon icon-beaker\">\n    <use xlink:href=\"#beaker\" />\n  </svg>\n\nWhen using React, NextJS, and CSS modules do this: \n  <svg className={`icon ${beaker}`}>\n    <title>Optional title (omit if purely decorative)</title>\n    <use xlinkHref=\"#beaker\" />\n  </svg>\n\n*Can* compose .icon into .beaker, or do `.parent :global(.icon){}`. But easier\nto allow global styles (from globals.css) handle the global class=\"icon\", while\nlocal styles affect local class.\n*/\n// Can try this <svg style=\"display: none;\" xmlns=\"http://www.w3.org/2000/svg\">\n\nexport default function IconSet1() {\n  return /*#__PURE__*/_jsxs(\"svg\", {\n    style: {\n      position: 'absolute',\n      height: 0\n    },\n    xmlns: \"http://www.w3.org/2000/svg\",\n    children: [/*#__PURE__*/_jsxs(\"symbol\", {\n      id: \"close\",\n      viewBox: \"0 0 14 14\",\n      stroke: \"currentColor\",\n      strokeWidth: \"2\",\n      children: [/*#__PURE__*/_jsx(\"path\", {\n        d: \"M1 1l12 12\"\n      }), /*#__PURE__*/_jsx(\"path\", {\n        d: \"M13 1l-12 12\"\n      })]\n    }), /*#__PURE__*/_jsx(\"symbol\", {\n      id: \"close2\",\n      viewBox: \"0 0 50 50\",\n      fill: \"currentColor\",\n      children: /*#__PURE__*/_jsx(\"path\", {\n        d: \"M16.03 25L0 8.98L8.97 0L25 16.03L41.03 0L50 8.98L33.97 25L50 41.03L41.03 50L25 33.98L8.97 50L0 41.03L16.03 25Z\"\n      })\n    }), /*#__PURE__*/_jsx(\"symbol\", {\n      id: \"close3\",\n      viewBox: \"0 0 100 100\",\n      stroke: \"currentColor\",\n      strokeWidth: \"8.2\",\n      children: /*#__PURE__*/_jsx(\"path\", {\n        d: \"M23.8 23.8L76.2 76.2M76.2 23.8L23.8 76.2\"\n      })\n    }), /*#__PURE__*/_jsx(\"symbol\", {\n      id: \"hamburger\",\n      viewBox: \"0 0 32 32\",\n      fill: \"currentColor\",\n      children: /*#__PURE__*/_jsx(\"path\", {\n        d: \"M4.89 14.958h22.22v2.222H4.89v-2.222zM4.89 8.292h22.22v2.222 H4.89V8.292zM4.89 21.625h22.22v2.222H4.89v-2.222z\"\n      })\n    }), /*#__PURE__*/_jsx(\"symbol\", {\n      id: \"plus\",\n      viewBox: \"0 0 42 42\",\n      fill: \"currentColor\",\n      children: /*#__PURE__*/_jsx(\"path\", {\n        d: \"M23 23h19v-4H23V0h-4v19H0v4H19V42h4v-19z\"\n      })\n    }), /*#__PURE__*/_jsx(\"symbol\", {\n      id: \"minus\",\n      viewBox: \"0 0 42 42\",\n      fill: \"currentColor\",\n      children: /*#__PURE__*/_jsx(\"path\", {\n        d: \"M0 23h42v-4H0z\"\n      })\n    }), /*#__PURE__*/_jsx(\"symbol\", {\n      id: \"faPlus\",\n      viewBox: \"0 0 380 380\",\n      fill: \"currentColor\",\n      children: /*#__PURE__*/_jsx(\"path\", {\n        d: \"M366 166v48q0 10-7 17t-17 7h-104v104q0 10-7 17t-17 7 h-48q-10 0-17-7t-7-17v-104h-104q-10 0-17-7t-7-17v-48q0-10 7-17t17-7h104 v-104q0-10 7-17t17-7h48q10 0 17 7t7 17v104 h104q10 0 17 7t7 17z\"\n      })\n    }), /*#__PURE__*/_jsx(\"symbol\", {\n      id: \"faMinus\",\n      viewBox: \"0 0 380 124\",\n      fill: \"currentColor\",\n      children: /*#__PURE__*/_jsx(\"path\", {\n        d: \"M366 38v48q0 10-7 17t-17 7h-304q-10 0-17-7t-7-17v-48q0-10 7-17t17-7h304q10 0 17 7t7 17z\"\n      })\n    }), /*#__PURE__*/_jsxs(\"symbol\", {\n      id: \"checkmark\",\n      viewBox: \"0 0 50 50\",\n      fill: \"currentColor\",\n      children: [/*#__PURE__*/_jsx(\"rect\", {\n        width: \"25\",\n        height: \"10.8\",\n        transform: \"rotate(45)\",\n        x: \"20\",\n        y: \"6\",\n        rx: \"2.8\"\n      }), /*#__PURE__*/_jsx(\"rect\", {\n        width: \"39.5\",\n        height: \"10.8\",\n        transform: \"rotate(-45)\",\n        x: \"-16.8\",\n        y: \"34.2\",\n        rx: \"2.8\"\n      })]\n    }), /*#__PURE__*/_jsx(\"symbol\", {\n      id: \"faCheck\",\n      viewBox: \"0 0 100 100\",\n      fill: \"currentColor\",\n      children: /*#__PURE__*/_jsx(\"path\", {\n        d: \"M93.25 31.58q0 2.23-1.56 3.79l-40.4 40.4-7.59 7.59q-1.56 1.56-3.79 1.56t-3.79-1.56l-7.59-7.59-20.2-20.2q-1.56-1.56-1.56-3.79t1.56-3.79 l7.59-7.59q1.56-1.56 3.79-1.56t3.79 1.56l16.41 16.46 36.61-36.66q1.56 -1.56 3.79-1.56t3.79 1.56l7.59 7.59q1.56 1.56 1.56 3.79z\"\n      })\n    }), /*#__PURE__*/_jsx(\"symbol\", {\n      id: \"lion-chevron-up\",\n      viewBox: \"0 0 100 100\",\n      fill: \"currentColor\",\n      children: /*#__PURE__*/_jsx(\"path\", {\n        d: \"M49.4 18.6C48.2 18.7 47.1 18.9 46.1 19.5C45.3 20 44.7 20.6 44 21.3 L6.9 58.4C5.5 59.8 4.1 61.1 3.5 62.9C2.8 65.1 3 67.6 4.3 69.5C5.2 70.8 6.6 72 7.8 73.1C8.9 74.3 10.1 75.7 11.5 76.6C13.9 78 17.1 77.9 19.4 76.4C20.7 75.6 21.8 74.3 22.9 73.2L48.1 48 49.4 46.6 C49.5 46.5 49.7 46.2 49.9 46.2C50.2 46.2 50.4 46.6 50.5 46.7L52 48.1 78.4 74.5C79.2 75.3 80 76.1 80.9 76.6C82.4 77.5 84.2 77.7 85.9 77.5 C88.7 77.1 90.7 74.9 92.5 72.9C93.6 71.7 94.9 70.6 95.8 69.2C97.3 66.9 97.2 63.8 95.9 61.5C95 60 93.5 58.8 92.3 57.6L57.2 22.5C56.3 21.6 55.4 20.6 54.3 19.8C53 18.9 51.1 18.3 49.4 18.6z\"\n      })\n    }), /*#__PURE__*/_jsx(\"symbol\", {\n      id: \"lion-chevron-down\",\n      viewBox: \"0 0 100 100\",\n      fill: \"currentColor\",\n      children: /*#__PURE__*/_jsx(\"path\", {\n        d: \"M49.4 81.4C48.2 81.3 47.1 81.1 46.1 80.5C45.3 80 44.7 79.4 44 78.7 L6.9 41.6C5.5 40.2 4.1 38.9 3.5 37.1C2.8 34.9 3 32.4 4.3 30.5C5.2 29.2 6.6 28 7.8 26.9C8.9 25.7 10.1 24.3 11.5 23.4C13.9 22 17.1 22.1 19.4 23.6C20.7 24.4 21.8 25.7 22.9 26.8L48.1 52 49.4 53.4C49.5 53.5 49.7 53.8 49.9 53.8C50.2 53.8 50.4 53.4 50.5 53.3L52 51.9 78.4 25.5C79.2 24.7 80 23.9 80.9 23.4C82.4 22.5 84.2 22.3 85.9 22.5C88.7 22.9 90.7 25.1 92.5 27.1C93.6 28.3 94.9 29.4 95.8 30.8C97.3 33.1 97.2 36.2 95.9 38.5C95 40 93.5 41.2 92.3 42.4L57.2 77.5C56.3 78.4 55.4 79.4 54.3 80.2 C53 81.1 51.1 81.7 49.4 81.4z\"\n      })\n    }), /*#__PURE__*/_jsx(\"symbol\", {\n      id: \"zd-question\",\n      viewBox: \"0 0 15 16\",\n      fill: \"currentColor\",\n      \"aria-hidden\": \"true\",\n      children: /*#__PURE__*/_jsx(\"path\", {\n        d: \"M1.3,16c-0.7,0-1.1-0.3-1.2-0.8c-0.3-0.8,0.5-1.3,0.8-1.5c0.6-0.4,0.9-0.7,1-1c0-0.2-0.1-0.4-0.3-0.7c0,0,0-0.1-0.1-0.1 C0.5,10.6,0,9,0,7.4C0,3.3,3.4,0,7.5,0C11.6,0,15,3.3,15,7.4s-3.4,7.4-7.5,7.4c-0.5,0-1-0.1-1.5-0.2C3.4,15.9,1.5,16,1.5,16 C1.4,16,1.4,16,1.3,16z M3.3,10.9c0.5,0.7,0.7,1.5,0.6,2.2c0,0.1-0.1,0.3-0.1,0.4c0.5-0.2,1-0.4,1.6-0.7c0.2-0.1,0.4-0.2,0.6-0.1 c0,0,0.1,0,0.1,0c0.4,0.1,0.9,0.2,1.4,0.2c3,0,5.5-2.4,5.5-5.4S10.5,2,7.5,2C4.5,2,2,4.4,2,7.4c0,1.2,0.4,2.4,1.2,3.3 C3.2,10.8,3.3,10.8,3.3,10.9z\"\n      })\n    }), /*#__PURE__*/_jsx(\"symbol\", {\n      id: \"faWarning\",\n      viewBox: \"0 0 100 100\",\n      fill: \"currentColor\",\n      children: /*#__PURE__*/_jsx(\"path\", {\n        d: \"M57.14 76.73v-10.6q0-.78-.53-1.31t-1.26-.53h-10.71q-.73 0-1.26.53 t-.53 1.31v10.6q0 .78.53 1.31t1.26.53h10.71q.73 0 1.26-.53t.53-1.31z m-.11-20.87 1-25.61q0-.67-.56-1.06q-.73-.61-1.34-.61h-12.28q-.61 0 -1.34.61q-.56.39-.56 1.17l.95 25.5q0 .56.56.92t1.34.36h10.32q.78 0 1.31-.36t.59-.92zm-.78-52.12 42.86 78.57q1.95 3.52-.11 7.03q-.95 1.62 -2.59 2.57t-3.54.95h-85.71q-1.9 0-3.54-.95t-2.59-2.57q-2.06-3.52-.11 -7.03l42.86-78.57q.95-1.73 2.62-2.73t3.63-1t3.63 1t2.62 2.73z\"\n      })\n    }), /*#__PURE__*/_jsx(\"symbol\", {\n      id: \"angle-left\",\n      viewBox: \"0 0 210 330\",\n      fill: \"currentColor\",\n      children: /*#__PURE__*/_jsx(\"path\", {\n        d: \"M200 31.3q0 4.18-3.21 7.39l-126.29 126.29 126.29 126.29q3.21 3.21 3.21 7.39t-3.21 7.39l-16.06 16.06q-3.21 3.21-7.39 3.21t-7.39-3.21 l-149.74-149.74q-3.21-3.21-3.21-7.39t3.21-7.39l149.74-149.74q3.21 -3.21 7.39-3.21t7.39 3.21l16.06 16.06q3.21 3.21 3.21 7.39z\"\n      })\n    }), /*#__PURE__*/_jsx(\"symbol\", {\n      id: \"angle-right\",\n      viewBox: \"0 0 210 330\",\n      fill: \"currentColor\",\n      children: /*#__PURE__*/_jsx(\"path\", {\n        d: \"M197 165q0 4.2-3.23 7.37l-149.76 149.76q-3.23 3.23-7.37 3.23 t-7.37-3.23l-16.07-16.07q-3.23-3.23-3.23-7.37t3.23-7.37l126.32-126.32 l-126.32-126.32q-3.23-3.23-3.23-7.37t3.23-7.37l16.07-16.07q3.23-3.23 7.37-3.23t7.37 3.23l149.76 149.76q3.23 3.23 3.23 7.37z\"\n      })\n    }), /*#__PURE__*/_jsx(\"symbol\", {\n      id: \"angle-left1\",\n      viewBox: \"0 0 100 100\",\n      fill: \"currentColor\",\n      children: /*#__PURE__*/_jsx(\"path\", {\n        d: \"M75 11.86l-5.62-5.27-46.46 43.41 46.46 43.41 5.62-5.24 -40.82-38.17z\"\n      })\n    }), /*#__PURE__*/_jsx(\"symbol\", {\n      id: \"angle-right1\",\n      viewBox: \"0 0 100 100\",\n      fill: \"currentColor\",\n      children: /*#__PURE__*/_jsx(\"path\", {\n        d: \"M23.96 11.86l5.62-5.27l46.46 43.41l-46.46 43.41l-5.62-5.24 l40.82-38.17z\"\n      })\n    }), /*#__PURE__*/_jsx(\"symbol\", {\n      id: \"angle-left-lime\",\n      viewBox: \"0 0 100 100\",\n      fill: \"currentColor\",\n      children: /*#__PURE__*/_jsx(\"path\", {\n        d: \"M76.5 22.4v9.9A2 1.9 0 0175.6 33.9l-25.2 14.1a2 1.9 0 000 3.4l25.2 14.1A2 1.9 0 0176.5 67.2v9.9A2 1.9 0 0173.5 78.7l-49-27.3a2 1.9 0 010-3.4L73.5 20.7A2 1.9 0 0176.5 22.4z\"\n      })\n    }), /*#__PURE__*/_jsx(\"symbol\", {\n      id: \"angle-right-lime\",\n      viewBox: \"0 0 100 100\",\n      fill: \"currentColor\",\n      children: /*#__PURE__*/_jsx(\"path\", {\n        d: \"M23.5 22.4v9.9A2 1.9 0 0024.4 33.9l25.2 14.1a2 1.9 0 010 3.4 l-25.2 14.1A2 1.9 0 0023.5 67.2v9.9A2 1.9 0 0026.5 78.7l49-27.3a2 1.9 0 000-3.4L26.5 20.7A2 1.9 0 0023.5 22.4z\"\n      })\n    }), /*#__PURE__*/_jsx(\"symbol\", {\n      id: \"angle-down\",\n      viewBox: \"0 0 100 100\",\n      fill: \"currentColor\",\n      children: /*#__PURE__*/_jsx(\"path\", {\n        d: \"M2 35.8l48 44.6l48-44.6l-8.5-9.2l-39.5 36.7l-39.5-36.7z\"\n      })\n    }), /*#__PURE__*/_jsxs(\"symbol\", {\n      id: \"search-glass\",\n      viewBox: \"0 0 100 100\",\n      children: [/*#__PURE__*/_jsx(\"circle\", {\n        fill: \"none\",\n        stroke: \"currentColor\",\n        strokeWidth: \"6.6\",\n        cx: \"41.8\",\n        cy: \"41.8\",\n        r: \"28.1\"\n      }), /*#__PURE__*/_jsx(\"path\", {\n        fill: \"currentColor\",\n        d: \"M60.1 67L82.6 89.6L89.6 82.6L67 60z\"\n      })]\n    }), /*#__PURE__*/_jsx(\"symbol\", {\n      id: \"cart\",\n      viewBox: \"0 0 32 32\",\n      fill: \"currentColor\",\n      children: /*#__PURE__*/_jsx(\"path\", {\n        d: \"M26.56 10.72h-3.52v-.248a6.772 6.772 0 00-6.793-6.792h-.44 c-3.767 0-6.847 3.025-6.847 6.792v.248H5.44l-1.76 17.6h24.638 l-1.76-17.6zm-15.84-.247c0-2.788 2.3-5.032 5.087-5.032h.44a5.02 5.02 0 015.032 5.033v.248H10.72v-.247zM5.65 26.56l1.37-14.08h1.94 v1.996a1.758 1.758 0 00.88 3.283c.974 0 1.76-.787 1.76-1.76c0-.65 -.352-1.222-.88-1.524V12.48h10.56v1.996c-.53.302-.88.874-.88 1.523 c0 .972.785 1.76 1.76 1.76s1.76-.787 1.76-1.76c0-.65-.353-1.222 -.88-1.524V12.48h1.946l1.37 14.08H5.648z\"\n      })\n    })]\n  });\n}",".outsmartly/analysis/modules/86.js":"// components/GuestIntro.js\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { container, list, listCloseBtn, notification, content, msg, action, actionBtn, notificationCloseBtn } from './GuestIntro.module.css';\n/**\n * GuestIntro\n *\n * Creates a popup notification message for a first time guest\n */\n\nexport function GuestIntro(_ref) {\n  var onClose = _ref.onClose,\n      onLearnMore = _ref.onLearnMore;\n  return /*#__PURE__*/_jsx(\"div\", {\n    className: container,\n    children: /*#__PURE__*/_jsxs(\"div\", {\n      className: list,\n      children: [/*#__PURE__*/_jsx(\"div\", {\n        className: listCloseBtn,\n        onClick: function onClick() {\n          return onClose(false);\n        },\n        children: \"\\xD7\"\n      }), /*#__PURE__*/_jsxs(\"div\", {\n        className: notification,\n        children: [/*#__PURE__*/_jsxs(\"div\", {\n          className: content,\n          children: [/*#__PURE__*/_jsx(\"div\", {\n            className: msg,\n            children: \"Did you know you can earn points for signing up, making purchases and more?\"\n          }), /*#__PURE__*/_jsx(\"div\", {\n            className: action,\n            children: /*#__PURE__*/_jsx(\"a\", {\n              className: actionBtn,\n              tabIndex: \"0\",\n              onClick: onLearnMore,\n              children: \"Learn more\"\n            })\n          })]\n        }), /*#__PURE__*/_jsx(\"a\", {\n          className: notificationCloseBtn,\n          tabIndex: \"0\",\n          children: \"\\xD7\"\n        })]\n      })]\n    })\n  });\n}",".outsmartly/analysis/modules/41.js":"// components/Header.js\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React, { useEffect, useRef, useState } from 'react';\nimport Link from 'next/link';\nimport { header, headerBarWrap, headerBar, headerItem, itemFixed, navItem, toggleNavWrap, toggleNav, openDrawerIcon, closeDrawerIcon, logo, logoLink, headerLinkWrap, headerLink, headerLinkSearch, searchIcon, cartIcon, cartIndicator } from './Header.module.css';\nimport CartNotification from './CartNotification';\nimport Icon from './icons/Icon';\nimport { drawer, topLink, dropdown, active } from './SiteNav.module.css';\nimport SiteNav from './SiteNav';\nimport Modal from './Modal';\nimport SearchBar from './SearchBar';\nimport { hideScrollbar } from 'lib/utils';\nimport { loadSearchaniseImmediately } from '../third-party-scripts/searchanise';\nimport jackRabbitComponents from 'jackrabbit.components';\nimport { useHasItemsInCart } from 'third-party-scripts/routeapp';\nvar LogoComponent = jackRabbitComponents.LogoComponent;\nexport default function Header() {\n  var _useState = useState(false),\n      showSearch = _useState[0],\n      setShowSearch = _useState[1]; // Determine status of cart indicator\n\n\n  var hasItemsInCart = useHasItemsInCart(); // Grab a reference to elements for later\n\n  var headerRef = useRef();\n  var toggleNavRef = useRef();\n  /** Add click handler */\n\n  useEffect(function () {\n    window.addEventListener('click', handleClick); // Cleanup this component\n\n    return function () {\n      window.removeEventListener('click', handleClick);\n    };\n  }, []);\n  /** Toggle the nav drawer open or closed. Update associated elements. */\n\n  var toggleDrawer = function toggleDrawer() {\n    // Set CSS class on body. Expanded becomes `true` when opened\n    var expanded = document.body.classList.toggle('drawer-open'); // Update aria-expanded and button label\n\n    var btn = toggleNavRef.current;\n    var btnLabel = expanded ? 'Close navigation' : 'Open navigation';\n    btn.setAttribute('aria-expanded', expanded);\n    btn.querySelector('.btn-label').textContent = btnLabel; // Update class on site nav\n\n    document.getElementById('sitenav').classList.toggle(drawer); // Consider add title=\"Open navigation\" to markup, and updating here:\n    // btn.setAttribute('title', btnLabel);\n  };\n  /**\n   * Removes \"active\" class from element with the given class\n   * @param {Object} target - the initiating target node\n   * @param {string} className - the modified class name\n   */\n\n\n  var deactivateDropdowns = function deactivateDropdowns(target, className) {\n    var list = target.closest('ul');\n    var activeDropdowns = list.querySelectorAll(\".\".concat(className, \".\").concat(active));\n\n    if (activeDropdowns.length) {\n      activeDropdowns.forEach(function (activeDropdown) {\n        activeDropdown.classList.remove(active);\n      });\n    }\n  };\n  /** Removes \"active\" class from any topLink */\n\n\n  var deactivateTopLinks = function deactivateTopLinks() {\n    var activeLinks = headerRef.current.querySelectorAll(\".\".concat(topLink, \".\").concat(active));\n\n    if (activeLinks.length) {\n      activeLinks.forEach(function (activeLink) {\n        activeLink.classList.remove(active);\n      });\n    }\n  };\n  /**\n   * Handle clicks anywhere on the page.\n   * @param {Object} e - the event object\n   */\n\n\n  var handleClick = function handleClick(e) {\n    var list = e.target.classList; // If it occurred on nav drawer curtain then toggle the nav drawer.\n\n    if (list.contains('closes-drawer')) {\n      toggleDrawer();\n    } // If it occurred on header then remove any active nav links.\n\n\n    if (list.contains(header) || list.contains(headerBar)) {\n      deactivateTopLinks(); // Also close any active dropdowns\n\n      headerLeave();\n    }\n  };\n  /**\n   * Handle when mouse leaves header or dropdown. Locate the <header> element\n   * with a useRef, rather than with an event.target, because sometimes a\n   * dropdown ul will trigger this event.\n   *\n   * Not in nav drawer, only in large screen nav bar\n   */\n\n\n  var headerLeave = function headerLeave() {\n    var nav = headerRef.current.querySelector('#sitenav');\n\n    if (nav.classList.contains(drawer)) {\n      return;\n    } // Grab the first topLink, since deactivateDropdowns will find a parent list\n\n\n    var firstTopLink = headerRef.current.querySelector(\".\".concat(topLink));\n    deactivateDropdowns(firstTopLink, dropdown);\n  };\n  /** Called when Search icon is clicked. Opens the Modal with SearchBar. */\n\n\n  var openSearchModal = function openSearchModal(e) {\n    e.preventDefault();\n    hideScrollbar();\n    setShowSearch(true);\n  };\n  /** Passed to onClose prop of Modal with SearchBar. Called when: 1. Close\n   * button is clicked, 2. backdrop is clicked, or 3. Escape key is pressed.\n   */\n\n\n  var closeSearchModal = function closeSearchModal() {\n    setShowSearch(false);\n  };\n\n  return /*#__PURE__*/_jsxs(\"header\", {\n    className: header,\n    onMouseLeave: headerLeave,\n    ref: headerRef,\n    children: [/*#__PURE__*/_jsx(CartNotification, {}), /*#__PURE__*/_jsx(\"div\", {\n      className: headerBarWrap,\n      children: /*#__PURE__*/_jsxs(\"div\", {\n        className: \"\".concat(headerBar, \" page-width\"),\n        children: [/*#__PURE__*/_jsx(\"div\", {\n          className: \"\".concat(headerItem, \" \").concat(toggleNavWrap),\n          children: /*#__PURE__*/_jsxs(\"button\", {\n            ref: toggleNavRef,\n            className: toggleNav,\n            type: \"button\",\n            \"aria-expanded\": \"false\",\n            \"aria-controls\": \"sitenav\",\n            onClick: toggleDrawer,\n            children: [/*#__PURE__*/_jsx(Icon, {\n              icon: \"hamburger\",\n              className: openDrawerIcon\n            }), /*#__PURE__*/_jsx(Icon, {\n              icon: \"close3\",\n              className: closeDrawerIcon\n            }), /*#__PURE__*/_jsx(\"span\", {\n              className: \"btn-label visually-hidden\",\n              children: \"Open navigation\"\n            })]\n          })\n        }), /*#__PURE__*/_jsx(\"div\", {\n          className: \"\".concat(headerItem, \" \").concat(itemFixed),\n          children: /*#__PURE__*/_jsx(Link, {\n            href: \"/\",\n            className: logoLink,\n            children: /*#__PURE__*/_jsx(\"a\", {\n              className: logoLink,\n              \"aria-label\": \"home\",\n              children: /*#__PURE__*/_jsx(LogoComponent, {\n                className: logo\n              })\n            })\n          })\n        }), /*#__PURE__*/_jsx(\"div\", {\n          className: \"\".concat(headerItem, \" \").concat(navItem),\n          children: /*#__PURE__*/_jsx(SiteNav, {\n            deactivateDropdowns: deactivateDropdowns,\n            deactivateTopLinks: deactivateTopLinks,\n            toggleDrawer: toggleDrawer\n          })\n        }), /*#__PURE__*/_jsx(\"div\", {\n          className: \"\".concat(headerItem, \" \").concat(itemFixed),\n          children: /*#__PURE__*/_jsxs(\"div\", {\n            className: headerLinkWrap,\n            children: [/*#__PURE__*/_jsxs(\"a\", {\n              href: \"/#search\",\n              className: headerLinkSearch,\n              onClick: openSearchModal // load the searchinse script immediately if mouse enters\n              ,\n              onMouseEnter: loadSearchaniseImmediately,\n              children: [/*#__PURE__*/_jsx(Icon, {\n                icon: \"search-glass\",\n                className: searchIcon\n              }), /*#__PURE__*/_jsx(\"span\", {\n                className: \"visually-hidden\",\n                children: \"Search\"\n              })]\n            }), /*#__PURE__*/_jsx(Link, {\n              href: \"/cart\",\n              children: /*#__PURE__*/_jsxs(\"a\", {\n                className: headerLink,\n                children: [/*#__PURE__*/_jsx(Icon, {\n                  icon: \"cart\",\n                  className: cartIcon\n                }), /*#__PURE__*/_jsx(\"span\", {\n                  className: \"visually-hidden\",\n                  children: \"Cart\"\n                }), /*#__PURE__*/_jsx(\"span\", {\n                  className: hasItemsInCart ? cartIndicator : ''\n                })]\n              })\n            })]\n          })\n        })]\n      })\n    }), /*#__PURE__*/_jsx(Modal, {\n      show: showSearch,\n      onClose: closeSearchModal,\n      keepInDom: \"true\",\n      children: /*#__PURE__*/_jsx(SearchBar, {})\n    })]\n  });\n}",".outsmartly/analysis/modules/10.js":"// components/HeroCarouselNoCss.js\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports._outsmartly_thunk = _outsmartly_thunk;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _reactSlick = _interopRequireDefault(require(\"react-slick\"));\n\nvar _FeaturedContentSlider = _interopRequireDefault(require(\"./FeaturedContentSlider\"));\n\nvar _trackExposure = require(\"./outsmartly/track-exposure\");\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { \"default\": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj[\"default\"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nvar __jsx = _react[\"default\"].createElement;\n\nfunction _outsmartly_thunk(_temp) {\n  if (_outsmartly_slices.$1) {\n    var heroItems = _temp.heroItems,\n        slides = _temp.slides,\n        heroItem = _temp.heroItem,\n        heroImage = _temp.heroImage,\n        css = _temp.css;\n  }\n\n  var settings = {\n    arrows: false,\n    autoplay: true,\n    className: 'hero',\n    dots: true,\n    speed: 500,\n    slidesToShow: 1,\n    slidesToScroll: 1\n  };\n\n  if (_outsmartly_slices.$1) {\n    var _heroItems$slideshowS = heroItems.slideshowSpeedInSeconds,\n        slideshowSpeedInSeconds = _heroItems$slideshowS === void 0 ? 5 : _heroItems$slideshowS;\n  }\n\n  if (_outsmartly_branch_selections.$0) {\n    {\n      if (_outsmartly_slices.$1) {\n        _outsmartly_outlets.$1 = /*#__PURE__*/_react[\"default\"].createElement(_reactSlick[\"default\"], (0, _extends2[\"default\"])({}, settings, {\n          autoplaySpeed: slideshowSpeedInSeconds * 1000\n        }), slides.map(function (item, i) {\n          return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n            className: heroItem,\n            key: item.linkRoute\n          }, /*#__PURE__*/_react[\"default\"].createElement(_trackExposure.TrackExposure, {\n            outsmartlyTracking: item.outsmartlyTracking\n          }, /*#__PURE__*/_react[\"default\"].createElement(\"img\", (0, _extends2[\"default\"])({}, i === 0 ? {\n            'data-prioritize': 1\n          } : {}, {\n            className: heroImage,\n            src: item.imgSrc,\n            alt: item.imgAlt\n          }))), /*#__PURE__*/_react[\"default\"].createElement(_FeaturedContentSlider[\"default\"], {\n            parent: \"hero\",\n            id: item.id,\n            titleText: item.title,\n            subtitleText: item.subtitle,\n            captionText: item.caption,\n            linkText: item.linkText,\n            linkRoute: item.linkRoute,\n            align: item.align,\n            item: item,\n            css: css,\n            outsmartlyTracking: item.outsmartlyTracking\n          }));\n        }));\n      }\n    }\n    return _outsmartly_no_return;\n  } else {\n    return /*#__PURE__*/_react[\"default\"].createElement(_reactSlick[\"default\"], (0, _extends2[\"default\"])({}, settings, {\n      autoplaySpeed: slideshowSpeedInSeconds * 1000\n    }), slides.map(function (item, i) {\n      return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: heroItem,\n        key: item.linkRoute\n      }, /*#__PURE__*/_react[\"default\"].createElement(_trackExposure.TrackExposure, {\n        outsmartlyTracking: item.outsmartlyTracking\n      }, /*#__PURE__*/_react[\"default\"].createElement(\"img\", (0, _extends2[\"default\"])({}, i === 0 ? {\n        'data-prioritize': 1\n      } : {}, {\n        className: heroImage,\n        src: item.imgSrc,\n        alt: item.imgAlt\n      }))), /*#__PURE__*/_react[\"default\"].createElement(_FeaturedContentSlider[\"default\"], {\n        parent: \"hero\",\n        id: item.id,\n        titleText: item.title,\n        subtitleText: item.subtitle,\n        captionText: item.caption,\n        linkText: item.linkText,\n        linkRoute: item.linkRoute,\n        align: item.align,\n        item: item,\n        css: css,\n        outsmartlyTracking: item.outsmartlyTracking\n      }));\n    }));\n  }\n}\n\nvar HeroCarouselNoCss = _outsmartly_thunk;\n/* <HeroImage\n                // prioritize first hero image\n                // would also like to lazy load these, perhaps by also using\n                // the exposure tracking, but modified\n                {...(i === 0 ? { 'data-prioritize': 1 } : {})}\n                heroImage={heroImage}\n                src={item.imgSrc}\n                alt={item.imgAlt}\n                i={i}\n              /> */\n// function HeroImage({ heroImage, src, alt, i }) {\n//   const [heroImageSrc, setHeroImage] = useState(src);\n//   useEffect(() => {\n//     const img = new Image();\n//     img.src = `${src}?high-res=true`;\n//     // Once image is loaded replace the src of the HTML element\n//     img.onload = () => {\n//       setHeroImage(img.src);\n//     };\n//   }, []);\n//   return (\n//     <img\n//       // prioritize first hero image\n//       // would also like to lazy load these, perhaps by also using\n//       // the exposure tracking, but modified\n//       {...(i === 0 ? { 'data-prioritize': 1 } : {})}\n//       className={heroImage}\n//       src={heroImageSrc}\n//       alt={alt}\n//     />\n//   );\n// }",".outsmartly/analysis/modules/128.js":"// components/SizingGuide/Men.js\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { title, tableWrap } from './SizingGuide.module.css';\nexport default function Men(_ref) {\n  var _ref$titleClass = _ref.titleClass,\n      titleClass = _ref$titleClass === void 0 ? title : _ref$titleClass,\n      _ref$wrapClass = _ref.wrapClass,\n      wrapClass = _ref$wrapClass === void 0 ? tableWrap : _ref$wrapClass;\n  return /*#__PURE__*/_jsxs(\"div\", {\n    id: \"men\",\n    children: [/*#__PURE__*/_jsx(\"p\", {\n      className: titleClass,\n      children: /*#__PURE__*/_jsx(\"strong\", {\n        children: \"Men Size Guide\"\n      })\n    }), /*#__PURE__*/_jsx(\"div\", {\n      className: wrapClass,\n      children: /*#__PURE__*/_jsxs(\"table\", {\n        children: [/*#__PURE__*/_jsxs(\"colgroup\", {\n          children: [/*#__PURE__*/_jsx(\"col\", {}), /*#__PURE__*/_jsx(\"col\", {\n            span: \"3\"\n          }), /*#__PURE__*/_jsx(\"col\", {\n            span: \"3\"\n          })]\n        }), /*#__PURE__*/_jsxs(\"thead\", {\n          children: [/*#__PURE__*/_jsxs(\"tr\", {\n            children: [/*#__PURE__*/_jsx(\"th\", {\n              scope: \"col\",\n              children: \"Size\"\n            }), /*#__PURE__*/_jsx(\"th\", {\n              scope: \"colgroup\",\n              children: \"Tops\"\n            }), /*#__PURE__*/_jsx(\"th\", {}), /*#__PURE__*/_jsx(\"th\", {}), /*#__PURE__*/_jsx(\"th\", {\n              scope: \"colgroup\",\n              children: \"Bottoms\"\n            }), /*#__PURE__*/_jsx(\"th\", {}), /*#__PURE__*/_jsx(\"th\", {})]\n          }), /*#__PURE__*/_jsxs(\"tr\", {\n            children: [/*#__PURE__*/_jsx(\"td\", {}), /*#__PURE__*/_jsx(\"th\", {\n              scope: \"col\",\n              children: \"Chest\"\n            }), /*#__PURE__*/_jsx(\"th\", {\n              scope: \"col\",\n              children: \"Body Length\"\n            }), /*#__PURE__*/_jsx(\"th\", {\n              scope: \"col\",\n              children: \"Hem Sweep\"\n            }), /*#__PURE__*/_jsx(\"th\", {\n              scope: \"col\",\n              children: \"Waist\"\n            }), /*#__PURE__*/_jsx(\"th\", {\n              scope: \"col\",\n              children: \"Hip\"\n            }), /*#__PURE__*/_jsx(\"th\", {\n              scope: \"col\",\n              children: \"Inseam\"\n            })]\n          })]\n        }), /*#__PURE__*/_jsxs(\"tbody\", {\n          children: [/*#__PURE__*/_jsxs(\"tr\", {\n            children: [/*#__PURE__*/_jsx(\"th\", {\n              scope: \"row\",\n              children: \"S\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"37-39\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"28\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"36-38\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"28-30\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"39-41\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"31\"\n            })]\n          }), /*#__PURE__*/_jsxs(\"tr\", {\n            children: [/*#__PURE__*/_jsx(\"th\", {\n              scope: \"row\",\n              children: \"M\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"40-42\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"29\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"39-41\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"31-33\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"42-44\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"31\"\n            })]\n          }), /*#__PURE__*/_jsxs(\"tr\", {\n            children: [/*#__PURE__*/_jsx(\"th\", {\n              scope: \"row\",\n              children: \"L\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"43-45\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"30\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"42-44\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"34-36\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"45-47\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"31\"\n            })]\n          }), /*#__PURE__*/_jsxs(\"tr\", {\n            children: [/*#__PURE__*/_jsx(\"th\", {\n              scope: \"row\",\n              children: \"XL\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"46\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"31\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"45\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"37-39\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"48-50\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"31\"\n            })]\n          })]\n        })]\n      })\n    })]\n  });\n}",".outsmartly/analysis/modules/179.js":"// pages/api/_next/search.ts\nimport { fetchJson } from 'lib/utils';\nconst SEARCHANIZE_API_KEY = process.env.SEARCHANIZE_API_KEY;\nexport default (async (req, res) => {\n  const {\n    q\n  } = req.query; // ?api_key=4P8e9P3N8M&q=sleeve&maxResults=3&startIndex=0&items=true&pages=true&facets=false&categories=true&suggestions=true&vendors=false&tags=false&pageStartIndex=0&pagesMaxResults=3&categoryStartIndex=0&categoriesMaxResults=3&suggestionsMaxResults=4&vendorsMaxResults=3&tagsMaxResults=3&output=jsonp&callback=jQuery22405818634324330529_1613284239524&_=1613284239533\n\n  const searchanizeurl = new URL(`https://www.searchanise.com/getwidgets`);\n  const params = searchanizeurl.searchParams;\n  params.set('api_key', SEARCHANIZE_API_KEY);\n  params.set('q', q);\n  params.set('items', 'true');\n  params.set('maxResults', '30');\n  params.set('output', 'jsonp');\n  console.log(searchanizeurl.toString());\n  const json = await fetchJson(searchanizeurl.toString());\n  res.statusCode = 200; // res.json((await search(q))[0]);\n\n  res.json(json.items.map(mapProduct));\n});\n\nfunction mapProduct(p) {\n  // return p.shopify_variants[0];\n  return {\n    id: p.product_id,\n    createdAt: null,\n    productType: null,\n    handle: p.link.split('/').pop(),\n    title: p.title,\n    tags: p.tags.split('[:ATTR:]'),\n    options: getOptions(),\n    images: p.shopify_images.map(mapImage),\n    price: parseFloat(p.price),\n    oldPrice: parseFloat(p.list_price),\n    // showFromPrice: false,\n    // tag: 'Sale',\n    rating: parseFloat(p.reviews_average_score),\n    numReviews: parseInt(p.total_reviews),\n    bestSellerSort: 0\n  };\n\n  function getOptions() {\n    const colors = p.shopify_variants.map(({\n      options\n    }) => options.Color);\n    return [{\n      name: 'Color',\n      values: Array.from(new Set(colors))\n    }];\n  }\n\n  function mapImage(src) {\n    var _variant$options;\n\n    const variant = p.shopify_variants.find(({\n      image_link\n    }) => image_link === src);\n    const altText = variant === null || variant === void 0 ? void 0 : (_variant$options = variant.options) === null || _variant$options === void 0 ? void 0 : _variant$options.Color;\n    return {\n      src,\n      altText\n    };\n  }\n}\n\nconst prod = {\n  id: '3000869159034',\n  createdAt: '2020-01-06T23:07:57Z',\n  productType: 'Short Sleeve',\n  handle: 'plus-studio-dont-look-back-mesh-tee-shirt',\n  title: \"Plus Studio Don't Look Back Mesh Tee Shirt\",\n  tags: ['1X', '2X', '3X', 'allow promos', 'black', 'buymore', 'cl0-Plus', 'cl1-TOP', 'cl2-SSL', 'cl3-S20', 'color-black', 'EOS', 'feed-agegroup-adult', 'feed-gender-female', 'feed-gpc-5322', 'hot pink', 'JULY4', 'light purple', 'PC040100', 'Plus', 'related-products-plus-top-ssl', 'S20', 'sale', 'size-2x', 'Solid', 'SSL', 'TOP'],\n  options: [{\n    id: 'Z2lkOi8vc2hvcGlmeS9Qcm9kdWN0T3B0aW9uLzM3NjE3OTc2OTM1NjI=',\n    name: 'Color',\n    values: ['Hot Pink', 'Light Purple', 'Black']\n  }, {\n    id: 'Z2lkOi8vc2hvcGlmeS9Qcm9kdWN0T3B0aW9uLzM3NjE3OTc3MjYzMzA=',\n    name: 'Size',\n    values: ['1X', '2X', '3X']\n  }],\n  images: [{\n    src: 'https://cdn.shopify.com/s/files/1/1115/2394/products/CR2204XC_1.jpg?v=1578410522',\n    altText: 'Hot Pink'\n  }, {\n    src: 'https://cdn.shopify.com/s/files/1/1115/2394/products/CR2204XC_2.jpg?v=1578410522',\n    altText: 'Hot Pink'\n  }, {\n    src: 'https://cdn.shopify.com/s/files/1/1115/2394/products/CR2204XC_3.jpg?v=1578410522',\n    altText: 'Hot Pink'\n  }, {\n    src: 'https://cdn.shopify.com/s/files/1/1115/2394/products/CR2204XC_4.jpg?v=1578410522',\n    altText: 'Hot Pink'\n  }, {\n    src: 'https://cdn.shopify.com/s/files/1/1115/2394/products/CR2204XB_1.jpg?v=1578410522',\n    altText: 'Light Purple'\n  }, {\n    src: 'https://cdn.shopify.com/s/files/1/1115/2394/products/CR2204XB_2.jpg?v=1578410522',\n    altText: 'Light Purple'\n  }, {\n    src: 'https://cdn.shopify.com/s/files/1/1115/2394/products/CR2204XB_3.jpg?v=1578410522',\n    altText: 'Light Purple'\n  }, {\n    src: 'https://cdn.shopify.com/s/files/1/1115/2394/products/CR2204XB_4.jpg?v=1578410522',\n    altText: 'Light Purple'\n  }, {\n    src: 'https://cdn.shopify.com/s/files/1/1115/2394/products/CR2204XA_1.jpg?v=1578410522',\n    altText: 'Black'\n  }, {\n    src: 'https://cdn.shopify.com/s/files/1/1115/2394/products/CR2204XA_2.jpg?v=1578410522',\n    altText: 'Black'\n  }, {\n    src: 'https://cdn.shopify.com/s/files/1/1115/2394/products/CR2204XA_3.jpg?v=1578410522',\n    altText: 'Black'\n  }, {\n    src: 'https://cdn.shopify.com/s/files/1/1115/2394/products/CR2204XA_4.jpg?v=1578410522',\n    altText: 'Black'\n  }],\n  price: 21.95,\n  oldPrice: 27.99,\n  showFromPrice: false,\n  tag: 'Sale',\n  rating: 4.3,\n  numReviews: 3,\n  bestSellerSort: 0\n};",".outsmartly/analysis/modules/169.js":"// pages/cart.js\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React, { useState, useContext, useEffect } from 'react';\nimport Link from 'next/link';\nimport styles from 'styles/Main.module.css';\nimport { emptyCart, cartHeader, cartTitle, continueBrowsing, continueShopping, grid75, itemsSection, totalWrap, table, row, cellImage, imageLink, itemTitle, properties, remove, removeIcon, cellQuantity, jsQty, minus, minusBtn, plus, plusBtn, cellTotal, cellOriginalPrice, cellMessage, totalSection, subtotalCss, afterpay, afterpayModalContent, taxes, updateBtn, checkoutBtn } from 'styles/cart.module.css';\nimport Icon from 'components/icons/Icon';\nimport { LemonSpot } from 'components/LemonSpot/LemonSpot';\nimport { LemonSpotUpsell } from 'components/LemonSpot/LemonSpotUpsell';\nimport { getImageUrl, getProductImageUrl } from 'lib/getImageUrl';\nimport { CartContext } from '@outsmartly/jackrabbit';\nimport Modal from 'components/Modal';\nimport Afterpay from 'components/Afterpay/Afterpay';\nimport { hideScrollbar } from 'lib/utils';\nimport { loadRouteappImmediately } from 'third-party-scripts/routeapp';\nimport { SEO } from 'components/Seo';\nimport { convertProductToProps } from 'lib/convertProductToProps';\nimport { loadSingleProduct } from 'lib/shopify';\nimport { useHasItemsInCart } from 'third-party-scripts/routeapp';\nexport async function getStaticProps() {\n  let upsellHandles = ['prime-ready-to-roll-fleece-zip-mock-neck-pullover', 'everyday-stretch-ankle-pant', 'studio-namaste-mock-neck-pullover', 'everyday-easy-mesh-detail-tank', 'lumen-lightweight-capri-pant-ii', 'prime-perfect-weekend-skort'];\n  let upsellItems = [];\n\n  try {\n    // Get the upsell products at build time\n    upsellItems = await Promise.all( // Because mapping function is async, it returns an array of Promises\n    upsellHandles.map(async handle => {\n      // A try/catch in case the upsellHandles aren't available anymore\n      try {\n        const product = await loadSingleProduct(handle);\n        return convertProductToProps(product);\n      } catch (e) {\n        return undefined;\n      }\n    })); // Get rid of any upsellItems that don't return anything.\n\n    upsellItems = upsellItems.filter(Boolean);\n  } catch (e) {\n    console.log(e.message);\n  }\n\n  return {\n    props: {\n      upsellItems\n    },\n    revalidate: 120 // In seconds\n\n  };\n}\nexport default function Cart({\n  upsellItems\n}) {\n  useEffect(() => {\n    loadRouteappImmediately();\n  }, []);\n  const {\n    isInitialState,\n    items,\n    updateQuantity,\n    subtotal\n  } = useContext(CartContext);\n  const hasItemsInCart = useHasItemsInCart(); // Hold state for opening the Afterpay modal\n\n  const {\n    0: showModal,\n    1: setShowModal\n  } = useState(false); // Custom inlines styles for Afterpay modal\n\n  const css = {\n    backdrop: {\n      backgroundColor: '#00000080',\n      padding: 0\n    },\n    closeBtn: {\n      fontSize: 40\n    }\n  }; // Create a prefix for afterpay image URLs\n\n  const apPrefix = 'https://static.afterpay.com/integration/product-page/'; // Determine src and srcset for Afterpay logo\n\n  const apLogoSrc = getImageUrl(`${apPrefix}logo-afterpay-colour.png`);\n  const apLogoSrcset = `\n    ${getImageUrl(`${apPrefix}logo-afterpay-colour.png`)} 1x,\n    ${getImageUrl(`${apPrefix}logo-afterpay-colour@2x.png`)} 2x,\n    ${getImageUrl(`${apPrefix}logo-afterpay-colour@3x.png`)} 3x\n  `; // Add page type class to <main>\n\n  const pageType = 'templateCart';\n  /** Converts an integer representing a price in cents into a currency string*/\n\n  function displayPrice(cents) {\n    return '$' + (cents / 100).toFixed(2);\n  }\n  /** Opens the Afterpay modal */\n\n\n  const openAfterpayModal = e => {\n    e.preventDefault();\n    hideScrollbar();\n    setShowModal(true);\n  };\n  /** Closes the Afterpay modal */\n\n\n  const closeAfterpayModal = e => {\n    e.preventDefault();\n    setShowModal(false);\n  };\n\n  return /*#__PURE__*/_jsxs(\"main\", {\n    id: \"mainContent\",\n    className: `${styles['mainContent']} ${styles[pageType]}`,\n    children: [/*#__PURE__*/_jsx(SEO, {\n      ogType: \"website\",\n      title: \"Your Shopping Cart\",\n      canonical: \"/cart\"\n    }), /*#__PURE__*/_jsxs(\"div\", {\n      className: \"page-width\",\n      children: [!isInitialState && !hasItemsInCart && /*#__PURE__*/_jsxs(\"div\", {\n        className: emptyCart,\n        children: [/*#__PURE__*/_jsx(LemonSpotUpsell, {\n          cartItems: items,\n          upsellItems: upsellItems\n        }), /*#__PURE__*/_jsx(\"h1\", {\n          children: \"Shopping Cart\"\n        }), /*#__PURE__*/_jsx(\"p\", {\n          children: \"Your cart is currently empty.\"\n        }), /*#__PURE__*/_jsx(Link, {\n          href: \"/collections/all\",\n          children: /*#__PURE__*/_jsx(\"a\", {\n            className: continueBrowsing,\n            children: \"Continue Browsing\"\n          })\n        })]\n      }), hasItemsInCart && /*#__PURE__*/_jsxs(_Fragment, {\n        children: [/*#__PURE__*/_jsxs(\"div\", {\n          className: cartHeader,\n          children: [/*#__PURE__*/_jsx(\"div\", {\n            children: /*#__PURE__*/_jsx(\"h1\", {\n              className: cartTitle,\n              children: \"Shopping Cart\"\n            })\n          }), /*#__PURE__*/_jsx(\"div\", {\n            children: /*#__PURE__*/_jsx(Link, {\n              href: \"/collections/all\",\n              children: /*#__PURE__*/_jsx(\"a\", {\n                className: continueShopping,\n                children: \"Continue Shopping\"\n              })\n            })\n          })]\n        }), /*#__PURE__*/_jsxs(\"form\", {\n          action: \"/cart\",\n          method: \"post\",\n          noValidate: true,\n          children: [/*#__PURE__*/_jsx(LemonSpotUpsell, {\n            cartItems: items,\n            upsellItems: upsellItems\n          }), /*#__PURE__*/_jsxs(\"div\", {\n            className: grid75,\n            children: [/*#__PURE__*/_jsx(\"div\", {\n              className: itemsSection,\n              children: /*#__PURE__*/_jsxs(\"table\", {\n                className: table,\n                children: [/*#__PURE__*/_jsx(\"thead\", {\n                  className: \"visually-hidden\",\n                  children: /*#__PURE__*/_jsxs(\"tr\", {\n                    children: [/*#__PURE__*/_jsx(\"th\", {\n                      colSpan: \"2\",\n                      children: \"Product\"\n                    }), /*#__PURE__*/_jsx(\"th\", {\n                      children: \"Quantity\"\n                    }), /*#__PURE__*/_jsx(\"th\", {\n                      children: \"Total\"\n                    })]\n                  })\n                }), /*#__PURE__*/_jsx(\"tbody\", {\n                  id: \"CartProducts\",\n                  children: items.map((item, i) => {\n                    var _item$discounts;\n\n                    return /*#__PURE__*/_jsxs(\"tr\", {\n                      className: row,\n                      style: item.handle === 'routeins' ? {\n                        display: 'none'\n                      } : undefined,\n                      children: [/*#__PURE__*/_jsx(\"td\", {\n                        className: cellImage,\n                        children: /*#__PURE__*/_jsx(Link, {\n                          href: `/collections/all${item.url}`,\n                          children: /*#__PURE__*/_jsx(\"a\", {\n                            className: imageLink,\n                            children: /*#__PURE__*/_jsx(\"img\", {\n                              src: getProductImageUrl(item.image, 600),\n                              alt: item.title,\n                              loading: \"lazy\"\n                            })\n                          })\n                        })\n                      }), /*#__PURE__*/_jsxs(\"td\", {\n                        children: [/*#__PURE__*/_jsx(Link, {\n                          href: item.url,\n                          children: /*#__PURE__*/_jsx(\"a\", {\n                            className: itemTitle,\n                            children: item.product_title\n                          })\n                        }), /*#__PURE__*/_jsx(\"p\", {\n                          className: properties,\n                          children: item.variant_title\n                        }), /*#__PURE__*/_jsxs(\"a\", {\n                          className: remove,\n                          onClick: () => updateQuantity({\n                            variantId: item.id,\n                            line: i + 1,\n                            quantity: 0\n                          }),\n                          children: [/*#__PURE__*/_jsx(Icon, {\n                            icon: \"close\",\n                            className: removeIcon\n                          }), \"Remove\"]\n                        })]\n                      }), /*#__PURE__*/_jsxs(\"td\", {\n                        className: cellQuantity,\n                        children: [/*#__PURE__*/_jsx(\"label\", {\n                          htmlFor: `Updates_${item.id}`,\n                          children: \"Quantity\"\n                        }), /*#__PURE__*/_jsxs(\"div\", {\n                          className: jsQty,\n                          children: [/*#__PURE__*/_jsx(\"input\", {\n                            type: \"text\",\n                            readOnly: true,\n                            value: item.quantity,\n                            id: `Updates_${item.id}`,\n                            name: \"updates[]\",\n                            pattern: \"[0-9]*\",\n                            \"data-line\": i + 1,\n                            \"aria-live\": \"polite\"\n                          }), /*#__PURE__*/_jsx(\"button\", {\n                            type: \"button\",\n                            className: minusBtn,\n                            onClick: () => updateQuantity({\n                              variantId: item.id,\n                              line: i + 1,\n                              quantity: item.quantity - 1\n                            }),\n                            \"aria-label\": \"Decrease quantity\",\n                            children: /*#__PURE__*/_jsx(\"svg\", {\n                              className: `${minus} icon`,\n                              children: /*#__PURE__*/_jsx(\"use\", {\n                                xlinkHref: \"#minus\"\n                              })\n                            })\n                          }), /*#__PURE__*/_jsx(\"button\", {\n                            type: \"button\",\n                            className: plusBtn,\n                            onClick: () => updateQuantity({\n                              variantId: item.id,\n                              line: i + 1,\n                              quantity: item.quantity + 1\n                            }),\n                            \"aria-label\": \"Increase quantity\",\n                            children: /*#__PURE__*/_jsx(\"svg\", {\n                              className: `${plus} icon`,\n                              children: /*#__PURE__*/_jsx(\"use\", {\n                                xlinkHref: \"#plus\"\n                              })\n                            })\n                          })]\n                        })]\n                      }), /*#__PURE__*/_jsxs(\"td\", {\n                        className: cellTotal,\n                        children: [/*#__PURE__*/_jsx(\"span\", {\n                          children: displayPrice(item.final_line_price)\n                        }), /*#__PURE__*/_jsxs(\"div\", {\n                          class: cellOriginalPrice,\n                          children: [item.final_line_price !== item.original_line_price && /*#__PURE__*/_jsx(\"s\", {\n                            children: displayPrice(item.original_line_price)\n                          }), /*#__PURE__*/_jsx(\"br\", {}), /*#__PURE__*/_jsx(\"span\", {\n                            class: cellMessage,\n                            children: (item === null || item === void 0 ? void 0 : (_item$discounts = item.discounts) === null || _item$discounts === void 0 ? void 0 : _item$discounts.length) > 0 && (item === null || item === void 0 ? void 0 : item.discounts[0].title)\n                          })]\n                        })]\n                      })]\n                    }, `${item.id}:${i}`);\n                  })\n                })]\n              })\n            }), /*#__PURE__*/_jsx(\"div\", {\n              className: totalSection,\n              children: /*#__PURE__*/_jsxs(\"div\", {\n                className: totalWrap,\n                children: [/*#__PURE__*/_jsx(\"h4\", {\n                  children: \"Total\"\n                }), ' ', /*#__PURE__*/_jsx(\"p\", {\n                  className: subtotalCss,\n                  id: \"CartSubtotal\",\n                  children: displayPrice(subtotal)\n                }), /*#__PURE__*/_jsxs(\"p\", {\n                  className: afterpay,\n                  children: [/*#__PURE__*/_jsxs(\"span\", {\n                    children: [\"or 4 interest-free installments of\", ' ', displayPrice(Math.round(subtotal / 4)), \" by\", ' ']\n                  }), /*#__PURE__*/_jsx(\"img\", {\n                    alt: \"Afterpay\",\n                    src: apLogoSrc,\n                    srcSet: apLogoSrcset\n                  }), ' ', /*#__PURE__*/_jsx(\"a\", {\n                    href: \"https://www.afterpay.com/purchase-payment-agreement\",\n                    \"aria-label\": \"Afterpay Information - Opens a dialog\",\n                    onClick: openAfterpayModal,\n                    tabIndex: \"0\",\n                    children: \"\\u24D8\"\n                  })]\n                }), /*#__PURE__*/_jsxs(\"div\", {\n                  className: taxes,\n                  children: [/*#__PURE__*/_jsx(\"p\", {\n                    children: \"Shipping & taxes calculated at checkout\"\n                  }), /*#__PURE__*/_jsx(\"p\", {\n                    children: /*#__PURE__*/_jsx(\"strong\", {\n                      children: \"Apply code at checkout to receive discount.\"\n                    })\n                  })]\n                }), /*#__PURE__*/_jsx(\"div\", {\n                  className: \"route-div\",\n                  style: {\n                    letterSpacing: '-0.1px'\n                  }\n                }), /*#__PURE__*/_jsx(\"button\", {\n                  name: \"update\",\n                  className: updateBtn,\n                  children: \"Update Cart\"\n                }), /*#__PURE__*/_jsx(\"button\", {\n                  name: \"checkout\",\n                  className: checkoutBtn,\n                  children: \"Check Out\"\n                })]\n              })\n            })]\n          })]\n        }), /*#__PURE__*/_jsx(Modal, {\n          show: showModal,\n          onClose: closeAfterpayModal,\n          contentClass: afterpayModalContent,\n          customCss: css,\n          children: /*#__PURE__*/_jsx(Afterpay, {})\n        })]\n      }), !isInitialState && /*#__PURE__*/_jsx(LemonSpot, {\n        page: \"Cart\"\n      })]\n    })]\n  });\n}",".outsmartly/analysis/modules/138.js":"// components/ProductOption/ProductColor.js\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React from 'react';\nimport { swatchList, swatchItem, productColor, checked, checkmark, lightColor, tooltip } from './ProductColor.module.css';\nimport Swatch from './Swatch';\nimport Icon from 'components/icons/Icon';\nimport { camelize, toTitleCase, colorIsLight } from 'lib/utils';\nimport { availableOptionsState } from 'context/availableOptionsState';\nimport { useIsVariantReady } from 'components/Product';\nexport default function ProductColor(_ref) {\n  var product = _ref.product,\n      selectedOptions = _ref.selectedOptions,\n      selectSingleOption = _ref.selectSingleOption,\n      listItemType = _ref.listItemType,\n      colorParent = _ref.colorParent;\n  // this allows proper hydration when we override\n  var isVariantReady = useIsVariantReady();\n  var options = availableOptionsState({\n    product: product,\n    optionName: 'Color',\n    selectedOptions: selectedOptions,\n    selectSingleOption: selectSingleOption\n  }); // Convert the array of colors into an object array for rendering\n\n  var colors = options === null || options === void 0 ? void 0 : options.map(function (_ref2) {\n    var option = _ref2.option,\n        availableForSale = _ref2.availableForSale,\n        selected = _ref2.selected,\n        selectOption = _ref2.selectOption;\n    return {\n      color: option,\n      cssClass: camelize(option),\n      name: toTitleCase(option),\n      checked: selected,\n      selectOption: selectOption,\n      colorIsLight: colorIsLight(option),\n      availableForSale: availableForSale\n    };\n  });\n  return /*#__PURE__*/_jsx(\"ul\", {\n    className: swatchList,\n    children: colors === null || colors === void 0 ? void 0 : colors.map(function (c) {\n      return /*#__PURE__*/_jsxs(\"li\", {\n        className: \"\".concat(listItemType ? listItemType : swatchItem, \" \").concat(isVariantReady && c.checked ? checked : ''),\n        children: [!listItemType && /*#__PURE__*/_jsx(_Fragment, {\n          children: /*#__PURE__*/_jsx(\"div\", {\n            className: tooltip,\n            children: c.name\n          })\n        }), /*#__PURE__*/_jsx(Swatch, {\n          available: c.availableForSale,\n          optionalClass: productColor,\n          colorParent: colorParent,\n          color: c.cssClass,\n          colorName: c.name,\n          onClick: c.selectOption\n        }), isVariantReady && c.checked && /*#__PURE__*/_jsx(Icon, {\n          icon: \"checkmark\",\n          className: \"\".concat(c.colorIsLight ? lightColor : checkmark)\n        })]\n      }, \"\".concat(c.color));\n    })\n  });\n}",".outsmartly/analysis/modules/51.js":"// node_modules/next/dist/next-server/lib/runtime-config.js\n\"use strict\";\n\nexports.__esModule = true;\nexports.setConfig = setConfig;\nexports[\"default\"] = void 0;\nvar runtimeConfig;\n\nvar _default = function _default() {\n  return runtimeConfig;\n};\n\nexports[\"default\"] = _default;\n\nfunction setConfig(configValue) {\n  runtimeConfig = configValue;\n}",".outsmartly/analysis/modules/9.js":"// components/fix.js\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports._outsmartly_thunk = _outsmartly_thunk;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar __jsx = _react[\"default\"].createElement;\n\nfunction _outsmartly_thunk() {\n  if (_outsmartly_branch_selections.$0) {\n    {}\n    return _outsmartly_no_return;\n  } else {\n    return /*#__PURE__*/_react[\"default\"].createElement(\"div\", null);\n  }\n}\n\nvar HelloWorld = _outsmartly_thunk;",".outsmartly/analysis/modules/96.js":"// components/QuickView/index.js\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport _regeneratorRuntime from \"/Users/kai/Work/rbx-rewrite/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/kai/Work/rbx-rewrite/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport React, { useContext, useState } from 'react';\nimport Link from 'next/link';\nimport { quick, grid50, swatchWrapper, swatchGroup, swatchHeader, desc, addBtn, success, successIcon, error, errorIcon } from './QuickView.module.css';\nimport styles from './QuickView.module.css';\nimport QuantityWidget from './QuantityWidget';\nimport ProductColor from 'components/ProductOption/ProductColor';\nimport ProductOption from 'components/ProductOption';\nimport { CartContext } from '@outsmartly/jackrabbit';\nimport Icon from 'components/icons/Icon';\nimport { selectedOptionsState } from 'context/selectedOptionsState';\nimport { getFullProduct } from 'context/getProduct';\nimport { getVariant } from 'context/getVariant';\nimport { getProductImageUrl } from 'lib/getImageUrl';\n\nfunction getAddToCartText(product, currentVariant) {\n  if (!product.variants || currentVariant.availableForSale) {\n    return 'Add to Cart';\n  }\n\n  if (!currentVariant) {\n    return 'Sold Out';\n  }\n\n  return 'Unavailable';\n}\n\nexport default function QuickView(_ref) {\n  var _product$description$, _product$description;\n\n  var instance = _ref.instance,\n      collectionHandle = _ref.collectionHandle,\n      collectionProduct = _ref.product,\n      onClose = _ref.onClose;\n\n  // Create state to show whether Add To Cart was a success or an error\n  var _useState = useState(''),\n      statusClass = _useState[0],\n      setStatusClass = _useState[1];\n\n  var _useState2 = useState(''),\n      errorMessage = _useState2[0],\n      setErrorMessage = _useState2[1];\n\n  var _useState3 = useState(1),\n      quantity = _useState3[0],\n      setQuantity = _useState3[1];\n\n  var _useContext = useContext(CartContext),\n      addToCart = _useContext.addToCart;\n\n  var product = getFullProduct(collectionProduct); // Call our custom hook to retrieve images and handlers for swatch clicks\n\n  var _selectedOptionsState = selectedOptionsState({\n    product: product\n  }),\n      selectedOptions = _selectedOptionsState.selectedOptions,\n      selectSingleOption = _selectedOptionsState.selectSingleOption,\n      images = _selectedOptionsState.images;\n\n  var currentVariant = getVariant(product, selectedOptions);\n  var addToCartText = getAddToCartText(product, currentVariant);\n  var partialDesc = \"\".concat((_product$description$ = (_product$description = product.description) === null || _product$description === void 0 ? void 0 : _product$description.substring(0, 80)) !== null && _product$description$ !== void 0 ? _product$description$ : 'Loading', \"...\");\n  /** Submit the form from the Quick Shop modal */\n\n  var onSubmitForm = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(e) {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              e.preventDefault();\n              setStatusClass('');\n\n              if (!currentVariant) {\n                _context.next = 13;\n                break;\n              }\n\n              _context.prev = 3;\n              _context.next = 6;\n              return addToCart(product, currentVariant, quantity);\n\n            case 6:\n              setStatusClass(success);\n              _context.next = 13;\n              break;\n\n            case 9:\n              _context.prev = 9;\n              _context.t0 = _context[\"catch\"](3);\n              // If add operation fails, report error to UI.\n              setStatusClass(error);\n              setErrorMessage(_context.t0.message);\n\n            case 13:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[3, 9]]);\n    }));\n\n    return function onSubmitForm(_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/_jsx(\"div\", {\n    id: \"quickview-\".concat(product.id),\n    className: \"\".concat(quick, \" \").concat(styles[instance]),\n    children: /*#__PURE__*/_jsxs(\"div\", {\n      className: grid50,\n      children: [/*#__PURE__*/_jsx(\"div\", {\n        children: /*#__PURE__*/_jsx(\"img\", {\n          src: getProductImageUrl(images[0].src, 600),\n          alt: images[0].altText,\n          style: {\n            aspectRatio: '13/18'\n          },\n          width: \"600\",\n          height: \"831\",\n          loading: \"lazy\"\n        })\n      }), /*#__PURE__*/_jsxs(\"div\", {\n        children: [/*#__PURE__*/_jsx(\"a\", {\n          name: product.id\n        }), /*#__PURE__*/_jsx(\"h3\", {\n          children: product.title\n        }), instance === 'outfitCollectionItem' && /*#__PURE__*/_jsx(\"span\", {\n          children: currentVariant ? \"$\".concat(currentVariant === null || currentVariant === void 0 ? void 0 : currentVariant.price) : 'N/A'\n        }), /*#__PURE__*/_jsxs(\"form\", {\n          onSubmit: onSubmitForm,\n          children: [/*#__PURE__*/_jsx(\"input\", {\n            type: \"hidden\",\n            name: \"return_to\",\n            value: \"back\"\n          }), /*#__PURE__*/_jsxs(\"div\", {\n            className: swatchWrapper,\n            children: [/*#__PURE__*/_jsxs(\"div\", {\n              className: swatchGroup,\n              children: [/*#__PURE__*/_jsx(\"div\", {\n                className: swatchHeader,\n                children: \"Color\"\n              }), /*#__PURE__*/_jsx(ProductColor, {\n                product: product,\n                selectedOptions: selectedOptions,\n                selectSingleOption: selectSingleOption\n              })]\n            }), /*#__PURE__*/_jsxs(\"div\", {\n              className: swatchGroup,\n              children: [/*#__PURE__*/_jsx(\"div\", {\n                className: swatchHeader,\n                children: \"Size\"\n              }), /*#__PURE__*/_jsx(ProductOption, {\n                product: product,\n                selectedOptions: selectedOptions,\n                selectSingleOption: selectSingleOption\n              })]\n            })]\n          }), instance === 'outfitCollectionItem' && /*#__PURE__*/_jsx(QuantityWidget, {\n            id: product.id,\n            placeClass: \"quickview\",\n            quantity: quantity,\n            onChange: setQuantity\n          }), /*#__PURE__*/_jsxs(\"div\", {\n            className: desc,\n            children: [/*#__PURE__*/_jsx(\"span\", {\n              children: partialDesc\n            }), /*#__PURE__*/_jsx(Link, {\n              href: \"/collections/\".concat(collectionHandle, \"/products/\").concat(product.handle),\n              children: /*#__PURE__*/_jsx(\"a\", {\n                children: instance === 'outfitCollectionItem' ? 'View Full Details' : 'Read More'\n              })\n            })]\n          }), /*#__PURE__*/_jsx(\"button\", {\n            className: addBtn,\n            disabled: !(currentVariant !== null && currentVariant !== void 0 && currentVariant.availableForSale),\n            children: /*#__PURE__*/_jsx(\"span\", {\n              id: \"AddToCartText\",\n              children: addToCartText\n            })\n          }), statusClass === success && /*#__PURE__*/_jsxs(\"p\", {\n            className: success,\n            children: [/*#__PURE__*/_jsx(Icon, {\n              icon: \"faCheck\",\n              className: successIcon\n            }), /*#__PURE__*/_jsx(\"span\", {\n              children: \" Added to cart! \"\n            }), /*#__PURE__*/_jsx(Link, {\n              href: \"/cart\",\n              children: /*#__PURE__*/_jsx(\"a\", {\n                children: \"View cart\"\n              })\n            }), /*#__PURE__*/_jsx(\"span\", {\n              children: \" or \"\n            }), instance === 'quickShopModal' && /*#__PURE__*/_jsx(\"a\", {\n              href: \"#\",\n              onClick: function onClick(e) {\n                e.preventDefault();\n                onClose(e);\n              },\n              children: \"close this window\"\n            }), instance === 'outfitCollectionItem' && /*#__PURE__*/_jsx(Link, {\n              href: \"/collections/all\",\n              children: /*#__PURE__*/_jsx(\"a\", {\n                children: \"continue shopping\"\n              })\n            }), \".\"]\n          }), statusClass === error && /*#__PURE__*/_jsxs(\"p\", {\n            className: error,\n            children: [/*#__PURE__*/_jsx(Icon, {\n              icon: \"faWarning\",\n              className: errorIcon\n            }), /*#__PURE__*/_jsxs(\"span\", {\n              children: [\" \", errorMessage]\n            })]\n          })]\n        })]\n      })]\n    })\n  });\n}",".outsmartly/analysis/modules/65.js":"// node_modules/next/dist/next-server/lib/router/utils/path-match.js\n\"use strict\";\n\nvar _defineProperty = require(\"/Users/kai/Work/rbx-rewrite/node_modules/next/node_modules/@babel/runtime/helpers/defineProperty\");\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it; if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nexports.__esModule = true;\nexports.pathToRegexp = exports[\"default\"] = exports.customRouteMatcherOptions = exports.matcherOptions = void 0;\n\nvar pathToRegexp = _interopRequireWildcard(require(\"next/dist/compiled/path-to-regexp\"));\n\nexports.pathToRegexp = pathToRegexp;\n\nfunction _getRequireWildcardCache() {\n  if (typeof WeakMap !== \"function\") return null;\n  var cache = new WeakMap();\n\n  _getRequireWildcardCache = function _getRequireWildcardCache() {\n    return cache;\n  };\n\n  return cache;\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  }\n\n  if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") {\n    return {\n      \"default\": obj\n    };\n  }\n\n  var cache = _getRequireWildcardCache();\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n  var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) {\n      var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n      if (desc && (desc.get || desc.set)) {\n        Object.defineProperty(newObj, key, desc);\n      } else {\n        newObj[key] = obj[key];\n      }\n    }\n  }\n\n  newObj[\"default\"] = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}\n\nvar matcherOptions = {\n  sensitive: false,\n  delimiter: '/'\n};\nexports.matcherOptions = matcherOptions;\n\nvar customRouteMatcherOptions = _objectSpread(_objectSpread({}, matcherOptions), {}, {\n  strict: true\n});\n\nexports.customRouteMatcherOptions = customRouteMatcherOptions;\n\nvar _default = function _default() {\n  var customRoute = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n  return function (path) {\n    var keys = [];\n    var matcherRegex = pathToRegexp.pathToRegexp(path, keys, customRoute ? customRouteMatcherOptions : matcherOptions);\n    var matcher = pathToRegexp.regexpToFunction(matcherRegex, keys);\n    return function (pathname, params) {\n      var res = pathname == null ? false : matcher(pathname);\n\n      if (!res) {\n        return false;\n      }\n\n      if (customRoute) {\n        var _iterator = _createForOfIteratorHelper(keys),\n            _step;\n\n        try {\n          for (_iterator.s(); !(_step = _iterator.n()).done;) {\n            var key = _step.value;\n\n            // unnamed params should be removed as they\n            // are not allowed to be used in the destination\n            if (typeof key.name === 'number') {\n              delete res.params[key.name];\n            }\n          }\n        } catch (err) {\n          _iterator.e(err);\n        } finally {\n          _iterator.f();\n        }\n      }\n\n      return _objectSpread(_objectSpread({}, params), res.params);\n    };\n  };\n};\n\nexports[\"default\"] = _default;",".outsmartly/analysis/modules/34.js":"// node_modules/next/dist/next-server/lib/router/utils/route-matcher.js\n\"use strict\";\n\nexports.__esModule = true;\nexports.getRouteMatcher = getRouteMatcher;\n\nfunction getRouteMatcher(routeRegex) {\n  var re = routeRegex.re,\n      groups = routeRegex.groups;\n  return function (pathname) {\n    var routeMatch = re.exec(pathname);\n\n    if (!routeMatch) {\n      return false;\n    }\n\n    var decode = function decode(param) {\n      try {\n        return decodeURIComponent(param);\n      } catch (_) {\n        var err = new Error('failed to decode param');\n        err.code = 'DECODE_FAILED';\n        throw err;\n      }\n    };\n\n    var params = {};\n    Object.keys(groups).forEach(function (slugName) {\n      var g = groups[slugName];\n      var m = routeMatch[g.pos];\n\n      if (m !== undefined) {\n        params[slugName] = ~m.indexOf('/') ? m.split('/').map(function (entry) {\n          return decode(entry);\n        }) : g.repeat ? [decode(m)] : decode(m);\n      }\n    });\n    return params;\n  };\n}",".outsmartly/analysis/modules/46.js":"// components/Page.js\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React from 'react';\nimport { pageBanner, pageBannerTitle, pageWrapper, rte } from 'components/Page.module.css';\nimport styles from 'styles/Main.module.css';\nimport AllSizeGuides from 'components/SizingGuide/AllSizeGuides';\nimport SizeGuide from 'components/SizingGuide/SizeGuide';\nimport { SEO } from './Seo';\n/** The Page component */\n\nexport function Page(_ref) {\n  var content = _ref.content;\n\n  /* Things we need in content:\n  {\n    title: '',\n    handle: '',\n    bannerImg: '',\n    body: {\n      __html: '',\n    },\n  }\n  */\n  // Add page type class to <main>\n  var pageType = 'templatePage';\n  return /*#__PURE__*/_jsxs(\"main\", {\n    id: \"mainContent\",\n    className: \"\".concat(styles['mainContent'], \" \").concat(styles[pageType]),\n    children: [/*#__PURE__*/_jsx(SEO, {\n      ogType: \"website\",\n      title: content.title,\n      canonical: \"/pages/\".concat(content.handle),\n      description: content.description,\n      images: [content.bannerImg]\n    }), content.bannerImg && /*#__PURE__*/_jsx(\"div\", {\n      className: \"\".concat(pageBanner, \" \").concat(content.subtitle ? hasSubtitle : ''),\n      style: {\n        backgroundImage: \"url(\".concat(content.bannerImg, \")\")\n      },\n      children: /*#__PURE__*/_jsx(\"h1\", {\n        className: pageBannerTitle,\n        children: content.title\n      })\n    }), /*#__PURE__*/_jsx(\"div\", {\n      className: \"page-width flex-center\",\n      children: /*#__PURE__*/_jsx(\"div\", {\n        className: pageWrapper,\n        \"data-page-handle\": content.handle,\n        children: content.handle === 'sizing-guide' ? /*#__PURE__*/_jsx(AllSizeGuides, {}) : content.handle.startsWith('size-guide-') ? /*#__PURE__*/_jsx(SizeGuide, {\n          handle: content.handle\n        }) : /*#__PURE__*/_jsx(\"div\", {\n          className: rte,\n          dangerouslySetInnerHTML: content.body\n        })\n      })\n    })]\n  });\n}",".outsmartly/analysis/modules/17.js":"// pages/pages/about-rbx.js\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport _defineProperty from \"/Users/kai/Work/rbx-rewrite/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React from 'react';\nimport styles from 'styles/Main.module.css';\nimport { SEO } from 'components/Seo';\nimport config from '../../jackrabbit.config';\nimport jackrabbitComponents from '../../jackrabbit.components';\nvar AboutPageContent = jackrabbitComponents.AboutPageContent;\nvar seo = config.seo;\nexport default function AboutPage() {\n  // Add page type class to <main>\n  var pageType = 'templatePage';\n  return /*#__PURE__*/_jsxs(\"main\", {\n    id: \"mainContent\",\n    className: \"\".concat(styles['mainContent'], \" \").concat(styles[pageType]),\n    children: [/*#__PURE__*/_jsx(SEO, _objectSpread({\n      ogType: \"website\"\n    }, seo.about)), /*#__PURE__*/_jsx(\"div\", {\n      className: \"page-width\",\n      children: /*#__PURE__*/_jsx(AboutPageContent, {})\n    })]\n  });\n}",".outsmartly/analysis/modules/81.js":"// components/CartNotification.js\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { useContext, useState, useEffect } from 'react';\nimport { success, error, link, message, underline } from './CartNotification.module.css';\nimport { CartContext } from '@outsmartly/jackrabbit';\nimport NotificationBar from './NotificationBar';\nimport Link from 'next/link';\nexport default function CartNotification() {\n  var _useState = useState(false),\n      showBar = _useState[0],\n      setShowBar = _useState[1];\n\n  var _useState2 = useState(true),\n      showViewCart = _useState2[0],\n      setShowViewCart = _useState2[1];\n\n  var _useState3 = useState(null),\n      showBarTimer = _useState3[0],\n      setShowBarTimer = _useState3[1];\n\n  var _useState4 = useState(success),\n      statusClass = _useState4[0],\n      setStatusClass = _useState4[1];\n\n  var _useContext = useContext(CartContext),\n      addStatus = _useContext.addStatus,\n      setAddStatus = _useContext.setAddStatus;\n\n  var showBarDuration = 30000;\n\n  var _useState5 = useState(),\n      errorMessage = _useState5[0],\n      setErrorMessage = _useState5[1]; // Called when notification status changes\n\n\n  useEffect(function () {\n    // If there is an add status:\n    if (addStatus !== '') {\n      // First clear any existing timers, for a fresh start\n      if (showBarTimer) {\n        clearTimeout(showBarTimer);\n        setShowBarTimer(null);\n      } // Show the bar, then scroll to top so user can see it\n\n\n      setShowBar(true);\n      window.scrollTo(0, 0); // After some time, hide the bar\n\n      setShowBarTimer(setTimeout(function () {\n        setShowBar(false);\n      }, showBarDuration)); // Determine the message className for the notification bar\n\n      var isSuccess = addStatus === 'success' || addStatus === 'cartSuccess';\n      setShowViewCart(addStatus === 'success');\n      setStatusClass(isSuccess ? success : error);\n      setErrorMessage(isSuccess ? '' : addStatus); // Clear out status for the next time\n\n      setAddStatus('');\n    }\n  }, [addStatus]);\n  /** Handles a click on the close icon in the notification bar */\n\n  var handleCloseBar = function handleCloseBar(e) {\n    e.preventDefault();\n    setShowBar(false);\n  };\n\n  return /*#__PURE__*/_jsx(NotificationBar, {\n    messageClass: statusClass,\n    show: showBar,\n    onClose: handleCloseBar,\n    children: statusClass === success ? showViewCart ? /*#__PURE__*/_jsx(Link, {\n      href: \"/cart\",\n      children: /*#__PURE__*/_jsxs(\"a\", {\n        className: link,\n        children: [/*#__PURE__*/_jsx(\"span\", {\n          children: \"Item added to cart. \"\n        }), /*#__PURE__*/_jsx(\"span\", {\n          className: underline,\n          children: \"View cart and check out.\"\n        })]\n      })\n    }) : /*#__PURE__*/_jsx(\"a\", {\n      className: link,\n      children: /*#__PURE__*/_jsx(\"span\", {\n        children: \"Item added to cart. \"\n      })\n    }) : /*#__PURE__*/_jsx(\"span\", {\n      className: message,\n      children: /*#__PURE__*/_jsx(\"span\", {\n        children: errorMessage\n      })\n    })\n  });\n}",".outsmartly/analysis/modules/23.js":"// components/HeroCarousel.js\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport _objectWithoutProperties from \"/Users/kai/Work/rbx-rewrite/node_modules/next/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport React from 'react';\nimport 'slick-carousel/slick/slick.css';\nimport 'slick-carousel/slick/slick-theme.css';\nimport { heroItem, heroImage } from './HeroCarousel.module.css';\nimport { content, title, subtitle, caption, link } from './FeaturedContent.module.css';\nimport styles from './FeaturedContent.module.css';\nimport { HeroCarouselNoCss } from './HeroCarouselNoCss';\nexport default function HeroCarouselWrapper(_ref) {\n  var heroItems = _ref.heroItems;\n\n  var slides = heroItems.slides,\n      rest = _objectWithoutProperties(heroItems, [\"slides\"]);\n\n  return /*#__PURE__*/_jsx(HeroCarouselNoCss, {\n    heroItems: rest,\n    slides: slides,\n    heroItem: heroItem,\n    heroImage: heroImage // Outsmartly's CLI does not currently support CSS Modules so we\n    // need to pass these in as props and thread them through, for the time being\n    ,\n    css: {\n      content: content,\n      title: title,\n      subtitle: subtitle,\n      caption: caption,\n      link: link,\n      styles: styles\n    }\n  });\n}\nvar exampleData = {\n  slideshowName: 'June 2021 Color Story Theme 1',\n  cacheInfo: {\n    age: '20747',\n    cacheStatus: null\n  },\n  slides: [{\n    id: '6uTKQoZmyGq2GrXdKogkJr',\n    title: '<strong><span style=\"text-shadow:1px 3px 4px #5F7C74;\">NEW ARRIVALS</span></strong>',\n    subtitle: 'KEEP IT<br>BREEZY',\n    caption: '<span style=\"text-shadow:1px 3px 4px #ccc;\">in blues, greens, and teals.</span>',\n    linkText: 'SHOP NOW',\n    linkRoute: '/collections/new-arrivals-collection',\n    align: 'Left',\n    textSizes: {\n      name: 'Default Homepage Slideshow Text Sizes',\n      headingSizeMobile: '15px',\n      headingSizeTablet: '25px',\n      headingSizeDesktop: '35px',\n      subheadingSizeMobile: '32px',\n      subheadingSizeTablet: '50px',\n      subheadingSizeDesktop: '80px',\n      captionSizeMobile: '18px',\n      captionSizeTablet: '22px',\n      captionSizeDesktop: '24px'\n    },\n    imgAlt: 'Color Story (June 10, 2021)',\n    imgSrc: '//images.ctfassets.net/ajgn17op1zyt/5Uisefj4Ova11YyVta4RUW/0a33be292a6c987af5a2e9baa7aa4d5b/Color-Story-Homepage.jpg',\n    slideName: 'Color Story (June 10, 2021)',\n    headingTextColor: '#ffffff',\n    subheadingTextShadowColor: '#5F7C74',\n    subheadingTextColor: '#ffffff',\n    captionTextColor: '#ffffff',\n    buttonTextColor: '#56AC6B',\n    buttonTextHoverColor: '#48AEC4',\n    buttonBackgroundColor: '#ffffff',\n    buttonBackgroundColorOpacity: 1,\n    outsmartlyTracking: {\n      featureId: '1DxOhrgeGDzRd7dkVYuAk4',\n      variationId: '6uTKQoZmyGq2GrXdKogkJr',\n      metadata: [{\n        key: 'featureHash',\n        value: 'cd98856973b52121639549ed1fd5ae972e01df9c'\n      }, {\n        key: 'featureRevision',\n        value: 1\n      }, {\n        key: 'variationHash',\n        value: '719ed84e37233de7a2594d1f9c3d5fa1683cb0ff'\n      }, {\n        key: 'variationRevision',\n        value: 3\n      }]\n    }\n  }, {\n    id: '2aZQmmWdEyYM9c53DjS8CA',\n    title: 'NEW ARRIVALS',\n    subtitle: 'MADE<br>FOR<br>CURVES',\n    caption: null,\n    linkText: 'shop plus',\n    linkRoute: '/collections/womens-plus-size',\n    align: 'Left',\n    textSizes: {\n      name: 'Default Homepage Slideshow Text Sizes',\n      headingSizeMobile: '15px',\n      headingSizeTablet: '25px',\n      headingSizeDesktop: '35px',\n      subheadingSizeMobile: '32px',\n      subheadingSizeTablet: '50px',\n      subheadingSizeDesktop: '80px',\n      captionSizeMobile: '18px',\n      captionSizeTablet: '22px',\n      captionSizeDesktop: '24px'\n    },\n    imgAlt: 'Plus Homepage',\n    imgSrc: '//images.ctfassets.net/ajgn17op1zyt/5bQ2eQtMqOFzUMdPZT5wOq/240dfe5b0689cca156e907aa7300d90a/Plus_Homepage.jpg',\n    slideName: 'Plus New Arrivals (June 2, 2021)',\n    headingTextColor: '#ffffff',\n    subheadingTextShadowColor: '#6163F2',\n    subheadingTextColor: '#ffffff',\n    buttonTextColor: '#6163F2',\n    buttonTextHoverColor: '#BF6DDA',\n    buttonBackgroundColor: '#ffffff',\n    buttonBackgroundColorOpacity: 1,\n    outsmartlyTracking: {\n      featureId: '1DxOhrgeGDzRd7dkVYuAk4',\n      variationId: '2aZQmmWdEyYM9c53DjS8CA',\n      metadata: [{\n        key: 'featureHash',\n        value: 'cd98856973b52121639549ed1fd5ae972e01df9c'\n      }, {\n        key: 'featureRevision',\n        value: 1\n      }, {\n        key: 'variationHash',\n        value: 'dfb7c77f8261bc30fb2a697adfd68d4e699c2d8b'\n      }, {\n        key: 'variationRevision',\n        value: 2\n      }]\n    }\n  }, {\n    id: '1Ywypsu7WDRx7MEsOIFmxv',\n    title: null,\n    subtitle: \"MEN'S<br>NEW<br>ARRIVALS\",\n    caption: '<span style=\"text-transform:none;line-height:2em;\">Updated gear for your workout.</span>',\n    linkText: 'shop now',\n    linkRoute: '/collections/men',\n    align: 'Left',\n    textSizes: {\n      name: 'Default Homepage Slideshow Text Sizes',\n      headingSizeMobile: '15px',\n      headingSizeTablet: '25px',\n      headingSizeDesktop: '35px',\n      subheadingSizeMobile: '32px',\n      subheadingSizeTablet: '50px',\n      subheadingSizeDesktop: '80px',\n      captionSizeMobile: '18px',\n      captionSizeTablet: '22px',\n      captionSizeDesktop: '24px'\n    },\n    imgAlt: \"Men's New Arrivals\",\n    imgSrc: '//images.ctfassets.net/ajgn17op1zyt/6sPDHaXCx52NHP5CVhGn2o/daeb95bc32dd0a459d54e1f40b402125/Fathers-Day-Products-Homepage.jpg',\n    slideName: \"Men's New Arrivals (June 10, 2021)\",\n    subheadingTextShadowColor: '#283991',\n    subheadingTextColor: '#ffffff',\n    captionTextColor: '#ffffff',\n    buttonTextColor: '#3B51C1',\n    buttonTextHoverColor: '#337862',\n    buttonBackgroundColor: '#ffffff',\n    buttonBackgroundColorOpacity: 1,\n    outsmartlyTracking: {\n      featureId: '1DxOhrgeGDzRd7dkVYuAk4',\n      variationId: '1Ywypsu7WDRx7MEsOIFmxv',\n      metadata: [{\n        key: 'featureHash',\n        value: 'cd98856973b52121639549ed1fd5ae972e01df9c'\n      }, {\n        key: 'featureRevision',\n        value: 1\n      }, {\n        key: 'variationHash',\n        value: '2deb7a125263ad6e37caff55c20bee58a9203f79'\n      }, {\n        key: 'variationRevision',\n        value: 2\n      }]\n    }\n  }]\n};",".outsmartly/analysis/modules/72.js":"// third-party-scripts/routeapp.ts\nimport _regeneratorRuntime from \"/Users/kai/Work/rbx-rewrite/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/kai/Work/rbx-rewrite/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { CartContext } from '@outsmartly/jackrabbit';\nimport { fetchJson } from 'lib/utils';\nimport { useContext, useEffect } from 'react';\nimport { loadScriptWithDelay, loadScript } from './utils';\nvar config = {\n  src: 'https://cdn.routeapp.io/route-widget-shopify/stable/route-widget-shopify-stable.min.js?shop=rbxactive.myshopify.com',\n  id: 'routeapp-script',\n  timeout: 10 * 1000,\n  anonymous: false\n};\nexport function loadRouteapp() {\n  loadScriptWithDelay(config);\n}\nexport function loadRouteappImmediately() {\n  loadScript(config);\n}\nvar routeinRequest = null;\nexport function useHasItemsInCart() {\n  var _useContext = useContext(CartContext),\n      items = _useContext.items;\n\n  return (items === null || items === void 0 ? void 0 : items.find(function (_ref) {\n    var handle = _ref.handle;\n    return handle !== 'routeins';\n  })) !== undefined;\n}\nexport function useRoutein() {\n  var _items$filter;\n\n  var context = useContext(CartContext);\n  var items = context.items,\n      changeVariant = context.changeVariant; // Get the subtotal w/o routeins.\n\n  var filteredItems = (_items$filter = items.filter(function (_ref2) {\n    var handle = _ref2.handle;\n    return handle !== 'routeins';\n  })) !== null && _items$filter !== void 0 ? _items$filter : [];\n  var subtotal = filteredItems.reduce(function (total, item) {\n    return total + item.final_line_price;\n  }, 0) / 100;\n  useEffect(function () {\n    updateRoutein();\n  }, [subtotal]);\n\n  function updateRoutein() {\n    return _updateRoutein.apply(this, arguments);\n  }\n\n  function _updateRoutein() {\n    _updateRoutein = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var routeinItem, quote_url, searchParams, _yield$fetchJson, insurance_price, _yield$routeinRequest, variants, newRouteinItem;\n\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              routeinItem = items.find(function (_ref3) {\n                var handle = _ref3.handle;\n                return handle === 'routeins';\n              }); // Skip if there's no routein, or the subtotal is 0\n\n              if (!(!routeinItem || subtotal === 0)) {\n                _context.next = 3;\n                break;\n              }\n\n              return _context.abrupt(\"return\");\n\n            case 3:\n              if (!routeinRequest) {\n                routeinRequest = fetchJson(\"/api/_next/product?handle=routeins\");\n              } // Pull the insurance routein quote from the api\n\n\n              quote_url = new URL(\"https://api.route.com/v1/quote\");\n              searchParams = quote_url.searchParams;\n              searchParams.set('subtotal', subtotal.toString());\n              searchParams.set('store_domain', 'rbxactive.myshopify.com');\n              searchParams.set('currency', 'USD');\n              _context.next = 11;\n              return fetchJson(quote_url.toString());\n\n            case 11:\n              _yield$fetchJson = _context.sent;\n              insurance_price = _yield$fetchJson.insurance_price;\n              _context.next = 15;\n              return routeinRequest;\n\n            case 15:\n              _yield$routeinRequest = _context.sent;\n              variants = _yield$routeinRequest.variants;\n              // Fine the routein variant of at least the quoted insurance price\n              newRouteinItem = variants.find(function (_ref4) {\n                var price = _ref4.price;\n                return parseFloat(price) >= insurance_price;\n              }); // Skip if the insurance is the same value.\n\n              if (!(routeinItem.id.toString() === newRouteinItem.id.toString())) {\n                _context.next = 20;\n                break;\n              }\n\n              return _context.abrupt(\"return\");\n\n            case 20:\n              _context.next = 22;\n              return changeVariant(routeinItem.id, newRouteinItem.id);\n\n            case 22:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n    return _updateRoutein.apply(this, arguments);\n  }\n}",".outsmartly/analysis/modules/339.js":"// data/sidebarNav.js\nconst navGroups = [{\n  id: 269571772,\n  name: 'women',\n  links: [{\n    id: 382012440,\n    navText: 'Tops',\n    route: '/collections/womens-tops',\n    initialActive: true,\n    subNav: [{\n      id: 443957010,\n      navText: 'Tanks',\n      route: '/collections/womens-tanks'\n    }, {\n      id: 365188181,\n      navText: 'T-Shirts',\n      route: '/collections/womens-tees'\n    }, {\n      id: 516764647,\n      navText: 'Long Sleeve',\n      route: '/collections/women-longsleeve'\n    }, {\n      id: 378503080,\n      navText: 'Sweatshirts',\n      route: '/collections/womens-sweatshirts' // hidden: true,\n\n    }, {\n      id: 411896099,\n      navText: 'Jackets',\n      route: '/collections/jackets',\n      hidden: true\n    }]\n  }, {\n    id: 504850016,\n    navText: 'Bottoms',\n    route: '/collections/women-bottoms',\n    subNav: [{\n      id: 472560934,\n      navText: 'Leggings',\n      route: '/collections/women-leggings'\n    }, {\n      id: 244461898,\n      navText: 'Capris',\n      route: '/collections/capris'\n    }, {\n      id: 436115746,\n      navText: 'Skorts',\n      route: '/collections/womens-skorts'\n    }, {\n      id: 493212209,\n      navText: 'Shorts',\n      route: '/collections/womens-shorts'\n    }, {\n      id: 436115746,\n      navText: 'Pants',\n      route: '/collections/womens-pants'\n    }]\n  }, {\n    id: 484677635,\n    navText: 'Bras',\n    route: '/collections/bras'\n  }, {\n    id: 304997827,\n    navText: 'Intimates',\n    route: '/collections/intimates',\n    hidden: true\n  }, {\n    id: 487080627,\n    navText: 'Socks',\n    route: '/collections/womens-socks'\n  }, {\n    id: 487080627,\n    navText: 'Shoes',\n    route: '/collections/womens-shoes-1'\n  }, {\n    id: 413626659,\n    navText: 'Plus Size',\n    route: '/collections/womens-plus-size',\n    hidden: true\n  }, {\n    id: 475843420,\n    navText: 'Sale',\n    route: '/collections/womens-sale'\n  }, {\n    id: 269571772,\n    navText: 'View All',\n    route: '/collections/women',\n    hidden: true\n  }]\n}, {\n  id: 239126299,\n  name: 'men',\n  links: [{\n    id: 316417257,\n    navText: 'Tops',\n    route: '/collections/mens-tops',\n    subNav: [{\n      id: 538796632,\n      navText: 'T-Shirt',\n      route: '/collections/mens-t-shirt'\n    }, {\n      id: 516268928,\n      navText: 'Tanks',\n      route: '/collections/mens-sleeveless'\n    }, {\n      id: 534308887,\n      navText: 'Long Sleeve',\n      route: '/collections/men-long-sleeve'\n    }, {\n      id: 214329577,\n      navText: 'Sweatshirts',\n      route: '/collections/men-sweatshirts',\n      hidden: true\n    }]\n  }, {\n    id: 496011011,\n    navText: 'Bottoms',\n    route: '/collections/mens-bottoms',\n    subNav: [{\n      id: 376987766,\n      navText: 'Shorts',\n      route: '/collections/men-shorts'\n    }, {\n      id: 201642584,\n      navText: 'Pants',\n      route: '/collections/mens-running-pants'\n    }]\n  }, {\n    id: 460493113,\n    navText: 'Socks',\n    route: '/collections/mens-socks'\n  }, {\n    id: 236758991,\n    navText: 'Underwear',\n    route: '/collections/mens-underwear'\n  }, {\n    id: 320106041,\n    navText: 'Swim',\n    route: '/collections/mens-swim'\n  }, {\n    id: 234259415,\n    navText: 'Sale',\n    route: '/collections/mens-sale'\n  }, {\n    id: 239126299,\n    navText: 'View All',\n    route: '/collections/men'\n  }]\n}, {\n  id: 424531021,\n  name: 'sale',\n  links: [{\n    id: 456941628,\n    navText: \"Women's Sale\",\n    route: '/collections/womens-sale'\n  }, {\n    id: 375255896,\n    navText: \"Men's Sale\",\n    route: '/collections/mens-sale'\n  }, {\n    id: 242461553,\n    navText: 'Final Sale',\n    route: '/collections/clearance'\n  }]\n}];\nexport default navGroups;",".outsmartly/analysis/modules/279.js":"// lib/shopify/loadProducts.ts\nimport { getShopifyClient } from './shopifyClient';\nexport async function _loadProducts({\n  graphqlParams\n}) {\n  var _data$products, _data$products$edges, _data$products$edges$;\n\n  const shopifyClient = getShopifyClient(graphqlParams);\n  const data = await shopifyClient.request(productsQuery());\n  const products = data === null || data === void 0 ? void 0 : (_data$products = data.products) === null || _data$products === void 0 ? void 0 : (_data$products$edges = _data$products.edges) === null || _data$products$edges === void 0 ? void 0 : (_data$products$edges$ = _data$products$edges.map(({\n    node\n  }) => node)) === null || _data$products$edges$ === void 0 ? void 0 : _data$products$edges$.filter(({\n    onlineStoreUrl,\n    productType\n  }) => onlineStoreUrl && productType !== 'Insurance');\n  return products;\n}\n\nfunction productsQuery() {\n  return `\n    {\n      products(first:250, query:\"available_for_sale:true\", sortKey:BEST_SELLING) {\n        edges {\n          node {\n            handle\n            productType\n            onlineStoreUrl\n          }\n        }\n      }\n    }\n  `;\n}",".outsmartly/analysis/modules/228.js":"// components/Product/index.js\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { useEffect, useMemo, useRef } from 'react';\nimport { useRouter } from 'next/router';\nimport { crumbTitle, grid50, productSingle, info } from './Product.module.css';\nimport mainStyles from 'styles/Main.module.css';\nimport BreadCrumbs from 'components/BreadCrumbs';\nimport ProductPhotos from './ProductPhotos/ProductPhotos';\nimport ProductMeta from './ProductMeta';\nimport ProductPurchase from './ProductPurchase';\nimport ProductDescription from './ProductDescription';\nimport { selectedOptionsState } from 'context/selectedOptionsState';\nimport { getVariant } from 'context/getVariant';\nimport { getCollectionInfo } from 'context/getCollectionInfo';\nimport { getImageUrl, getProductImageUrl } from 'lib/getImageUrl';\nimport { LemonSpot } from 'components/LemonSpot/LemonSpot';\nimport { SEO } from 'components/Seo';\nimport { firstAvailableVariant, getFilteredImagesByColor, getFirstImage } from 'lib/helpers';\nimport config from '../../jackrabbit.config';\nimport { useMessageBus } from '@outsmartly/core';\nimport { getPathnames, getResolution } from 'lib/utils';\nimport { emitTimeSpend } from 'components/LemonSpot/emitTimeSpend'; // this is false on hydration, which is critical for hydration\n\nexport function useIsVariantReady() {\n  const router = useRouter();\n  const {\n    variant\n  } = router.query;\n  return useMemo(() => {\n    if (variant) {\n      return true;\n    } else if (new RegExp(`[&?]variant=(.*)(&|$)`).test(router.asPath)) {\n      return false;\n    }\n\n    return true;\n  }, [variant]);\n}\n/**\n * Product component\n * @param {Object} collectionInfo\n * @param {Object} content - the entire product with all possible variants\n */\n\nexport default function Product({\n  collectionInfo,\n  content\n}) {\n  var _process$env$messageB;\n\n  const router = useRouter();\n  const {\n    variant: variantId\n  } = router.query;\n  const {\n    id: firstVariantId\n  } = firstAvailableVariant(content);\n  const isVariantReady = useIsVariantReady(); // Get path information for this page\n\n  const [path, pathWithQuery] = getPathnames(router);\n  const page = 'Product'; // Get a reference to the client message bus\n\n  const bus = useMessageBus({\n    debug: (_process$env$messageB = process.env.messageBusDebug) !== null && _process$env$messageB !== void 0 ? _process$env$messageB : false\n  }); // Create a start time ref that persists across renders\n\n  const startTime = useRef(0); // Run when the product changes (not the variant)\n\n  useEffect(() => {\n    // Set the start time for viewing this product\n    startTime.current = new Date().getTime(); // Assemble the payload for an \"product view\" event and emit it\n\n    const obj = {\n      page,\n      path,\n      productId: content.id,\n      resolution: getResolution(),\n      timestamp: new Date().toISOString()\n    };\n    bus.emit('productView', obj); // When this product is unmounted, emit the \"product time spend\" event\n\n    return () => {\n      emitTimeSpend(startTime, page, path, content.id, bus);\n    };\n  }, [content]); // Attach a regular event listener for navigating outside of Next app\n\n  useEffect(() => {\n    // Use a wrapper function to facilitate attaching and clean up\n    const emitWrapper = () => {\n      emitTimeSpend(startTime, page, path, content.id, bus);\n    };\n\n    window.addEventListener('beforeunload', emitWrapper);\n    return () => {\n      window.removeEventListener('beforeunload', emitWrapper);\n    };\n  }, [page, path, content.id, bus]); // Emit a \"variant view\" event when the variant changes.\n\n  useEffect(() => {\n    // Assemble the payload and emit it\n    const obj = {\n      page,\n      path,\n      productId: content.id,\n      resolution: getResolution(),\n      timestamp: new Date().toISOString(),\n      url: pathWithQuery,\n      variantId: variantId !== null && variantId !== void 0 ? variantId : firstVariantId\n    };\n    bus.emit('variantView', obj);\n  }, [variantId]);\n  const {\n    selectedOptions,\n    selectSingleOption,\n    images\n  } = selectedOptionsState({\n    product: content,\n    variantId\n  });\n  const {\n    handle: collectionHandle,\n    title: collectionTitle\n  } = getCollectionInfo(collectionInfo);\n  useEffect(() => {\n    const currentVariant = getVariant(content, selectedOptions);\n\n    if (isVariantReady && currentVariant && currentVariant.id !== (variantId !== null && variantId !== void 0 ? variantId : firstVariantId)) {\n      router.replace({\n        query: _objectSpread(_objectSpread({}, router.query), {}, {\n          variant: currentVariant.id\n        })\n      }, undefined, {\n        shallow: true\n      });\n    }\n  }, [selectedOptions]); // Add page type class to <main>\n\n  const pageType = 'templateProduct';\n  const seoImages = useMemo(() => getFilteredImagesByColor(content.imageMap).filter((_, i) => i < 3).map(({\n    src\n  }) => src), [content.imageMap]);\n  const pushImages = useMemo(() => {\n    return images.map(({\n      src\n    }, i) => getProductImageUrl(src, i === 0 ? 600 : 100));\n  }, []);\n  const color = useMemo(() => {\n    var _selectedOptions$find;\n\n    return (_selectedOptions$find = selectedOptions.find(({\n      name\n    }) => name === 'Color')) === null || _selectedOptions$find === void 0 ? void 0 : _selectedOptions$find.value;\n  }, [selectedOptions]);\n  return /*#__PURE__*/_jsxs(\"main\", {\n    id: \"mainContent\",\n    className: `${mainStyles['mainContent']} ${mainStyles[pageType]}`,\n    children: [/*#__PURE__*/_jsx(SEO, {\n      ogType: \"product\",\n      title: content.title,\n      canonical: `/products/${content.handle}`,\n      description: content.description,\n      images: seoImages,\n      price: content.price,\n      preloads: pushImages\n    }), /*#__PURE__*/_jsxs(\"div\", {\n      className: \"page-width\",\n      children: [/*#__PURE__*/_jsx(BreadCrumbs, {\n        title: content.title,\n        groupName: collectionTitle,\n        groupHandle: collectionHandle,\n        crumbTitleClass: crumbTitle\n      }), /*#__PURE__*/_jsxs(\"div\", {\n        itemScope: \"\",\n        itemType: \"http://schema.org/Product\",\n        children: [/*#__PURE__*/_jsx(\"meta\", {\n          itemProp: \"url\",\n          content: `${config.urls.base}/products/${content.handle}`\n        }), /*#__PURE__*/_jsx(\"meta\", {\n          itemProp: \"image\",\n          content: getImageUrl(getFirstImage(content.imageMap))\n        }), /*#__PURE__*/_jsxs(\"div\", {\n          className: `${grid50} ${productSingle}`,\n          children: [/*#__PURE__*/_jsx(ProductPhotos, {\n            product: content,\n            images: images,\n            color: color\n          }), /*#__PURE__*/_jsxs(\"div\", {\n            className: info,\n            itemProp: \"offers\",\n            itemScope: true,\n            itemType: \"http://schema.org/Offer\",\n            children: [/*#__PURE__*/_jsx(\"meta\", {\n              itemProp: \"priceCurrency\",\n              content: \"USD\"\n            }), /*#__PURE__*/_jsx(\"link\", {\n              itemProp: \"availability\",\n              href: \"http://schema.org/InStock\"\n            }), /*#__PURE__*/_jsx(ProductMeta, {\n              product: content,\n              selectedOptions: selectedOptions\n            }), /*#__PURE__*/_jsx(ProductPurchase, {\n              product: content,\n              selectedOptions: selectedOptions,\n              selectSingleOption: selectSingleOption\n            }), /*#__PURE__*/_jsx(ProductDescription, {\n              bullets: content.metafields,\n              html: content.descriptionHtml\n            })]\n          })]\n        }), /*#__PURE__*/_jsx(LemonSpot, {\n          productId: content.id,\n          product: content,\n          page: \"Product\"\n        })]\n      })]\n    })]\n  });\n}",".outsmartly/analysis/modules/238.js":"// components/SocialIcon.js\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React from 'react';\nimport { cap } from '../lib/utils';\nimport config from '../jackrabbit.config';\nexport default function SocialIcon({\n  name,\n  href,\n  pathd\n}) {\n  return /*#__PURE__*/_jsxs(\"a\", {\n    href: href,\n    rel: \"noopener\",\n    title: `${config.siteName} on ${cap(name)}`,\n    target: \"_blank\" // Improving Lighthouse best practices score:\n    // Add `rel=\"noopener\"` or `rel=\"noreferrer\"` to any external links to improve performance and prevent security vulnerabilities.\n    // https://web.dev/external-anchors-use-rel-noopener/?utm_source=lighthouse&utm_medium=lr\n    ,\n    rel: \"noreferrer\",\n    children: [/*#__PURE__*/_jsx(\"svg\", {\n      id: `icon-${name}`,\n      className: `icon icon-${name}`,\n      \"aria-hidden\": \"true\",\n      focusable: \"false\",\n      viewBox: \"0 0 32 32\",\n      children: /*#__PURE__*/_jsx(\"path\", {\n        d: pathd\n      })\n    }), /*#__PURE__*/_jsx(\"span\", {\n      className: \"visually-hidden\",\n      children: cap(name)\n    })]\n  });\n}",".outsmartly/analysis/modules/269.js":"// node_modules/next/dist/next-server/lib/router/utils/querystring.js\n\"use strict\";\n\nexports.__esModule = true;\nexports.searchParamsToUrlQuery = searchParamsToUrlQuery;\nexports.urlQueryToSearchParams = urlQueryToSearchParams;\nexports.assign = assign;\n\nfunction searchParamsToUrlQuery(searchParams) {\n  const query = {};\n  searchParams.forEach((value, key) => {\n    if (typeof query[key] === 'undefined') {\n      query[key] = value;\n    } else if (Array.isArray(query[key])) {\n      ;\n      query[key].push(value);\n    } else {\n      query[key] = [query[key], value];\n    }\n  });\n  return query;\n}\n\nfunction stringifyUrlQueryParam(param) {\n  if (typeof param === 'string' || typeof param === 'number' && !isNaN(param) || typeof param === 'boolean') {\n    return String(param);\n  } else {\n    return '';\n  }\n}\n\nfunction urlQueryToSearchParams(urlQuery) {\n  const result = new URLSearchParams();\n  Object.entries(urlQuery).forEach(([key, value]) => {\n    if (Array.isArray(value)) {\n      value.forEach(item => result.append(key, stringifyUrlQueryParam(item)));\n    } else {\n      result.set(key, stringifyUrlQueryParam(value));\n    }\n  });\n  return result;\n}\n\nfunction assign(target, ...searchParamsList) {\n  searchParamsList.forEach(searchParams => {\n    Array.from(searchParams.keys()).forEach(key => target.delete(key));\n    searchParams.forEach((value, key) => target.append(key, value));\n  });\n  return target;\n}",".outsmartly/analysis/modules/329.js":"// components/Product/ProductPhotos/ImageZoom.js\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { useState, useRef, useMemo } from 'react';\nimport { target, show, lens, view } from './ImageZoom.module.css';\nimport { getProductImageUrl } from 'lib/getImageUrl'; // Definitions:\n// main = the main image that the user hovers\n// lens = the cursor, a translucent rectangle that hovers the main image\n// view = the zoom viewport that holds the zoomed-in image\n// zoom = the zoomed-in (magnified) image\n\nexport default function ImageZoom({\n  children,\n  zoomSrc,\n  imageRef,\n  cursorColor,\n  // default: #fff\n  opacity,\n  // default: 0.5\n  cursorType,\n  // default: crosshair\n  zindex,\n  // default: 1\n  zoomviewsize = [480, 395],\n  zoomviewposition = 'right',\n  zoomviewmargin = 20,\n  zoomviewborder = 'none',\n  magnification = 1.925\n}) {\n  const {\n    0: showZoom,\n    1: setShowZoom\n  } = useState(false);\n  const {\n    0: mainImageDim,\n    1: setMainImageDim\n  } = useState({\n    mainWidth: 0,\n    mainHeight: 0,\n    mainPageTop: 0,\n    mainPageLeft: 0,\n    mainOffsetTop: 0,\n    mainOffsetLeft: 0\n  });\n  const {\n    0: lensPosition,\n    1: setLensPosition\n  } = useState({\n    top: 0,\n    left: 0\n  });\n  const {\n    0: zoomPosition,\n    1: setZoomPosition\n  } = useState({\n    top: 0,\n    left: 0\n  });\n  /** Takes the latest image DOM element, and sets state with the latest\n   * dimensions and position.\n   * @param {Element} img - the <img /> element\n   */\n\n  const updateImageDim = img => {\n    if (img && true) {\n      const rect = img.getBoundingClientRect();\n      setMainImageDim({\n        mainWidth: rect.width,\n        mainHeight: rect.height,\n        mainPageTop: rect.top + window.scrollY,\n        mainPageLeft: rect.left + window.scrollX,\n        mainOffsetTop: img.offsetTop,\n        mainOffsetLeft: img.offsetLeft\n      });\n    }\n  };\n  /** Called when mouse hovers the image. Well, actually, when the mouse hovers\n   * the transparent wrapper around the image.\n   */\n\n\n  const handleEnter = () => {\n    // We could add the lens and view to the DOM here. For now we just add a\n    // class that makes them display: block.\n    // Show the lens and zoom view\n    setShowZoom(true); // Update main image dimensions and position (user could have scrolled,\n    // zoomed in, reduced browser width, etc.).\n\n    updateImageDim(imageRef === null || imageRef === void 0 ? void 0 : imageRef.current);\n  };\n  /** Called when the mouse leaves the image */\n\n\n  const handleLeave = e => {\n    setShowZoom(false); // We could remove the lens and view from DOM here. For now just remove the\n    // class to leave them at display: none.\n  };\n  /** Called when the mouse moves over the image (the target wrapper) */\n\n\n  const handleMove = e => {\n    // Figure out mouse position relative to the image\n    var mouseX = e.pageX - mainPageLeft;\n    var mouseY = e.pageY - mainPageTop; // Position the lens. Keep cursor from escaping coordinates of image.\n\n    let lensLeft, lensTop;\n    const lensHalfWidth = lensSize.width / 2;\n\n    if (mouseX - lensHalfWidth < 0) {\n      lensLeft = mainOffsetLeft;\n    } else if (mouseX + lensHalfWidth > mainOffsetLeft + mainWidth) {\n      lensLeft = mainOffsetLeft + mainWidth - lensSize.width;\n    } else {\n      lensLeft = mainOffsetLeft + mouseX - lensHalfWidth;\n    }\n\n    const lensHalfHeight = lensSize.height / 2;\n\n    if (mouseY - lensHalfHeight < 0) {\n      lensTop = mainOffsetTop;\n    } else if (mouseY + lensHalfHeight > mainOffsetTop + mainHeight) {\n      lensTop = mainOffsetTop + mainHeight - lensSize.height;\n    } else {\n      lensTop = mainOffsetTop + mouseY - lensHalfHeight;\n    }\n\n    setLensPosition({\n      top: Math.round(lensTop),\n      left: Math.round(lensLeft)\n    }); // Position the zoomed-in image in the zoom viewport. Give left edge a\n    // slight nudge so no gap appears on the right edge.\n\n    let zoomTop = -1 * (lensTop - mainOffsetTop) * magnification;\n    let zoomLeft = -1 * (lensLeft - mainOffsetLeft - 1) * magnification;\n    setZoomPosition({\n      top: Math.round(zoomTop),\n      left: Math.round(zoomLeft)\n    });\n  }; // Get the main image dimensions and position from state. Use them along with\n  // any settings to establish size and position for lens, view, and zoom image\n\n\n  const {\n    mainWidth,\n    mainHeight,\n    mainPageTop,\n    mainPageLeft,\n    mainOffsetTop,\n    mainOffsetLeft\n  } = mainImageDim; // Styles for the lens\n\n  const lensSize = {\n    width: Math.round(zoomviewsize[0] / magnification),\n    height: Math.round(zoomviewsize[1] / magnification)\n  };\n  const lensStyles = {\n    backgroundColor: cursorColor ? cursorColor : null,\n    opacity: opacity ? opacity : null,\n    cursor: cursorType ? cursorType : null,\n    zIndex: zindex ? zindex : null,\n    width: lensSize.width,\n    height: lensSize.height\n  }; // Styles for the zoom viewport\n\n  const viewTop = mainOffsetTop;\n  const viewLeft = mainOffsetLeft + mainWidth + zoomviewmargin;\n  const viewStyles = {\n    top: Math.round(viewTop),\n    left: Math.round(viewLeft),\n    width: zoomviewsize[0],\n    height: zoomviewsize[1],\n    border: zoomviewborder\n  }; // Styles for the zoomed in image\n\n  const zoomWidth = mainWidth * magnification;\n  const zoomHeight = mainHeight * magnification;\n  const zoomStyles = {\n    width: Math.round(zoomWidth),\n    height: Math.round(zoomHeight)\n  }; // Look through children for the one that is an image, and get the src\n\n  const zoomRef = useRef();\n  useMemo(() => {\n    if (zoomRef && showZoom && zoomSrc) {\n      const largSrc = getProductImageUrl(zoomSrc, 1024);\n      const image = new Image();\n      image.src = largSrc;\n\n      image.onload = () => {\n        zoomRef.current.setAttribute('src', largSrc);\n      };\n    }\n  }, [showZoom, zoomRef]);\n  return /*#__PURE__*/_jsxs(_Fragment, {\n    children: [/*#__PURE__*/_jsxs(\"div\", {\n      className: target,\n      onMouseEnter: handleEnter,\n      onMouseMove: handleMove,\n      onMouseLeave: handleLeave,\n      children: [children, /*#__PURE__*/_jsx(\"div\", {\n        className: `${lens} ${showZoom ? show : ''}`,\n        style: _objectSpread(_objectSpread({}, lensStyles), lensPosition)\n      })]\n    }), /*#__PURE__*/_jsx(\"div\", {\n      className: `${view} ${showZoom ? show : ''}`,\n      style: viewStyles,\n      children: /*#__PURE__*/_jsx(\"img\", {\n        ref: zoomRef,\n        src: zoomSrc,\n        style: _objectSpread(_objectSpread({}, zoomStyles), zoomPosition),\n        alt: \"Zoomed-in product image\"\n      })\n    })]\n  });\n}",".outsmartly/analysis/modules/62.js":"// node_modules/next/dist/client/request-idle-callback.js\n\"use strict\";\n\nexports.__esModule = true;\nexports.cancelIdleCallback = exports.requestIdleCallback = void 0;\n\nvar requestIdleCallback = typeof self !== 'undefined' && self.requestIdleCallback || function (cb) {\n  var start = Date.now();\n  return setTimeout(function () {\n    cb({\n      didTimeout: false,\n      timeRemaining: function timeRemaining() {\n        return Math.max(0, 50 - (Date.now() - start));\n      }\n    });\n  }, 1);\n};\n\nexports.requestIdleCallback = requestIdleCallback;\n\nvar cancelIdleCallback = typeof self !== 'undefined' && self.cancelIdleCallback || function (id) {\n  return clearTimeout(id);\n};\n\nexports.cancelIdleCallback = cancelIdleCallback;",".outsmartly/analysis/modules/33.js":"// node_modules/next/dist/next-server/lib/router/utils/querystring.js\n\"use strict\";\n\nvar _slicedToArray = require(\"/Users/kai/Work/rbx-rewrite/node_modules/next/node_modules/@babel/runtime/helpers/slicedToArray\");\n\nexports.__esModule = true;\nexports.searchParamsToUrlQuery = searchParamsToUrlQuery;\nexports.urlQueryToSearchParams = urlQueryToSearchParams;\nexports.assign = assign;\n\nfunction searchParamsToUrlQuery(searchParams) {\n  var query = {};\n  searchParams.forEach(function (value, key) {\n    if (typeof query[key] === 'undefined') {\n      query[key] = value;\n    } else if (Array.isArray(query[key])) {\n      ;\n      query[key].push(value);\n    } else {\n      query[key] = [query[key], value];\n    }\n  });\n  return query;\n}\n\nfunction stringifyUrlQueryParam(param) {\n  if (typeof param === 'string' || typeof param === 'number' && !isNaN(param) || typeof param === 'boolean') {\n    return String(param);\n  } else {\n    return '';\n  }\n}\n\nfunction urlQueryToSearchParams(urlQuery) {\n  var result = new URLSearchParams();\n  Object.entries(urlQuery).forEach(function (_ref) {\n    var _ref2 = _slicedToArray(_ref, 2),\n        key = _ref2[0],\n        value = _ref2[1];\n\n    if (Array.isArray(value)) {\n      value.forEach(function (item) {\n        return result.append(key, stringifyUrlQueryParam(item));\n      });\n    } else {\n      result.set(key, stringifyUrlQueryParam(value));\n    }\n  });\n  return result;\n}\n\nfunction assign(target) {\n  for (var _len = arguments.length, searchParamsList = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    searchParamsList[_key - 1] = arguments[_key];\n  }\n\n  searchParamsList.forEach(function (searchParams) {\n    Array.from(searchParams.keys()).forEach(function (key) {\n      return target[\"delete\"](key);\n    });\n    searchParams.forEach(function (value, key) {\n      return target.append(key, value);\n    });\n  });\n  return target;\n}",".outsmartly/analysis/modules/91.js":"// components/LemonSpot/api.js\nimport _toConsumableArray from \"/Users/kai/Work/rbx-rewrite/node_modules/next/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _regeneratorRuntime from \"/Users/kai/Work/rbx-rewrite/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _defineProperty from \"/Users/kai/Work/rbx-rewrite/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _asyncToGenerator from \"/Users/kai/Work/rbx-rewrite/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { getJSON, getCookie, setCookie } from 'lib/utils';\nimport { strippedImage } from 'lib/getImageUrl'; // Some constants for working with Personalizer API\n\nvar prefix = 'https://storefront.personalizer.io/v1';\nvar lemAuthParams = 'lsAuthParams';\nvar lemAuthResult = 'lsAuthResult';\nvar lemContext = 'lsContext';\nvar lemContextId = 'lsContextID';\nvar lemContextExpires = 'lsContextExpires';\nvar lemRecentViews = 'lsRecentViews';\nvar lemUserId = 'lsUserID';\n/**\n * Checks if this is a first time visit. If so, calls initialize() to obtain a\n * context ID. Else, calls keepAlive() to keep the existing context ID alive.\n */\n\nexport function authorize() {\n  return _authorize.apply(this, arguments);\n}\n/**\n * Calls the userAuthentication endpoint to obtain a new context ID and/or a new\n * user ID.\n * @param {string} userID\n * @param {string} contextID\n */\n\nfunction _authorize() {\n  _authorize = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n    var authResult, context, contextID, userID, timestamp, EXPIRE_BUFFER, expired;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            // Check for an existing context ID. Start with cookie, else try lsAuthResult\n            // and lsContext from local storage.\n            authResult = JSON.parse(localStorage.getItem(lemAuthResult));\n            context = JSON.parse(localStorage.getItem(lemContext));\n            contextID = getCookie(lemContextId) || (authResult === null || authResult === void 0 ? void 0 : authResult.ContextID) || (context === null || context === void 0 ? void 0 : context.ContextID) || null; // Check for existing user id. Start with lsAuthResult and lsContext from\n            // local storage. We will pass this to initialize().\n\n            userID = (authResult === null || authResult === void 0 ? void 0 : authResult.UserID) || (context === null || context === void 0 ? void 0 : context.UserID) || null;\n\n            if (contextID) {\n              _context.next = 10;\n              break;\n            }\n\n            _context.next = 7;\n            return initialize(userID, contextID);\n\n          case 7:\n            contextID = _context.sent;\n            _context.next = 22;\n            break;\n\n          case 10:\n            // Context ID exists, so first make sure it has not expired, then refresh\n            // the expiration time stamp.\n            timestamp = localStorage.getItem(lemContextExpires);\n            EXPIRE_BUFFER = 60 * 1000;\n            expired = timestamp - Date.now() <= EXPIRE_BUFFER ? true : false;\n\n            if (expired) {\n              _context.next = 19;\n              break;\n            }\n\n            _context.next = 16;\n            return keepAlive(contextID);\n\n          case 16:\n            contextID = _context.sent;\n            _context.next = 22;\n            break;\n\n          case 19:\n            _context.next = 21;\n            return initialize(userID, contextID);\n\n          case 21:\n            contextID = _context.sent;\n\n          case 22:\n            return _context.abrupt(\"return\", contextID);\n\n          case 23:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _authorize.apply(this, arguments);\n}\n\nexport function initialize() {\n  return _initialize.apply(this, arguments);\n}\n/**\n * Calls the userAuthentication endpoint to keep the existing context ID alive.\n * @param {string} contextID - the existing contextID cookie value\n */\n\nfunction _initialize() {\n  _initialize = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n    var userID,\n        contextID,\n        resource,\n        params,\n        queryString,\n        url,\n        payload,\n        options,\n        data,\n        _args2 = arguments;\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            userID = _args2.length > 0 && _args2[0] !== undefined ? _args2[0] : null;\n            contextID = _args2.length > 1 && _args2[1] !== undefined ? _args2[1] : null;\n            // Prepare a request\n            resource = \"\".concat(prefix, \"/userAuthentication\");\n            params = {\n              storefront: true\n            };\n            queryString = '?' + new URLSearchParams(params).toString();\n            url = \"\".concat(resource).concat(queryString);\n            payload = {\n              SubscriberKey: 'yc1ao-c7b1ks2hx0uue5d-suyq0',\n              Platform: 'shopify',\n              ContextID: contextID,\n              UserID: userID,\n              AlternateUserID: null,\n              CampaignGuid: null,\n              UserIdentifier: null,\n              UserEmailAddress: null,\n              UserCellPhone: null,\n              UserFirstName: null,\n              UserLastName: null,\n              BypassExperienceCache: false\n            };\n            options = {\n              method: 'POST',\n              headers: {\n                'Content-Type': 'application/json'\n              },\n              body: JSON.stringify(payload)\n            }; // Make the fetch call\n\n            _context2.next = 10;\n            return getJSON(url, options);\n\n          case 10:\n            data = _context2.sent;\n            // Wait until the request completes...\n            //\n            // Done. Store context ID as a cookie, and data to local storage\n            setCookie(lemContextId, data.ContextID);\n            saveToLocal(data, payload); // Return the context ID\n\n            return _context2.abrupt(\"return\", data.ContextID);\n\n          case 14:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n  return _initialize.apply(this, arguments);\n}\n\nexport function keepAlive(_x) {\n  return _keepAlive.apply(this, arguments);\n}\n/**\n * Stores/updates data in local storage so it persists longer than cookie\n * @param {Object} data - the entire data object\n * @param {Object} payload - the body of the request\n */\n\nfunction _keepAlive() {\n  _keepAlive = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(contextID) {\n    var resource, options, data;\n    return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            resource = \"\".concat(prefix, \"/userAuthentication\");\n            options = {\n              method: 'PUT',\n              headers: {\n                'Content-Type': 'application/json',\n                'X-Personalizer-Context-ID': contextID\n              }\n            }; // Make the fetch call\n\n            _context3.next = 4;\n            return getJSON(resource, options);\n\n          case 4:\n            data = _context3.sent;\n            // Wait until the request completes...\n            //\n            // Done. Store context ID as a cookie, and update a few keys in local storage\n            setCookie(lemContextId, data.ContextID); // Refresh expiration time stamp in local storage\n\n            localStorage.setItem(lemContextExpires, data.ContextExpirationTimeStamp); // Return the context ID\n\n            return _context3.abrupt(\"return\", data.ContextID);\n\n          case 8:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee3);\n  }));\n  return _keepAlive.apply(this, arguments);\n}\n\nfunction saveToLocal(data, payload) {\n  localStorage.setItem(lemContextExpires, data.ContextExpirationTimeStamp); // Initialize Recent Views only if there's nothing there\n\n  if (localStorage.getItem(lemRecentViews) === null) {\n    localStorage.setItem(lemRecentViews, '[]');\n  }\n\n  localStorage.setItem(lemAuthResult, JSON.stringify(data)); // lsContext is similar to lsAuthResult, but without Settings\n\n  localStorage.setItem(lemContext, JSON.stringify(data)); // Update values for ContextID and UserID (because we have them now)\n\n  localStorage.setItem(lemAuthParams, JSON.stringify(_objectSpread(_objectSpread({}, payload), {}, {\n    ContextID: data.ContextID,\n    UserID: data.UserID\n  })));\n  localStorage.setItem(lemUserId, data.UserID);\n}\n/**\n * Fetches and maps products from endpoints that return an array of product\n * objects.\n * @param {string} contextID - current context ID. Must not be expired.\n * @param {string} resource - the endpoint\n * @param {string} pageType - the page type ('Home', 'Product', 'Collection',\n * 'Cart', etc).\n * @param {Object} additionalParams - additional query parameters. These will\n * add to or replace the base params below (`host`, `limit`, `fields`)\n * @param {boolean} [map=true] - when true, will also call mapProducts() on the\n * fetched products, else, will just return the fetched products.\n * @returns array of mapped product objects\n */\n\n\nexport function fetchArray(_x2, _x3, _x4) {\n  return _fetchArray.apply(this, arguments);\n}\n/**\n * A wrapper around fetchArray. Fetches and maps products for endpoints that\n * return other items that are related to the one in question. Currently this\n * includes `related` and `crosssell`.\n * @param {string} contextID - current context ID. Must not be expired.\n * @param {string} resource - the endpoint\n * @param {string} pageType - the page type ('Home', 'Product', 'Collection',\n * 'Cart', etc).\n * @param {Object} additionalParams - additional query parameters. These will\n * add to or replace the base params below (`host`, `limit`, `fields`)\n * @param {string} identifiers - comma-separated list of item identifiers for\n * which the cross-sell items are requested.\n * @returns array of product objects\n */\n\nfunction _fetchArray() {\n  _fetchArray = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4(contextID, resource, pageType) {\n    var additionalParams,\n        map,\n        baseUrl,\n        params,\n        queryString,\n        options,\n        json,\n        mapped,\n        _args4 = arguments;\n    return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            additionalParams = _args4.length > 3 && _args4[3] !== undefined ? _args4[3] : {};\n            map = _args4.length > 4 && _args4[4] !== undefined ? _args4[4] : true;\n            baseUrl = \"\".concat(prefix, \"/\").concat(resource);\n            params = _objectSpread({\n              host: pageType,\n              limit: '20',\n              fields: 'Identifier,Title,Vendor,DisplayUrl,Price,OriginalPrice,ImageUrl'\n            }, additionalParams);\n            queryString = '?' + new URLSearchParams(params).toString();\n            options = {\n              method: 'GET',\n              headers: {\n                'Content-Type': 'application/json',\n                'X-Personalizer-Context-ID': contextID\n              }\n            };\n            _context4.prev = 6;\n            _context4.next = 9;\n            return getJSON(\"\".concat(baseUrl).concat(queryString), options);\n\n          case 9:\n            json = _context4.sent;\n\n            if (!map) {\n              _context4.next = 15;\n              break;\n            }\n\n            mapped = mapProducts(json);\n            return _context4.abrupt(\"return\", mapped);\n\n          case 15:\n            return _context4.abrupt(\"return\", json);\n\n          case 16:\n            _context4.next = 22;\n            break;\n\n          case 18:\n            _context4.prev = 18;\n            _context4.t0 = _context4[\"catch\"](6);\n            console.error(_context4.t0);\n            return _context4.abrupt(\"return\", []);\n\n          case 22:\n          case \"end\":\n            return _context4.stop();\n        }\n      }\n    }, _callee4, null, [[6, 18]]);\n  }));\n  return _fetchArray.apply(this, arguments);\n}\n\nexport function fetchItems(_x5, _x6, _x7, _x8) {\n  return _fetchItems.apply(this, arguments);\n}\n/**\n * Fetches products for 'Recently Viewed Items'. First looks in local storage,\n * and if that is empty, then it calls the `recentviews` endpoint. Filter out\n * the current product (if it was provided), then map the remaining and return.\n * Finally, add the current product at the front of local storage (or move it to\n * the front if it existed).\n * @param {string} contextID - current context ID. Must not be expired.\n * @param {string} pageType - the page type ('Home', 'Product', 'Collection',\n * 'Cart', etc).\n * @param {Object} current - current product object, unmapped\n * @returns array of mapped product objects\n */\n\nfunction _fetchItems() {\n  _fetchItems = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee5(contextID, resource, pageType, identifiers) {\n    var distinct, additionalParams, products;\n    return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n      while (1) {\n        switch (_context5.prev = _context5.next) {\n          case 0:\n            // Set a different `paramsJson` depending on the resource\n            distinct = resource === 'related' ? {\n              paramsJson: JSON.stringify({})\n            } : {\n              paramsJson: JSON.stringify({\n                NoPicksAction: 'ShowBoughtTogether'\n              })\n            }; // Combine the common params and the distinct ones\n\n            additionalParams = _objectSpread({\n              identifiers: identifiers,\n              referenceType: 'Context',\n              excludedItemIdentifiers: identifiers\n            }, distinct);\n            _context5.next = 4;\n            return fetchArray(contextID, resource, pageType, additionalParams, identifiers);\n\n          case 4:\n            products = _context5.sent;\n            return _context5.abrupt(\"return\", products);\n\n          case 6:\n          case \"end\":\n            return _context5.stop();\n        }\n      }\n    }, _callee5);\n  }));\n  return _fetchItems.apply(this, arguments);\n}\n\nexport function fetchRecent(_x9, _x10) {\n  return _fetchRecent.apply(this, arguments);\n}\n\nfunction _fetchRecent() {\n  _fetchRecent = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee6(contextID, pageType) {\n    var current,\n        fetched,\n        forDisplay,\n        filtered,\n        newRecents,\n        _mapped,\n        mapped,\n        _args6 = arguments;\n\n    return _regeneratorRuntime.wrap(function _callee6$(_context6) {\n      while (1) {\n        switch (_context6.prev = _context6.next) {\n          case 0:\n            current = _args6.length > 2 && _args6[2] !== undefined ? _args6[2] : undefined;\n            // First! Pull recently viewed products from local storage\n            fetched = JSON.parse(localStorage.getItem(lemRecentViews)); // Update: for now, do not call for products from the server, just use local\n            // storage.\n\n            /*\n            // If that is empty, then make the call to the recentViews endpoint. Be sure\n            to passed `false` for the last argument (so it doesn't get mapped yet).\n            if (fetched.length === 0) {\n              fetched = await fetchArray(contextID, 'recentviews', pageType, {}, false);\n              // Store any products from the server in local storage\n              localStorage.setItem(lemRecentViews, JSON.stringify(fetched));\n            }\n            */\n\n            if (!current) {\n              _context6.next = 10;\n              break;\n            }\n\n            // Filter the current product out of the list\n            filtered = fetched.filter(function (x) {\n              return x.Identifier !== current.Identifier;\n            }); // While we're in here, save the current product to local storage at the front\n            // of the Recent Views array\n\n            newRecents = _toConsumableArray(filtered); // need a clone, not a reference\n\n            newRecents.unshift(current); // Update local storage\n\n            localStorage.setItem(lemRecentViews, JSON.stringify(newRecents)); // Add Limespot params to the DisplayUrl\n\n            forDisplay = appendRecentParams(filtered, pageType); // Now map the display products and return them\n\n            _mapped = mapProducts(forDisplay);\n            return _context6.abrupt(\"return\", _mapped);\n\n          case 10:\n            // Add Limespot params to the DisplayUrl\n            forDisplay = appendRecentParams(fetched, pageType); // Map the display products and return them\n\n            mapped = mapProducts(forDisplay);\n            return _context6.abrupt(\"return\", mapped);\n\n          case 13:\n          case \"end\":\n            return _context6.stop();\n        }\n      }\n    }, _callee6);\n  }));\n  return _fetchRecent.apply(this, arguments);\n}\n\nfunction appendRecentParams(products, pageType) {\n  var params = \"?lssrc=recentviews&lshst=\".concat(pageType.toLowerCase());\n  var appended = products.map(function (x) {\n    return _objectSpread(_objectSpread({}, x), {}, {\n      DisplayUrl: x.DisplayUrl + params\n    });\n  });\n  return appended;\n}\n/**\n * Returns an array of products with properties mapped to the ones we want.\n * @param {Array} products - array of products\n * @returns array of product objects\n */\n\n\nfunction mapProducts(products) {\n  var mapped = products.map(function (product) {\n    var _product$DisplayUrl;\n\n    return {\n      id: product.Identifier,\n      title: product.Title,\n      vendor: product.Vendor,\n      price: product.Price,\n      oldPrice: product.OriginalPrice,\n      // For now strip off the 'ls' query params\n      url: product.DisplayUrl.split('?')[0],\n      handle: (_product$DisplayUrl = product.DisplayUrl) === null || _product$DisplayUrl === void 0 ? void 0 : _product$DisplayUrl.split('?')[0].split('/')[2],\n      imageUrl: product.ImageUrl,\n      imageMap: {\n        \"default\": [strippedImage(product.ImageUrl)]\n      }\n    };\n  });\n  return mapped;\n}\n/**\n * Logs the user's activity to Personalizer\n * @param {string} contextID - the context ID. Must not be expired\n * @param {Object} payload - the data to log\n * @returns true if the POST succeeded\n */\n\n\nexport function logActivity(_x11, _x12) {\n  return _logActivity.apply(this, arguments);\n}\n\nfunction _logActivity() {\n  _logActivity = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee7(contextID, payload) {\n    var baseUrl, params, queryString, options, success;\n    return _regeneratorRuntime.wrap(function _callee7$(_context7) {\n      while (1) {\n        switch (_context7.prev = _context7.next) {\n          case 0:\n            baseUrl = \"\".concat(prefix, \"/activityLogs\");\n            params = {\n              batch: true\n            };\n            queryString = '?' + new URLSearchParams(params).toString();\n            options = {\n              method: 'POST',\n              headers: {\n                'Content-Type': 'application/json',\n                'X-Personalizer-Context-ID': contextID\n              },\n              body: JSON.stringify(payload)\n            };\n            _context7.prev = 4;\n            _context7.next = 7;\n            return getJSON(\"\".concat(baseUrl).concat(queryString), options);\n\n          case 7:\n            success = _context7.sent;\n            return _context7.abrupt(\"return\", success);\n\n          case 11:\n            _context7.prev = 11;\n            _context7.t0 = _context7[\"catch\"](4);\n            console.error(_context7.t0);\n            return _context7.abrupt(\"return\", false);\n\n          case 15:\n          case \"end\":\n            return _context7.stop();\n        }\n      }\n    }, _callee7, null, [[4, 11]]);\n  }));\n  return _logActivity.apply(this, arguments);\n}",".outsmartly/analysis/modules/56.js":"// components/OutfitCard.js\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React from 'react';\nimport Link from 'next/link';\nimport { card, link } from './OutfitCard.module.css';\nexport default function OutfitCard(_ref) {\n  var href = _ref.href,\n      src = _ref.src,\n      title = _ref.title,\n      text = _ref.text;\n  return /*#__PURE__*/_jsx(\"div\", {\n    className: card,\n    children: /*#__PURE__*/_jsx(Link, {\n      href: href,\n      children: /*#__PURE__*/_jsxs(\"a\", {\n        className: link,\n        children: [/*#__PURE__*/_jsx(\"img\", {\n          src: src,\n          alt: \"\".concat(title, \" Outfit\"),\n          loading: \"lazy\",\n          height: \"831\",\n          width: \"600\"\n        }), /*#__PURE__*/_jsx(\"h3\", {\n          children: title\n        }), /*#__PURE__*/_jsx(\"p\", {\n          children: text\n        })]\n      })\n    })\n  });\n}",".outsmartly/analysis/modules/85.js":"// components/SocialIcon.js\nimport _defineProperty from \"/Users/kai/Work/rbx-rewrite/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React from 'react';\nimport { cap } from '../lib/utils';\nimport config from '../jackrabbit.config';\nexport default function SocialIcon(_ref) {\n  var _jsxs2;\n\n  var name = _ref.name,\n      href = _ref.href,\n      pathd = _ref.pathd;\n  return /*#__PURE__*/_jsxs(\"a\", (_jsxs2 = {\n    href: href,\n    rel: \"noopener\",\n    title: \"\".concat(config.siteName, \" on \").concat(cap(name)),\n    target: \"_blank\" // Improving Lighthouse best practices score:\n    // Add `rel=\"noopener\"` or `rel=\"noreferrer\"` to any external links to improve performance and prevent security vulnerabilities.\n    // https://web.dev/external-anchors-use-rel-noopener/?utm_source=lighthouse&utm_medium=lr\n\n  }, _defineProperty(_jsxs2, \"rel\", \"noreferrer\"), _defineProperty(_jsxs2, \"children\", [/*#__PURE__*/_jsx(\"svg\", {\n    id: \"icon-\".concat(name),\n    className: \"icon icon-\".concat(name),\n    \"aria-hidden\": \"true\",\n    focusable: \"false\",\n    viewBox: \"0 0 32 32\",\n    children: /*#__PURE__*/_jsx(\"path\", {\n      d: pathd\n    })\n  }), /*#__PURE__*/_jsx(\"span\", {\n    className: \"visually-hidden\",\n    children: cap(name)\n  })]), _jsxs2));\n}",".outsmartly/analysis/modules/76.js":"// components/Collection/index.js\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport _defineProperty from \"/Users/kai/Work/rbx-rewrite/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"/Users/kai/Work/rbx-rewrite/node_modules/next/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useEffect, useRef } from 'react';\nimport { collectionBanner, collectionHeader, collectionTitle, collectionCrumbsNav, collectionCrumbs, collectionCrumbsIcon, collectionSortLabel, collectionSortInput, grid25 } from './Collection.module.css';\nimport { CollectionProvider } from 'context/CollectionContext';\nimport BreadCrumbs from 'components/BreadCrumbs';\nimport FilterSidebar from 'components/FilterSidebar/FilterSidebar';\nimport CollectionGrid from './CollectionGrid';\nimport styles from 'styles/Main.module.css';\nimport { groups } from 'data/navigation';\nimport { useRouter } from 'next/router';\nimport { sortFields } from 'lib/productSort';\nimport { LemonSpot } from 'components/LemonSpot/LemonSpot';\nimport { SEO } from 'components/Seo';\nimport { getImageUrl } from 'lib/getImageUrl';\nimport { useMessageBus } from '@outsmartly/core';\nimport { getPathnames, getResolution } from 'lib/utils';\nimport { emitTimeSpend } from 'components/LemonSpot/emitTimeSpend';\nexport default function Collection(_ref) {\n  var _process$env$messageB;\n\n  var content = _ref.content,\n      callouts = _ref.callouts;\n  var router = useRouter();\n  var sort_by = router.query.sort_by; // Get path information for this page\n\n  var _getPathnames = getPathnames(router),\n      _getPathnames2 = _slicedToArray(_getPathnames, 2),\n      path = _getPathnames2[0],\n      pathWithQuery = _getPathnames2[1];\n\n  var page = 'Collection'; // Get a reference to the client message bus\n\n  var bus = useMessageBus({\n    debug: (_process$env$messageB = process.env.messageBusDebug) !== null && _process$env$messageB !== void 0 ? _process$env$messageB : false\n  }); // Create a start time ref that persists across renders\n\n  var startTime = useRef(0); // Run when the collection changes\n\n  useEffect(function () {\n    // Set the start time for viewing this collection\n    startTime.current = new Date().getTime(); // Assemble the payload for a \"collection view\" event and emit it\n\n    var obj = {\n      collectionId: content.id,\n      page: page,\n      path: path,\n      resolution: getResolution(),\n      timestamp: new Date().toISOString(),\n      url: pathWithQuery\n    };\n    bus.emit('collectionView', obj); // When user navigates away, emit the \"collection time spend\" event\n\n    return function () {\n      emitTimeSpend(startTime, page, path, content.id, bus);\n    };\n  }, [content]); // Attach a regular event listener for navigating outside of Next app\n\n  useEffect(function () {\n    // Use a wrapper function to facilitate attaching and clean up\n    var emitWrapper = function emitWrapper() {\n      emitTimeSpend(startTime, page, path, content.id, bus);\n    };\n\n    window.addEventListener('beforeunload', emitWrapper);\n    return function () {\n      window.removeEventListener('beforeunload', emitWrapper);\n    };\n  }, [page, path, content.id, bus]); // Add page type class to <main>\n\n  var pageType = 'templateCollection'; // Create a background image styling rule (if there is one)\n\n  var bannerImageSrc = getImageUrl(content.image);\n  var bannerStyle = content.image && {\n    backgroundImage: \"url(\".concat(bannerImageSrc, \")\")\n  }; // Determine which group this collection belongs to.\n\n  var group = groups.find(function (g) {\n    return content.handle.startsWith(g.name);\n  });\n  var groupName = group && group.name;\n\n  function updateSort(event) {\n    router.replace({\n      pathname: router.pathname,\n      query: _objectSpread(_objectSpread({}, router.query), {}, {\n        sort_by: event.target.value\n      })\n    }, undefined, {\n      shallow: true\n    });\n  }\n\n  var description = content.description !== '' ? content.description : \"\".concat(content.title, \" Collection\");\n  var preloads = bannerImageSrc !== '' ? [bannerImageSrc] : [];\n  return /*#__PURE__*/_jsxs(\"main\", {\n    id: \"mainContent\",\n    className: \"\".concat(styles['mainContent'], \" \").concat(styles[pageType]),\n    children: [/*#__PURE__*/_jsx(SEO, {\n      ogType: \"website\",\n      title: content.title,\n      canonical: \"/collections/\".concat(content.handle),\n      description: description,\n      images: [content.image],\n      preloads: preloads\n    }), /*#__PURE__*/_jsxs(\"div\", {\n      className: content.image ? collectionBanner : 'visually-hidden',\n      style: bannerStyle,\n      children: [/*#__PURE__*/_jsx(\"h1\", {\n        children: content.title\n      }), content.descriptionHtml && /*#__PURE__*/_jsx(\"p\", {\n        dangerouslySetInnerHTML: content.descriptionHtml\n      })]\n    }), /*#__PURE__*/_jsxs(\"div\", {\n      className: \"page-width\",\n      children: [/*#__PURE__*/_jsxs(\"header\", {\n        className: collectionHeader,\n        children: [/*#__PURE__*/_jsx(\"h2\", {\n          className: collectionTitle,\n          children: content.title\n        }), /*#__PURE__*/_jsx(BreadCrumbs, {\n          title: content.title,\n          groupName: groupName,\n          navClass: collectionCrumbsNav,\n          crumbListClass: collectionCrumbs,\n          iconClass: collectionCrumbsIcon\n        }), /*#__PURE__*/_jsxs(\"div\", {\n          className: \"text-right\",\n          children: [/*#__PURE__*/_jsx(\"label\", {\n            htmlFor: \"sortBy\",\n            className: collectionSortLabel,\n            children: \"Sort by\"\n          }), /*#__PURE__*/_jsx(\"select\", {\n            name: \"sortBy\",\n            id: \"sortBy\",\n            className: collectionSortInput,\n            onChange: updateSort,\n            value: sort_by,\n            children: sortFields.map(function (_ref2) {\n              var value = _ref2.value,\n                  label = _ref2.label;\n              return /*#__PURE__*/_jsx(\"option\", {\n                value: value,\n                children: label\n              }, value);\n            })\n          })]\n        })]\n      }), /*#__PURE__*/_jsx(CollectionProvider, {\n        value: content,\n        children: /*#__PURE__*/_jsxs(\"div\", {\n          className: grid25,\n          children: [/*#__PURE__*/_jsx(FilterSidebar, {\n            handle: content.handle,\n            groupName: groupName,\n            callouts: callouts\n          }), /*#__PURE__*/_jsx(CollectionGrid, {\n            handle: content.handle\n          })]\n        })\n      }), /*#__PURE__*/_jsx(LemonSpot, {\n        page: \"Collection\"\n      })]\n    })]\n  });\n}",".outsmartly/analysis/modules/27.js":"// node_modules/next/dist/client/route-loader.js\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nexports.__esModule = true;\nexports.markAssetError = markAssetError;\nexports.isAssetError = isAssetError;\nexports.getClientBuildManifest = getClientBuildManifest;\nexports[\"default\"] = void 0;\n\nvar _getAssetPathFromRoute = _interopRequireDefault(require(\"../next-server/lib/router/utils/get-asset-path-from-route\"));\n\nvar _requestIdleCallback = require(\"./request-idle-callback\"); // 3.8s was arbitrarily chosen as it's what https://web.dev/interactive\n// considers as \"Good\" time-to-interactive. We must assume something went\n// wrong beyond this point, and then fall-back to a full page transition to\n// show the user something of value.\n\n\nvar MS_MAX_IDLE_DELAY = 3800;\n\nfunction withFuture(key, map, generator) {\n  var entry = map.get(key);\n\n  if (entry) {\n    if ('future' in entry) {\n      return entry.future;\n    }\n\n    return Promise.resolve(entry);\n  }\n\n  var resolver;\n  var prom = new Promise(function (resolve) {\n    resolver = resolve;\n  });\n  map.set(key, entry = {\n    resolve: resolver,\n    future: prom\n  });\n  return generator ? // eslint-disable-next-line no-sequences\n  generator().then(function (value) {\n    return resolver(value), value;\n  })[\"catch\"](function (e) {\n    map[\"delete\"](key);\n    throw e;\n  }) : prom;\n}\n\nfunction hasPrefetch(link) {\n  try {\n    link = document.createElement('link');\n    return (// detect IE11 since it supports prefetch but isn't detected\n      // with relList.support\n      !!window.MSInputMethodContext && !!document.documentMode || link.relList.supports('prefetch')\n    );\n  } catch (_unused) {\n    return false;\n  }\n}\n\nvar canPrefetch = hasPrefetch();\n\nfunction prefetchViaDom(href, as, link) {\n  return new Promise(function (res, rej) {\n    if (document.querySelector(\"link[rel=\\\"prefetch\\\"][href^=\\\"\".concat(href, \"\\\"]\"))) {\n      return res();\n    }\n\n    link = document.createElement('link'); // The order of property assignment here is intentional:\n\n    if (as) link.as = as;\n    link.rel = \"prefetch\";\n    link.crossOrigin = process.env.__NEXT_CROSS_ORIGIN;\n    link.onload = res;\n    link.onerror = rej; // `href` should always be last:\n\n    link.href = href;\n    document.head.appendChild(link);\n  });\n}\n\nvar ASSET_LOAD_ERROR = Symbol('ASSET_LOAD_ERROR'); // TODO: unexport\n\nfunction markAssetError(err) {\n  return Object.defineProperty(err, ASSET_LOAD_ERROR, {});\n}\n\nfunction isAssetError(err) {\n  return err && ASSET_LOAD_ERROR in err;\n}\n\nfunction appendScript(src, script) {\n  return new Promise(function (resolve, reject) {\n    script = document.createElement('script'); // The order of property assignment here is intentional.\n    // 1. Setup success/failure hooks in case the browser synchronously\n    //    executes when `src` is set.\n\n    script.onload = resolve;\n\n    script.onerror = function () {\n      return reject(markAssetError(new Error(\"Failed to load script: \".concat(src))));\n    }; // 2. Configure the cross-origin attribute before setting `src` in case the\n    //    browser begins to fetch.\n\n\n    script.crossOrigin = process.env.__NEXT_CROSS_ORIGIN; // 3. Finally, set the source and inject into the DOM in case the child\n    //    must be appended for fetching to start.\n\n    script.src = src;\n    document.body.appendChild(script);\n  });\n} // Resolve a promise that times out after given amount of milliseconds.\n\n\nfunction resolvePromiseWithTimeout(p, ms, err) {\n  return new Promise(function (resolve, reject) {\n    var cancelled = false;\n    p.then(function (r) {\n      // Resolved, cancel the timeout\n      cancelled = true;\n      resolve(r);\n    })[\"catch\"](reject);\n    (0, _requestIdleCallback.requestIdleCallback)(function () {\n      return setTimeout(function () {\n        if (!cancelled) {\n          reject(err);\n        }\n      }, ms);\n    });\n  });\n} // TODO: stop exporting or cache the failure\n// It'd be best to stop exporting this. It's an implementation detail. We're\n// only exporting it for backwards compatibilty with the `page-loader`.\n// Only cache this response as a last resort if we cannot eliminate all other\n// code branches that use the Build Manifest Callback and push them through\n// the Route Loader interface.\n\n\nfunction getClientBuildManifest() {\n  if (self.__BUILD_MANIFEST) {\n    return Promise.resolve(self.__BUILD_MANIFEST);\n  }\n\n  var onBuildManifest = new Promise(function (resolve) {\n    // Mandatory because this is not concurrent safe:\n    var cb = self.__BUILD_MANIFEST_CB;\n\n    self.__BUILD_MANIFEST_CB = function () {\n      resolve(self.__BUILD_MANIFEST);\n      cb && cb();\n    };\n  });\n  return resolvePromiseWithTimeout(onBuildManifest, MS_MAX_IDLE_DELAY, markAssetError(new Error('Failed to load client build manifest')));\n}\n\nfunction getFilesForRoute(assetPrefix, route) {\n  if (false) {\n    return Promise.resolve({\n      scripts: [assetPrefix + '/_next/static/chunks/pages' + encodeURI((0, _getAssetPathFromRoute[\"default\"])(route, '.js'))],\n      // Styles are handled by `style-loader` in development:\n      css: []\n    });\n  }\n\n  return getClientBuildManifest().then(function (manifest) {\n    if (!(route in manifest)) {\n      throw markAssetError(new Error(\"Failed to lookup route: \".concat(route)));\n    }\n\n    var allFiles = manifest[route].map(function (entry) {\n      return assetPrefix + '/_next/' + encodeURI(entry);\n    });\n    return {\n      scripts: allFiles.filter(function (v) {\n        return v.endsWith('.js');\n      }),\n      css: allFiles.filter(function (v) {\n        return v.endsWith('.css');\n      })\n    };\n  });\n}\n\nfunction createRouteLoader(assetPrefix) {\n  var entrypoints = new Map();\n  var loadedScripts = new Map();\n  var styleSheets = new Map();\n  var routes = new Map();\n\n  function maybeExecuteScript(src) {\n    var prom = loadedScripts.get(src);\n\n    if (prom) {\n      return prom;\n    } // Skip executing script if it's already in the DOM:\n\n\n    if (document.querySelector(\"script[src^=\\\"\".concat(src, \"\\\"]\"))) {\n      return Promise.resolve();\n    }\n\n    loadedScripts.set(src, prom = appendScript(src));\n    return prom;\n  }\n\n  function fetchStyleSheet(href) {\n    var prom = styleSheets.get(href);\n\n    if (prom) {\n      return prom;\n    }\n\n    styleSheets.set(href, prom = fetch(href).then(function (res) {\n      if (!res.ok) {\n        throw new Error(\"Failed to load stylesheet: \".concat(href));\n      }\n\n      return res.text().then(function (text) {\n        return {\n          href: href,\n          content: text\n        };\n      });\n    })[\"catch\"](function (err) {\n      throw markAssetError(err);\n    }));\n    return prom;\n  }\n\n  return {\n    whenEntrypoint: function whenEntrypoint(route) {\n      return withFuture(route, entrypoints);\n    },\n    onEntrypoint: function onEntrypoint(route, execute) {\n      Promise.resolve(execute).then(function (fn) {\n        return fn();\n      }).then(function (exports) {\n        return {\n          component: exports && exports[\"default\"] || exports,\n          exports: exports\n        };\n      }, function (err) {\n        return {\n          error: err\n        };\n      }).then(function (input) {\n        var old = entrypoints.get(route);\n        entrypoints.set(route, input);\n        if (old && 'resolve' in old) old.resolve(input);\n      });\n    },\n    loadRoute: function loadRoute(route, prefetch) {\n      var _this = this;\n\n      return withFuture(route, routes, function () {\n        return resolvePromiseWithTimeout(getFilesForRoute(assetPrefix, route).then(function (_ref) {\n          var scripts = _ref.scripts,\n              css = _ref.css;\n          return Promise.all([entrypoints.has(route) ? [] : Promise.all(scripts.map(maybeExecuteScript)), Promise.all(css.map(fetchStyleSheet))]);\n        }).then(function (res) {\n          return _this.whenEntrypoint(route).then(function (entrypoint) {\n            return {\n              entrypoint: entrypoint,\n              styles: res[1]\n            };\n          });\n        }), MS_MAX_IDLE_DELAY, markAssetError(new Error(\"Route did not complete loading: \".concat(route)))).then(function (_ref2) {\n          var entrypoint = _ref2.entrypoint,\n              styles = _ref2.styles;\n          var res = Object.assign({\n            styles: styles\n          }, entrypoint);\n          return 'error' in entrypoint ? entrypoint : res;\n        })[\"catch\"](function (err) {\n          if (prefetch) {\n            // we don't want to cache errors during prefetch\n            throw err;\n          }\n\n          return {\n            error: err\n          };\n        });\n      });\n    },\n    prefetch: function prefetch(route) {\n      var _this2 = this;\n\n      // https://github.com/GoogleChromeLabs/quicklink/blob/453a661fa1fa940e2d2e044452398e38c67a98fb/src/index.mjs#L115-L118\n      // License: Apache 2.0\n      var cn;\n\n      if (cn = navigator.connection) {\n        // Don't prefetch if using 2G or if Save-Data is enabled.\n        if (cn.saveData || /2g/.test(cn.effectiveType)) return Promise.resolve();\n      }\n\n      return getFilesForRoute(assetPrefix, route).then(function (output) {\n        return Promise.all(canPrefetch ? output.scripts.map(function (script) {\n          return prefetchViaDom(script, 'script');\n        }) : []);\n      }).then(function () {\n        (0, _requestIdleCallback.requestIdleCallback)(function () {\n          return _this2.loadRoute(route, true)[\"catch\"](function () {});\n        });\n      })[\"catch\"]( // swallow prefetch errors\n      function () {});\n    }\n  };\n}\n\nvar _default = createRouteLoader;\nexports[\"default\"] = _default;",".outsmartly/analysis/modules/13.js":"// components/Product/ProductPhotos/ServerThumbnails.js\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports._outsmartly_thunk = _outsmartly_thunk;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _objectWithoutProperties2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutProperties\"));\n\nvar _Thumbnails = require(\"./Thumbnails\");\n\nvar _helpers = require(\"../../../lib/helpers\");\n\nvar __jsx = _react[\"default\"].createElement;\n\nfunction _outsmartly_thunk(_temp) {\n  if (_outsmartly_slices.$1) {\n    var _temp$variantId = _temp.variantId,\n        variantId = _temp$variantId === void 0 ? undefined : _temp$variantId,\n        colorsByVariant = _temp.colorsByVariant,\n        rest = (0, _objectWithoutProperties2[\"default\"])(_temp, [\"variantId\", \"colorsByVariant\"]);\n  }\n\n  if (_outsmartly_slices.$1) {\n    var serverColor = (0, _helpers.getColorByVariantId)(colorsByVariant, variantId);\n  }\n\n  if (_outsmartly_branch_selections.$0) {\n    {\n      if (_outsmartly_slices.$1) {\n        _outsmartly_outlets.$1 = /*#__PURE__*/_react[\"default\"].createElement(_Thumbnails.Thumbnails, (0, _extends2[\"default\"])({\n          serverColor: serverColor\n        }, rest));\n      }\n    }\n    return _outsmartly_no_return;\n  } else {\n    return /*#__PURE__*/_react[\"default\"].createElement(_Thumbnails.Thumbnails, (0, _extends2[\"default\"])({\n      serverColor: serverColor\n    }, rest));\n  }\n}\n\nvar ServerThumbnails = _outsmartly_thunk;",".outsmartly/analysis/modules/42.js":"// components/Rewards.js\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport _regeneratorRuntime from \"/Users/kai/Work/rbx-rewrite/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _defineProperty from \"/Users/kai/Work/rbx-rewrite/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _asyncToGenerator from \"/Users/kai/Work/rbx-rewrite/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { useRouter } from 'next/router';\nimport { useContext, useEffect, useState } from 'react';\nimport Icon from 'components/icons/Icon';\nimport { container, btn, base, icon, pts, label } from './Rewards.module.css';\nimport { loadLoyaltyLion } from '@outsmartly/shopify-analytics';\nimport { AccountContext } from '@outsmartly/jackrabbit';\nimport { Loader } from './Loader';\nimport { getJSON } from 'lib/utils';\nimport { GuestIntro } from './GuestIntro';\n/**\n * Calls our interceptor API to get reward points for the logged in customer.\n */\n\nfunction getRewardPoints(_x) {\n  return _getRewardPoints.apply(this, arguments);\n}\n/**\n * Rewards\n *\n * A button that launches the rewards modal dialog.\n */\n\n\nfunction _getRewardPoints() {\n  _getRewardPoints = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(account) {\n    var id, email, loyaltylion_token, data;\n    return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            _context3.prev = 0;\n            id = account.id, email = account.email, loyaltylion_token = account.loyaltylion_token;\n            _context3.next = 4;\n            return getJSON(\"/__outsmartly__/loyaltylion/customer?id=\".concat(id, \"&email=\").concat(email, \"&token=\").concat(loyaltylion_token));\n\n          case 4:\n            data = _context3.sent;\n            return _context3.abrupt(\"return\", data.points_approved);\n\n          case 8:\n            _context3.prev = 8;\n            _context3.t0 = _context3[\"catch\"](0);\n            console.error(_context3.t0);\n            return _context3.abrupt(\"return\", undefined);\n\n          case 12:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee3, null, [[0, 8]]);\n  }));\n  return _getRewardPoints.apply(this, arguments);\n}\n\nexport function Rewards(props) {\n  var _useState = useState(true),\n      isInitial = _useState[0],\n      setIsInitial = _useState[1];\n\n  var _useState2 = useState(false),\n      loading = _useState2[0],\n      setLoading = _useState2[1];\n\n  var _useState3 = useState(false),\n      points = _useState3[0],\n      setPoints = _useState3[1];\n\n  var _useContext = useContext(AccountContext),\n      account = _useContext.account;\n\n  var _useRouter = useRouter(),\n      asPath = _useRouter.asPath;\n\n  var _useState4 = useState(false),\n      showGuest = _useState4[0],\n      setShowGuest = _useState4[1]; // Dependency is asPath, because pathname does not change between products\n  // (it's always /product/[product]). Ideally we would strip off the question\n  // mark and query params so that we reinitialize only when DOM is blown away\n  // when the actual page (resource) changes, not just the query string (e.g.\n  // for a different variant). But that's not working. So just use the whole\n  // asPath, and reinit on changes in variants as well as product changes.\n\n\n  useEffect(function () {\n    setIsInitial(true);\n  }, [asPath]); // Right at the start, update the reward points. And determine whether or not\n  // to show the Guest Intro popup\n\n  useEffect( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n    var newPoints, lionKey, data, now, expireTime, newData, _newData;\n\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            if (account) {\n              _context.next = 2;\n              break;\n            }\n\n            return _context.abrupt(\"return\");\n\n          case 2:\n            if (!account.loggedIn) {\n              _context.next = 9;\n              break;\n            }\n\n            _context.next = 5;\n            return getRewardPoints(account);\n\n          case 5:\n            newPoints = _context.sent;\n\n            if (typeof newPoints === 'number') {\n              setPoints(newPoints);\n            }\n\n            _context.next = 13;\n            break;\n\n          case 9:\n            // Check local storage for first time guest timestamp\n            lionKey = 'loyaltylion_persistent_data';\n            data = JSON.parse(localStorage.getItem(lionKey));\n            now = Date.now();\n\n            if (data) {\n              // If persistent data exists, check to see if timestamp has expired\n              // (more than 7 days old)\n              expireTime = 7 * 24 * 60 * 60 * 1000;\n\n              if (now > data.guestIntroductionShownAt + expireTime) {\n                // Show popup, update timestamp in local storage\n                setShowGuest(true);\n                newData = _objectSpread(_objectSpread({}, data), {}, {\n                  guestIntroductionShownAt: now\n                });\n                localStorage.setItem(lionKey, JSON.stringify(newData));\n              }\n            } else {\n              // If loyalty lion persistent data is empty, then this is a first time\n              // guest, so show the popup and set a timestamp in local storage.\n              setShowGuest(true);\n              _newData = {\n                guestIntroductionShownAt: now\n              };\n              localStorage.setItem(lionKey, JSON.stringify(_newData));\n            }\n\n          case 13:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  })), [account]);\n  /** Handles a click on the Rewards button */\n\n  function handleClick(_x2) {\n    return _handleClick.apply(this, arguments);\n  }\n\n  function _handleClick() {\n    _handleClick = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(e) {\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              if (account) {\n                _context2.next = 2;\n                break;\n              }\n\n              return _context2.abrupt(\"return\");\n\n            case 2:\n              if (!isInitial) {\n                _context2.next = 16;\n                break;\n              }\n\n              // Show a loading spinner, and put down the isInitial flag\n              setLoading(true);\n              setIsInitial(false); // Load and execute the script. It returns a Promise. We're going to\n              // return a Promise as well so that caller could potentially use it.\n\n              _context2.prev = 5;\n              _context2.next = 8;\n              return loadLoyaltyLion(account);\n\n            case 8:\n              // When the Promise resolves simulate a click. Well, actually, even\n              // though this Promise has resolved, there are still more scripts that\n              // have to run. So poll until the button exists, then click it.\n              checkForButtonAndClickIt();\n              _context2.next = 14;\n              break;\n\n            case 11:\n              _context2.prev = 11;\n              _context2.t0 = _context2[\"catch\"](5);\n              // Promise was rejected, so log the error message\n              console.error(_context2.t0.message);\n\n            case 14:\n              _context2.next = 17;\n              break;\n\n            case 16:\n              document.querySelector('.lion-loyalty-widget__body').click();\n\n            case 17:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, null, [[5, 11]]);\n    }));\n    return _handleClick.apply(this, arguments);\n  }\n\n  function checkForButtonAndClickIt() {\n    var delay = 100;\n\n    function helper() {\n      var button = document.querySelector('.lion-loyalty-widget__body');\n\n      if (!button) {\n        // It is not in the DOM yet, try again.\n        setTimeout(helper, delay);\n        return;\n      } // It is in the DOM, so click it\n\n\n      button.click();\n      setLoading(false);\n    }\n\n    helper();\n  }\n\n  return /*#__PURE__*/_jsxs(\"div\", {\n    className: container,\n    children: [showGuest && /*#__PURE__*/_jsx(GuestIntro, {\n      onClose: setShowGuest,\n      onLearnMore: function onLearnMore() {\n        handleClick();\n        setShowGuest(false);\n      }\n    }), /*#__PURE__*/_jsxs(\"button\", {\n      className: btn,\n      onClick: handleClick,\n      children: [/*#__PURE__*/_jsxs(\"span\", {\n        className: base,\n        children: [loading ? /*#__PURE__*/_jsx(Loader, {}) : /*#__PURE__*/_jsx(Icon, {\n          icon: \"lion-chevron-up\",\n          className: icon\n        }), /*#__PURE__*/_jsx(\"span\", {\n          className: label,\n          children: \"RBX Rewards\"\n        })]\n      }), (account === null || account === void 0 ? void 0 : account.loggedIn) && typeof points === 'number' && /*#__PURE__*/_jsx(\"span\", {\n        className: pts,\n        children: points\n      })]\n    })]\n  });\n}",".outsmartly/analysis/modules/249.js":"// node_modules/next/dist/client/with-router.js\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nexports.__esModule = true;\nexports.default = withRouter;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _router = require(\"./router\");\n\nfunction withRouter(ComposedComponent) {\n  function WithRouterWrapper(props) {\n    return /*#__PURE__*/_react.default.createElement(ComposedComponent, Object.assign({\n      router: (0, _router.useRouter)()\n    }, props));\n  }\n\n  WithRouterWrapper.getInitialProps = ComposedComponent.getInitialProps // This is needed to allow checking for custom getInitialProps in _app\n  ;\n  WithRouterWrapper.origGetInitialProps = ComposedComponent.origGetInitialProps;\n\n  if (false) {\n    const name = ComposedComponent.displayName || ComposedComponent.name || 'Unknown';\n    WithRouterWrapper.displayName = `withRouter(${name})`;\n  }\n\n  return WithRouterWrapper;\n}",".outsmartly/analysis/modules/309.js":"// components/LemonSpot/Lemon.js\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { useEffect } from 'react';\nimport Link from 'next/link';\nimport ProductRating from 'components/Product/ProductRating';\nimport { getFullProduct } from 'context/getProduct';\nimport { getProductImageUrl } from 'lib/getImageUrl';\nimport { getFilteredImagesByColor } from 'lib/helpers';\nimport { lemon, link, imageWrap, image, imageSecondary, infoWrap, priceWrap, title, price, originalPrice, sale, quickActions } from './Lemon.module.css';\nimport { AddToCartSelect } from './AddToCartSelect';\nimport { useInView } from 'react-intersection-observer';\nimport { getDiscountInfo } from 'lib/discounts';\n/**\n * A Lemon is an individual slide representing a single recommended product. It\n * gets passed by LemonSpot to Slider and then plopped into SlideContainer.\n * @param {Object} children - elements passed down from parent\n * @param {boolean} [cart=undefined] - when true we add Quick Actions to bottom\n * of Lemon\n */\n\nexport function Lemon({\n  content,\n  cart,\n  onInView,\n  onClick\n}) {\n  // Get the full product object from the passed in product\n  const product = getFullProduct(content);\n  const images = getFilteredImagesByColor(product.imageMap); // We an intersection observer here to notify the parent when this Lemon\n  // comes into view (so that the parent can emit a `recInView` event).\n\n  const [ref, inView, entry] = useInView({\n    triggerOnce: true,\n    threshold: 0.5\n  });\n  useEffect(() => {\n    if (inView) {\n      onInView(product, entry);\n    }\n  }, [inView]);\n  const {\n    priceText,\n    saleMessage,\n    oldPrice\n  } = getDiscountInfo(product);\n  return /*#__PURE__*/_jsxs(\"div\", {\n    className: lemon,\n    ref: ref,\n    children: [/*#__PURE__*/_jsx(Link, {\n      href: content.url,\n      children: /*#__PURE__*/_jsxs(\"a\", {\n        className: link,\n        onClick: () => onClick(product),\n        children: [/*#__PURE__*/_jsxs(\"div\", {\n          className: imageWrap,\n          children: [/*#__PURE__*/_jsx(\"img\", {\n            className: image,\n            sizes: \"290px\",\n            src: getProductImageUrl(images[0].src, 600),\n            alt: `${product.title} - ${images[0].altText}`,\n            width: \"290\",\n            height: \"400\"\n          }), images.length > 1 && /*#__PURE__*/_jsx(\"img\", {\n            className: imageSecondary,\n            src: getProductImageUrl(images[1].src, 600),\n            alt: `${product.title} - ${images[0].altText}`,\n            width: \"290\",\n            height: \"400\"\n          })]\n        }), /*#__PURE__*/_jsxs(\"div\", {\n          className: infoWrap,\n          children: [/*#__PURE__*/_jsx(\"div\", {\n            className: title,\n            children: product.title\n          }), /*#__PURE__*/_jsx(\"div\", {\n            style: {\n              display: 'none'\n            },\n            children: product.vendor\n          }), /*#__PURE__*/_jsxs(\"div\", {\n            className: priceWrap,\n            children: [/*#__PURE__*/_jsx(\"span\", {\n              className: price,\n              children: priceText\n            }), /*#__PURE__*/_jsxs(\"span\", {\n              className: originalPrice,\n              style: oldPrice ? {\n                display: 'block'\n              } : undefined,\n              children: [\"$\", oldPrice]\n            })]\n          }), saleMessage ? /*#__PURE__*/_jsx(\"span\", {\n            className: sale,\n            children: saleMessage\n          }) : null, product.numReviews > 0 && /*#__PURE__*/_jsx(ProductRating, {\n            rating: product.rating,\n            numReviews: product.numReviews\n          })]\n        })]\n      })\n    }), cart && /*#__PURE__*/_jsx(\"div\", {\n      className: quickActions,\n      children: /*#__PURE__*/_jsx(AddToCartSelect, {\n        product: product\n      })\n    })]\n  });\n}",".outsmartly/analysis/modules/189.js":"// jackrabbit.components.js\nimport AboutRBX from 'components/AboutRBX';\nimport { RBXLogoSVG } from 'components/Logo';\nimport IconSet from 'components/IconSet1';\nexport default {\n  Icons: IconSet,\n  LogoComponent: RBXLogoSVG,\n  AboutPageContent: AboutRBX\n};",".outsmartly/analysis/modules/218.js":"// node_modules/next/dist/client/link.js\n\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nexports.__esModule = true;\nexports.default = void 0;\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _router = require(\"../next-server/lib/router/router\");\n\nvar _router2 = require(\"./router\");\n\nvar _useIntersection = require(\"./use-intersection\");\n\nconst prefetched = {};\n\nfunction prefetch(router, href, as, options) {\n  if (true || !router) return;\n  if (!(0, _router.isLocalURL)(href)) return; // Prefetch the JSON page if asked (only in the client)\n  // We need to handle a prefetch error here since we may be\n  // loading with priority which can reject but we don't\n  // want to force navigation since this is only a prefetch\n\n  router.prefetch(href, as, options).catch(err => {\n    if (false) {\n      // rethrow to show invalid URL errors\n      throw err;\n    }\n  });\n  const curLocale = options && typeof options.locale !== 'undefined' ? options.locale : router && router.locale; // Join on an invalid URI character\n\n  prefetched[href + '%' + as + (curLocale ? '%' + curLocale : '')] = true;\n}\n\nfunction isModifiedEvent(event) {\n  const {\n    target\n  } = event.currentTarget;\n  return target && target !== '_self' || event.metaKey || event.ctrlKey || event.shiftKey || event.altKey || // triggers resource download\n  event.nativeEvent && event.nativeEvent.which === 2;\n}\n\nfunction linkClicked(e, router, href, as, replace, shallow, scroll, locale) {\n  const {\n    nodeName\n  } = e.currentTarget;\n\n  if (nodeName === 'A' && (isModifiedEvent(e) || !(0, _router.isLocalURL)(href))) {\n    // ignore click for browsers default behavior\n    return;\n  }\n\n  e.preventDefault(); //  avoid scroll for urls with anchor refs\n\n  if (scroll == null && as.indexOf('#') >= 0) {\n    scroll = false;\n  } // replace state instead of push if prop is present\n\n\n  router[replace ? 'replace' : 'push'](href, as, {\n    shallow,\n    locale,\n    scroll\n  });\n}\n\nfunction Link(props) {\n  if (false) {\n    function createPropError(args) {\n      return new Error(`Failed prop type: The prop \\`${args.key}\\` expects a ${args.expected} in \\`<Link>\\`, but got \\`${args.actual}\\` instead.` + (false ? \"\\nOpen your browser's console to view the Component stack trace.\" : ''));\n    } // TypeScript trick for type-guarding:\n\n\n    const requiredPropsGuard = {\n      href: true\n    };\n    const requiredProps = Object.keys(requiredPropsGuard);\n    requiredProps.forEach(key => {\n      if (key === 'href') {\n        if (props[key] == null || typeof props[key] !== 'string' && typeof props[key] !== 'object') {\n          throw createPropError({\n            key,\n            expected: '`string` or `object`',\n            actual: props[key] === null ? 'null' : typeof props[key]\n          });\n        }\n      } else {\n        // TypeScript trick for type-guarding:\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\n        const _ = key;\n      }\n    }); // TypeScript trick for type-guarding:\n\n    const optionalPropsGuard = {\n      as: true,\n      replace: true,\n      scroll: true,\n      shallow: true,\n      passHref: true,\n      prefetch: true,\n      locale: true\n    };\n    const optionalProps = Object.keys(optionalPropsGuard);\n    optionalProps.forEach(key => {\n      const valType = typeof props[key];\n\n      if (key === 'as') {\n        if (props[key] && valType !== 'string' && valType !== 'object') {\n          throw createPropError({\n            key,\n            expected: '`string` or `object`',\n            actual: valType\n          });\n        }\n      } else if (key === 'locale') {\n        if (props[key] && valType !== 'string') {\n          throw createPropError({\n            key,\n            expected: '`string`',\n            actual: valType\n          });\n        }\n      } else if (key === 'replace' || key === 'scroll' || key === 'shallow' || key === 'passHref' || key === 'prefetch') {\n        if (props[key] != null && valType !== 'boolean') {\n          throw createPropError({\n            key,\n            expected: '`boolean`',\n            actual: valType\n          });\n        }\n      } else {\n        // TypeScript trick for type-guarding:\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\n        const _ = key;\n      }\n    }); // This hook is in a conditional but that is ok because `process.env.NODE_ENV` never changes\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n\n    const hasWarned = _react.default.useRef(false);\n\n    if (props.prefetch && !hasWarned.current) {\n      hasWarned.current = true;\n      console.warn('Next.js auto-prefetches automatically based on viewport. The prefetch attribute is no longer needed. More: https://nextjs.org/docs/messages/prefetch-true-deprecated');\n    }\n  }\n\n  const p = props.prefetch !== false;\n  const router = (0, _router2.useRouter)();\n\n  const {\n    href,\n    as\n  } = _react.default.useMemo(() => {\n    const [resolvedHref, resolvedAs] = (0, _router.resolveHref)(router, props.href, true);\n    return {\n      href: resolvedHref,\n      as: props.as ? (0, _router.resolveHref)(router, props.as) : resolvedAs || resolvedHref\n    };\n  }, [router, props.href, props.as]);\n\n  let {\n    children,\n    replace,\n    shallow,\n    scroll,\n    locale\n  } = props; // Deprecated. Warning shown by propType check. If the children provided is a string (<Link>example</Link>) we wrap it in an <a> tag\n\n  if (typeof children === 'string') {\n    children = /*#__PURE__*/_react.default.createElement(\"a\", null, children);\n  } // This will return the first child, if multiple are provided it will throw an error\n\n\n  let child;\n\n  if (false) {\n    try {\n      child = _react.Children.only(children);\n    } catch (err) {\n      throw new Error(`Multiple children were passed to <Link> with \\`href\\` of \\`${props.href}\\` but only one child is supported https://nextjs.org/docs/messages/link-multiple-children` + (false ? \"\\nOpen your browser's console to view the Component stack trace.\" : ''));\n    }\n  } else {\n    child = _react.Children.only(children);\n  }\n\n  const childRef = child && typeof child === 'object' && child.ref;\n  const [setIntersectionRef, isVisible] = (0, _useIntersection.useIntersection)({\n    rootMargin: '200px'\n  });\n\n  const setRef = _react.default.useCallback(el => {\n    setIntersectionRef(el);\n\n    if (childRef) {\n      if (typeof childRef === 'function') childRef(el);else if (typeof childRef === 'object') {\n        childRef.current = el;\n      }\n    }\n  }, [childRef, setIntersectionRef]);\n\n  (0, _react.useEffect)(() => {\n    const shouldPrefetch = isVisible && p && (0, _router.isLocalURL)(href);\n    const curLocale = typeof locale !== 'undefined' ? locale : router && router.locale;\n    const isPrefetched = prefetched[href + '%' + as + (curLocale ? '%' + curLocale : '')];\n\n    if (shouldPrefetch && !isPrefetched) {\n      prefetch(router, href, as, {\n        locale: curLocale\n      });\n    }\n  }, [as, href, isVisible, locale, p, router]);\n  const childProps = {\n    ref: setRef,\n    onClick: e => {\n      if (child.props && typeof child.props.onClick === 'function') {\n        child.props.onClick(e);\n      }\n\n      if (!e.defaultPrevented) {\n        linkClicked(e, router, href, as, replace, shallow, scroll, locale);\n      }\n    }\n  };\n\n  childProps.onMouseEnter = e => {\n    if (!(0, _router.isLocalURL)(href)) return;\n\n    if (child.props && typeof child.props.onMouseEnter === 'function') {\n      child.props.onMouseEnter(e);\n    }\n\n    prefetch(router, href, as, {\n      priority: true\n    });\n  }; // If child is an <a> tag and doesn't have a href attribute, or if the 'passHref' property is\n  // defined, we specify the current 'href', so that repetition is not needed by the user\n\n\n  if (props.passHref || child.type === 'a' && !('href' in child.props)) {\n    const curLocale = typeof locale !== 'undefined' ? locale : router && router.locale; // we only render domain locales if we are currently on a domain locale\n    // so that locale links are still visitable in development/preview envs\n\n    const localeDomain = router && router.isLocaleDomain && (0, _router.getDomainLocale)(as, curLocale, router && router.locales, router && router.domainLocales);\n    childProps.href = localeDomain || (0, _router.addBasePath)((0, _router.addLocale)(as, curLocale, router && router.defaultLocale));\n  }\n\n  return /*#__PURE__*/_react.default.cloneElement(child, childProps);\n}\n\nvar _default = Link;\nexports.default = _default;",".outsmartly/analysis/modules/348.js":"// components/FilterSidebar/Callout.js\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React from 'react';\nimport Link from 'next/link'; // import { getImageUrl } from '../../lib/getImageUrl';\n\nimport oneLineTrim from 'common-tags/lib/oneLineTrim';\nimport { TrackExposure } from '../outsmartly/track-exposure';\nexport function Callout({\n  callout,\n  css\n}) {\n  // Extract props and CSS modules\n  const {\n    id,\n    imgSrc,\n    imgAlt,\n    headingText,\n    buttonText,\n    linkUrl,\n    outsmartlyTracking\n  } = callout;\n  const {\n    calloutElem,\n    content,\n    contentHeading,\n    link\n  } = css; // example props:\n  // {\n  //   \"id\": \"2pz9O5b0eYfuy674X710xo\",\n  //   \"imgAlt\": \"3 pack masks\",\n  //   \"imgSrc\": \"/fast-image/rbx-ctf/7GF0L18g1Ph7z92Mi4futz/fee6b02db7069137f953f45d5b122394/collection-sidebar-callout-2.jpg\",\n  //   \"headingText\": \"3-Pack<br>Masks\",\n  //   \"headingTextColor\": \"#ffffff\",\n  //   \"linkUrl\": \"/collections/accessories\",\n  //   \"buttonText\": \"Shop Now\",\n  //   \"buttonTextColor\": \"#558678\",\n  //   \"buttonTextHoverColor\": \"#9397ba\",\n  //   \"buttonBackgroundColor\": \"#ffffff\",\n  //   \"buttonBackgroundColorOpacity\": null,\n  //   \"align\": \"Right\",\n  //   \"textSizes\": {\n  //     \"name\": \"Default Sidebar Callout Font Sizes\",\n  //     \"headingFontSizeMobile\": \"18px\",\n  //     \"headingFontSizeTablet\": \"18px\",\n  //     \"headingFontSizeDesktop\": \"30px\",\n  //     \"buttonFontSizeMobile\": \"12px\",\n  //     \"buttonFontSizeTablet\": \"12px\",\n  //     \"buttonFontSizeDesktop\": \"14px\"\n  //   },\n  //   \"calloutName\": \"3-Pack Masks\"\n  // }\n  // Replace `img` prop with url to the fast-image asset\n  // Update: this is happening when data gets formatted\n  // const fastImg = getImageUrl(`/fast-image/rbx/t/312/assets/${imgSrc}`);\n  // This assures the CSS in the <style> tag is scoped to this callout\n\n  const elementId = `callout-${id}`;\n  return /*#__PURE__*/_jsxs(\"div\", {\n    className: calloutElem,\n    children: [/*#__PURE__*/_jsx(CalloutCss, {\n      item: callout,\n      elementId: elementId\n    }), /*#__PURE__*/_jsx(TrackExposure, {\n      outsmartlyTracking: outsmartlyTracking,\n      children: /*#__PURE__*/_jsx(\"img\", {\n        src: imgSrc,\n        alt: imgAlt,\n        loading: \"lazy\"\n      })\n    }), /*#__PURE__*/_jsxs(\"div\", {\n      className: `${content} ${elementId}__content`,\n      children: [/*#__PURE__*/_jsx(\"h3\", {\n        className: `${contentHeading} ${elementId}__heading`,\n        dangerouslySetInnerHTML: {\n          __html: headingText\n        }\n      }), /*#__PURE__*/_jsx(Link, {\n        href: linkUrl,\n        children: /*#__PURE__*/_jsx(\"a\", {\n          onClick: () => {\n            trackOutcome('calloutClicked', outsmartlyTracking);\n          },\n          className: `${link} ${elementId}__link`,\n          children: buttonText\n        })\n      })]\n    })]\n  });\n}\n/** Creates a <style> tag with CSS from Contentful */\n\nfunction CalloutCss(props) {\n  const {\n    item = {},\n    elementId\n  } = props;\n  const {\n    headingTextColor,\n    buttonTextColor,\n    buttonTextHoverColor,\n    buttonBackgroundColor,\n    buttonBackgroundColorOpacity,\n    align,\n    textSizes: {\n      headingFontSizeMobile,\n      headingFontSizeTablet,\n      headingFontSizeDesktop,\n      buttonFontSizeMobile,\n      buttonFontSizeTablet,\n      buttonFontSizeDesktop\n    }\n  } = item || {\n    textSizes: {}\n  }; // Opacity from Contentful is from 0-1. Convert it to hex so we can append it.\n\n  const opacity = buttonBackgroundColorOpacity ? Math.floor(buttonBackgroundColorOpacity * 255).toString(16).padStart(2, '0') : ''; // Determine the alignment\n\n  const alignment = align === 'Right' ? 'flex-end' : align === 'Center' ? 'center' : 'flex-start';\n  return /*#__PURE__*/_jsx(\"style\", {\n    dangerouslySetInnerHTML: {\n      __html: oneLineTrim`\n\n.${elementId}__content {\n  align-items: ${alignment};\n}\n\n.${elementId}__heading {\n  color: ${headingTextColor};\n  font-size: ${headingFontSizeTablet};\n  text-align: ${align.toLowerCase()};\n}\n\n.${elementId}__link {\n  color: ${buttonTextColor};\n  font-size: ${buttonFontSizeTablet};\n  background-color: ${buttonBackgroundColor}${opacity};\n}\n\n.${elementId}__link:hover {\n  color: ${buttonTextHoverColor};\n  background-color: ${buttonBackgroundColor};\n}\n\n@media only screen and (min-width: 990px) {\n  .${elementId}__heading {\n    font-size: ${headingFontSizeDesktop};\n  }\n  .${elementId}__link {\n    font-size: ${buttonFontSizeDesktop};\n  }\n}\n`\n    }\n  });\n}",".outsmartly/analysis/modules/208.js":"// components/LemonSpot/LemonSpot.js\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { useEffect } from 'react';\nimport { useInView } from 'react-intersection-observer';\nimport { useRouter } from 'next/router';\nimport { LemonSpotBox } from './LemonSpotBox';\nimport { useRecBox } from './useRecBox';\nimport { authorize, fetchArray, fetchItems, fetchRecent } from './api';\nimport { useYotpo } from 'third-party-scripts/yotpo';\nimport { getPathnames } from 'lib/utils';\n/**\n * LemonSpot is our version of Limespot. Used for personalization and\n * recommendations.\n */\n\nexport function LemonSpot({\n  productId,\n  product,\n  page\n}) {\n  // Get path information for the current page\n  const router = useRouter();\n  const [path] = getPathnames(router); // Get state and useEffects for each type of LemonSpot box\n\n  const [trending, setTrending] = useRecBox('trending', page);\n  const [youMayLike, setYouMayLike] = useRecBox('youmaylike', page);\n  const [recent, setRecent] = useRecBox('recent', page);\n  const [related, setRelated] = useRecBox('related', page);\n  const [crossSell, setCrossSell] = useRecBox('crosssell', page); // We use the intersection observer here to prioritize loading the\n  // personalization scripts if they come into the viewport\n\n  const [ref, inView] = useInView({\n    triggerOnce: true,\n    rootMargin: '100px' // trigger when 100px outside of viewport\n\n  }); // Load yotpo when it comes into view\n\n  useYotpo(productId, inView); // Go get product data on the initial load\n\n  useEffect(() => {\n    let mounted = true;\n    fetchLemonSpotData();\n    /**\n     * Calls authorize() to make sure we have a context ID. When that is done,\n     * it fetches the appropriate data for the given page.\n     */\n\n    async function fetchLemonSpotData() {\n      const contextID = await authorize(); // Lookup map of possible pages to render to, based on page\n\n      const pageTargets = {\n        Product: productPage,\n        Home: homePage,\n        Collection: collectionPage,\n        Cart: cartPage\n      };\n      let pageTarget = pageTargets[page]; // Call the function for this particular page\n\n      pageTarget(); ////////////////////////////////////////////////////////////// Product\n\n      async function productPage() {\n        const mappedRelated = await fetchItems(contextID, 'related', 'Product', productId);\n        const mappedCrossSell = await fetchItems(contextID, 'crosssell', 'Product', productId); // \"Unmap\" the current product (to match fetched properties) and add it\n        // to the front of the Recent Views array in local storage. And don't\n        // show it in the Recently Viewed Items box.\n\n        const imgPrefix = 'https://cdn.shopify.com/s/files/1/1115/2394/products/';\n        const color = product.variants[0].optionMap.Color;\n        const currentProduct = {\n          Identifier: product.id,\n          Title: product.title,\n          Vendor: product.vendor,\n          Price: String(product.price),\n          DisplayUrl: `/products/${product.handle}`,\n          ImageUrl: `${imgPrefix}${product.imageMap[color][0]}`\n        };\n        const mappedRecentViews = await fetchRecent(contextID, 'Product', currentProduct);\n\n        if (mounted) {\n          // Update state\n          setRelated(mappedRelated);\n          setCrossSell(mappedCrossSell);\n          setRecent(mappedRecentViews);\n        }\n      } ////////////////////////////////////////////////////////////// Home\n\n\n      async function homePage() {\n        const [mappedRecentViews, mappedTrending, mappedYouMayLike] = await Promise.all([fetchRecent(contextID, 'Home'), fetchArray(contextID, 'trending', 'Home'), fetchArray(contextID, 'youmaylike', 'Home', {\n          fallbackToPopular: true,\n          limit: '30'\n        })]);\n\n        if (mounted) {\n          setRecent(mappedRecentViews);\n          setTrending(mappedTrending); // Remove any duplicates that first appear in Trending from YouMayLike\n\n          setYouMayLike(mappedYouMayLike.filter(item => !mappedTrending.find(({\n            id\n          }) => item.id === id)));\n        }\n      } ////////////////////////////////////////////////////////////// Collection\n\n\n      async function collectionPage() {\n        const mappedRecentViews = await fetchRecent(contextID, 'collection');\n\n        if (mounted) {\n          setRecent(mappedRecentViews);\n        }\n      } ////////////////////////////////////////////////////////////// Cart\n\n\n      async function cartPage() {\n        const mappedYouMayLike = await fetchArray(contextID, 'youmaylike', 'Cart', {\n          fallbackToPopular: true\n        });\n        const mappedRecentViews = await fetchRecent(contextID, 'cart');\n\n        if (mounted) {\n          setYouMayLike(mappedYouMayLike);\n          setRecent(mappedRecentViews);\n        }\n      }\n    } // Clean up, in case component unmounts during a fetch\n\n\n    return () => {\n      mounted = false;\n    };\n  }, [path]); // Render different boxes on Product, Home, Collection, and Cart pages\n\n  const productPageBoxes = [{\n    boxKey: 'related',\n    data: related\n  }, {\n    boxKey: 'crossSell',\n    data: crossSell\n  }, {\n    boxKey: 'recent',\n    data: recent\n  }];\n  const homePageBoxes = [{\n    boxKey: 'trending',\n    data: trending,\n    forceLargeCards: true\n  }, {\n    boxKey: 'youMayLike',\n    data: youMayLike,\n    forceLargeCards: true\n  }, {\n    boxKey: 'recent',\n    data: recent,\n    forceLargeCards: true\n  }];\n  const collectionPageBoxes = [{\n    boxKey: 'recent',\n    data: recent\n  }];\n  const cartPageBoxes = [{\n    boxKey: 'youMayLike',\n    data: youMayLike,\n    cart: true\n  }, {\n    boxKey: 'recent',\n    data: recent,\n    cart: true\n  }]; //\n  //\n\n  return page === 'Product' ? /*#__PURE__*/_jsxs(\"div\", {\n    ref: ref,\n    children: [/*#__PURE__*/_jsx(\"section\", {\n      \"aria-label\": \"Personalization\",\n      style: {\n        minHeight: '600px'\n      },\n      children: productPageBoxes.map((box, i) => /*#__PURE__*/_jsx(LemonSpotBox, _objectSpread({}, box), i))\n    }), /*#__PURE__*/_jsx(\"section\", {\n      \"aria-label\": \"Shop RBXActive on Instagram\",\n      children: /*#__PURE__*/_jsx(\"div\", {\n        className: \"yotpo yotpo-pictures-widget\",\n        \"data-gallery-id\": \"5d40543dd060a4000d92579a\",\n        \"data-product-id\": productId\n      })\n    }), /*#__PURE__*/_jsx(\"section\", {\n      \"aria-label\": \"Product reviews\",\n      children: /*#__PURE__*/_jsx(\"div\", {\n        className: \"yotpo yotpo-main-widget\",\n        \"data-product-id\": productId\n      })\n    })]\n  }) : page === 'Home' ? /*#__PURE__*/_jsxs(\"div\", {\n    ref: ref,\n    className: \"page-width\",\n    children: [/*#__PURE__*/_jsx(\"section\", {\n      \"aria-label\": \"Personalization\",\n      style: {\n        minHeight: '800px'\n      },\n      children: homePageBoxes.map((box, i) => /*#__PURE__*/_jsx(LemonSpotBox, _objectSpread({}, box), i))\n    }), /*#__PURE__*/_jsxs(\"section\", {\n      \"aria-labelledby\": \"instagram-heading\",\n      className: \"page-width\",\n      children: [/*#__PURE__*/_jsxs(\"h3\", {\n        id: \"instagram-heading\",\n        className: \"instagramHeading\",\n        children: [\"SHOP\", ' ', /*#__PURE__*/_jsx(\"a\", {\n          rel: \"noopener\",\n          target: \"_blank\",\n          href: \"//www.instagram.com/rbxactive/\",\n          children: \"#RBXActive\"\n        }), ' ', \"On Instagram\"]\n      }), /*#__PURE__*/_jsx(\"div\", {\n        className: \"yotpo yotpo-pictures-widget\",\n        \"data-gallery-id\": \"5d313c30e94a496ea55bca4c\",\n        style: {\n          minHeight: '200px'\n        }\n      })]\n    })]\n  }) : page === 'Collection' ? /*#__PURE__*/_jsx(\"div\", {\n    ref: ref,\n    children: /*#__PURE__*/_jsx(\"section\", {\n      \"aria-label\": \"Personalization\",\n      style: {\n        minHeight: '600px'\n      },\n      children: collectionPageBoxes.map((box, i) => /*#__PURE__*/_jsx(LemonSpotBox, _objectSpread({}, box), i))\n    })\n  }) : page === 'Cart' ? /*#__PURE__*/_jsx(\"div\", {\n    ref: ref,\n    children: /*#__PURE__*/_jsx(\"section\", {\n      \"aria-label\": \"Personalization\",\n      style: {\n        minHeight: '1138px'\n      },\n      children: cartPageBoxes.map((box, i) => /*#__PURE__*/_jsx(LemonSpotBox, _objectSpread({}, box), i))\n    })\n  }) : null;\n}\n/*\nLemonSpot is the parent, and acts as a wrapper around the personalization,\nInstagram, and product review sections. It fetches appropriate data based on\npage, passes data down to LemonSpotBox, which passes it down to Slider.\nLemonSpotBox will tell Slider what component to use as the component for\nindividual slides (Lemon).\n\nSlider is dumb. Just takes the data as slides, puts slides in a wide tray\n(SlideContainer), shows you pages of slides. Takes up the full width of its\ncontainer, so caller needs to provide a wrapper element to set the width.\nRequires a few props from parent, and offers a few options:\n- id (string or int)\n- slides (Object array, required)\n- slideWidth: width of individual slides (default: 400)\n- slideComponent: component used to render individual slides (required)\n- gap: horizontal space between slides (default: 15)\n- transition: transition duration for previous/next (default: 1000)\n\nFuture options:\n- auto-play (default: disabled)\n- auto-play duration (default: 5000)\n- percentage width slides\n- full width slides\n- tray edge behaviors (\"reset\", \"wrap\". Default: \"bump\")\n- arrow style (pass down an arrow component. Default: LemonSpotArrow)\n- hide arrows (default: arrows showing)\n- dots style (pass down a dots component. Default: LemonSpotDots)\n- hide dots (default: dots showing)\n*/",".outsmartly/analysis/modules/199.js":"// components/Modal.js\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React, { useEffect } from 'react';\nimport { modal, hiddenModal, content, closeBtn } from './Modal.module.css';\nimport styles from './Modal.module.css';\n/* Based on these:\nBuild a simple Modal Component with React\nhttps://blog.bitsrc.io/build-a-simple-modal-component-with-react-16decdc111a6\n\nModal Dialogs in React\nhttps://daveceddia.com/open-modal-in-react/\n\nHow to render modals in React\nhttps://www.freecodecamp.org/news/how-to-render-modals-in-react-bbe9685e947e/\n*/\n// Supported values for `position` prop:\n// \"centered\" = vertically centered modal\n\nconst Modal = ({\n  show,\n  backdropClose = true,\n  onClose,\n  contentClass = content,\n  customCss = {},\n  keepInDom = false,\n  children\n}) => {\n  // Every time `show` changes: check if we need to show the scroll bar\n  useEffect(() => {\n    if (!show) {\n      // Modal has closed. Stop hiding the scroll bar.\n      document.documentElement.style.overflow = '';\n      document.documentElement.style.marginRight = '';\n    }\n  }, [show]); // Add/remove keydown handler to support closing the modal on Escape press\n\n  useEffect(() => {\n    document.addEventListener('keydown', handleKeyDown);\n    return () => {\n      document.removeEventListener('keydown', handleKeyDown);\n    };\n  }, []);\n  /** Keydown handler. Note that it keeps firing if Modal stays in DOM. */\n\n  function handleKeyDown(e) {\n    if (e.key === 'Escape') {\n      e.preventDefault();\n      onClose(e);\n    }\n  } // When show is false, we either: 1. keep the modal and its contents in the\n  // DOM, but hidden (e.g. Search Bar), or 2. we remove modal and its contents\n  // from the DOM (e.g. QuickShop)\n\n\n  if (!keepInDom && !show) {\n    return null;\n  } // Render the modal and its children. Leave it hidden unless show is true.\n\n\n  return /*#__PURE__*/_jsx(\"div\", {\n    className: `${show ? modal : hiddenModal}`,\n    style: customCss.backdrop,\n    onClick: backdropClose ? onClose : null,\n    children: /*#__PURE__*/_jsxs(\"div\", {\n      className: contentClass,\n      onClick: e => e.stopPropagation(),\n      children: [children, /*#__PURE__*/_jsx(\"button\", {\n        title: \"Close (Esc)\",\n        className: closeBtn,\n        onClick: onClose,\n        style: customCss.closeBtn,\n        children: \"\\xD7\"\n      })]\n    })\n  });\n}; // const ModalPortal = () => {\n//   return ReactDOM.createPortal(Modal, document.getElementById('modal'));\n// };\n// export default ModalPortal;\n\n/* Add an element for holding modals, way up high in the DOM tree */\n\n/* <div id=\"modal\"></div> */\n// Tried to put this in _app.js, doesn't work. Error is this:\n// Uncaught Error: Target container is not a DOM element.\n// So let's just leave it in its original place in the DOM for now.\n\n\nexport default Modal;",".outsmartly/analysis/modules/319.js":"// components/Tabs/Tab.js\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { item, itemActive, link } from './Tab.module.css';\nimport { kebabize } from 'lib/utils';\nexport default function Tab({\n  label,\n  index,\n  onClick,\n  isActive,\n  itemClass = item,\n  itemActiveClass = itemActive,\n  linkClass = link\n}) {\n  return /*#__PURE__*/_jsx(\"li\", {\n    className: `${isActive ? itemActiveClass : itemClass}`,\n    children: /*#__PURE__*/_jsx(\"a\", {\n      href: `#${kebabize(label)}`,\n      className: linkClass,\n      onClick: e => {\n        e.preventDefault();\n        onClick(index);\n      },\n      children: label\n    })\n  });\n}",".outsmartly/analysis/modules/259.js":"// outsmartly/helpers/transform-contentful.js\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport sha1 from 'sha1';\n/**\n * This is a helper function that recursively resolves nested Asset and Entry\n * links within a contentful object and also removes all the extra contentful\n * metadata and stuff. It also adds tracking Ids and for Outsmartly\n * experimentation.\n */\n\nexport async function transformContentful(response) {\n  const data = await response.json();\n  const {\n    // destructure the first items from the items array\n    items: [item],\n    // destructure Asset and Entry for links\n    includes: {\n      Asset,\n      Entry\n    }\n  } = data;\n  const fields = resolveFields(item.fields, Entry, Asset);\n  const transformed = addOutsmartlyTracking(_objectSpread({\n    _orly_parentId: item.sys.id,\n    _orly_parentRevision: item.sys.revision,\n    _orly_parentHash: parentHash(fields)\n  }, fields));\n  return _objectSpread(_objectSpread({}, transformed), {}, {\n    cacheInfo: {\n      age: response.headers.get('age'),\n      cacheStatus: response.headers.get('cf-cache-status')\n    }\n  });\n}\n\nfunction addOutsmartlyTracking(feature) {\n  const {\n    _orly_parentId,\n    _orly_parentRevision,\n    _orly_parentHash\n  } = feature,\n        rest = _objectWithoutProperties(feature, [\"_orly_parentId\", \"_orly_parentRevision\", \"_orly_parentHash\"]);\n\n  return Object.entries(rest).map(([key, value]) => {\n    if (Array.isArray(value)) {\n      return {\n        [key]: value.map(value => {\n          const {\n            _orly_variationId,\n            _orly_variationRevision,\n            _orly_variationHash\n          } = value,\n                variation = _objectWithoutProperties(value, [\"_orly_variationId\", \"_orly_variationRevision\", \"_orly_variationHash\"]);\n\n          return _objectSpread(_objectSpread({}, variation), {}, {\n            outsmartlyTracking: {\n              // position needs to be set when we do the actual randomization and selection\n              featureId: _orly_parentId,\n              variationId: _orly_variationId,\n              metadata: [{\n                key: 'featureHash',\n                value: _orly_parentHash\n              }, {\n                key: 'featureRevision',\n                value: _orly_parentRevision\n              }, {\n                key: 'variationHash',\n                value: _orly_variationHash\n              }, {\n                key: 'variationRevision',\n                value: _orly_variationRevision\n              }]\n            }\n          });\n        })\n      };\n    }\n\n    return {\n      [key]: value\n    };\n  }).reduce((acc, item) => {\n    return _objectSpread(_objectSpread({}, acc), item);\n  }, {});\n}\n\nfunction resolveFields(fields, Entry, Asset) {\n  const result = Object.entries(fields).map(([key, value]) => {\n    if (Array.isArray(value)) {\n      return {\n        [key]: value.map(item => {\n          switch (item.sys.linkType) {\n            case 'Entry':\n              return getEntry(item.sys.id, Entry, Asset);\n\n            case 'Asset':\n              return getAsset(item.sys.id, Asset);\n\n            default:\n              throw Error(`unknown linkType on item.sys. Key is ${key}, item is ${JSON.stringify(item, null, 4)} in resolveFields() outsmartly/helpers/transform-contentful.js`);\n          }\n        }).filter(item => Boolean(item))\n      };\n    } else if (typeof value === 'object' && value !== null) {\n      switch (value.sys.linkType) {\n        case 'Entry':\n          // if it's a nested entry we don't need the variationId here\n          return {\n            [key]: getEntry(value.sys.id, Entry, Asset, true)\n          };\n\n        case 'Asset':\n          return {\n            [key]: getAsset(value.sys.id, Asset)\n          };\n\n        default:\n          throw Error(`unknown linkType on value.sys ${JSON.stringify(value.sys)} in resolveFields() outsmartly/helpers/transform-contentful.js`);\n      }\n    }\n\n    return {\n      [key]: value\n    };\n  }).filter(item => Boolean(Object.entries(item)[0][1])).reduce((acc, item) => {\n    return _objectSpread(_objectSpread({}, acc), item);\n  }, {});\n  return result;\n}\n\nfunction getEntry(id, Entry, Asset, nested) {\n  const entry = Entry.find(entry => entry.sys.id === id);\n\n  if (!entry) {\n    return null;\n  }\n\n  const fields = resolveFields(entry.fields, Entry, Asset); // for nested fields we don't want to add the tracking ids\n\n  if (nested) return fields;\n  return _objectSpread({\n    id,\n    _orly_variationId: entry.sys.id,\n    _orly_variationRevision: entry.sys.revision,\n    _orly_variationHash: createHash(fields)\n  }, fields);\n}\n\nfunction getAsset(id, Asset) {\n  const image = Asset.find(entry => entry.sys.id === id);\n  return {\n    title: image.fields.title,\n    url: image.fields.file.url\n  };\n}\n\nfunction parentHash(fields) {\n  const variationHashes = Object.values(fields).map(value => {\n    if (Array.isArray(value)) {\n      return value.map(item => item._orly_variationHash);\n    }\n\n    return null;\n  }).filter(item => item !== null);\n  return createHash(variationHashes);\n}\n\nexport function createHash(data) {\n  // this should probably be a stable-stringify\n  return sha1(JSON.stringify(data));\n}",".outsmartly/analysis/modules/52.js":"// node_modules/next/dist/client/route-announcer.js\n\"use strict\";\n\nvar _slicedToArray = require(\"/Users/kai/Work/rbx-rewrite/node_modules/next/node_modules/@babel/runtime/helpers/slicedToArray\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nexports.__esModule = true;\nexports.RouteAnnouncer = RouteAnnouncer;\nexports[\"default\"] = void 0;\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _router = require(\"./router\");\n\nfunction RouteAnnouncer() {\n  var _ref = (0, _router.useRouter)(),\n      asPath = _ref.asPath;\n\n  var _ref2 = (0, _react.useState)(''),\n      _ref3 = _slicedToArray(_ref2, 2),\n      routeAnnouncement = _ref3[0],\n      setRouteAnnouncement = _ref3[1]; // Only announce the path change, but not for the first load because screen reader will do that automatically.\n\n\n  var initialPathLoaded = (0, _react.useRef)(false); // Every time the path changes, announce the route change. The announcement will be prioritized by h1, then title\n  // (from metadata), and finally if those don't exist, then the pathName that is in the URL. This methodology is\n  // inspired by Marcy Sutton's accessible client routing user testing. More information can be found here:\n  // https://www.gatsbyjs.com/blog/2019-07-11-user-testing-accessible-client-routing/\n\n  (0, _react.useEffect)(function () {\n    if (!initialPathLoaded.current) {\n      initialPathLoaded.current = true;\n      return;\n    }\n\n    var newRouteAnnouncement;\n    var pageHeader = document.querySelector('h1');\n\n    if (pageHeader) {\n      newRouteAnnouncement = pageHeader.innerText || pageHeader.textContent;\n    }\n\n    if (!newRouteAnnouncement) {\n      if (document.title) {\n        newRouteAnnouncement = document.title;\n      } else {\n        newRouteAnnouncement = asPath;\n      }\n    }\n\n    setRouteAnnouncement(newRouteAnnouncement);\n  }, // TODO: switch to pathname + query object of dynamic route requirements\n  [asPath]);\n  return /*#__PURE__*/_react[\"default\"].createElement(\"p\", {\n    \"aria-live\": \"assertive\" // Make the announcement immediately.\n    ,\n    id: \"__next-route-announcer__\",\n    role: \"alert\",\n    style: {\n      border: 0,\n      clip: 'rect(0 0 0 0)',\n      height: '1px',\n      margin: '-1px',\n      overflow: 'hidden',\n      padding: 0,\n      position: 'absolute',\n      width: '1px',\n      // https://medium.com/@jessebeach/beware-smushed-off-screen-accessible-text-5952a4c2cbfe\n      whiteSpace: 'nowrap',\n      wordWrap: 'normal'\n    }\n  }, routeAnnouncement);\n}\n\nvar _default = RouteAnnouncer;\nexports[\"default\"] = _default;",".outsmartly/analysis/modules/37.js":"// jackrabbit.components.js\nimport AboutRBX from 'components/AboutRBX';\nimport { RBXLogoSVG } from 'components/Logo';\nimport IconSet from 'components/IconSet1';\nexport default {\n  Icons: IconSet,\n  LogoComponent: RBXLogoSVG,\n  AboutPageContent: AboutRBX\n};",".outsmartly/analysis/modules/66.js":"// node_modules/next/dist/next-server/lib/router/utils/prepare-destination.js\n\"use strict\";\n\nvar _defineProperty = require(\"/Users/kai/Work/rbx-rewrite/node_modules/next/node_modules/@babel/runtime/helpers/defineProperty\");\n\nvar _slicedToArray = require(\"/Users/kai/Work/rbx-rewrite/node_modules/next/node_modules/@babel/runtime/helpers/slicedToArray\");\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it; if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nexports.__esModule = true;\nexports.matchHas = matchHas;\nexports.compileNonPath = compileNonPath;\nexports[\"default\"] = prepareDestination;\nexports.getSafeParamName = void 0;\n\nvar _querystring = require(\"./querystring\");\n\nvar _parseRelativeUrl = require(\"./parse-relative-url\");\n\nvar pathToRegexp = _interopRequireWildcard(require(\"next/dist/compiled/path-to-regexp\"));\n\nfunction _getRequireWildcardCache() {\n  if (typeof WeakMap !== \"function\") return null;\n  var cache = new WeakMap();\n\n  _getRequireWildcardCache = function _getRequireWildcardCache() {\n    return cache;\n  };\n\n  return cache;\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  }\n\n  if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") {\n    return {\n      \"default\": obj\n    };\n  }\n\n  var cache = _getRequireWildcardCache();\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n  var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) {\n      var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n      if (desc && (desc.get || desc.set)) {\n        Object.defineProperty(newObj, key, desc);\n      } else {\n        newObj[key] = obj[key];\n      }\n    }\n  }\n\n  newObj[\"default\"] = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n} // ensure only a-zA-Z are used for param names for proper interpolating\n// with path-to-regexp\n\n\nvar getSafeParamName = function getSafeParamName(paramName) {\n  var newParamName = '';\n\n  for (var i = 0; i < paramName.length; i++) {\n    var charCode = paramName.charCodeAt(i);\n\n    if (charCode > 64 && charCode < 91 || // A-Z\n    charCode > 96 && charCode < 123 // a-z\n    ) {\n        newParamName += paramName[i];\n      }\n  }\n\n  return newParamName;\n};\n\nexports.getSafeParamName = getSafeParamName;\n\nfunction matchHas(req, has, query) {\n  var params = {};\n  var initialQueryValues = [];\n\n  if (false) {\n    initialQueryValues = Object.values(req.__NEXT_INIT_QUERY);\n  }\n\n  if (true) {\n    initialQueryValues = Array.from(new URLSearchParams(location.search).values());\n  }\n\n  var allMatch = has.every(function (hasItem) {\n    var value;\n    var key = hasItem.key;\n\n    switch (hasItem.type) {\n      case 'header':\n        {\n          key = key.toLowerCase();\n          value = req.headers[key];\n          break;\n        }\n\n      case 'cookie':\n        {\n          value = req.cookies[hasItem.key];\n          break;\n        }\n\n      case 'query':\n        {\n          // preserve initial encoding of query values\n          value = query[key];\n\n          if (initialQueryValues.includes(value || '')) {\n            value = encodeURIComponent(value);\n          }\n\n          break;\n        }\n\n      case 'host':\n        {\n          var _ref = (req == null ? void 0 : req.headers) || {},\n              host = _ref.host; // remove port from host if present\n\n\n          var hostname = host == null ? void 0 : host.split(':')[0].toLowerCase();\n          value = hostname;\n          break;\n        }\n\n      default:\n        {\n          break;\n        }\n    }\n\n    if (!hasItem.value && value) {\n      params[getSafeParamName(key)] = value;\n      return true;\n    } else if (value) {\n      var matcher = new RegExp(\"^\".concat(hasItem.value, \"$\"));\n      var matches = value.match(matcher);\n\n      if (matches) {\n        if (matches.groups) {\n          Object.keys(matches.groups).forEach(function (groupKey) {\n            params[groupKey] = matches.groups[groupKey];\n          });\n        } else if (hasItem.type === 'host' && matches[0]) {\n          params.host = matches[0];\n        }\n\n        return true;\n      }\n    }\n\n    return false;\n  });\n\n  if (allMatch) {\n    return params;\n  }\n\n  return false;\n}\n\nfunction compileNonPath(value, params) {\n  if (!value.includes(':')) {\n    return value;\n  }\n\n  for (var _i = 0, _Object$keys = Object.keys(params); _i < _Object$keys.length; _i++) {\n    var key = _Object$keys[_i];\n\n    if (value.includes(\":\".concat(key))) {\n      value = value.replace(new RegExp(\":\".concat(key, \"\\\\*\"), 'g'), \":\".concat(key, \"--ESCAPED_PARAM_ASTERISKS\")).replace(new RegExp(\":\".concat(key, \"\\\\?\"), 'g'), \":\".concat(key, \"--ESCAPED_PARAM_QUESTION\")).replace(new RegExp(\":\".concat(key, \"\\\\+\"), 'g'), \":\".concat(key, \"--ESCAPED_PARAM_PLUS\")).replace(new RegExp(\":\".concat(key, \"(?!\\\\w)\"), 'g'), \"--ESCAPED_PARAM_COLON\".concat(key));\n    }\n  }\n\n  value = value.replace(/(:|\\*|\\?|\\+|\\(|\\)|\\{|\\})/g, '\\\\$1').replace(/--ESCAPED_PARAM_PLUS/g, '+').replace(/--ESCAPED_PARAM_COLON/g, ':').replace(/--ESCAPED_PARAM_QUESTION/g, '?').replace(/--ESCAPED_PARAM_ASTERISKS/g, '*'); // the value needs to start with a forward-slash to be compiled\n  // correctly\n\n  return pathToRegexp.compile(\"/\".concat(value), {\n    validate: false\n  })(params).substr(1);\n}\n\nfunction prepareDestination(destination, params, query, appendParamsToQuery) {\n  var parsedDestination = {}; // clone query so we don't modify the original\n\n  query = Object.assign({}, query);\n  var hadLocale = query.__nextLocale;\n  delete query.__nextLocale;\n  delete query.__nextDefaultLocale;\n\n  if (destination.startsWith('/')) {\n    parsedDestination = (0, _parseRelativeUrl.parseRelativeUrl)(destination);\n  } else {\n    var _URL = new URL(destination),\n        pathname = _URL.pathname,\n        searchParams = _URL.searchParams,\n        hash = _URL.hash,\n        hostname = _URL.hostname,\n        port = _URL.port,\n        protocol = _URL.protocol,\n        search = _URL.search,\n        href = _URL.href;\n\n    parsedDestination = {\n      pathname: pathname,\n      query: (0, _querystring.searchParamsToUrlQuery)(searchParams),\n      hash: hash,\n      protocol: protocol,\n      hostname: hostname,\n      port: port,\n      search: search,\n      href: href\n    };\n  }\n\n  var destQuery = parsedDestination.query;\n  var destPath = \"\".concat(parsedDestination.pathname).concat(parsedDestination.hash || '');\n  var destPathParamKeys = [];\n  pathToRegexp.pathToRegexp(destPath, destPathParamKeys);\n  var destPathParams = destPathParamKeys.map(function (key) {\n    return key.name;\n  });\n  var destinationCompiler = pathToRegexp.compile(destPath, // we don't validate while compiling the destination since we should\n  // have already validated before we got to this point and validating\n  // breaks compiling destinations with named pattern params from the source\n  // e.g. /something:hello(.*) -> /another/:hello is broken with validation\n  // since compile validation is meant for reversing and not for inserting\n  // params from a separate path-regex into another\n  {\n    validate: false\n  });\n  var newUrl; // update any params in query values\n\n  for (var _i2 = 0, _Object$entries = Object.entries(destQuery); _i2 < _Object$entries.length; _i2++) {\n    var _Object$entries$_i = _slicedToArray(_Object$entries[_i2], 2),\n        key = _Object$entries$_i[0],\n        strOrArray = _Object$entries$_i[1];\n\n    var value = Array.isArray(strOrArray) ? strOrArray[0] : strOrArray;\n\n    if (value) {\n      // the value needs to start with a forward-slash to be compiled\n      // correctly\n      value = compileNonPath(value, params);\n    }\n\n    destQuery[key] = value;\n  } // add path params to query if it's not a redirect and not\n  // already defined in destination query or path\n\n\n  var paramKeys = Object.keys(params); // remove internal param for i18n\n\n  if (hadLocale) {\n    paramKeys = paramKeys.filter(function (name) {\n      return name !== 'nextInternalLocale';\n    });\n  }\n\n  if (appendParamsToQuery && !paramKeys.some(function (key) {\n    return destPathParams.includes(key);\n  })) {\n    var _iterator = _createForOfIteratorHelper(paramKeys),\n        _step;\n\n    try {\n      for (_iterator.s(); !(_step = _iterator.n()).done;) {\n        var _key = _step.value;\n\n        if (!(_key in destQuery)) {\n          destQuery[_key] = params[_key];\n        }\n      }\n    } catch (err) {\n      _iterator.e(err);\n    } finally {\n      _iterator.f();\n    }\n  }\n\n  try {\n    newUrl = destinationCompiler(params);\n\n    var _newUrl$split = newUrl.split('#'),\n        _newUrl$split2 = _slicedToArray(_newUrl$split, 2),\n        _pathname = _newUrl$split2[0],\n        _hash = _newUrl$split2[1];\n\n    parsedDestination.pathname = _pathname;\n    parsedDestination.hash = \"\".concat(_hash ? '#' : '').concat(_hash || '');\n    delete parsedDestination.search;\n  } catch (err) {\n    if (err.message.match(/Expected .*? to not repeat, but got an array/)) {\n      throw new Error(\"To use a multi-match in the destination you must add `*` at the end of the param name to signify it should repeat. https://nextjs.org/docs/messages/invalid-multi-match\");\n    }\n\n    throw err;\n  } // Query merge order lowest priority to highest\n  // 1. initial URL query values\n  // 2. path segment values\n  // 3. destination specified query values\n\n\n  parsedDestination.query = _objectSpread(_objectSpread({}, query), parsedDestination.query);\n  return {\n    newUrl: newUrl,\n    parsedDestination: parsedDestination\n  };\n}",".outsmartly/analysis/modules/95.js":"// components/LemonSpot/AddToCartSelect.js\nimport _regeneratorRuntime from \"/Users/kai/Work/rbx-rewrite/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport _asyncToGenerator from \"/Users/kai/Work/rbx-rewrite/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { useState, useContext } from 'react';\nimport { wrap, select, option, arrow } from './AddToCartSelect.module.css';\nimport { CartContext } from '@outsmartly/jackrabbit';\n/**\n * A stylized <select> control that contains color/size variants for the current\n * product in a Lemon.\n */\n\nexport function AddToCartSelect(_ref) {\n  var product = _ref.product;\n\n  var _useState = useState('add'),\n      value = _useState[0],\n      setValue = _useState[1];\n\n  var _useContext = useContext(CartContext),\n      addToCart = _useContext.addToCart,\n      setAddStatus = _useContext.setAddStatus;\n\n  function handleAddToCart(_x) {\n    return _handleAddToCart.apply(this, arguments);\n  }\n\n  function _handleAddToCart() {\n    _handleAddToCart = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(e) {\n      var currentVariant;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              e.preventDefault(); // Use the selected value to get the currentVariant\n\n              currentVariant = product.variants.find(function (variant) {\n                return variant.id === e.target.value;\n              }); // Try adding to cart\n\n              _context.prev = 2;\n              _context.next = 5;\n              return addToCart(product, currentVariant);\n\n            case 5:\n              // If it succeeds, report success to UI\n              setAddStatus(document.location.pathname.startsWith('/cart') ? 'cartSuccess' : 'success'); // Reset <select> back to default, and scroll to top of page\n\n              setValue('add');\n              window.scrollTo(0, 0);\n              _context.next = 14;\n              break;\n\n            case 10:\n              _context.prev = 10;\n              _context.t0 = _context[\"catch\"](2);\n              // If add operation fails, report error to UI, and to the console.\n              setAddStatus(_context.t0.message);\n              console.log('error', _context.t0);\n\n            case 14:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[2, 10]]);\n    }));\n    return _handleAddToCart.apply(this, arguments);\n  }\n\n  return product.variants ? /*#__PURE__*/_jsxs(\"div\", {\n    className: wrap,\n    children: [/*#__PURE__*/_jsxs(\"select\", {\n      className: select,\n      size: \"1\",\n      onChange: handleAddToCart,\n      value: value,\n      children: [/*#__PURE__*/_jsx(\"option\", {\n        className: option,\n        value: \"add\",\n        disabled: true,\n        hidden: true,\n        children: \"Add to Cart\"\n      }), product.variants.filter(function (variant) {\n        return variant.availableForSale;\n      }).map(function (_ref2) {\n        var id = _ref2.id,\n            price = _ref2.price,\n            title = _ref2.title;\n        return /*#__PURE__*/_jsx(\"option\", {\n          className: option,\n          dataprice: price,\n          value: id,\n          children: title\n        }, id);\n      })]\n    }), /*#__PURE__*/_jsx(\"div\", {\n      className: arrow\n    })]\n  }) : null;\n}",".outsmartly/analysis/modules/84.js":"// components/Loader.js\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { loader } from './Loader.module.css';\nexport function Loader(props) {\n  return /*#__PURE__*/_jsx(\"div\", {\n    className: loader,\n    children: \"Loading...\"\n  });\n}",".outsmartly/analysis/modules/77.js":"// node_modules/next/dist/client/portal/index.js\n\"use strict\";\n\nvar _slicedToArray = require(\"/Users/kai/Work/rbx-rewrite/node_modules/next/node_modules/@babel/runtime/helpers/slicedToArray\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nexports.__esModule = true;\nexports.Portal = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _reactDom = require(\"react-dom\");\n\nvar Portal = function Portal(_ref) {\n  var children = _ref.children,\n      type = _ref.type;\n  var portalNode = React.useRef(null);\n\n  var _React$useState = React.useState(),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      forceUpdate = _React$useState2[1];\n\n  React.useEffect(function () {\n    portalNode.current = document.createElement(type);\n    document.body.appendChild(portalNode.current);\n    forceUpdate({});\n    return function () {\n      if (portalNode.current) {\n        document.body.removeChild(portalNode.current);\n      }\n    };\n  }, [type]);\n  return portalNode.current ? /*#__PURE__*/(0, _reactDom.createPortal)(children, portalNode.current) : null;\n};\n\nexports.Portal = Portal;",".outsmartly/analysis/modules/26.js":"// node_modules/next/dist/client/normalize-trailing-slash.js\n\"use strict\";\n\nexports.__esModule = true;\nexports.removePathTrailingSlash = removePathTrailingSlash;\nexports.normalizePathTrailingSlash = void 0;\n/**\n* Removes the trailing slash of a path if there is one. Preserves the root path `/`.\n*/\n\nfunction removePathTrailingSlash(path) {\n  return path.endsWith('/') && path !== '/' ? path.slice(0, -1) : path;\n}\n/**\n* Normalizes the trailing slash of a path according to the `trailingSlash` option\n* in `next.config.js`.\n*/\n\n\nvar normalizePathTrailingSlash = process.env.__NEXT_TRAILING_SLASH ? function (path) {\n  if (/\\.[^/]+\\/?$/.test(path)) {\n    return removePathTrailingSlash(path);\n  } else if (path.endsWith('/')) {\n    return path;\n  } else {\n    return path + '/';\n  }\n} : removePathTrailingSlash;\nexports.normalizePathTrailingSlash = normalizePathTrailingSlash;",".outsmartly/analysis/modules/12.js":"// components/TopBarSlider.js\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports._outsmartly_thunk = _outsmartly_thunk;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _reactSlick = _interopRequireDefault(require(\"react-slick\"));\n\nvar __jsx = _react[\"default\"].createElement;\n\nfunction _outsmartly_thunk(_temp) {\n  if (_outsmartly_slices.$1) {\n    var promos = _temp.promos,\n        styles = _temp.styles,\n        backgroundColor = _temp.backgroundColor,\n        textColor = _temp.textColor,\n        settings = _temp.settings;\n  }\n\n  if (_outsmartly_branch_selections.$0) {\n    {\n      if (_outsmartly_slices.$1) {\n        _outsmartly_outlets.$1 = /*#__PURE__*/_react[\"default\"].createElement(_reactSlick[\"default\"], (0, _extends2[\"default\"])({\n          style: {\n            backgroundColor: backgroundColor,\n            color: textColor\n          }\n        }, settings), promos.map(function (_ref, i) {\n          var heading = _ref.heading,\n              _ref$linkUrl = _ref.linkUrl,\n              linkUrl = _ref$linkUrl === void 0 ? null : _ref$linkUrl;\n          return linkUrl ? /*#__PURE__*/_react[\"default\"].createElement(\"a\", {\n            href: linkUrl,\n            key: i,\n            className: styles.promo,\n            dangerouslySetInnerHTML: {\n              __html: heading\n            }\n          }) :\n          /*#__PURE__*/\n          // Having <a /> elements without a valid href attribute effects\n          // Lighthouse scores.\n          _react[\"default\"].createElement(\"span\", {\n            key: i,\n            className: styles.promo,\n            dangerouslySetInnerHTML: {\n              __html: heading\n            }\n          });\n        }));\n      }\n    }\n    return _outsmartly_no_return;\n  } else {\n    return /*#__PURE__*/_react[\"default\"].createElement(_reactSlick[\"default\"], (0, _extends2[\"default\"])({\n      style: {\n        backgroundColor: backgroundColor,\n        color: textColor\n      }\n    }, settings), promos.map(function (_ref2, i) {\n      var heading = _ref2.heading,\n          _ref2$linkUrl = _ref2.linkUrl,\n          linkUrl = _ref2$linkUrl === void 0 ? null : _ref2$linkUrl;\n      return linkUrl ? /*#__PURE__*/_react[\"default\"].createElement(\"a\", {\n        href: linkUrl,\n        key: i,\n        className: styles.promo,\n        dangerouslySetInnerHTML: {\n          __html: heading\n        }\n      }) :\n      /*#__PURE__*/\n      // Having <a /> elements without a valid href attribute effects\n      // Lighthouse scores.\n      _react[\"default\"].createElement(\"span\", {\n        key: i,\n        className: styles.promo,\n        dangerouslySetInnerHTML: {\n          __html: heading\n        }\n      });\n    }));\n  }\n}\n\nvar TopBarSlider = _outsmartly_thunk;",".outsmartly/analysis/modules/43.js":"// components/Footer.js\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport _defineProperty from \"/Users/kai/Work/rbx-rewrite/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React from 'react';\nimport Link from 'next/link';\nimport { siteFooter, group, grid, social, footerLogo, copyright } from './Footer.module.css';\nimport styles from './Footer.module.css';\nimport SocialIcon from './SocialIcon';\nimport { getImageUrl } from 'lib/getImageUrl';\nimport config from '../jackrabbit.config';\nvar _config$sections$foot = config.sections.footer,\n    logo = _config$sections$foot.logo,\n    copyrightText = _config$sections$foot.copyrightText,\n    links = _config$sections$foot.links;\nexport default function Footer(props) {\n  return /*#__PURE__*/_jsx(\"footer\", {\n    className: \"\".concat(siteFooter, \" closes-drawer\"),\n    children: /*#__PURE__*/_jsxs(\"div\", {\n      className: \"page-width\",\n      children: [/*#__PURE__*/_jsxs(\"div\", {\n        className: grid,\n        children: [links.map(function (g) {\n          return /*#__PURE__*/_jsxs(\"div\", {\n            className: group,\n            children: [/*#__PURE__*/_jsx(\"h2\", {\n              id: g.id,\n              children: g.heading\n            }), /*#__PURE__*/_jsx(\"ul\", {\n              \"aria-labelledby\": g.id,\n              children: g.links.map(function (link, i) {\n                return /*#__PURE__*/_jsx(\"li\", {\n                  children: /*#__PURE__*/_jsx(\"a\", {\n                    href: link.route,\n                    children: link.text\n                  })\n                }, i);\n              })\n            }), g.nested && /*#__PURE__*/_jsxs(\"div\", {\n              className: group,\n              children: [/*#__PURE__*/_jsx(\"h2\", {\n                id: g.nested.id,\n                className: \"visually-hidden\",\n                children: g.nested.heading\n              }), /*#__PURE__*/_jsx(\"ul\", {\n                \"aria-labelledby\": g.nested.id,\n                className: styles[g.nested.id],\n                children: g.nested.links.map(function (icon) {\n                  return /*#__PURE__*/_jsx(\"li\", {\n                    children: /*#__PURE__*/_jsx(SocialIcon, _objectSpread({}, icon))\n                  }, icon.name);\n                })\n              })]\n            })]\n          }, g.id);\n        }), /*#__PURE__*/_jsx(\"div\", {\n          className: group,\n          children: /*#__PURE__*/_jsx(\"img\", {\n            className: footerLogo,\n            src: getImageUrl(logo),\n            alt: \"Footer Logo\",\n            loading: \"lazy\"\n          })\n        })]\n      }), /*#__PURE__*/_jsx(\"p\", {\n        className: copyright,\n        children: copyrightText\n      })]\n    })\n  });\n}",".outsmartly/analysis/modules/248.js":"// node_modules/next/dist/client/request-idle-callback.js\n\"use strict\";\n\nexports.__esModule = true;\nexports.cancelIdleCallback = exports.requestIdleCallback = void 0;\n\nconst requestIdleCallback = typeof self !== 'undefined' && self.requestIdleCallback || function (cb) {\n  let start = Date.now();\n  return setTimeout(function () {\n    cb({\n      didTimeout: false,\n      timeRemaining: function () {\n        return Math.max(0, 50 - (Date.now() - start));\n      }\n    });\n  }, 1);\n};\n\nexports.requestIdleCallback = requestIdleCallback;\n\nconst cancelIdleCallback = typeof self !== 'undefined' && self.cancelIdleCallback || function (id) {\n  return clearTimeout(id);\n};\n\nexports.cancelIdleCallback = cancelIdleCallback;",".outsmartly/analysis/modules/308.js":"// components/FilterSidebar/FilterSidebar.js\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React, { useRef } from 'react';\nimport Link from 'next/link';\nimport { useRouter } from 'next/router';\nimport { filterSidebar, navList, parent, trigger, triggerIcon, childList, filterToggle, active, wrap, menu, group, hasSelection, clear } from './FilterSidebar.module.css';\nimport Icon from 'components/icons/Icon';\nimport sidebarNav from 'data/sidebarNav';\nimport ColorFilter from './ColorFilter';\nimport SizeFilter from './SizeFilter';\nimport Callouts from './Callouts';\nimport { getClearTagHref } from 'lib/utils';\nexport default function FilterSidebar({\n  handle,\n  groupName,\n  callouts\n}) {\n  var _query$tagQuery$inclu, _query$tagQuery, _query$tagQuery$inclu2, _query$tagQuery2, _document, _document$location;\n\n  const navListRef = useRef();\n  const filterPanelRef = useRef();\n  const router = useRouter();\n  /** Handle a \"trigger click\": a click on a top level link in the sidebar\n   * navigation that has a child list. First determine if trigger wants to open\n   * or close its childList. If wants to open, close all lists, then open this\n   * one. If wants to close, just close it. */\n\n  const triggerClick = e => {\n    e.preventDefault(); //Get the list associated with this trigger\n\n    const list = e.target.parentElement.querySelector(`.${childList}`); // Is it currently open?\n\n    if (list.classList.contains(active)) {\n      // If yes, then we want to close it. So just close it.\n      list.classList.remove(active);\n    } else {\n      // If not, then we want to open it. Close any open lists (should be only\n      // zero or one open list)...\n      let childLists = navListRef.current.querySelectorAll(`.${childList}.${active}`);\n\n      if (childLists.length) {\n        childLists.forEach(childList => {\n          childList.classList.remove(active);\n        });\n      } // ...then open this one.\n\n\n      list.classList.add(active);\n    }\n  };\n  /** Toggle the filter panel in the sidebar */\n\n\n  const toggleFilter = e => {\n    const btn = e.target; // Set CSS class on filter panel. Expanded becomes `true` when opened\n\n    const expanded = filterPanelRef.current.classList.toggle(active);\n    btn.setAttribute('aria-expanded', expanded);\n    const btnLabel = expanded ? 'Hide Filter Menu' : 'Show Filter Menu';\n    btn.textContent = btnLabel;\n  }; // If this collection is within a group, find the group name and links\n\n\n  let sidebarLinks;\n\n  if (groupName) {\n    const sidebarNavGroup = sidebarNav.find(g => g.name === groupName);\n    sidebarLinks = sidebarNavGroup.links;\n  } // Determine whether to show the \"clear\" links on the Color and Size filter\n  // headings.\n\n\n  const {\n    query\n  } = router;\n  const hasSelectedColor = (_query$tagQuery$inclu = (_query$tagQuery = query.tagQuery) === null || _query$tagQuery === void 0 ? void 0 : _query$tagQuery.includes('color')) !== null && _query$tagQuery$inclu !== void 0 ? _query$tagQuery$inclu : false;\n  const hasSelectedSize = (_query$tagQuery$inclu2 = (_query$tagQuery2 = query.tagQuery) === null || _query$tagQuery2 === void 0 ? void 0 : _query$tagQuery2.includes('size')) !== null && _query$tagQuery$inclu2 !== void 0 ? _query$tagQuery$inclu2 : false; // Determine the correct route for the \"clear\" links\n\n  const clearColorHref = getClearTagHref(query, 'color');\n  const clearSizeHref = getClearTagHref(query, 'size');\n  const isAllProducts = typeof document !== 'undefined' && ((_document = document) === null || _document === void 0 ? void 0 : (_document$location = _document.location) === null || _document$location === void 0 ? void 0 : _document$location.pathname) === '/collections/all';\n  return /*#__PURE__*/_jsxs(\"div\", {\n    className: filterSidebar,\n    children: [groupName && /*#__PURE__*/_jsx(\"nav\", {\n      \"aria-label\": \"Secondary\",\n      children: /*#__PURE__*/_jsx(\"ul\", {\n        className: navList,\n        ref: navListRef,\n        children: sidebarLinks.map(link => {\n          if (link.hidden) {\n            return null;\n          } else {\n            return /*#__PURE__*/_jsx(\"li\", {\n              className: parent,\n              children: link.subNav ?\n              /*#__PURE__*/\n\n              /* If child list exists, print a trigger anchor and the list */\n              _jsxs(_Fragment, {\n                children: [/*#__PURE__*/_jsxs(\"a\", {\n                  className: trigger,\n                  href: \"#\",\n                  onClick: triggerClick,\n                  children: [link.navText, /*#__PURE__*/_jsx(Icon, {\n                    icon: \"angle-down\",\n                    className: triggerIcon\n                  })]\n                }), /*#__PURE__*/_jsx(\"ul\", {\n                  className: `${childList} ${link.initialActive ? active : ''}`,\n                  children: link.subNav.map(sub => {\n                    if (sub.hidden) {\n                      return null;\n                    } else {\n                      return /*#__PURE__*/_jsx(\"li\", {\n                        children: /*#__PURE__*/_jsx(Link, {\n                          href: sub.route,\n                          children: /*#__PURE__*/_jsx(\"a\", {\n                            children: sub.navText\n                          })\n                        })\n                      }, sub.navText);\n                    }\n                  })\n                })]\n              }) :\n              /*#__PURE__*/\n\n              /* Otherwise, just print a link */\n              _jsx(Link, {\n                href: link.route,\n                children: /*#__PURE__*/_jsx(\"a\", {\n                  children: link.navText\n                })\n              })\n            }, link.navText);\n          }\n        })\n      })\n    }), /*#__PURE__*/_jsx(\"button\", {\n      className: filterToggle,\n      onClick: toggleFilter,\n      \"aria-controls\": \"filter-panel\",\n      \"aria-expanded\": \"false\",\n      children: \"Show Filter Menu\"\n    }), /*#__PURE__*/_jsx(\"div\", {\n      id: \"filter-panel\",\n      ref: filterPanelRef,\n      className: wrap,\n      children: /*#__PURE__*/_jsxs(\"div\", {\n        className: menu,\n        children: [/*#__PURE__*/_jsxs(\"div\", {\n          className: group,\n          children: [/*#__PURE__*/_jsx(\"h4\", {\n            children: \"Refine\"\n          }), !isAllProducts ? /*#__PURE__*/_jsx(Link, {\n            href: \"/collections/all\",\n            children: /*#__PURE__*/_jsx(\"a\", {\n              className: clear,\n              children: \"view all\"\n            })\n          }) : null]\n        }), /*#__PURE__*/_jsxs(\"div\", {\n          className: hasSelectedColor ? hasSelection : group,\n          children: [/*#__PURE__*/_jsx(\"h4\", {\n            children: \"Color\"\n          }), /*#__PURE__*/_jsx(Link, {\n            href: clearColorHref,\n            children: /*#__PURE__*/_jsx(\"a\", {\n              className: clear,\n              children: \"clear\"\n            })\n          }), /*#__PURE__*/_jsx(ColorFilter, {\n            handle: handle\n          })]\n        }), /*#__PURE__*/_jsxs(\"div\", {\n          className: hasSelectedSize ? hasSelection : group,\n          children: [/*#__PURE__*/_jsx(\"h4\", {\n            children: \"Size\"\n          }), /*#__PURE__*/_jsx(Link, {\n            href: clearSizeHref,\n            children: /*#__PURE__*/_jsx(\"a\", {\n              className: clear,\n              children: \"clear\"\n            })\n          }), /*#__PURE__*/_jsx(SizeFilter, {\n            handle: handle\n          })]\n        })]\n      })\n    }), /*#__PURE__*/_jsx(Callouts, {\n      callouts: callouts\n    })]\n  });\n}",".outsmartly/analysis/modules/219.js":"// node_modules/next/dist/pages/_document.js\n\"use strict\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nexports.__esModule = true;\nexports.Html = Html;\nexports.Main = Main;\nexports.NextScript = exports.Head = exports.default = void 0;\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _server = _interopRequireDefault(require(\"styled-jsx/server\"));\n\nvar _constants = require(\"../next-server/lib/constants\");\n\nvar _documentContext = require(\"../next-server/lib/document-context\");\n\nvar _utils = require(\"../next-server/lib/utils\");\n\nexports.DocumentContext = _utils.DocumentContext;\nexports.DocumentInitialProps = _utils.DocumentInitialProps;\nexports.DocumentProps = _utils.DocumentProps;\n\nvar _getPageFiles = require(\"../next-server/server/get-page-files\");\n\nvar _utils2 = require(\"../next-server/server/utils\");\n\nvar _htmlescape = require(\"../server/htmlescape\");\n\nvar _script = _interopRequireDefault(require(\"../client/script\"));\n\nfunction _getRequireWildcardCache() {\n  if (typeof WeakMap !== \"function\") return null;\n  var cache = new WeakMap();\n\n  _getRequireWildcardCache = function () {\n    return cache;\n  };\n\n  return cache;\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  }\n\n  if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") {\n    return {\n      default: obj\n    };\n  }\n\n  var cache = _getRequireWildcardCache();\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n  var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) {\n      var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n      if (desc && (desc.get || desc.set)) {\n        Object.defineProperty(newObj, key, desc);\n      } else {\n        newObj[key] = obj[key];\n      }\n    }\n  }\n\n  newObj.default = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction getDocumentFiles(buildManifest, pathname, inAmpMode) {\n  const sharedFiles = (0, _getPageFiles.getPageFiles)(buildManifest, '/_app');\n  const pageFiles = inAmpMode ? [] : (0, _getPageFiles.getPageFiles)(buildManifest, pathname);\n  return {\n    sharedFiles,\n    pageFiles,\n    allFiles: [...new Set([...sharedFiles, ...pageFiles])]\n  };\n}\n\nfunction getPolyfillScripts(context, props) {\n  // polyfills.js has to be rendered as nomodule without async\n  // It also has to be the first script to load\n  const {\n    assetPrefix,\n    buildManifest,\n    devOnlyCacheBusterQueryString,\n    disableOptimizedLoading\n  } = context;\n  return buildManifest.polyfillFiles.filter(polyfill => polyfill.endsWith('.js') && !polyfill.endsWith('.module.js')).map(polyfill => /*#__PURE__*/_react.default.createElement(\"script\", {\n    key: polyfill,\n    defer: !disableOptimizedLoading,\n    nonce: props.nonce,\n    crossOrigin: props.crossOrigin || process.env.__NEXT_CROSS_ORIGIN,\n    noModule: true,\n    src: `${assetPrefix}/_next/${polyfill}${devOnlyCacheBusterQueryString}`\n  }));\n}\n\nfunction getPreNextScripts(context, props) {\n  const {\n    scriptLoader,\n    disableOptimizedLoading\n  } = context;\n  return (scriptLoader.beforeInteractive || []).map(file => {\n    const {\n      strategy\n    } = file,\n          scriptProps = _objectWithoutProperties(file, [\"strategy\"]);\n\n    return /*#__PURE__*/_react.default.createElement(\"script\", Object.assign({}, scriptProps, {\n      defer: !disableOptimizedLoading,\n      nonce: props.nonce,\n      crossOrigin: props.crossOrigin || process.env.__NEXT_CROSS_ORIGIN\n    }));\n  });\n}\n\nfunction getDynamicChunks(context, props, files) {\n  const {\n    dynamicImports,\n    assetPrefix,\n    isDevelopment,\n    devOnlyCacheBusterQueryString,\n    disableOptimizedLoading\n  } = context;\n  return dynamicImports.map(file => {\n    if (!file.endsWith('.js') || files.allFiles.includes(file)) return null;\n    return /*#__PURE__*/_react.default.createElement(\"script\", {\n      async: !isDevelopment && disableOptimizedLoading,\n      defer: !disableOptimizedLoading,\n      key: file,\n      src: `${assetPrefix}/_next/${encodeURI(file)}${devOnlyCacheBusterQueryString}`,\n      nonce: props.nonce,\n      crossOrigin: props.crossOrigin || process.env.__NEXT_CROSS_ORIGIN\n    });\n  });\n}\n\nfunction getScripts(context, props, files) {\n  var _buildManifest$lowPri;\n\n  const {\n    assetPrefix,\n    buildManifest,\n    isDevelopment,\n    devOnlyCacheBusterQueryString,\n    disableOptimizedLoading\n  } = context;\n  const normalScripts = files.allFiles.filter(file => file.endsWith('.js'));\n  const lowPriorityScripts = (_buildManifest$lowPri = buildManifest.lowPriorityFiles) == null ? void 0 : _buildManifest$lowPri.filter(file => file.endsWith('.js'));\n  return [...normalScripts, ...lowPriorityScripts].map(file => {\n    return /*#__PURE__*/_react.default.createElement(\"script\", {\n      key: file,\n      src: `${assetPrefix}/_next/${encodeURI(file)}${devOnlyCacheBusterQueryString}`,\n      nonce: props.nonce,\n      async: !isDevelopment && disableOptimizedLoading,\n      defer: !disableOptimizedLoading,\n      crossOrigin: props.crossOrigin || process.env.__NEXT_CROSS_ORIGIN\n    });\n  });\n}\n/**\n* `Document` component handles the initial `document` markup and renders only on the server side.\n* Commonly used for implementing server side rendering for `css-in-js` libraries.\n*/\n\n\nclass Document extends _react.Component {\n  /**\n  * `getInitialProps` hook returns the context object with the addition of `renderPage`.\n  * `renderPage` callback executes `React` rendering logic synchronously to support server-rendering wrappers\n  */\n  static async getInitialProps(ctx) {\n    const enhanceApp = App => {\n      return props => /*#__PURE__*/_react.default.createElement(App, props);\n    };\n\n    const {\n      html,\n      head\n    } = await ctx.renderPage({\n      enhanceApp\n    });\n    const styles = [...(0, _server.default)()];\n    return {\n      html,\n      head,\n      styles\n    };\n  }\n\n  static renderDocument(DocumentComponent, props) {\n    return /*#__PURE__*/_react.default.createElement(_documentContext.DocumentContext.Provider, {\n      value: props\n    }, /*#__PURE__*/_react.default.createElement(DocumentComponent, props));\n  }\n\n  render() {\n    return /*#__PURE__*/_react.default.createElement(Html, null, /*#__PURE__*/_react.default.createElement(Head, null), /*#__PURE__*/_react.default.createElement(\"body\", null, /*#__PURE__*/_react.default.createElement(Main, null), /*#__PURE__*/_react.default.createElement(NextScript, null)));\n  }\n\n}\n\nexports.default = Document;\n\nfunction Html(props) {\n  const {\n    inAmpMode,\n    docComponentsRendered,\n    locale\n  } = (0, _react.useContext)(_documentContext.DocumentContext);\n  docComponentsRendered.Html = true;\n  return /*#__PURE__*/_react.default.createElement(\"html\", Object.assign({}, props, {\n    lang: props.lang || locale || undefined,\n    amp: inAmpMode ? '' : undefined,\n    \"data-ampdevmode\": inAmpMode && false ? '' : undefined\n  }));\n}\n\nclass Head extends _react.Component {\n  constructor(...args) {\n    super(...args);\n    this.context = void 0;\n  }\n\n  getCssLinks(files) {\n    const {\n      assetPrefix,\n      devOnlyCacheBusterQueryString,\n      dynamicImports\n    } = this.context;\n    const cssFiles = files.allFiles.filter(f => f.endsWith('.css'));\n    const sharedFiles = new Set(files.sharedFiles); // Unmanaged files are CSS files that will be handled directly by the\n    // webpack runtime (`mini-css-extract-plugin`).\n\n    let unmangedFiles = new Set([]);\n    let dynamicCssFiles = Array.from(new Set(dynamicImports.filter(file => file.endsWith('.css'))));\n\n    if (dynamicCssFiles.length) {\n      const existing = new Set(cssFiles);\n      dynamicCssFiles = dynamicCssFiles.filter(f => !(existing.has(f) || sharedFiles.has(f)));\n      unmangedFiles = new Set(dynamicCssFiles);\n      cssFiles.push(...dynamicCssFiles);\n    }\n\n    let cssLinkElements = [];\n    cssFiles.forEach(file => {\n      const isSharedFile = sharedFiles.has(file);\n\n      if (!process.env.__NEXT_OPTIMIZE_CSS) {\n        cssLinkElements.push( /*#__PURE__*/_react.default.createElement(\"link\", {\n          key: `${file}-preload`,\n          nonce: this.props.nonce,\n          rel: \"preload\",\n          href: `${assetPrefix}/_next/${encodeURI(file)}${devOnlyCacheBusterQueryString}`,\n          as: \"style\",\n          crossOrigin: this.props.crossOrigin || process.env.__NEXT_CROSS_ORIGIN\n        }));\n      }\n\n      const isUnmanagedFile = unmangedFiles.has(file);\n      cssLinkElements.push( /*#__PURE__*/_react.default.createElement(\"link\", {\n        key: file,\n        nonce: this.props.nonce,\n        rel: \"stylesheet\",\n        href: `${assetPrefix}/_next/${encodeURI(file)}${devOnlyCacheBusterQueryString}`,\n        crossOrigin: this.props.crossOrigin || process.env.__NEXT_CROSS_ORIGIN,\n        \"data-n-g\": isUnmanagedFile ? undefined : isSharedFile ? '' : undefined,\n        \"data-n-p\": isUnmanagedFile ? undefined : isSharedFile ? undefined : ''\n      }));\n    });\n\n    if (true && process.env.__NEXT_OPTIMIZE_FONTS) {\n      cssLinkElements = this.makeStylesheetInert(cssLinkElements);\n    }\n\n    return cssLinkElements.length === 0 ? null : cssLinkElements;\n  }\n\n  getPreloadDynamicChunks() {\n    const {\n      dynamicImports,\n      assetPrefix,\n      devOnlyCacheBusterQueryString\n    } = this.context;\n    return dynamicImports.map(file => {\n      if (!file.endsWith('.js')) {\n        return null;\n      }\n\n      return /*#__PURE__*/_react.default.createElement(\"link\", {\n        rel: \"preload\",\n        key: file,\n        href: `${assetPrefix}/_next/${encodeURI(file)}${devOnlyCacheBusterQueryString}`,\n        as: \"script\",\n        nonce: this.props.nonce,\n        crossOrigin: this.props.crossOrigin || process.env.__NEXT_CROSS_ORIGIN\n      });\n    }) // Filter out nulled scripts\n    .filter(Boolean);\n  }\n\n  getPreloadMainLinks(files) {\n    const {\n      assetPrefix,\n      devOnlyCacheBusterQueryString,\n      scriptLoader\n    } = this.context;\n    const preloadFiles = files.allFiles.filter(file => {\n      return file.endsWith('.js');\n    });\n    return [...(scriptLoader.beforeInteractive || []).map(file => /*#__PURE__*/_react.default.createElement(\"link\", {\n      key: file.src,\n      nonce: this.props.nonce,\n      rel: \"preload\",\n      href: file.src,\n      as: \"script\",\n      crossOrigin: this.props.crossOrigin || process.env.__NEXT_CROSS_ORIGIN\n    })), ...preloadFiles.map(file => /*#__PURE__*/_react.default.createElement(\"link\", {\n      key: file,\n      nonce: this.props.nonce,\n      rel: \"preload\",\n      href: `${assetPrefix}/_next/${encodeURI(file)}${devOnlyCacheBusterQueryString}`,\n      as: \"script\",\n      crossOrigin: this.props.crossOrigin || process.env.__NEXT_CROSS_ORIGIN\n    }))];\n  }\n\n  getDynamicChunks(files) {\n    return getDynamicChunks(this.context, this.props, files);\n  }\n\n  getPreNextScripts() {\n    return getPreNextScripts(this.context, this.props);\n  }\n\n  getScripts(files) {\n    return getScripts(this.context, this.props, files);\n  }\n\n  getPolyfillScripts() {\n    return getPolyfillScripts(this.context, this.props);\n  }\n\n  handleDocumentScriptLoaderItems(children) {\n    const {\n      scriptLoader\n    } = this.context;\n    const scriptLoaderItems = [];\n    const filteredChildren = [];\n\n    _react.default.Children.forEach(children, child => {\n      if (child.type === _script.default) {\n        if (child.props.strategy === 'beforeInteractive') {\n          scriptLoader.beforeInteractive = (scriptLoader.beforeInteractive || []).concat([_objectSpread({}, child.props)]);\n          return;\n        } else if (['lazyOnload', 'afterInteractive'].includes(child.props.strategy)) {\n          scriptLoaderItems.push(child.props);\n          return;\n        }\n      }\n\n      filteredChildren.push(child);\n    });\n\n    this.context.__NEXT_DATA__.scriptLoader = scriptLoaderItems;\n    return filteredChildren;\n  }\n\n  makeStylesheetInert(node) {\n    return _react.default.Children.map(node, c => {\n      if (c.type === 'link' && c.props['href'] && _constants.OPTIMIZED_FONT_PROVIDERS.some(({\n        url\n      }) => c.props['href'].startsWith(url))) {\n        const newProps = _objectSpread({}, c.props || {});\n\n        newProps['data-href'] = newProps['href'];\n        newProps['href'] = undefined;\n        return /*#__PURE__*/_react.default.cloneElement(c, newProps);\n      } else if (c.props && c.props['children']) {\n        c.props['children'] = this.makeStylesheetInert(c.props['children']);\n      }\n\n      return c;\n    });\n  }\n\n  render() {\n    var _this$props$nonce, _this$props$nonce2;\n\n    const {\n      styles,\n      ampPath,\n      inAmpMode,\n      hybridAmp,\n      canonicalBase,\n      __NEXT_DATA__,\n      dangerousAsPath,\n      headTags,\n      unstable_runtimeJS,\n      unstable_JsPreload,\n      disableOptimizedLoading\n    } = this.context;\n    const disableRuntimeJS = unstable_runtimeJS === false;\n    const disableJsPreload = unstable_JsPreload === false || !disableOptimizedLoading;\n    this.context.docComponentsRendered.Head = true;\n    let {\n      head\n    } = this.context;\n    let cssPreloads = [];\n    let otherHeadElements = [];\n\n    if (head) {\n      head.forEach(c => {\n        if (c && c.type === 'link' && c.props['rel'] === 'preload' && c.props['as'] === 'style') {\n          cssPreloads.push(c);\n        } else {\n          c && otherHeadElements.push(c);\n        }\n      });\n      head = cssPreloads.concat(otherHeadElements);\n    }\n\n    let children = _react.default.Children.toArray(this.props.children).filter(Boolean); // show a warning if Head contains <title> (only in development)\n\n\n    if (false) {\n      children = _react.default.Children.map(children, child => {\n        var _child$props;\n\n        const isReactHelmet = child == null ? void 0 : (_child$props = child.props) == null ? void 0 : _child$props['data-react-helmet'];\n\n        if (!isReactHelmet) {\n          var _child$props2;\n\n          if ((child == null ? void 0 : child.type) === 'title') {\n            console.warn(\"Warning: <title> should not be used in _document.js's <Head>. https://nextjs.org/docs/messages/no-document-title\");\n          } else if ((child == null ? void 0 : child.type) === 'meta' && (child == null ? void 0 : (_child$props2 = child.props) == null ? void 0 : _child$props2.name) === 'viewport') {\n            console.warn(\"Warning: viewport meta tags should not be used in _document.js's <Head>. https://nextjs.org/docs/messages/no-document-viewport-meta\");\n          }\n        }\n\n        return child;\n      });\n      if (this.props.crossOrigin) console.warn('Warning: `Head` attribute `crossOrigin` is deprecated. https://nextjs.org/docs/messages/doc-crossorigin-deprecated');\n    }\n\n    if (true && process.env.__NEXT_OPTIMIZE_FONTS && !inAmpMode) {\n      children = this.makeStylesheetInert(children);\n    }\n\n    children = this.handleDocumentScriptLoaderItems(children);\n    let hasAmphtmlRel = false;\n    let hasCanonicalRel = false; // show warning and remove conflicting amp head tags\n\n    head = _react.default.Children.map(head || [], child => {\n      if (!child) return child;\n      const {\n        type,\n        props\n      } = child;\n\n      if (inAmpMode) {\n        let badProp = '';\n\n        if (type === 'meta' && props.name === 'viewport') {\n          badProp = 'name=\"viewport\"';\n        } else if (type === 'link' && props.rel === 'canonical') {\n          hasCanonicalRel = true;\n        } else if (type === 'script') {\n          // only block if\n          // 1. it has a src and isn't pointing to ampproject's CDN\n          // 2. it is using dangerouslySetInnerHTML without a type or\n          // a type of text/javascript\n          if (props.src && props.src.indexOf('ampproject') < -1 || props.dangerouslySetInnerHTML && (!props.type || props.type === 'text/javascript')) {\n            badProp = '<script';\n            Object.keys(props).forEach(prop => {\n              badProp += ` ${prop}=\"${props[prop]}\"`;\n            });\n            badProp += '/>';\n          }\n        }\n\n        if (badProp) {\n          console.warn(`Found conflicting amp tag \"${child.type}\" with conflicting prop ${badProp} in ${__NEXT_DATA__.page}. https://nextjs.org/docs/messages/conflicting-amp-tag`);\n          return null;\n        }\n      } else {\n        // non-amp mode\n        if (type === 'link' && props.rel === 'amphtml') {\n          hasAmphtmlRel = true;\n        }\n      }\n\n      return child;\n    }); // try to parse styles from fragment for backwards compat\n\n    const curStyles = Array.isArray(styles) ? styles : [];\n\n    if (inAmpMode && styles && // @ts-ignore Property 'props' does not exist on type ReactElement\n    styles.props && // @ts-ignore Property 'props' does not exist on type ReactElement\n    Array.isArray(styles.props.children)) {\n      const hasStyles = el => {\n        var _el$props, _el$props$dangerously;\n\n        return el == null ? void 0 : (_el$props = el.props) == null ? void 0 : (_el$props$dangerously = _el$props.dangerouslySetInnerHTML) == null ? void 0 : _el$props$dangerously.__html;\n      }; // @ts-ignore Property 'props' does not exist on type ReactElement\n\n\n      styles.props.children.forEach(child => {\n        if (Array.isArray(child)) {\n          child.forEach(el => hasStyles(el) && curStyles.push(el));\n        } else if (hasStyles(child)) {\n          curStyles.push(child);\n        }\n      });\n    }\n\n    const files = getDocumentFiles(this.context.buildManifest, this.context.__NEXT_DATA__.page, inAmpMode);\n    return /*#__PURE__*/_react.default.createElement(\"head\", this.props, this.context.isDevelopment && /*#__PURE__*/_react.default.createElement(_react.default.Fragment, null, /*#__PURE__*/_react.default.createElement(\"style\", {\n      \"data-next-hide-fouc\": true,\n      \"data-ampdevmode\": inAmpMode ? 'true' : undefined,\n      dangerouslySetInnerHTML: {\n        __html: `body{display:none}`\n      }\n    }), /*#__PURE__*/_react.default.createElement(\"noscript\", {\n      \"data-next-hide-fouc\": true,\n      \"data-ampdevmode\": inAmpMode ? 'true' : undefined\n    }, /*#__PURE__*/_react.default.createElement(\"style\", {\n      dangerouslySetInnerHTML: {\n        __html: `body{display:block}`\n      }\n    }))), children, process.env.__NEXT_OPTIMIZE_FONTS && /*#__PURE__*/_react.default.createElement(\"meta\", {\n      name: \"next-font-preconnect\"\n    }), head, /*#__PURE__*/_react.default.createElement(\"meta\", {\n      name: \"next-head-count\",\n      content: _react.default.Children.count(head || []).toString()\n    }), inAmpMode && /*#__PURE__*/_react.default.createElement(_react.default.Fragment, null, /*#__PURE__*/_react.default.createElement(\"meta\", {\n      name: \"viewport\",\n      content: \"width=device-width,minimum-scale=1,initial-scale=1\"\n    }), !hasCanonicalRel && /*#__PURE__*/_react.default.createElement(\"link\", {\n      rel: \"canonical\",\n      href: canonicalBase + (0, _utils2.cleanAmpPath)(dangerousAsPath)\n    }), /*#__PURE__*/_react.default.createElement(\"link\", {\n      rel: \"preload\",\n      as: \"script\",\n      href: \"https://cdn.ampproject.org/v0.js\"\n    }), styles && /*#__PURE__*/_react.default.createElement(\"style\", {\n      \"amp-custom\": \"\",\n      dangerouslySetInnerHTML: {\n        __html: curStyles.map(style => style.props.dangerouslySetInnerHTML.__html).join('').replace(/\\/\\*# sourceMappingURL=.*\\*\\//g, '').replace(/\\/\\*@ sourceURL=.*?\\*\\//g, '')\n      }\n    }), /*#__PURE__*/_react.default.createElement(\"style\", {\n      \"amp-boilerplate\": \"\",\n      dangerouslySetInnerHTML: {\n        __html: `body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}`\n      }\n    }), /*#__PURE__*/_react.default.createElement(\"noscript\", null, /*#__PURE__*/_react.default.createElement(\"style\", {\n      \"amp-boilerplate\": \"\",\n      dangerouslySetInnerHTML: {\n        __html: `body{-webkit-animation:none;-moz-animation:none;-ms-animation:none;animation:none}`\n      }\n    })), /*#__PURE__*/_react.default.createElement(\"script\", {\n      async: true,\n      src: \"https://cdn.ampproject.org/v0.js\"\n    })), !inAmpMode && /*#__PURE__*/_react.default.createElement(_react.default.Fragment, null, !hasAmphtmlRel && hybridAmp && /*#__PURE__*/_react.default.createElement(\"link\", {\n      rel: \"amphtml\",\n      href: canonicalBase + getAmpPath(ampPath, dangerousAsPath)\n    }), !process.env.__NEXT_OPTIMIZE_CSS && this.getCssLinks(files), !process.env.__NEXT_OPTIMIZE_CSS && /*#__PURE__*/_react.default.createElement(\"noscript\", {\n      \"data-n-css\": (_this$props$nonce = this.props.nonce) != null ? _this$props$nonce : ''\n    }), process.env.__NEXT_OPTIMIZE_IMAGES && /*#__PURE__*/_react.default.createElement(\"meta\", {\n      name: \"next-image-preload\"\n    }), !disableRuntimeJS && !disableJsPreload && this.getPreloadDynamicChunks(), !disableRuntimeJS && !disableJsPreload && this.getPreloadMainLinks(files), !disableOptimizedLoading && !disableRuntimeJS && this.getPolyfillScripts(), !disableOptimizedLoading && !disableRuntimeJS && this.getPreNextScripts(), !disableOptimizedLoading && !disableRuntimeJS && this.getDynamicChunks(files), !disableOptimizedLoading && !disableRuntimeJS && this.getScripts(files), process.env.__NEXT_OPTIMIZE_CSS && this.getCssLinks(files), process.env.__NEXT_OPTIMIZE_CSS && /*#__PURE__*/_react.default.createElement(\"noscript\", {\n      \"data-n-css\": (_this$props$nonce2 = this.props.nonce) != null ? _this$props$nonce2 : ''\n    }), this.context.isDevelopment &&\n    /*#__PURE__*/\n    // this element is used to mount development styles so the\n    // ordering matches production\n    // (by default, style-loader injects at the bottom of <head />)\n    _react.default.createElement(\"noscript\", {\n      id: \"__next_css__DO_NOT_USE__\"\n    }), styles || null), /*#__PURE__*/_react.default.createElement(_react.default.Fragment, {}, ...(headTags || [])));\n  }\n\n}\n\nexports.Head = Head;\nHead.contextType = _documentContext.DocumentContext;\nHead.propTypes = {\n  nonce: _propTypes.default.string,\n  crossOrigin: _propTypes.default.string\n};\n\nfunction Main() {\n  const {\n    inAmpMode,\n    html,\n    docComponentsRendered\n  } = (0, _react.useContext)(_documentContext.DocumentContext);\n  docComponentsRendered.Main = true;\n  if (inAmpMode) return /*#__PURE__*/_react.default.createElement(_react.default.Fragment, null, _constants.AMP_RENDER_TARGET);\n  return /*#__PURE__*/_react.default.createElement(\"div\", {\n    id: \"__next\",\n    dangerouslySetInnerHTML: {\n      __html: html\n    }\n  });\n}\n\nclass NextScript extends _react.Component {\n  constructor(...args) {\n    super(...args);\n    this.context = void 0;\n  }\n\n  getDynamicChunks(files) {\n    return getDynamicChunks(this.context, this.props, files);\n  }\n\n  getPreNextScripts() {\n    return getPreNextScripts(this.context, this.props);\n  }\n\n  getScripts(files) {\n    return getScripts(this.context, this.props, files);\n  }\n\n  getPolyfillScripts() {\n    return getPolyfillScripts(this.context, this.props);\n  }\n\n  static getInlineScriptSource(documentProps) {\n    const {\n      __NEXT_DATA__\n    } = documentProps;\n\n    try {\n      const data = JSON.stringify(__NEXT_DATA__);\n      return (0, _htmlescape.htmlEscapeJsonString)(data);\n    } catch (err) {\n      if (err.message.indexOf('circular structure')) {\n        throw new Error(`Circular structure in \"getInitialProps\" result of page \"${__NEXT_DATA__.page}\". https://nextjs.org/docs/messages/circular-structure`);\n      }\n\n      throw err;\n    }\n  }\n\n  render() {\n    const {\n      assetPrefix,\n      inAmpMode,\n      buildManifest,\n      unstable_runtimeJS,\n      docComponentsRendered,\n      devOnlyCacheBusterQueryString,\n      disableOptimizedLoading\n    } = this.context;\n    const disableRuntimeJS = unstable_runtimeJS === false;\n    docComponentsRendered.NextScript = true;\n\n    if (inAmpMode) {\n      if (true) {\n        return null;\n      }\n\n      const ampDevFiles = [...buildManifest.devFiles, ...buildManifest.polyfillFiles, ...buildManifest.ampDevFiles];\n      return /*#__PURE__*/_react.default.createElement(_react.default.Fragment, null, disableRuntimeJS ? null : /*#__PURE__*/_react.default.createElement(\"script\", {\n        id: \"__NEXT_DATA__\",\n        type: \"application/json\",\n        nonce: this.props.nonce,\n        crossOrigin: this.props.crossOrigin || process.env.__NEXT_CROSS_ORIGIN,\n        dangerouslySetInnerHTML: {\n          __html: NextScript.getInlineScriptSource(this.context)\n        },\n        \"data-ampdevmode\": true\n      }), ampDevFiles.map(file => /*#__PURE__*/_react.default.createElement(\"script\", {\n        key: file,\n        src: `${assetPrefix}/_next/${file}${devOnlyCacheBusterQueryString}`,\n        nonce: this.props.nonce,\n        crossOrigin: this.props.crossOrigin || process.env.__NEXT_CROSS_ORIGIN,\n        \"data-ampdevmode\": true\n      })));\n    }\n\n    if (false) {\n      if (this.props.crossOrigin) console.warn('Warning: `NextScript` attribute `crossOrigin` is deprecated. https://nextjs.org/docs/messages/doc-crossorigin-deprecated');\n    }\n\n    const files = getDocumentFiles(this.context.buildManifest, this.context.__NEXT_DATA__.page, inAmpMode);\n    return /*#__PURE__*/_react.default.createElement(_react.default.Fragment, null, !disableRuntimeJS && buildManifest.devFiles ? buildManifest.devFiles.map(file => /*#__PURE__*/_react.default.createElement(\"script\", {\n      key: file,\n      src: `${assetPrefix}/_next/${encodeURI(file)}${devOnlyCacheBusterQueryString}`,\n      nonce: this.props.nonce,\n      crossOrigin: this.props.crossOrigin || process.env.__NEXT_CROSS_ORIGIN\n    })) : null, disableRuntimeJS ? null : /*#__PURE__*/_react.default.createElement(\"script\", {\n      id: \"__NEXT_DATA__\",\n      type: \"application/json\",\n      nonce: this.props.nonce,\n      crossOrigin: this.props.crossOrigin || process.env.__NEXT_CROSS_ORIGIN,\n      dangerouslySetInnerHTML: {\n        __html: NextScript.getInlineScriptSource(this.context)\n      }\n    }), disableOptimizedLoading && !disableRuntimeJS && this.getPolyfillScripts(), disableOptimizedLoading && !disableRuntimeJS && this.getPreNextScripts(), disableOptimizedLoading && !disableRuntimeJS && this.getDynamicChunks(files), disableOptimizedLoading && !disableRuntimeJS && this.getScripts(files));\n  }\n\n}\n\nexports.NextScript = NextScript;\nNextScript.contextType = _documentContext.DocumentContext;\nNextScript.propTypes = {\n  nonce: _propTypes.default.string,\n  crossOrigin: _propTypes.default.string\n};\nNextScript.safariNomoduleFix = '!function(){var e=document,t=e.createElement(\"script\");if(!(\"noModule\"in t)&&\"onbeforeload\"in t){var n=!1;e.addEventListener(\"beforeload\",function(e){if(e.target===t)n=!0;else if(!e.target.hasAttribute(\"nomodule\")||!n)return;e.preventDefault()},!0),t.type=\"module\",t.src=\".\",e.head.appendChild(t),t.remove()}}();';\n\nfunction getAmpPath(ampPath, asPath) {\n  return ampPath || `${asPath}${asPath.includes('?') ? '&' : '?'}amp=1`;\n}",".outsmartly/analysis/modules/188.js":"// jackrabbit.config.js\nexport default {\n  siteName: 'RBX Active',\n  shopify: {\n    name: 'rbxactive',\n    theme: '{\"name\":\"February 2021 End of Season Sale Theme 3\",\"id\":45798686842,\"theme_store_id\":null,\"role\":\"main\"};'\n  },\n  social: {\n    twitter: '@rbx_active'\n  },\n  urls: {\n    base: 'https://www.rbxactive.com',\n    fastImage: '/fast-image/rbx-ctf/'\n  },\n  favicon: '//cdn.shopify.com/s/files/1/1115/2394/t/320/assets/favicon.png?v=5787369902304841158',\n  images: {\n    defaultOgImage: '//cdn.shopify.com/s/files/1/1115/2394/t/320/assets/logo.png?v=1154069579403264894'\n  },\n  seo: {\n    home: {\n      title: 'RBX Active | Active Apparel At An Affordable Price',\n      description: 'Outfitting your healthy and active lifestyle with athletic apparel designed with attributes you can count on for performance and comfort.'\n    },\n    contact: {\n      title: 'Contact Us',\n      canonical: '/pages/contact-rbx'\n    },\n    about: {\n      title: 'About RBX Active',\n      canonical: '/pages/about-rbx'\n    }\n  },\n  contactInfo: [{\n    heading: 'Customer Support',\n    text: 'cs@rbxactive.com',\n    href: 'mailto:cs@rbxactive.com'\n  }, {\n    heading: 'Business Inquiries',\n    href: 'mailto:info@rbxactive.com',\n    text: 'info@rbxactive.com'\n  }, {\n    heading: 'Phone',\n    href: 'tel:+18885882892',\n    text: '(888) 588-2892'\n  }],\n  sections: {\n    homePage: {\n      heroItems: {\n        slideshowName: 'Default Slideshow',\n        slides: [{\n          id: '3XH3d7iZSA7RbZWGAOu1kl',\n          title: '<span style=\"color:#fff;\">new arrivals</span>',\n          subtitle: '<strong>lightweight<br>pants</strong>',\n          caption: null,\n          linkText: 'shop now',\n          linkRoute: '/collections/new-arrivals-collection',\n          align: 'Right',\n          textSizes: {\n            name: 'Default Home Slide Text Sizes',\n            headingSizeMobile: '15px',\n            headingSizeTablet: '25px',\n            headingSizeDesktop: '35px',\n            subheadingSizeMobile: '32px',\n            subheadingSizeTablet: '50px',\n            subheadingSizeDesktop: '80px',\n            captionSizeMobile: '18px',\n            captionSizeTablet: '22px',\n            captionSizeDesktop: '24px'\n          },\n          slideName: 'Woman Kneeling: Lightweight pants',\n          headingTextColor: '#FFFFFF',\n          subheadingTextShadowColor: '#af7150',\n          subheadingTextColor: '#FFFFFF',\n          captionTextColor: '#FFFFFF',\n          buttonBackgroundColor: '#FFFFFF',\n          buttonBackgroundColorOpacity: 1,\n          buttonTextColor: '#AF7150',\n          buttonTextHoverColor: '#F2A176',\n          imgAlt: 'Woman kneeling and woman standing in background',\n          imgSrc: '/fast-image/rbx-ctf/5x2rdjtv4EY6h2l2IjhaJb/d3004af0993186d270cf8bfbeeef97fa/hero_slide_1.progressive.jpg'\n        }, {\n          id: 'C6mnx7GlCDAT4pQgxD9oP',\n          title: '<strong>new arrivals</strong>',\n          subtitle: '<strong>made<br>for<br>curves</strong>',\n          caption: null,\n          linkText: 'shop plus',\n          linkRoute: '/collections/womens-plus-size',\n          align: 'Right',\n          textSizes: {\n            name: 'Default Home Slide Text Sizes',\n            headingSizeMobile: '15px',\n            headingSizeTablet: '25px',\n            headingSizeDesktop: '35px',\n            subheadingSizeMobile: '32px',\n            subheadingSizeTablet: '50px',\n            subheadingSizeDesktop: '80px',\n            captionSizeMobile: '18px',\n            captionSizeTablet: '22px',\n            captionSizeDesktop: '24px'\n          },\n          slideName: 'Woman Sitting: Made for curves',\n          headingTextColor: '#FFFFFF',\n          subheadingTextShadowColor: '#627AB1',\n          subheadingTextColor: '#FFFFFF',\n          buttonBackgroundColor: '#FFFFFF',\n          buttonBackgroundColorOpacity: 0.3,\n          buttonTextColor: '#FFFFFF',\n          buttonTextHoverColor: '#627AB1',\n          imgAlt: 'Woman sitting on ground',\n          imgSrc: '/fast-image/rbx-ctf/6ZGXSUEAS55Oz3cWFaqvwV/07a16de9a684c8afebba2ef620e302c2/hero_slide_2.jpg'\n        }, {\n          id: '68VWvsRm5bxBrByPBpZmTR',\n          title: 'new arrivals',\n          subtitle: \"<strong>men's<br>joggers</strong>\",\n          caption: null,\n          linkText: 'shop men',\n          linkRoute: '/collections/mens-running-pants',\n          align: 'Left',\n          textSizes: {\n            name: 'Default Home Slide Text Sizes',\n            headingSizeMobile: '15px',\n            headingSizeTablet: '25px',\n            headingSizeDesktop: '35px',\n            subheadingSizeMobile: '32px',\n            subheadingSizeTablet: '50px',\n            subheadingSizeDesktop: '80px',\n            captionSizeMobile: '18px',\n            captionSizeTablet: '22px',\n            captionSizeDesktop: '24px'\n          },\n          slideName: 'Mens: Joggers',\n          headingTextColor: '#373c86',\n          subheadingTextShadowColor: '#405893',\n          subheadingTextColor: '#FFFFFF',\n          captionTextColor: '#FFFFFF',\n          buttonBackgroundColor: '#FFFFFF',\n          buttonBackgroundColorOpacity: 0.3,\n          buttonTextColor: '#FFFFFF',\n          buttonTextHoverColor: '#405893',\n          imgAlt: 'Man sitting on ground',\n          imgSrc: '/fast-image/rbx-ctf/3IwmRw1hQtpZP0H9zA21OT/a3056130e40cddc9b687d1257f52e0fb/hero_slide_3.jpg'\n        }],\n        slideshowSpeedInSeconds: 5\n      },\n      featuredItems: [{\n        id: '6vGrFEGgQvOHiuKAVEPOvW',\n        subtitle: 'looks<br>we<br>love',\n        linkRoute: '/pages/outfits',\n        linkText: 'shop outfits',\n        buttonBackgroundColor: '#FFFFFF',\n        buttonBackgroundColorOpacity: 0.3,\n        buttonTextColor: '#FFFFFF',\n        buttonTextHoverColor: '#996BB7',\n        align: 'Left',\n        name: 'Shop Outfits',\n        headlineTextShadowColor: '#ba8b91',\n        imgAlt: 'Woman wearing purple sweatshirt and sitting',\n        imgSrc: '//images.ctfassets.net/ajgn17op1zyt/21CYTsj7g5wLiSns84C7SU/838bb9754cd05807eaf51986cd14f00e/feature-image-1.jpg'\n      }, {\n        id: '5SUa19RN0EEI0Hv1juLIuz',\n        subtitle: 'camo<br>collection',\n        linkRoute: '/collections/camo-camo',\n        linkText: 'shop camo',\n        buttonBackgroundColor: '#FFFFFF',\n        buttonBackgroundColorOpacity: 0.3,\n        buttonTextColor: '#FFFFFF',\n        buttonTextHoverColor: '#53635A',\n        align: 'Left',\n        name: 'Shop Camo',\n        headlineTextShadowColor: '#616e61',\n        imgAlt: 'Woman wearing camo pants, view from waste down and kneeling',\n        imgSrc: '//images.ctfassets.net/ajgn17op1zyt/6pAC6SgFWfhr4HuiQSBcNc/bcfacda6b7f4282dd4b590b7a24826ac/feature-image-2.jpg'\n      }]\n    },\n    footer: {\n      copyrightText: '2021 TRB Acquisitions LLC. RBX and Claw Design is a registered rademark of TRB Acquisitions LLC. All Rights Reserved. Website operated by RBX Direct LLC under license.',\n      logo: '/fast-image/rbx/t/308/assets/footer-logo.png?v=12937813969273505854',\n      links: [{\n        id: 'rbx',\n        heading: 'RBX',\n        links: [{\n          text: 'About Us',\n          route: '/pages/about-rbx'\n        }, {\n          text: 'Contact Us',\n          route: '/pages/contact-rbx'\n        }, {\n          text: 'FAQ',\n          route: '/pages/faq'\n        } // { text: 'Locations', route: '/pages/locations' },\n        ],\n        nested: {\n          id: 'social',\n          heading: 'Social',\n          links: [{\n            name: 'facebook',\n            href: 'https://www.facebook.com/rbxactive',\n            pathd: `M18.222 11.556V8.91c0-1.194.264-1.8\n    2.118-1.8h2.326V2.668h-3.882c-4.757 0-6.326 2.18-6.326\n    5.924v2.966H9.333V16h3.125v13.333h5.764V16h3.917l.527-4.444h-4.444z`\n          }, {\n            name: 'twitter',\n            href: 'https://twitter.com/rbx_active',\n            pathd: `M30.75 6.844c-1.087.48-2.25.806-3.475.956a6.08 6.08 0 0 0 2.663-3.35\n    12.02 12.02 0 0 1-3.844 1.47A6.044 6.044 0 0 0 21.674 4a6.052 6.052 0 0\n    0-6.05 6.056c0 .475.05.938.157 1.38a17.147 17.147 0 0 1-12.474-6.33 6.068\n    6.068 0 0 0 1.88 8.088 5.91 5.91 0 0 1-2.75-.756v.075a6.056 6.056 0 0 0\n    4.857 5.937 6.113 6.113 0 0 1-1.594.212c-.39 0-.77-.038-1.14-.113a6.06 6.06\n    0 0 0 5.657 4.205 12.132 12.132 0 0 1-8.963 2.507A16.91 16.91 0 0 0 10.516\n    28c11.144 0 17.23-9.23 17.23-17.238 0-.262-.005-.525-.018-.78a12.325 12.325\n    0 0 0 3.02-3.14z`\n          }, {\n            name: 'pinterest',\n            href: 'https://www.pinterest.com/rbxactive/',\n            pathd: `M16 2C8.27 2 2 8.27 2 16c0 5.73 3.45 10.656 8.38\n    12.825-.036-.975-.005-2.15.245-3.212.27-1.137 1.8-7.63\n    1.8-7.63s-.45-.895-.45-2.214c0-2.076 1.2-3.626 2.7-3.626 1.275 0 1.887.956\n    1.887 2.1 0 1.28-.82 3.194-1.238 4.97-.35 1.487.744 2.693 2.212 2.693 2.65 0\n    4.438-3.406 4.438-7.444 0-3.07-2.07-5.362-5.825-5.362-4.245 0-6.895\n    3.17-6.895 6.707 0 1.22.363 2.08.925\n    2.744.256.307.294.432.2.782-.07.256-.22.875-.287\n    1.125-.094.356-.38.48-.7.35-1.956-.8-2.87-2.938-2.87-5.35 0-3.975\n    3.357-8.744 10.007-8.744 5.344 0 8.863 3.87 8.863 8.02 0 5.493-3.056\n    9.593-7.556 9.593-1.512 0-2.93-.82-3.42-1.744 0 0-.812 3.225-.987 3.85-.294\n    1.08-.875 2.156-1.406 3 1.256.37 2.588.575 3.97.575 7.73 0 14-6.27\n    14-14C29.998 8.27 23.73 2 15.998 2z`\n          }, {\n            name: 'instagram',\n            href: 'https://www.instagram.com/rbxactive/',\n            pathd: `M29.368 6a3.3 3.3 0 0 0-3.3-3.3H6A3.3 3.3 0 0 0 2.7 6v20.07A3.3 3.3\n    0 0 0 6 29.367h20.07a3.3 3.3 0 0 0 3.298-3.3V6zm-13.3 4.433a5.556 5.556 0 1\n    1 0 11.112 5.556 5.556 0 0 1 0-11.112zm11.078-1.065a1.11 1.11 0 0 1-1.11\n    1.11H22.7a1.11 1.11 0 0 1-1.11-1.11V6.035c0-.614.496-1.11\n    1.11-1.11h3.333c.614 0 1.11.496 1.11 1.11v3.333zm-1.042 17.778h-20c-.613\n    0-1.18-.568-1.18-1.18V13.81h3.685a7.61 7.61 0 0 0-.32 2.193c0 2.078.81 4.022\n    2.28 5.49s3.42 2.275 5.5 2.275 4.03-.81 5.5-2.28 2.277-3.406\n    2.277-5.483c0-.76-.11-1.5-.317-2.194h3.616v12.153c0\n    .613-.43 1.18-1.042 1.18z`\n          }]\n        }\n      }, {\n        id: 'community',\n        heading: 'Community',\n        links: [{\n          text: 'RBX Blog',\n          route: '/blogs/fitness'\n        }, {\n          text: 'RBX Rewards',\n          route: '/pages/rbx-rewards'\n        }, {\n          text: 'Current Promotions',\n          route: '/pages/current-promotion'\n        }, {\n          text: 'Gift Cards',\n          route: '/products/rbx-active-electronic-gift-card'\n        }, {\n          text: 'Become an Influencer',\n          route: '/pages/rbx-influencer'\n        }]\n      }, {\n        id: 'customer',\n        heading: 'Customer Care',\n        links: [{\n          text: 'Sizing Guide',\n          route: '/pages/sizing-guide'\n        }, {\n          text: 'Privacy Policy',\n          route: '/pages/privacy-policy'\n        }, {\n          text: 'Terms & Conditions',\n          route: '/pages/terms-conditions'\n        }, {\n          text: 'Return Policy',\n          route: '/pages/return-policy'\n        }, {\n          text: 'Returns Portal',\n          route: 'https://returns.rbxactive.com/'\n        }]\n      }]\n    }\n  },\n  helpers: {\n    browserTitle(title) {\n      return title.indexOf('RBX') > -1 ? title : `${title}  RBX Active`;\n    }\n\n  }\n};",".outsmartly/analysis/modules/198.js":"// components/Rewards.js\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { useRouter } from 'next/router';\nimport { useContext, useEffect, useState } from 'react';\nimport Icon from 'components/icons/Icon';\nimport { container, btn, base, icon, pts, label } from './Rewards.module.css';\nimport { loadLoyaltyLion } from '@outsmartly/shopify-analytics';\nimport { AccountContext } from '@outsmartly/jackrabbit';\nimport { Loader } from './Loader';\nimport { getJSON } from 'lib/utils';\nimport { GuestIntro } from './GuestIntro';\n/**\n * Calls our interceptor API to get reward points for the logged in customer.\n */\n\nasync function getRewardPoints(account) {\n  /* The curl command:\n    curl \\\n    --user '1c7cdc57823bc119aade27c5e375b239:7fd91473b4748e7d56da6cc9aadd0eff' \\\n    --url 'https://api.loyaltylion.com/v2/customers?email=jacob@outsmartly.com'\n  */\n  try {\n    const {\n      id,\n      email,\n      loyaltylion_token\n    } = account;\n    const data = await getJSON(`/__outsmartly__/loyaltylion/customer?id=${id}&email=${email}&token=${loyaltylion_token}`);\n    return data.points_approved;\n  } catch (e) {\n    console.error(e);\n    return undefined;\n  }\n}\n/**\n * Rewards\n *\n * A button that launches the rewards modal dialog.\n */\n\n\nexport function Rewards(props) {\n  const {\n    0: isInitial,\n    1: setIsInitial\n  } = useState(true);\n  const {\n    0: loading,\n    1: setLoading\n  } = useState(false);\n  const {\n    0: points,\n    1: setPoints\n  } = useState(false);\n  const {\n    account\n  } = useContext(AccountContext);\n  const {\n    asPath\n  } = useRouter();\n  const {\n    0: showGuest,\n    1: setShowGuest\n  } = useState(false); // Dependency is asPath, because pathname does not change between products\n  // (it's always /product/[product]). Ideally we would strip off the question\n  // mark and query params so that we reinitialize only when DOM is blown away\n  // when the actual page (resource) changes, not just the query string (e.g.\n  // for a different variant). But that's not working. So just use the whole\n  // asPath, and reinit on changes in variants as well as product changes.\n\n  useEffect(() => {\n    setIsInitial(true);\n  }, [asPath]); // Right at the start, update the reward points. And determine whether or not\n  // to show the Guest Intro popup\n\n  useEffect(async () => {\n    if (!account) return;\n\n    if (account.loggedIn) {\n      const newPoints = await getRewardPoints(account);\n\n      if (typeof newPoints === 'number') {\n        setPoints(newPoints);\n      }\n    } else {\n      // Check local storage for first time guest timestamp\n      const lionKey = 'loyaltylion_persistent_data';\n      let data = JSON.parse(localStorage.getItem(lionKey));\n      const now = Date.now();\n\n      if (data) {\n        // If persistent data exists, check to see if timestamp has expired\n        // (more than 7 days old)\n        const expireTime = 7 * 24 * 60 * 60 * 1000;\n\n        if (now > data.guestIntroductionShownAt + expireTime) {\n          // Show popup, update timestamp in local storage\n          setShowGuest(true);\n\n          const newData = _objectSpread(_objectSpread({}, data), {}, {\n            guestIntroductionShownAt: now\n          });\n\n          localStorage.setItem(lionKey, JSON.stringify(newData));\n        }\n      } else {\n        // If loyalty lion persistent data is empty, then this is a first time\n        // guest, so show the popup and set a timestamp in local storage.\n        setShowGuest(true);\n        const newData = {\n          guestIntroductionShownAt: now\n        };\n        localStorage.setItem(lionKey, JSON.stringify(newData));\n      }\n    }\n  }, [account]);\n  /** Handles a click on the Rewards button */\n\n  async function handleClick(e) {\n    if (!account) return;\n\n    if (isInitial) {\n      // Show a loading spinner, and put down the isInitial flag\n      setLoading(true);\n      setIsInitial(false); // Load and execute the script. It returns a Promise. We're going to\n      // return a Promise as well so that caller could potentially use it.\n\n      try {\n        await loadLoyaltyLion(account); // When the Promise resolves simulate a click. Well, actually, even\n        // though this Promise has resolved, there are still more scripts that\n        // have to run. So poll until the button exists, then click it.\n\n        checkForButtonAndClickIt();\n      } catch (error) {\n        // Promise was rejected, so log the error message\n        console.error(error.message);\n      }\n    } else {\n      document.querySelector('.lion-loyalty-widget__body').click();\n    }\n  }\n\n  function checkForButtonAndClickIt() {\n    const delay = 100;\n\n    function helper() {\n      const button = document.querySelector('.lion-loyalty-widget__body');\n\n      if (!button) {\n        // It is not in the DOM yet, try again.\n        setTimeout(helper, delay);\n        return;\n      } // It is in the DOM, so click it\n\n\n      button.click();\n      setLoading(false);\n    }\n\n    helper();\n  }\n\n  return /*#__PURE__*/_jsxs(\"div\", {\n    className: container,\n    children: [showGuest && /*#__PURE__*/_jsx(GuestIntro, {\n      onClose: setShowGuest,\n      onLearnMore: () => {\n        handleClick();\n        setShowGuest(false);\n      }\n    }), /*#__PURE__*/_jsxs(\"button\", {\n      className: btn,\n      onClick: handleClick,\n      children: [/*#__PURE__*/_jsxs(\"span\", {\n        className: base,\n        children: [loading ? /*#__PURE__*/_jsx(Loader, {}) : /*#__PURE__*/_jsx(Icon, {\n          icon: \"lion-chevron-up\",\n          className: icon\n        }), /*#__PURE__*/_jsx(\"span\", {\n          className: label,\n          children: \"RBX Rewards\"\n        })]\n      }), (account === null || account === void 0 ? void 0 : account.loggedIn) && typeof points === 'number' && /*#__PURE__*/_jsx(\"span\", {\n        className: pts,\n        children: points\n      })]\n    })]\n  });\n}",".outsmartly/analysis/modules/209.js":"// components/LemonSpot/LemonSpotUpsell.js\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport React from 'react';\nimport Link from 'next/link';\nimport { recBox, wrap, imageWrap, messageWrap, message, addToCartWrap } from './LemonSpotUpsell.module.css';\nimport { getFilteredImagesByColor } from 'lib/helpers';\nimport { getProductImageUrl } from 'lib/getImageUrl';\nimport { AddToCartSelect } from './AddToCartSelect';\nexport function LemonSpotUpsell({\n  cartItems,\n  upsellItems\n}) {\n  // Filter out the items (by product handles) currently in the cart, so you don't\n  // try to upsell one already have. I.e., look for the current upsell in the cart\n  // items array, and if you find it, then do not return that one. Instead,\n  // return the first upsell item that *is not* in the cart items array.\n  const singleUpsellItem = upsellItems.find(upsell => {\n    const upsellInCart = cartItems.find(item => upsell.handle === item.handle);\n    return !upsellInCart;\n  });\n\n  if (!singleUpsellItem) {\n    return /*#__PURE__*/_jsx(_Fragment, {});\n  } // Process images\n\n\n  const images = getFilteredImagesByColor(singleUpsellItem.imageMap);\n  const rec = {\n    productTitle: singleUpsellItem.title,\n    image: getProductImageUrl(images[0].src, 120),\n    route: `https://www.rbxactive.com/products/${singleUpsellItem.handle}` + '?lssrc=upsell&lshst=cart',\n    variants: singleUpsellItem.variants\n  };\n  return /*#__PURE__*/_jsx(\"div\", {\n    className: recBox,\n    children: /*#__PURE__*/_jsxs(\"div\", {\n      className: wrap,\n      children: [/*#__PURE__*/_jsx(\"div\", {\n        className: imageWrap,\n        children: /*#__PURE__*/_jsx(Link, {\n          href: rec.route,\n          children: /*#__PURE__*/_jsx(\"a\", {\n            children: /*#__PURE__*/_jsx(\"img\", {\n              src: rec.image,\n              alt: rec.productTitle,\n              width: \"120\",\n              height: \"166\"\n            })\n          })\n        })\n      }), /*#__PURE__*/_jsxs(\"div\", {\n        className: messageWrap,\n        children: [/*#__PURE__*/_jsx(Link, {\n          href: rec.route,\n          children: /*#__PURE__*/_jsxs(\"a\", {\n            className: message,\n            children: [/*#__PURE__*/_jsx(\"span\", {\n              children: \"Would you like to add \"\n            }), /*#__PURE__*/_jsx(\"span\", {\n              children: rec.productTitle\n            }), /*#__PURE__*/_jsx(\"span\", {\n              children: \" for \"\n            }), /*#__PURE__*/_jsxs(\"span\", {\n              children: [\"$\", rec.variants[0].price]\n            }), /*#__PURE__*/_jsx(\"span\", {\n              children: \"?\"\n            })]\n          })\n        }), /*#__PURE__*/_jsx(\"div\", {\n          className: addToCartWrap,\n          children: /*#__PURE__*/_jsx(AddToCartSelect, {\n            product: singleUpsellItem\n          })\n        })]\n      })]\n    })\n  });\n}",".outsmartly/analysis/modules/318.js":"// components/QuickView/QuantityWidget.js\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React, { useState } from 'react';\nimport { widget, jsQty, minusBtn, minusIcon, plusBtn, plusIcon } from './QuantityWidget.module.css';\nimport styles from './QuantityWidget.module.css';\nimport Icon from 'components/icons/Icon';\n/**\n * QuantityWidget\n *\n * Parent must pass down a numeric quantity that this widget will display.\n * Parent must also pass down a handler to be called when the decrease/increase\n * buttons are clicked, or when user inputs a number.\n */\n\nexport default function QuantityWidget({\n  id,\n  line = 1,\n  placeClass = 'cart',\n  quantity,\n  onChange\n}) {\n  /** Validates that the entered value is a number. If not, just reset to\n   * current quantity. If outside of range (1-1000), just clamp to range min or\n   * max */\n  function validateQuantity(value) {\n    var regex = /^[0-9]+$/;\n\n    if (regex.test(value)) {\n      const num = Number(value);\n      onChange(num > 1000 ? 1000 : num < 1 ? 1 : num);\n    } else {\n      onChange(quantity);\n    }\n  }\n\n  return /*#__PURE__*/_jsxs(\"div\", {\n    className: widget,\n    children: [/*#__PURE__*/_jsx(\"label\", {\n      htmlFor: `Updates_${id}`,\n      children: \"Quantity\"\n    }), /*#__PURE__*/_jsxs(\"div\", {\n      className: `${jsQty} ${styles[placeClass]}`,\n      children: [/*#__PURE__*/_jsx(\"input\", {\n        type: \"text\",\n        value: quantity,\n        onChange: e => validateQuantity(e.target.value),\n        id: `Updates_${id}`,\n        name: \"updates[]\",\n        pattern: \"[0-9]*\",\n        \"data-line\": line,\n        \"aria-live\": \"polite\"\n      }), /*#__PURE__*/_jsx(\"button\", {\n        type: \"button\",\n        className: minusBtn,\n        onClick: () => onChange(quantity > 1 ? quantity - 1 : 1),\n        \"aria-label\": \"Decrease quantity\",\n        children: /*#__PURE__*/_jsx(Icon, {\n          icon: \"minus\",\n          className: minusIcon\n        })\n      }), /*#__PURE__*/_jsx(\"button\", {\n        type: \"button\",\n        className: plusBtn,\n        onClick: () => onChange(quantity < 1000 ? quantity + 1 : 1000),\n        \"aria-label\": \"Increase quantity\",\n        children: /*#__PURE__*/_jsx(Icon, {\n          icon: \"plus\",\n          className: plusIcon\n        })\n      })]\n    })]\n  });\n}",".outsmartly/analysis/modules/258.js":"// components/Afterpay/AfterpayIconSet.js\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\n/** Define a set of icons used in the Afterpay modals. Usage is the same as\n * icons in components/Icons/IconSet1 */\nexport default function AfterpayIconSet() {\n  return /*#__PURE__*/_jsxs(\"svg\", {\n    style: {\n      position: 'absolute',\n      height: 0\n    },\n    xmlns: \"http://www.w3.org/2000/svg\",\n    children: [/*#__PURE__*/_jsx(\"symbol\", {\n      id: \"afterpay-logo\",\n      viewBox: \"360 307 1150 225\",\n      stroke: \"currentColor\",\n      strokeWidth: \"2\",\n      children: /*#__PURE__*/_jsx(\"path\", {\n        d: \"M1492 353.5l-34.6-19.8-35.1-20.1c-23.2-13.3-52.2 3.4-52.2 30.2v4.5c0 2.5 1.3 4.8 3.5 6l16.3 9.3c4.5 2.6 10.1-.7  10.1-5.9V347c0-5.3 5.7-8.6 10.3-6l32 18.4 31.9 18.3c4.6 2.6 4.6 9.3 0 11.9l-31.9 18.3-32 18.4c-4.6 2.6-10.3-.7-10.3-6V415 c0-26.8-29-43.6-52.2-30.2l-35.1 20.1-34.6 19.8c-23.3 13.4-23.3 47.1 0 60.5l34.6 19.8 35.1 20.1c23.2 13.3 52.2-3.4 52.2-30.2 v-4.5c0-2.5-1.3-4.8-3.5-6l-16.3-9.3c-4.5-2.6-10.1.7-10.1 5.9 v10.7c0 5.3-5.7 8.6-10.3 6l-32-18.4-31.9-18.3c-4.6-2.6-4.6-9.3 0-11.9l31.9-18.3 32-18.4c4.6-2.6 10.3.7 10.3 6v5.3c0 26.8 29 43.6 52.2 30.2l35.1-20.1L1492 414c23.3-13.5 23.3-47.1 0-60.5z M1265 360.1l-81 167.3h-33.6l30.3-62.5-47.7-104.8h34.5l30.6 70.2 33.4-70.2h33.5zM455.1 419.5c0-20-14.5-34-32.3-34s-32.3 14.3-32.3 34c0 19.5 14.5 34 32.3 34s32.3-14 32.3-34m.3 59.4 v-15.4c-8.8 10.7-21.9 17.3-37.5 17.3-32.6 0-57.3-26.1-57.3 -61.3 0-34.9 25.7-61.5 58-61.5 15.2 0 28 6.7 36.8 17.1v-15 h29.2v118.8h-29.2zM626.6 452.5c-10.2 0-13.1-3.8-13.1-13.8 V386h18.8v-25.9h-18.8v-29h-29.9v29H545v-11.8c0-10 3.8-13.8 14.3-13.8h6.6v-23h-14.4c-24.7 0-36.4 8.1-36.4 32.8v15.9h-16.6 V386h16.6v92.9H545V386h38.6v58.2c0 24.2 9.3 34.7 33.5 34.7 h15.4v-26.4h-5.9zM734 408.8c-2.1-15.4-14.7-24.7-29.5-24.7-14.7 0-26.9 9-29.9 24.7H734zm-59.7 18.5c2.1 17.6 14.7 27.6 30.7 27.6 12.6 0 22.3-5.9 28-15.4h30.7c-7.1 25.2-29.7 41.3-59.4 41.3-35.9 0-61.1-25.2-61.1-61.1 0-35.9 26.6-61.8 61.8-61.8 35.4 0 61.1 26.1 61.1 61.8 0 2.6-.2 5.2-.7 7.6h-91.1zM956.5 419.5c0-19.2 -14.5-34-32.3-34-17.8 0-32.3 14.3-32.3 34 0 19.5 14.5 34 32.3 34 17.8 0 32.3-14.7 32.3-34m-94.1 107.9V360.1h29.2v15.4c8.8 -10.9 21.9-17.6 37.5-17.6 32.1 0 57.3 26.4 57.3 61.3s-25.7 61.5-58 61.5c-15 0-27.3-5.9-35.9-15.9v62.5h-30.1zM1091.7 419.5 c0-20-14.5-34-32.3-34-17.8 0-32.3 14.3-32.3 34 0 19.5 14.5 34 32.3 34 17.8 0 32.3-14 32.3-34m.3 59.4v-15.4c-8.8 10.7-21.9 17.3-37.5 17.3-32.6 0-57.3-26.1-57.3-61.3 0-34.9 25.7-61.5 58-61.5 15.2 0 28 6.7 36.8 17.1v-15h29.2v118.8H1092zM809.7 371.7s7.4-13.8 25.7-13.8c7.8 0 12.8 2.7 12.8 2.7v30.3s-11-6.8 -21.1-5.4c-10.1 1.4-16.5 10.6-16.5 23v70.3h-30.2V360.1h29.2 v11.6z\"\n      })\n    }), /*#__PURE__*/_jsxs(\"symbol\", {\n      id: \"afterpay-cart\",\n      viewBox: \"24 14 52 72\",\n      children: [/*#__PURE__*/_jsx(\"path\", {\n        d: \"M50 69.47a27.28 27.28 0 01-4-3c-2.13-1.87-4.52-4.49-4.44 -7.36a5 5 0 01.37-1.75a4.27 4.27 0 018.13.25a4.27 4.27 0 018.13-.25a5 5 0 01.37 1.75c.08 2.87-2.31 5.49-4.44 7.36 a27.28 27.28 0 01-4 3\"\n      }), /*#__PURE__*/_jsx(\"path\", {\n        d: \"M 34.5 49 V 31 a 15.5 15.5 0 0 1 31 0 V 49\"\n      }), /*#__PURE__*/_jsx(\"path\", {\n        d: \"M25 35H70.79A4.21 4.21 0 0175 39.21V79.79A4.21 4.21 0 0170.79 84H25a0 0 0 010 0V35A0 0 0 0125 35Z\",\n        transform: \"translate(109.5 9.5) rotate(90)\"\n      })]\n    }), /*#__PURE__*/_jsxs(\"symbol\", {\n      id: \"afterpay-desktop\",\n      viewBox: \"9 24 82 56\",\n      children: [/*#__PURE__*/_jsx(\"line\", {\n        x1: \"45.5\",\n        y1: \"76.49\",\n        x2: \"54.5\",\n        y2: \"76.49\"\n      }), /*#__PURE__*/_jsx(\"path\", {\n        d: \"M 19.43 25.5 H 80.57 a 3.93 3.93 0 0 1 3.93 3.93 V 74.5 a 0 0 0 0 1 0 0 h -69 a 0 0 0 0 1 0 0 V 29.43 A 3.93 3.93 0 0 1 19.43 25.5 Z\"\n      }), /*#__PURE__*/_jsx(\"path\", {\n        fill: \"#000\",\n        stroke: \"none\",\n        d: \"M63.75 41.52L59.3 39l-4.51-2.59a4.48 4.48 0 00-6.71 3.89 v.58a.89.89 0 00.44.77l2.1 1.2a.86.86 0 001.3-.75V40.69 a.89.89 0 011.33-.77l4.12 2.37l4.11 2.36a.88.88 0 010 1.53 l-4.11 2.36L53.25 50.9a.88.88 0 01-1.33-.76v-.69a4.48 4.48 0 00-6.71-3.89L40.7 48.15L36.25 50.7a4.49 4.49 0 000 7.78 L40.7 61l4.51 2.59a4.48 4.48 0 006.71-3.89v-.58a.88.88 0 00-.44-.77l-2.1-1.2a.86.86 0 00-1.3.75v1.38a.89.89 0 01 -1.33.77l-4.12-2.37l-4.11-2.36a.88.88 0 010-1.53l4.11-2.36 l4.12-2.36a.88.88 0 011.33.76v.69a4.48 4.48 0 006.71 3.89 l4.51-2.59l4.45-2.55A4.49 4.49 0 0063.75 41.52Z\"\n      }), /*#__PURE__*/_jsx(\"rect\", {\n        x: \"10.5\",\n        y: \"74.49\",\n        width: \"79\",\n        height: \"4\",\n        rx: \"2\"\n      })]\n    }), /*#__PURE__*/_jsxs(\"symbol\", {\n      id: \"afterpay-mobile\",\n      viewBox: \"24 9 52 82\",\n      children: [/*#__PURE__*/_jsx(\"rect\", {\n        x: \"10.5\",\n        y: \"25.5\",\n        width: \"79\",\n        height: \"49\",\n        rx: \"4.21\",\n        transform: \"translate(100 0) rotate(90)\"\n      }), /*#__PURE__*/_jsx(\"line\", {\n        x1: \"25.49\",\n        y1: \"19.5\",\n        x2: \"74.49\",\n        y2: \"19.5\"\n      }), /*#__PURE__*/_jsx(\"line\", {\n        x1: \"25.49\",\n        y1: \"84.5\",\n        x2: \"74.49\",\n        y2: \"84.5\"\n      }), /*#__PURE__*/_jsx(\"line\", {\n        x1: \"45.49\",\n        y1: \"15.5\",\n        x2: \"54.49\",\n        y2: \"15.5\"\n      }), /*#__PURE__*/_jsx(\"path\", {\n        fill: \"#000\",\n        stroke: \"none\",\n        d: \"M63.75 41.52L59.3 39l-4.51-2.59a4.48 4.48 0 00-6.71 3.89 v.58a.89.89 0 00.44.77l2.1 1.2a.86.86 0 001.3-.75V40.69 a.89.89 0 011.33-.77l4.12 2.37l4.11 2.36a.88.88 0 010 1.53 l-4.11 2.36L53.25 50.9a.88.88 0 01-1.33-.76v-.69a4.48 4.48 0 00-6.71-3.89L40.7 48.15L36.25 50.7a4.49 4.49 0 000 7.78 L40.7 61l4.51 2.59a4.48 4.48 0 006.71-3.89v-.58a.88.88 0 00-.44-.77l-2.1-1.2a.86.86 0 00-1.3.75v1.38a.89.89 0 01 -1.33.77l-4.12-2.37l-4.11-2.36a.88.88 0 010-1.53l4.11-2.36 l4.12-2.36a.88.88 0 011.33.76v.69a4.48 4.48 0 006.71 3.89 l4.51-2.59l4.45-2.55A4.49 4.49 0 0063.75 41.52Z\"\n      })]\n    }), /*#__PURE__*/_jsxs(\"symbol\", {\n      id: \"afterpay-signup-desktop\",\n      viewBox: \"9 24 82 56\",\n      children: [/*#__PURE__*/_jsx(\"polyline\", {\n        points: \"61.51 52.12 65.94 56.57 74.5 47.99\"\n      }), /*#__PURE__*/_jsx(\"circle\", {\n        cx: \"40\",\n        cy: \"50\",\n        r: \"14.5\"\n      }), /*#__PURE__*/_jsx(\"circle\", {\n        cx: \"40\",\n        cy: \"45.8\",\n        r: \"6.09\"\n      }), /*#__PURE__*/_jsx(\"path\", {\n        d: \"M29.92 60.42a8.43 8.43 0 018-5.8h4.2a8.45 8.45 0 018 5.79\"\n      }), /*#__PURE__*/_jsx(\"line\", {\n        x1: \"45.5\",\n        y1: \"76.49\",\n        x2: \"54.5\",\n        y2: \"76.49\"\n      }), /*#__PURE__*/_jsx(\"path\", {\n        d: \"M 19.43 25.5 H 80.57 a 3.93 3.93 0 0 1 3.93 3.93 V 74.5 a 0 0 0 0 1 0 0 h -69 a 0 0 0 0 1 0 0 V 29.43 A 3.93 3.93 0 0 1 19.43 25.5 Z\"\n      }), /*#__PURE__*/_jsx(\"rect\", {\n        x: \"10.5\",\n        y: \"74.49\",\n        width: \"79\",\n        height: \"4\",\n        rx: \"2\"\n      })]\n    }), /*#__PURE__*/_jsxs(\"symbol\", {\n      id: \"afterpay-signup-mobile\",\n      viewBox: \"24 9 52 82\",\n      children: [/*#__PURE__*/_jsx(\"rect\", {\n        x: \"10.5\",\n        y: \"25.5\",\n        width: \"79\",\n        height: \"49\",\n        rx: \"4.21\",\n        transform: \"translate(100) rotate(90)\"\n      }), /*#__PURE__*/_jsx(\"polyline\", {\n        points: \"45.45 67.06 49.88 71.51 58.44 62.93\"\n      }), /*#__PURE__*/_jsx(\"line\", {\n        x1: \"25.49\",\n        y1: \"19.5\",\n        x2: \"74.49\",\n        y2: \"19.5\"\n      }), /*#__PURE__*/_jsx(\"line\", {\n        x1: \"25.49\",\n        y1: \"84.5\",\n        x2: \"74.49\",\n        y2: \"84.5\"\n      }), /*#__PURE__*/_jsx(\"line\", {\n        x1: \"45.49\",\n        y1: \"15.5\",\n        x2: \"54.49\",\n        y2: \"15.5\"\n      }), /*#__PURE__*/_jsx(\"circle\", {\n        cx: \"50\",\n        cy: \"43\",\n        r: \"14.5\"\n      }), /*#__PURE__*/_jsx(\"circle\", {\n        cx: \"50\",\n        cy: \"38.8\",\n        r: \"6.09\"\n      }), /*#__PURE__*/_jsx(\"path\", {\n        d: \"M39.92 53.42a8.43 8.43 0 018-5.8h4.2a8.45 8.45 0 018 5.79\"\n      })]\n    }), /*#__PURE__*/_jsxs(\"symbol\", {\n      id: \"afterpay-four-payments\",\n      viewBox: \"14 7 79 79\",\n      children: [/*#__PURE__*/_jsx(\"path\", {\n        d: \"M50 15.5A34.5 34.5 0 0015.5 50H50Z\"\n      }), /*#__PURE__*/_jsx(\"path\", {\n        d: \"M15.5 50A34.5 34.5 0 0050 84.5V50Z\"\n      }), /*#__PURE__*/_jsx(\"path\", {\n        d: \"M50 84.5h0A34.5 34.5 0 0084.5 50H50Z\"\n      }), /*#__PURE__*/_jsx(\"path\", {\n        d: \"M57 8.5h0V43h34.5A34.5 34.5 0 0057 8.5Z\"\n      })]\n    })]\n  });\n}",".outsmartly/analysis/modules/53.js":"// node_modules/next/dist/client/script.js\n\"use strict\";\n\nvar _slicedToArray = require(\"/Users/kai/Work/rbx-rewrite/node_modules/next/node_modules/@babel/runtime/helpers/slicedToArray\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nexports.__esModule = true;\nexports.initScriptLoader = initScriptLoader;\nexports[\"default\"] = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _objectWithoutPropertiesLoose2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutPropertiesLoose\"));\n\nvar _react = require(\"react\");\n\nvar _headManagerContext = require(\"../next-server/lib/head-manager-context\");\n\nvar _headManager = require(\"./head-manager\");\n\nvar _requestIdleCallback = require(\"./request-idle-callback\");\n\nvar ScriptCache = new Map();\nvar LoadCache = new Set();\nvar ignoreProps = ['onLoad', 'dangerouslySetInnerHTML', 'children', 'onError', 'strategy'];\n\nvar loadScript = function loadScript(props) {\n  var src = props.src,\n      id = props.id,\n      _props$onLoad = props.onLoad,\n      onLoad = _props$onLoad === void 0 ? function () {} : _props$onLoad,\n      dangerouslySetInnerHTML = props.dangerouslySetInnerHTML,\n      _props$children = props.children,\n      children = _props$children === void 0 ? '' : _props$children,\n      onError = props.onError;\n  var cacheKey = id || src;\n\n  if (ScriptCache.has(src)) {\n    if (!LoadCache.has(cacheKey)) {\n      LoadCache.add(cacheKey); // Execute onLoad since the script loading has begun\n\n      ScriptCache.get(src).then(onLoad, onError);\n    }\n\n    return;\n  }\n\n  var el = document.createElement('script');\n  var loadPromise = new Promise(function (resolve, reject) {\n    el.addEventListener('load', function () {\n      resolve();\n\n      if (onLoad) {\n        onLoad.call(this);\n      }\n    });\n    el.addEventListener('error', function () {\n      reject();\n\n      if (onError) {\n        onError();\n      }\n    });\n  });\n\n  if (src) {\n    ScriptCache.set(src, loadPromise);\n    LoadCache.add(cacheKey);\n  }\n\n  if (dangerouslySetInnerHTML) {\n    el.innerHTML = dangerouslySetInnerHTML.__html || '';\n  } else if (children) {\n    el.textContent = typeof children === 'string' ? children : Array.isArray(children) ? children.join('') : '';\n  } else if (src) {\n    el.src = src;\n  }\n\n  for (var _i = 0, _Object$entries = Object.entries(props); _i < _Object$entries.length; _i++) {\n    var _Object$entries$_i = _slicedToArray(_Object$entries[_i], 2),\n        k = _Object$entries$_i[0],\n        value = _Object$entries$_i[1];\n\n    if (value === undefined || ignoreProps.includes(k)) {\n      continue;\n    }\n\n    var attr = _headManager.DOMAttributeNames[k] || k.toLowerCase();\n    el.setAttribute(attr, value);\n  }\n\n  document.body.appendChild(el);\n};\n\nfunction handleClientScriptLoad(props) {\n  var _props$strategy = props.strategy,\n      strategy = _props$strategy === void 0 ? 'afterInteractive' : _props$strategy;\n\n  if (strategy === 'afterInteractive') {\n    loadScript(props);\n  } else if (strategy === 'lazyOnload') {\n    window.addEventListener('load', function () {\n      (0, _requestIdleCallback.requestIdleCallback)(function () {\n        return loadScript(props);\n      });\n    });\n  }\n}\n\nfunction loadLazyScript(props) {\n  if (document.readyState === 'complete') {\n    (0, _requestIdleCallback.requestIdleCallback)(function () {\n      return loadScript(props);\n    });\n  } else {\n    window.addEventListener('load', function () {\n      (0, _requestIdleCallback.requestIdleCallback)(function () {\n        return loadScript(props);\n      });\n    });\n  }\n}\n\nfunction initScriptLoader(scriptLoaderItems) {\n  scriptLoaderItems.forEach(handleClientScriptLoad);\n}\n\nfunction Script(props) {\n  var _props$src = props.src,\n      src = _props$src === void 0 ? '' : _props$src,\n      _props$onLoad2 = props.onLoad,\n      onLoad = _props$onLoad2 === void 0 ? function () {} : _props$onLoad2,\n      _props$strategy2 = props.strategy,\n      strategy = _props$strategy2 === void 0 ? 'afterInteractive' : _props$strategy2,\n      onError = props.onError,\n      restProps = (0, _objectWithoutPropertiesLoose2[\"default\"])(props, [\"src\", \"onLoad\", \"dangerouslySetInnerHTML\", \"strategy\", \"onError\"]); // Context is available only during SSR\n\n  var _ref = (0, _react.useContext)(_headManagerContext.HeadManagerContext),\n      updateScripts = _ref.updateScripts,\n      scripts = _ref.scripts;\n\n  (0, _react.useEffect)(function () {\n    if (strategy === 'afterInteractive') {\n      loadScript(props);\n    } else if (strategy === 'lazyOnload') {\n      loadLazyScript(props);\n    }\n  }, [props, strategy]);\n\n  if (strategy === 'beforeInteractive') {\n    if (updateScripts) {\n      scripts.beforeInteractive = (scripts.beforeInteractive || []).concat([(0, _extends2[\"default\"])({\n        src: src,\n        onLoad: onLoad,\n        onError: onError\n      }, restProps)]);\n      updateScripts(scripts);\n    }\n  }\n\n  return null;\n}\n\nvar _default = Script;\nexports[\"default\"] = _default;",".outsmartly/analysis/modules/36.js":"// node_modules/next/dist/next-server/lib/router/utils/route-regex.js\n\"use strict\";\n\nexports.__esModule = true;\nexports.getRouteRegex = getRouteRegex; // this isn't importing the escape-string-regex module\n// to reduce bytes\n\nfunction escapeRegex(str) {\n  return str.replace(/[|\\\\{}()[\\]^$+*?.-]/g, '\\\\$&');\n}\n\nfunction parseParameter(param) {\n  var optional = param.startsWith('[') && param.endsWith(']');\n\n  if (optional) {\n    param = param.slice(1, -1);\n  }\n\n  var repeat = param.startsWith('...');\n\n  if (repeat) {\n    param = param.slice(3);\n  }\n\n  return {\n    key: param,\n    repeat: repeat,\n    optional: optional\n  };\n}\n\nfunction getRouteRegex(normalizedRoute) {\n  var segments = (normalizedRoute.replace(/\\/$/, '') || '/').slice(1).split('/');\n  var groups = {};\n  var groupIndex = 1;\n  var parameterizedRoute = segments.map(function (segment) {\n    if (segment.startsWith('[') && segment.endsWith(']')) {\n      var _parseParameter = parseParameter(segment.slice(1, -1)),\n          key = _parseParameter.key,\n          optional = _parseParameter.optional,\n          repeat = _parseParameter.repeat;\n\n      groups[key] = {\n        pos: groupIndex++,\n        repeat: repeat,\n        optional: optional\n      };\n      return repeat ? optional ? '(?:/(.+?))?' : '/(.+?)' : '/([^/]+?)';\n    } else {\n      return \"/\".concat(escapeRegex(segment));\n    }\n  }).join(''); // dead code eliminate for browser since it's only needed\n  // while generating routes-manifest\n\n  if (false) {\n    var routeKeyCharCode = 97;\n    var routeKeyCharLength = 1; // builds a minimal routeKey using only a-z and minimal number of characters\n\n    var getSafeRouteKey = function getSafeRouteKey() {\n      var routeKey = '';\n\n      for (var i = 0; i < routeKeyCharLength; i++) {\n        routeKey += String.fromCharCode(routeKeyCharCode);\n        routeKeyCharCode++;\n\n        if (routeKeyCharCode > 122) {\n          routeKeyCharLength++;\n          routeKeyCharCode = 97;\n        }\n      }\n\n      return routeKey;\n    };\n\n    var routeKeys = {};\n    var namedParameterizedRoute = segments.map(function (segment) {\n      if (segment.startsWith('[') && segment.endsWith(']')) {\n        var _parseParameter2 = parseParameter(segment.slice(1, -1)),\n            key = _parseParameter2.key,\n            optional = _parseParameter2.optional,\n            repeat = _parseParameter2.repeat; // replace any non-word characters since they can break\n        // the named regex\n\n\n        var cleanedKey = key.replace(/\\W/g, '');\n        var invalidKey = false; // check if the key is still invalid and fallback to using a known\n        // safe key\n\n        if (cleanedKey.length === 0 || cleanedKey.length > 30) {\n          invalidKey = true;\n        }\n\n        if (!isNaN(parseInt(cleanedKey.substr(0, 1)))) {\n          invalidKey = true;\n        }\n\n        if (invalidKey) {\n          cleanedKey = getSafeRouteKey();\n        }\n\n        routeKeys[cleanedKey] = key;\n        return repeat ? optional ? \"(?:/(?<\".concat(cleanedKey, \">.+?))?\") : \"/(?<\".concat(cleanedKey, \">.+?)\") : \"/(?<\".concat(cleanedKey, \">[^/]+?)\");\n      } else {\n        return \"/\".concat(escapeRegex(segment));\n      }\n    }).join('');\n    return {\n      re: new RegExp(\"^\".concat(parameterizedRoute, \"(?:/)?$\")),\n      groups: groups,\n      routeKeys: routeKeys,\n      namedRegex: \"^\".concat(namedParameterizedRoute, \"(?:/)?$\")\n    };\n  }\n\n  return {\n    re: new RegExp(\"^\".concat(parameterizedRoute, \"(?:/)?$\")),\n    groups: groups\n  };\n}",".outsmartly/analysis/modules/67.js":"// node_modules/next/dist/client/link.js\n\"use strict\";\n\nvar _slicedToArray = require(\"/Users/kai/Work/rbx-rewrite/node_modules/next/node_modules/@babel/runtime/helpers/slicedToArray\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nexports.__esModule = true;\nexports[\"default\"] = void 0;\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _router = require(\"../next-server/lib/router/router\");\n\nvar _router2 = require(\"./router\");\n\nvar _useIntersection = require(\"./use-intersection\");\n\nvar prefetched = {};\n\nfunction prefetch(router, href, as, options) {\n  if (false || !router) return;\n  if (!(0, _router.isLocalURL)(href)) return; // Prefetch the JSON page if asked (only in the client)\n  // We need to handle a prefetch error here since we may be\n  // loading with priority which can reject but we don't\n  // want to force navigation since this is only a prefetch\n\n  router.prefetch(href, as, options)[\"catch\"](function (err) {\n    if (false) {\n      // rethrow to show invalid URL errors\n      throw err;\n    }\n  });\n  var curLocale = options && typeof options.locale !== 'undefined' ? options.locale : router && router.locale; // Join on an invalid URI character\n\n  prefetched[href + '%' + as + (curLocale ? '%' + curLocale : '')] = true;\n}\n\nfunction isModifiedEvent(event) {\n  var target = event.currentTarget.target;\n  return target && target !== '_self' || event.metaKey || event.ctrlKey || event.shiftKey || event.altKey || // triggers resource download\n  event.nativeEvent && event.nativeEvent.which === 2;\n}\n\nfunction linkClicked(e, router, href, as, replace, shallow, scroll, locale) {\n  var nodeName = e.currentTarget.nodeName;\n\n  if (nodeName === 'A' && (isModifiedEvent(e) || !(0, _router.isLocalURL)(href))) {\n    // ignore click for browsers default behavior\n    return;\n  }\n\n  e.preventDefault(); //  avoid scroll for urls with anchor refs\n\n  if (scroll == null && as.indexOf('#') >= 0) {\n    scroll = false;\n  } // replace state instead of push if prop is present\n\n\n  router[replace ? 'replace' : 'push'](href, as, {\n    shallow: shallow,\n    locale: locale,\n    scroll: scroll\n  });\n}\n\nfunction Link(props) {\n  if (false) {\n    var createPropError = function createPropError(args) {\n      return new Error(\"Failed prop type: The prop `\".concat(args.key, \"` expects a \").concat(args.expected, \" in `<Link>`, but got `\").concat(args.actual, \"` instead.\") + (true ? \"\\nOpen your browser's console to view the Component stack trace.\" : ''));\n    }; // TypeScript trick for type-guarding:\n\n\n    var requiredPropsGuard = {\n      href: true\n    };\n    var requiredProps = Object.keys(requiredPropsGuard);\n    requiredProps.forEach(function (key) {\n      if (key === 'href') {\n        if (props[key] == null || typeof props[key] !== 'string' && typeof props[key] !== 'object') {\n          throw createPropError({\n            key: key,\n            expected: '`string` or `object`',\n            actual: props[key] === null ? 'null' : typeof props[key]\n          });\n        }\n      } else {\n        // TypeScript trick for type-guarding:\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\n        var _ = key;\n      }\n    }); // TypeScript trick for type-guarding:\n\n    var optionalPropsGuard = {\n      as: true,\n      replace: true,\n      scroll: true,\n      shallow: true,\n      passHref: true,\n      prefetch: true,\n      locale: true\n    };\n    var optionalProps = Object.keys(optionalPropsGuard);\n    optionalProps.forEach(function (key) {\n      var valType = typeof props[key];\n\n      if (key === 'as') {\n        if (props[key] && valType !== 'string' && valType !== 'object') {\n          throw createPropError({\n            key: key,\n            expected: '`string` or `object`',\n            actual: valType\n          });\n        }\n      } else if (key === 'locale') {\n        if (props[key] && valType !== 'string') {\n          throw createPropError({\n            key: key,\n            expected: '`string`',\n            actual: valType\n          });\n        }\n      } else if (key === 'replace' || key === 'scroll' || key === 'shallow' || key === 'passHref' || key === 'prefetch') {\n        if (props[key] != null && valType !== 'boolean') {\n          throw createPropError({\n            key: key,\n            expected: '`boolean`',\n            actual: valType\n          });\n        }\n      } else {\n        // TypeScript trick for type-guarding:\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\n        var _ = key;\n      }\n    }); // This hook is in a conditional but that is ok because `process.env.NODE_ENV` never changes\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n\n    var hasWarned = _react[\"default\"].useRef(false);\n\n    if (props.prefetch && !hasWarned.current) {\n      hasWarned.current = true;\n      console.warn('Next.js auto-prefetches automatically based on viewport. The prefetch attribute is no longer needed. More: https://nextjs.org/docs/messages/prefetch-true-deprecated');\n    }\n  }\n\n  var p = props.prefetch !== false;\n  var router = (0, _router2.useRouter)();\n\n  var _react$default$useMem = _react[\"default\"].useMemo(function () {\n    var _ref = (0, _router.resolveHref)(router, props.href, true),\n        _ref2 = _slicedToArray(_ref, 2),\n        resolvedHref = _ref2[0],\n        resolvedAs = _ref2[1];\n\n    return {\n      href: resolvedHref,\n      as: props.as ? (0, _router.resolveHref)(router, props.as) : resolvedAs || resolvedHref\n    };\n  }, [router, props.href, props.as]),\n      href = _react$default$useMem.href,\n      as = _react$default$useMem.as;\n\n  var children = props.children,\n      replace = props.replace,\n      shallow = props.shallow,\n      scroll = props.scroll,\n      locale = props.locale; // Deprecated. Warning shown by propType check. If the children provided is a string (<Link>example</Link>) we wrap it in an <a> tag\n\n  if (typeof children === 'string') {\n    children = /*#__PURE__*/_react[\"default\"].createElement(\"a\", null, children);\n  } // This will return the first child, if multiple are provided it will throw an error\n\n\n  var child;\n\n  if (false) {\n    try {\n      child = _react.Children.only(children);\n    } catch (err) {\n      throw new Error(\"Multiple children were passed to <Link> with `href` of `\".concat(props.href, \"` but only one child is supported https://nextjs.org/docs/messages/link-multiple-children\") + (true ? \"\\nOpen your browser's console to view the Component stack trace.\" : ''));\n    }\n  } else {\n    child = _react.Children.only(children);\n  }\n\n  var childRef = child && typeof child === 'object' && child.ref;\n\n  var _ref3 = (0, _useIntersection.useIntersection)({\n    rootMargin: '200px'\n  }),\n      _ref4 = _slicedToArray(_ref3, 2),\n      setIntersectionRef = _ref4[0],\n      isVisible = _ref4[1];\n\n  var setRef = _react[\"default\"].useCallback(function (el) {\n    setIntersectionRef(el);\n\n    if (childRef) {\n      if (typeof childRef === 'function') childRef(el);else if (typeof childRef === 'object') {\n        childRef.current = el;\n      }\n    }\n  }, [childRef, setIntersectionRef]);\n\n  (0, _react.useEffect)(function () {\n    var shouldPrefetch = isVisible && p && (0, _router.isLocalURL)(href);\n    var curLocale = typeof locale !== 'undefined' ? locale : router && router.locale;\n    var isPrefetched = prefetched[href + '%' + as + (curLocale ? '%' + curLocale : '')];\n\n    if (shouldPrefetch && !isPrefetched) {\n      prefetch(router, href, as, {\n        locale: curLocale\n      });\n    }\n  }, [as, href, isVisible, locale, p, router]);\n  var childProps = {\n    ref: setRef,\n    onClick: function onClick(e) {\n      if (child.props && typeof child.props.onClick === 'function') {\n        child.props.onClick(e);\n      }\n\n      if (!e.defaultPrevented) {\n        linkClicked(e, router, href, as, replace, shallow, scroll, locale);\n      }\n    }\n  };\n\n  childProps.onMouseEnter = function (e) {\n    if (!(0, _router.isLocalURL)(href)) return;\n\n    if (child.props && typeof child.props.onMouseEnter === 'function') {\n      child.props.onMouseEnter(e);\n    }\n\n    prefetch(router, href, as, {\n      priority: true\n    });\n  }; // If child is an <a> tag and doesn't have a href attribute, or if the 'passHref' property is\n  // defined, we specify the current 'href', so that repetition is not needed by the user\n\n\n  if (props.passHref || child.type === 'a' && !('href' in child.props)) {\n    var curLocale = typeof locale !== 'undefined' ? locale : router && router.locale; // we only render domain locales if we are currently on a domain locale\n    // so that locale links are still visitable in development/preview envs\n\n    var localeDomain = router && router.isLocaleDomain && (0, _router.getDomainLocale)(as, curLocale, router && router.locales, router && router.domainLocales);\n    childProps.href = localeDomain || (0, _router.addBasePath)((0, _router.addLocale)(as, curLocale, router && router.defaultLocale));\n  }\n\n  return /*#__PURE__*/_react[\"default\"].cloneElement(child, childProps);\n}\n\nvar _default = Link;\nexports[\"default\"] = _default;",".outsmartly/analysis/modules/94.js":"// third-party-scripts/yotpo.js\nimport { useEffect } from 'react';\nimport { loadScriptWithDelay, loadScript } from './utils';\nexport function useYotpo(productId, inView) {\n  // Go get Yotpo reviews if the user has scrolled down\n  useEffect(function () {\n    if (inView) {\n      // immediately load Limespot and Yotpo\n      ///////loadLimespotImmediately({ routeInfo });\n      loadYotpoImmediately();\n    }\n  }, [inView]); // Go get Yotpo reviews if we're on a Product page\n\n  useEffect(function () {\n    /////////loadLimespot({ routeInfo });\n    loadYotpo(); // A cleanup function for the effect. yotpo needs to be cleaned or it will\n    // throw an error and stop working\n\n    return function () {\n      window.yotpo && typeof window.yotpo.clean === 'function' && window.yotpo.clean();\n    };\n  }, [productId]);\n}\nvar config = {\n  src: '//staticw2.yotpo.com/J97jPKypdpmHGqgeR4CAzCBh6EcRa42lPCQNXpyd/widget.js',\n  id: 'yotpo-script',\n  timeout: 12 * 1000\n}; // could refactor these callbacks to be async and await them instead\n\nfunction loadYotpo(callback) {\n  initWidgets(); // We don't need to initWidgets after the script loads, because the script inits itself.\n\n  loadScriptWithDelay(config);\n}\n\nfunction loadYotpoImmediately() {\n  loadScript(config);\n}\n\nfunction initWidgets() {\n  // init widgets if yotpo has already loaded.\n  if (document.getElementsByClassName('yotpo').length > 0 && window.yotpo && typeof window.yotpo.initWidgets === 'function') {\n    try {\n      // sometimes this throws an error\n      window.yotpo.refreshWidgets();\n    } catch (e) {\n      console.log(e);\n    }\n  }\n}",".outsmartly/analysis/modules/47.js":"// node_modules/next/dist/next-server/lib/head-manager-context.js\n\"use strict\";\n\nexports.__esModule = true;\nexports.HeadManagerContext = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nvar HeadManagerContext = /*#__PURE__*/_react[\"default\"].createContext({});\n\nexports.HeadManagerContext = HeadManagerContext;\n\nif (false) {\n  HeadManagerContext.displayName = 'HeadManagerContext';\n}",".outsmartly/analysis/modules/16.js":"// pages/pages/[page].ts\nimport { Page } from 'components/Page';\nexport var __N_SSG = true;\nexport default Page;",".outsmartly/analysis/modules/80.js":"// components/SiteNav.js\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React, { useContext, useRef } from 'react';\nimport Link from 'next/link';\nimport { useRouter } from 'next/router';\nimport { siteNav, drawer, navDrawerTop, navDrawerSearch, navDrawerSearchInput, navDrawerSearchSubmit, navDrawerSearchIcon, navList, topLevel, topLink, under, hasSublist, dropdown, dropLink, dropLinkInner, dropLinkIcon, underline, level1, level2, toggleOpen, toggleIconOpen, toggleIconClose, active } from './SiteNav.module.css';\nimport Icon from './icons/Icon';\nimport navLinks from '../data/navigation';\nimport { loadSearchaniseImmediately } from 'third-party-scripts/searchanise';\nimport { AccountContext } from '@outsmartly/jackrabbit';\nexport default function SiteNav(_ref) {\n  var deactivateDropdowns = _ref.deactivateDropdowns,\n      deactivateTopLinks = _ref.deactivateTopLinks,\n      toggleDrawer = _ref.toggleDrawer;\n\n  var _useContext = useContext(AccountContext),\n      account = _useContext.account;\n\n  var router = useRouter();\n  /** Grab a reference to the nav element for later */\n\n  var navRef = useRef();\n  /** Adds \"active\" class to dropdown that is a sibling to the given element */\n\n  var activateDropdown = function activateDropdown(element) {\n    // Add \"active\" to current dropdown. This approach relies on dropdown\n    // being next sibling.\n    ////topLinkElem.nextElementSibling.classList.add(active);\n    // More robust way to add \"active\" to current dropdown. Does not rely on\n    // dropdown being the next sibling.\n    Array.from(element.parentElement.children).forEach(function (child) {\n      if (child.classList.contains(dropdown)) {\n        child.classList.add(active);\n      }\n    });\n  };\n  /** Toggle \"active\" class on dropdown that is a sibling to the given element */\n\n\n  var toggleDropdown = function toggleDropdown(element) {\n    // Add or remove \"active\" to current dropdown.\n    Array.from(element.parentElement.children).forEach(function (child) {\n      var list = child.classList;\n\n      if (list.contains(dropdown)) {\n        list.toggle(active);\n      }\n    });\n  };\n  /** Toggle \"active\" class on link */\n\n\n  var toggleLink = function toggleLink(link) {\n    // Add or remove \"active\" to given link.\n    var list = link.classList;\n    list.toggle(active);\n  };\n  /**\n   * Handle mouse hover on top level navigation links. Not in nav drawer, only\n   * in large screen nav bar\n   * @param {Object} e - the event object\n   */\n\n\n  var topLinkEnter = function topLinkEnter(e) {\n    if (navRef.current.classList.contains(drawer)) {\n      return;\n    }\n\n    var topLinkElem = e.target; // First turn off any active dropdowns (both level 1 and level 2)\n\n    deactivateDropdowns(topLinkElem, dropdown); // Only if this link has a sublist\n\n    if (topLinkElem.classList.contains(hasSublist)) {\n      // Add \"active\" to current dropdown\n      activateDropdown(topLinkElem);\n    }\n  };\n  /**\n   * Handle mouse hover on level 1 dropdown links. Not in nav drawer, only in\n    large screen nav bar\n   * @param {Object} e - the event object\n   */\n\n\n  var dropLinkEnter = function dropLinkEnter(e) {\n    if (navRef.current.classList.contains(drawer)) {\n      return;\n    }\n\n    var dropLinkElem = e.currentTarget; // First turn off any active level 2 dropdowns\n\n    deactivateDropdowns(dropLinkElem, level2); // Only if this link has a sublist\n\n    if (dropLinkElem.classList.contains(hasSublist)) {\n      // Add \"active\" to current dropdown\n      activateDropdown(dropLinkElem);\n    }\n  };\n  /** Deactivate any topLink and any dropdown */\n\n\n  var deactivateAll = function deactivateAll() {\n    // Close the nav drawer if it is open\n    if (navRef.current.classList.contains(drawer)) {\n      toggleDrawer();\n    } // Grab the first topLink, since deactivateDropdowns will find a parent list\n\n\n    var firstTopLink = navRef.current.querySelector(\".\".concat(topLink));\n    deactivateDropdowns(firstTopLink, dropdown);\n    deactivateTopLinks();\n  };\n  /** Handle clicks on dropLink */\n\n\n  var dropLinkClick = function dropLinkClick(e) {\n    e.preventDefault(); // e.target is dropLinkInner, so we must use currentTarget\n\n    var link = e.currentTarget;\n    deactivateAll();\n    router.push(link.href);\n  };\n  /** Handle clicks on a top level navigation link */\n\n\n  var topLinkClick = function topLinkClick(e) {\n    e.preventDefault(); // A span wraps the text inside the anchor, so we need currentTarget\n\n    var link = e.currentTarget; // Nav drawer\n\n    if (navRef.current.classList.contains(drawer)) {\n      // First check the target\n      if (e.target.classList.contains(toggleOpen)) {\n        // Click was on toggleOpen span, and the topLink is the parent.\n        // This only happens in nav drawer, never in nav bar.\n        link = e.target.parentElement;\n      } else if (!link.classList.contains(hasSublist)) {\n        // No sub list, so deactivate everything and then just follow the link\n        deactivateAll();\n        router.push(link.href);\n        return;\n      } // Toggle \"active\" on current dropdown, and on the topLink\n\n\n      toggleDropdown(link);\n      toggleLink(link);\n    } // Nav bar\n    else {\n        // No sub list, or the link was already active, so just follow the link\n        if (!link.classList.contains(hasSublist) || link.classList.contains(active)) {\n          deactivateAll();\n          router.push(link.href);\n          return;\n        } // Link was not active. First, remove all other active, then add active.\n\n\n        deactivateTopLinks();\n        link.classList.add(active);\n      }\n  };\n\n  return /*#__PURE__*/_jsxs(\"nav\", {\n    id: \"sitenav\",\n    className: siteNav,\n    \"aria-label\": \"Site\",\n    ref: navRef,\n    children: [/*#__PURE__*/_jsx(\"div\", {\n      className: navDrawerTop,\n      children: /*#__PURE__*/_jsxs(\"form\", {\n        action: \"/search\",\n        method: \"get\",\n        className: navDrawerSearch,\n        onFocus: loadSearchaniseImmediately,\n        children: [/*#__PURE__*/_jsx(\"input\", {\n          type: \"search\",\n          name: \"q\",\n          className: navDrawerSearchInput,\n          \"aria-label\": \"Search\",\n          placeholder: \"Search\",\n          autoComplete: \"off\"\n        }), /*#__PURE__*/_jsxs(\"button\", {\n          type: \"submit\",\n          className: navDrawerSearchSubmit,\n          children: [/*#__PURE__*/_jsx(Icon, {\n            icon: \"search-glass\",\n            className: navDrawerSearchIcon\n          }), /*#__PURE__*/_jsx(\"span\", {\n            className: \"visually-hidden\",\n            children: \"Search\"\n          })]\n        })]\n      })\n    }), /*#__PURE__*/_jsx(\"ul\", {\n      className: \"\".concat(navList, \" \").concat(topLevel),\n      children: navLinks.map(function (link, i) {\n        if (link.hidden) {\n          return null;\n        } else {\n          return /*#__PURE__*/_jsxs(\"li\", {\n            className: link.route.substring(link.route.lastIndexOf('/') + 1, link.route.length),\n            children: [/*#__PURE__*/_jsx(Link, {\n              href: link.route,\n              children: /*#__PURE__*/_jsxs(\"a\", {\n                className: \"\".concat(topLink, \" \").concat(link.subNav ? hasSublist : ''),\n                onClick: topLinkClick,\n                onMouseEnter: topLinkEnter,\n                children: [/*#__PURE__*/_jsx(\"span\", {\n                  className: under,\n                  children: link.navText\n                }), link.subNav && /*#__PURE__*/_jsxs(\"span\", {\n                  className: toggleOpen,\n                  children: [/*#__PURE__*/_jsx(Icon, {\n                    icon: \"plus\",\n                    className: toggleIconOpen\n                  }), /*#__PURE__*/_jsx(Icon, {\n                    icon: \"minus\",\n                    className: toggleIconClose\n                  })]\n                })]\n              })\n            }), link.subNav && /*#__PURE__*/_jsx(\"ul\", {\n              className: \"\".concat(dropdown, \" \").concat(level1),\n              children: link.subNav.map(function (sub, i) {\n                if (sub.hidden || sub.account === false && account !== null && account !== void 0 && account.loggedIn || sub.account === true && !(account !== null && account !== void 0 && account.loggedIn)) {\n                  return null;\n                } else {\n                  return /*#__PURE__*/_jsxs(\"li\", {\n                    children: [/*#__PURE__*/_jsx(Link, {\n                      href: sub.route,\n                      children: /*#__PURE__*/_jsxs(\"a\", {\n                        className: \"\".concat(dropLink, \" \").concat(sub.subNav ? hasSublist : ''),\n                        onMouseEnter: dropLinkEnter,\n                        onClick: dropLinkClick,\n                        children: [/*#__PURE__*/_jsxs(\"div\", {\n                          className: dropLinkInner,\n                          children: [sub.navText, /*#__PURE__*/_jsx(\"div\", {\n                            className: underline\n                          })]\n                        }), sub.subNav && /*#__PURE__*/_jsx(Icon, {\n                          icon: \"angle-right\",\n                          className: dropLinkIcon\n                        })]\n                      })\n                    }), sub.subNav && /*#__PURE__*/_jsx(\"ul\", {\n                      className: \"\".concat(dropdown, \" \").concat(level2),\n                      children: sub.subNav.map(function (sub2, i) {\n                        if (sub2.hidden) {\n                          return null;\n                        } else {\n                          return /*#__PURE__*/_jsx(\"li\", {\n                            children: /*#__PURE__*/_jsx(Link, {\n                              href: sub2.route,\n                              children: /*#__PURE__*/_jsx(\"a\", {\n                                className: dropLink,\n                                onClick: dropLinkClick,\n                                children: /*#__PURE__*/_jsxs(\"div\", {\n                                  className: dropLinkInner,\n                                  children: [sub2.navText, /*#__PURE__*/_jsx(\"div\", {\n                                    className: underline\n                                  })]\n                                })\n                              })\n                            })\n                          }, i);\n                        }\n                      })\n                    })]\n                  }, i);\n                }\n              })\n            })]\n          }, i);\n        }\n      })\n    })]\n  });\n}",".outsmartly/analysis/modules/22.js":"// lib/polyfills.js\n// Polyfilling globalThis for Safari 12.\nif (typeof globalThis === 'undefined') {\n  Object.defineProperty(self, 'globalThis', {\n    value: self,\n    writable: true,\n    configurable: true\n  });\n} // We need to polyfill Event for Node <15.4\n\n\nif (false) {\n  require('event-target-polyfill');\n}",".outsmartly/analysis/modules/73.js":"// components/Logo.js\nimport _defineProperty from \"/Users/kai/Work/rbx-rewrite/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nexport function RBXLogoSVG(props) {\n  return /*#__PURE__*/_jsxs(\"svg\", _objectSpread(_objectSpread({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 715.55 642.08\"\n  }, props), {}, {\n    children: [/*#__PURE__*/_jsx(\"path\", {\n      d: \"M182.19 247.69C106.71 375.04 40.14 476.37 15.55 462.19c-24.38-14 32.17-123.58 107.68-250.87S266.39-11.66 288.86 1.15c22.89 13-31.16 119.21-106.67 246.54M265.28 280.24c-64.07 108.13-120.59 194.2-141.5 182.15-20.69-11.94 27.34-104.92 91.4-213s121.6-189.35 140.7-178.52c19.41 11.06-26.46 101.24-90.6 209.37M340.78 302.12c-56.45 95.19-106.22 171-124.66 160.41-18.19-10.51 24.14-92.38 80.56-187.58s107.1-166.73 123.86-157.17c17.08 9.73-23.3 89.15-79.75 184.34M594.78 278.04c67.23 58.66 119.71 109.59 106.77 124.72-12.72 14.95-72-30-139.16-88.71S442.04 200.82 453.78 187.04c11.86-14 73.73 32.32 141 91M542.55 318.04c69.32 53.44 123.72 100.26 111.72 116.15-11.82 15.69-72.55-24.76-141.87-78.23S392.37 255.04 403.22 240.57c11-14.73 70 24 139.33 77.43M491.11 357.55c68.77 47.54 122.78 89.63 111.67 106.09-11 16.3-71-19.1-139.75-66.63S343.78 306.52 353.9 291.53c10.23-15.27 68.49 18.5 137.21 66M170.54 642.04c-5.57 0-10-1.83-13.4-5.5l-61-62.65a13.88 13.88 0 01-2.5-3.14 8.3 8.3 0 01-.94-4.37v-6.24c0-3.52 1.74-5.27 5.29-5.27h27.75c6.54 0 11.34-1.22 14.51-3.65a12 12 0 004.73-10.12q0-13.62-19.24-13.62H80.49v109.1c0 3.67-1.81 5.5-5.5 5.5H5.43q-5.43 0-5.43-5.5V509.04c0-3.54 1.81-5.28 5.43-5.28h177.28a55.4 55.4 0 0117 2.52 42.36 42.36 0 0113.7 7.21 33.67 33.67 0 019 11.16 32.15 32.15 0 013.2 14.4 36.07 36.07 0 01-3.13 15.3 35 35 0 01-8.47 11.69 43 43 0 01-12.59 7.92 63 63 0 01-15.27 4.25l56 57.39a4.1 4.1 0 011.43 3.24 3.31 3.31 0 01-.94 2.23 3.4 3.4 0 01-2.71 1zM336.41 578.6c-3.55 0-5.32-1.75-5.32-5.28v-13.18c0-3.52 1.77-5.27 5.32-5.27h45.42q10.13 0 13.84-3.85a13.32 13.32 0 003.8-9.92 13 13 0 00-3.8-9.85c-2.47-2.5-7.09-3.77-13.84-3.77h-57.56v90.88h54.12c7.68 0 13.22-1.72 16.62-5.23s5.08-8.43 5.08-15-1.7-11.59-5.08-14.79-8.94-4.78-16.62-4.78zm-78.47 63.44c-3.55 0-5.29-1.83-5.29-5.5v-127.5c0-3.54 1.74-5.28 5.29-5.28h176q20.29 0 30.33 9.23t10 25.66a29.26 29.26 0 01-1.74 10.75 28.73 28.73 0 01-4.1 7.48 22.88 22.88 0 01-5.29 4.88 56.11 56.11 0 01-4.87 2.84 23.88 23.88 0 017.09 3.95 33.93 33.93 0 017.1 7.51 40 40 0 015.36 10.74 42.87 42.87 0 01-.7 28.78 36.31 36.31 0 01-8.94 13.3 45.27 45.27 0 01-15.4 9.54q-9.29 3.62-22.29 3.62zM603.87 618.18l18.79 18.37a15.08 15.08 0 0010.74 4.49h77.38c3.2 0 4.77-1.3 4.77-3.85a5.13 5.13 0 00-2-3.84l-62.77-61.48 62.92-61.49a5.41 5.41 0 001.85-4q0-3.63-4.8-3.63h-77.17a14.26 14.26 0 00-10.75 4.45l-19 18.66\"\n    }), /*#__PURE__*/_jsx(\"path\", {\n      d: \"M591.04 525.82l-19-18.66a14.26 14.26 0 00-10.74-4.45h-77.14c-3.17 0-4.8 1.21-4.8 3.63a5.51 5.51 0 001.84 4.06l62.92 61.47-62.74 61.44a5.13 5.13 0 00-2 3.84c0 2.56 1.6 3.85 4.8 3.85h77.35a15 15 0 0010.75-4.47l18.78-18.35\"\n    })]\n  }));\n}",".outsmartly/analysis/modules/338.js":"// components/FilterSidebar/ColorFilter.js\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React, { useContext } from 'react';\nimport Link from 'next/link';\nimport { useRouter } from 'next/router';\nimport { list, filterSwatch, filterSwatchLight, dotWrap, dot, dotLight } from './ColorFilter.module.css';\nimport Swatch from 'components/ProductOption/Swatch';\nimport { camelize, getTagHref, getClearTagHref, toTitleCase, colorIsLight } from 'lib/utils';\nimport { CollectionContext } from 'context/CollectionContext';\nexport default function ColorFilter({\n  handle\n}) {\n  // Get the route for this collection to use as a prefix for each swatch\n  const router = useRouter();\n  const {\n    query\n  } = router;\n  const {\n    colors\n  } = useContext(CollectionContext); // Get the correct route for the \"Clear filter\" link\n\n  const clearHref = getClearTagHref(query, 'color'); // Convert the array of colors into an object array for rendering\n\n  const colorItems = colors.map(item => {\n    const href = getTagHref(query, 'color', item); // Determine if this color is selected\n\n    const isSelected = href.query.tagQuery === query.tagQuery;\n    return {\n      name: toTitleCase(item),\n      handle: item,\n      cssClass: camelize(item),\n      href: isSelected ? clearHref : href,\n      selected: isSelected\n    };\n  });\n  return /*#__PURE__*/_jsxs(\"div\", {\n    className: \"scroll-content\",\n    children: [/*#__PURE__*/_jsx(\"form\", {\n      children: /*#__PURE__*/_jsx(\"input\", {\n        type: \"text\",\n        className: \"fm-search-box snize-input-style\",\n        name: \"q\",\n        placeholder: \"search...\",\n        style: {\n          display: 'none'\n        },\n        autoComplete: \"off\"\n      })\n    }), /*#__PURE__*/_jsx(\"ul\", {\n      className: list,\n      children: colorItems.map(color => /*#__PURE__*/_jsx(\"li\", {\n        children: /*#__PURE__*/_jsx(Link, {\n          href: color.href,\n          children: /*#__PURE__*/_jsxs(\"a\", {\n            title: `${color.selected ? 'Clear' : 'Add'} filter: ${color.name}`,\n            children: [/*#__PURE__*/_jsxs(\"div\", {\n              className: dotWrap,\n              children: [/*#__PURE__*/_jsx(Swatch, {\n                colorParent: colorIsLight(color.name) ? filterSwatchLight : filterSwatch,\n                color: color.cssClass,\n                colorName: color.name,\n                tooltip: `${color.selected ? 'Clear' : 'Add'} filter: ${color.name}`\n              }), color.selected && /*#__PURE__*/_jsx(\"span\", {\n                className: `${colorIsLight(color.name) ? dotLight : dot}`\n              })]\n            }), /*#__PURE__*/_jsx(\"span\", {\n              className: \"visually-hidden\",\n              children: color.name\n            })]\n          })\n        })\n      }, color.handle))\n    })]\n  });\n}",".outsmartly/analysis/modules/278.js":"// lib/shopify/loadSingleCollection.ts\nimport { getShopifyClient } from './shopifyClient';\nimport { parseShopifyId } from './parseShopifyId';\nimport { mapEdgesToProducts } from './mapEdgeToProduct';\nexport async function _loadSingleCollection({\n  graphqlParams,\n  YOTPO_API_KEY = undefined,\n  handle\n}) {\n  const shopifyClient = getShopifyClient(graphqlParams);\n  const bestSellerResponse = getBestSellers(handle);\n\n  try {\n    return await load(handle, undefined);\n  } catch (e) {\n    console.error(handle, e);\n  }\n\n  return null;\n\n  async function load(handle, cursor) {\n    var _collection$image$src, _collection$image;\n\n    const {\n      collectionByHandle: collection\n    } = await shopifyClient.request(collectionQuery(handle, cursor));\n\n    if (!collection) {\n      console.error(`Collection ${handle} not found`);\n      return null;\n    }\n\n    const edges = collection.products.edges;\n    const lastEdge = edges.length > 0 ? edges[edges.length - 1] : undefined;\n    const hasNextPage = collection.products.pageInfo.hasNextPage;\n    let products = mapEdgesToProducts({\n      edges,\n      YOTPO_API_KEY,\n      bestSellerResponse\n    });\n\n    if (hasNextPage && lastEdge) {\n      const nextResult = await load(handle, lastEdge.cursor);\n      products = products.concat(nextResult.products);\n    }\n\n    products = await Promise.all(products);\n    return {\n      id: parseShopifyId(collection.id),\n      description: collection.description,\n      descriptionHtml: {\n        __html: collection.descriptionHtml\n      },\n      handle: collection.handle,\n      title: collection.title,\n      image: (_collection$image$src = collection === null || collection === void 0 ? void 0 : (_collection$image = collection.image) === null || _collection$image === void 0 ? void 0 : _collection$image.src) !== null && _collection$image$src !== void 0 ? _collection$image$src : null,\n      products,\n      colors: [],\n      sizes: []\n    };\n  }\n\n  async function getBestSellers(handle, cursor = '') {\n    try {\n      const {\n        collectionByHandle: collection\n      } = await shopifyClient.request(bestSellers(handle, cursor));\n      const edges = collection.products.edges;\n      const lastEdge = edges.length > 0 ? edges[edges.length - 1] : undefined;\n      const hasNextPage = collection.products.pageInfo.hasNextPage;\n      let products = edges.map(({\n        node\n      }) => node.handle);\n\n      if (hasNextPage && lastEdge) {\n        const nextResult = await getBestSellers(handle, lastEdge.cursor);\n        products = products.concat(nextResult);\n      }\n\n      return products;\n    } catch (e) {\n      return [];\n    }\n  }\n}\n\nfunction bestSellers(handle, cursor) {\n  return `\n  {\n    collectionByHandle(handle: \"${handle}\") {\n      products(first: 250, sortKey:BEST_SELLING${cursor ? `, after: \"${cursor}\"` : ''}) {\n        pageInfo {\n          hasNextPage\n        }\n        edges {\n          cursor\n          node {\n            handle\n          }\n        }\n      }\n    }\n  }\n  `;\n}\n\nfunction collectionQuery(handle, cursor = '') {\n  return `\n        {\n          collectionByHandle(handle: \"${handle}\") {\n            description\n            descriptionHtml\n            handle\n            id\n            title\n            image {\n              altText\n              src\n            }\n            products(first: 250${cursor ? `, after: \"${cursor}\"` : ''}) {\n              pageInfo {\n                hasNextPage\n                hasPreviousPage\n              }\n              edges {\n                cursor\n                node {\n                  id\n                  createdAt\n                  handle\n                  title\n                  tags\n                  availableForSale\n                  onlineStoreUrl\n                  compareAtPriceRange {\n                    minVariantPrice {\n                      amount\n                    }\n                  }\n                  priceRange {\n                    minVariantPrice {\n                      amount\n                    }\n                    maxVariantPrice {\n                      amount\n                    }\n                  }\n                  images(first: 250) {\n                    edges {\n                      node {\n                        src\n                        altText                        \n                      }\n                    }\n                  }      \n                }\n              }\n            }\n          }\n        }\n      `;\n}",".outsmartly/analysis/modules/229.js":"// node_modules/next/dist/client/use-intersection.js\n\"use strict\";\n\nexports.__esModule = true;\nexports.useIntersection = useIntersection;\n\nvar _react = require(\"react\");\n\nvar _requestIdleCallback = require(\"./request-idle-callback\");\n\nconst hasIntersectionObserver = typeof IntersectionObserver !== 'undefined';\n\nfunction useIntersection({\n  rootMargin,\n  disabled\n}) {\n  const isDisabled = disabled || !hasIntersectionObserver;\n  const unobserve = (0, _react.useRef)();\n  const [visible, setVisible] = (0, _react.useState)(false);\n  const setRef = (0, _react.useCallback)(el => {\n    if (unobserve.current) {\n      unobserve.current();\n      unobserve.current = undefined;\n    }\n\n    if (isDisabled || visible) return;\n\n    if (el && el.tagName) {\n      unobserve.current = observe(el, isVisible => isVisible && setVisible(isVisible), {\n        rootMargin\n      });\n    }\n  }, [isDisabled, rootMargin, visible]);\n  (0, _react.useEffect)(() => {\n    if (!hasIntersectionObserver) {\n      if (!visible) {\n        const idleCallback = (0, _requestIdleCallback.requestIdleCallback)(() => setVisible(true));\n        return () => (0, _requestIdleCallback.cancelIdleCallback)(idleCallback);\n      }\n    }\n  }, [visible]);\n  return [setRef, visible];\n}\n\nfunction observe(element, callback, options) {\n  const {\n    id,\n    observer,\n    elements\n  } = createObserver(options);\n  elements.set(element, callback);\n  observer.observe(element);\n  return function unobserve() {\n    elements.delete(element);\n    observer.unobserve(element); // Destroy observer when there's nothing left to watch:\n\n    if (elements.size === 0) {\n      observer.disconnect();\n      observers.delete(id);\n    }\n  };\n}\n\nconst observers = new Map();\n\nfunction createObserver(options) {\n  const id = options.rootMargin || '';\n  let instance = observers.get(id);\n\n  if (instance) {\n    return instance;\n  }\n\n  const elements = new Map();\n  const observer = new IntersectionObserver(entries => {\n    entries.forEach(entry => {\n      const callback = elements.get(entry.target);\n      const isVisible = entry.isIntersecting || entry.intersectionRatio > 0;\n\n      if (callback && isVisible) {\n        callback(isVisible);\n      }\n    });\n  }, options);\n  observers.set(id, instance = {\n    id,\n    observer,\n    elements\n  });\n  return instance;\n}",".outsmartly/analysis/modules/239.js":"// components/Loader.js\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { loader } from './Loader.module.css';\nexport function Loader(props) {\n  return /*#__PURE__*/_jsx(\"div\", {\n    className: loader,\n    children: \"Loading...\"\n  });\n}",".outsmartly/analysis/modules/268.js":"// node_modules/next/dist/next-server/lib/router/utils/resolve-rewrites.js\n\"use strict\";\n\nexports.__esModule = true;\nexports.default = resolveRewrites;\n\nvar _pathMatch = _interopRequireDefault(require(\"./path-match\"));\n\nvar _prepareDestination = _interopRequireWildcard(require(\"./prepare-destination\"));\n\nvar _normalizeTrailingSlash = require(\"../../../../client/normalize-trailing-slash\");\n\nvar _normalizeLocalePath = require(\"../../i18n/normalize-locale-path\");\n\nvar _parseRelativeUrl = require(\"./parse-relative-url\");\n\nvar _router = require(\"../router\");\n\nfunction _getRequireWildcardCache() {\n  if (typeof WeakMap !== \"function\") return null;\n  var cache = new WeakMap();\n\n  _getRequireWildcardCache = function () {\n    return cache;\n  };\n\n  return cache;\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  }\n\n  if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") {\n    return {\n      default: obj\n    };\n  }\n\n  var cache = _getRequireWildcardCache();\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n  var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) {\n      var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n      if (desc && (desc.get || desc.set)) {\n        Object.defineProperty(newObj, key, desc);\n      } else {\n        newObj[key] = obj[key];\n      }\n    }\n  }\n\n  newObj.default = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nconst customRouteMatcher = (0, _pathMatch.default)(true);\n\nfunction resolveRewrites(asPath, pages, rewrites, query, resolveHref, locales) {\n  let matchedPage = false;\n  let parsedAs = (0, _parseRelativeUrl.parseRelativeUrl)(asPath);\n  let fsPathname = (0, _normalizeTrailingSlash.removePathTrailingSlash)((0, _normalizeLocalePath.normalizeLocalePath)((0, _router.delBasePath)(parsedAs.pathname), locales).pathname);\n  let resolvedHref;\n\n  const handleRewrite = rewrite => {\n    const matcher = customRouteMatcher(rewrite.source);\n    let params = matcher(parsedAs.pathname);\n\n    if (rewrite.has && params) {\n      const hasParams = (0, _prepareDestination.matchHas)({\n        headers: {\n          host: document.location.hostname\n        },\n        cookies: document.cookie.split('; ').reduce((acc, item) => {\n          const [key, ...value] = item.split('=');\n          acc[key] = value.join('=');\n          return acc;\n        }, {})\n      }, rewrite.has, parsedAs.query);\n\n      if (hasParams) {\n        Object.assign(params, hasParams);\n      } else {\n        params = false;\n      }\n    }\n\n    if (params) {\n      if (!rewrite.destination) {\n        // this is a proxied rewrite which isn't handled on the client\n        return true;\n      }\n\n      const destRes = (0, _prepareDestination.default)(rewrite.destination, params, query, true);\n      parsedAs = destRes.parsedDestination;\n      asPath = destRes.newUrl;\n      Object.assign(query, destRes.parsedDestination.query);\n      fsPathname = (0, _normalizeTrailingSlash.removePathTrailingSlash)((0, _normalizeLocalePath.normalizeLocalePath)((0, _router.delBasePath)(asPath), locales).pathname);\n\n      if (pages.includes(fsPathname)) {\n        // check if we now match a page as this means we are done\n        // resolving the rewrites\n        matchedPage = true;\n        resolvedHref = fsPathname;\n        return true;\n      } // check if we match a dynamic-route, if so we break the rewrites chain\n\n\n      resolvedHref = resolveHref(fsPathname);\n\n      if (resolvedHref !== asPath && pages.includes(resolvedHref)) {\n        matchedPage = true;\n        return true;\n      }\n    }\n  };\n\n  let finished = false;\n\n  for (let i = 0; i < rewrites.beforeFiles.length; i++) {\n    // we don't end after match in beforeFiles to allow\n    // continuing through all beforeFiles rewrites\n    handleRewrite(rewrites.beforeFiles[i]);\n  }\n\n  matchedPage = pages.includes(fsPathname);\n\n  if (!matchedPage) {\n    if (!finished) {\n      for (let i = 0; i < rewrites.afterFiles.length; i++) {\n        if (handleRewrite(rewrites.afterFiles[i])) {\n          finished = true;\n          break;\n        }\n      }\n    } // check dynamic route before processing fallback rewrites\n\n\n    if (!finished) {\n      resolvedHref = resolveHref(fsPathname);\n      matchedPage = pages.includes(resolvedHref);\n      finished = matchedPage;\n    }\n\n    if (!finished) {\n      for (let i = 0; i < rewrites.fallback.length; i++) {\n        if (handleRewrite(rewrites.fallback[i])) {\n          finished = true;\n          break;\n        }\n      }\n    }\n  }\n\n  return {\n    asPath,\n    parsedAs,\n    matchedPage,\n    resolvedHref\n  };\n}",".outsmartly/analysis/modules/328.js":"// components/Product/ProductOutOfStock.js\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React, { useState } from 'react';\nimport { submitBtn } from './ProductPurchase.module.css';\nimport { inputLg, formSelector, modalCss, alert, alertSuccess, alertDanger } from './ProductOutOfStock.module.css';\nimport { title } from './ProductMeta.module.css';\nimport Modal from 'components/Modal';\nexport function ProductOutOfStock({\n  product,\n  currentVariant\n}) {\n  const {\n    0: modelOpen,\n    1: setModalOpen\n  } = useState(false);\n  const {\n    0: checked,\n    1: setChecked\n  } = useState(true);\n  const {\n    0: email,\n    1: setEmail\n  } = useState('');\n  const {\n    0: status,\n    1: setStatus\n  } = useState(null);\n  const {\n    0: selectedVariant,\n    1: setSelectedVariant\n  } = useState(currentVariant === null || currentVariant === void 0 ? void 0 : currentVariant.variant);\n  const outOfStockVariants = product.variants.filter(variant => {\n    return variant.availableForSale === false;\n  });\n\n  function openModal() {\n    setSelectedVariant(currentVariant.id);\n    setModalOpen(true);\n  }\n\n  function closeModal(e) {\n    e.preventDefault();\n    setModalOpen(false);\n    setStatus(null);\n  }\n\n  function handleSelectChange(e) {\n    e.preventDefault();\n    setSelectedVariant(e.target.value);\n  }\n\n  async function submitRequest() {\n    try {\n      await postToKlaviyo({\n        email,\n        variant: selectedVariant,\n        product: product.id,\n        subscribe: checked\n      });\n      setStatus('success');\n    } catch (e) {\n      console.log(e);\n      setStatus('failed');\n    }\n  }\n\n  return /*#__PURE__*/_jsxs(_Fragment, {\n    children: [/*#__PURE__*/_jsx(\"button\", {\n      onClick: openModal,\n      className: `${submitBtn}`,\n      children: \"Notify Me When Available\"\n    }), /*#__PURE__*/_jsx(Modal, {\n      show: modelOpen,\n      onClose: closeModal,\n      contentClass: modalCss // customCss={modalCss}\n      ,\n      children: /*#__PURE__*/_jsxs(\"div\", {\n        style: {\n          display: 'flex',\n          justifyContent: 'left',\n          flexWrap: 'wrap',\n          textAlign: 'left'\n        },\n        children: [/*#__PURE__*/_jsx(\"h3\", {\n          className: title,\n          children: product.title\n        }), /*#__PURE__*/_jsx(\"p\", {\n          children: \"Register to receive a notification when this item comes back in stock.\"\n        }), /*#__PURE__*/_jsx(\"select\", {\n          id: \"variants\",\n          className: `${inputLg} ${formSelector}`,\n          onChange: handleSelectChange,\n          children: outOfStockVariants.map(item => {\n            return /*#__PURE__*/_jsx(\"option\", {\n              value: item.id,\n              selected: item.id === selectedVariant,\n              children: item.title\n            }, item.id);\n          })\n        }), /*#__PURE__*/_jsx(\"input\", {\n          type: \"email\",\n          id: \"email\",\n          placeholder: \"Email\",\n          className: `${inputLg} ${formSelector}`,\n          onChange: event => {\n            setEmail(event.target.value);\n          },\n          value: email\n        }), /*#__PURE__*/_jsxs(\"div\", {\n          children: [/*#__PURE__*/_jsx(\"input\", {\n            type: \"checkbox\",\n            id: \"subscribe_for_newsletter\",\n            checked: checked,\n            onClick: () => {\n              setChecked(!checked);\n            }\n          }), /*#__PURE__*/_jsx(\"label\", {\n            for: \"subscribe_for_newsletter\",\n            style: {\n              marginLeft: '10px',\n              textTransform: 'none'\n            },\n            children: \"Add me to your email list.\"\n          })]\n        }), status === null ? /*#__PURE__*/_jsx(\"button\", {\n          onClick: submitRequest,\n          className: `${submitBtn}`,\n          children: \"Notify Me When Available\"\n        }) : status === 'success' ? /*#__PURE__*/_jsxs(\"div\", {\n          className: `${alert} ${alertSuccess}`,\n          style: {\n            display: 'block'\n          },\n          children: [\"You're in! We'll let you know when it's back.\", ' ', /*#__PURE__*/_jsx(\"a\", {\n            href: \"#\",\n            onClick: closeModal,\n            style: {\n              textDecoration: 'underline'\n            },\n            children: \"Close\"\n          })]\n        }) : /*#__PURE__*/_jsxs(\"div\", {\n          className: `${alert} ${alertDanger}`,\n          style: {\n            display: 'block'\n          },\n          children: [\"Sorry, there was an error. Please refresh and try again.\", ' ', /*#__PURE__*/_jsx(\"a\", {\n            href: \"#\",\n            onClick: closeModal,\n            style: {\n              textDecoration: 'underline'\n            },\n            children: \"Close\"\n          })]\n        })]\n      })\n    })]\n  });\n}\n\nfunction postToKlaviyo({\n  email,\n  variant,\n  product,\n  subscribe\n}) {\n  const formData = new FormData();\n  formData.append('a', 'JrfQX9');\n  formData.append('email', email);\n  formData.append('g', 'Mm6xMG');\n  formData.append('variant', variant);\n  formData.append('product', product);\n  formData.append('platform', 'shopify');\n  formData.append('subscribe_for_newsletter', subscribe);\n  return fetch('https://a.klaviyo.com/onsite/components/back-in-stock/subscribe', {\n    method: 'POST',\n    body: formData\n  });\n}",".outsmartly/analysis/modules/63.js":"// node_modules/next/dist/next-server/lib/router/utils/get-asset-path-from-route.js\n\"use strict\";\n\nexports.__esModule = true;\nexports[\"default\"] = getAssetPathFromRoute; // Translates a logical route into its pages asset path (relative from a common prefix)\n// \"asset path\" being its javascript file, data file, prerendered html,...\n\nfunction getAssetPathFromRoute(route) {\n  var ext = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n  var path = route === '/' ? '/index' : /^\\/index(\\/|$)/.test(route) ? \"/index\".concat(route) : \"\".concat(route);\n  return path + ext;\n}",".outsmartly/analysis/modules/32.js":"// node_modules/next/dist/next-server/lib/router/utils/parse-relative-url.js\n\"use strict\";\n\nexports.__esModule = true;\nexports.parseRelativeUrl = parseRelativeUrl;\n\nvar _utils = require(\"../../utils\");\n\nvar _querystring = require(\"./querystring\");\n/**\n* Parses path-relative urls (e.g. `/hello/world?foo=bar`). If url isn't path-relative\n* (e.g. `./hello`) then at least base must be.\n* Absolute urls are rejected with one exception, in the browser, absolute urls that are on\n* the current origin will be parsed as relative\n*/\n\n\nfunction parseRelativeUrl(url, base) {\n  var globalBase = new URL(false ? 'http://n' : (0, _utils.getLocationOrigin)());\n  var resolvedBase = base ? new URL(base, globalBase) : globalBase;\n\n  var _URL = new URL(url, resolvedBase),\n      pathname = _URL.pathname,\n      searchParams = _URL.searchParams,\n      search = _URL.search,\n      hash = _URL.hash,\n      href = _URL.href,\n      origin = _URL.origin;\n\n  if (origin !== globalBase.origin) {\n    throw new Error(\"invariant: invalid relative URL, router received \".concat(url));\n  }\n\n  return {\n    pathname: pathname,\n    query: (0, _querystring.searchParamsToUrlQuery)(searchParams),\n    search: search,\n    hash: hash,\n    href: href.slice(globalBase.origin.length)\n  };\n}",".outsmartly/analysis/modules/90.js":"// components/LemonSpot/LemonSpotBox.js\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport _slicedToArray from \"/Users/kai/Work/rbx-rewrite/node_modules/next/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport { useState, useRef, useEffect } from 'react';\nimport { useRouter } from 'next/router';\nimport { Slider } from 'components/Slider/Slider';\nimport { Lemon } from './Lemon';\nimport { box, boxTitle, lemonScroller } from './LemonSpotBox.module.css';\nimport { useWindowSize } from 'lib/useWindowSize';\nimport { useMessageBus } from '@outsmartly/core';\nimport { getPathnames } from 'lib/utils';\n/**\n * LemonSpotBox displays one set of products in a Slider\n * @param {string[]} data - array of product objects\n * @param {string} boxKey - key identifying the current box type\n * @param {boolean} cart - set to true for the Cart page, else leave undefined\n */\n\nexport function LemonSpotBox(_ref) {\n  var _process$env$messageB;\n\n  var data = _ref.data,\n      boxKey = _ref.boxKey,\n      cart = _ref.cart,\n      _ref$forceLargeCards = _ref.forceLargeCards,\n      forceLargeCards = _ref$forceLargeCards === void 0 ? false : _ref$forceLargeCards;\n\n  var _useState = useState(null),\n      xDown = _useState[0],\n      setXDown = _useState[1];\n\n  var _useState2 = useState(null),\n      yDown = _useState2[0],\n      setYDown = _useState2[1];\n\n  var _useState3 = useState(false),\n      isPaged = _useState3[0],\n      setIsPaged = _useState3[1];\n\n  var size = useWindowSize(); // Need this be able to call one of Slider's methods\n\n  var sliderRef = useRef(); // When screen is greater than 768px (iPad) the slides are paged, so swiping\n  // left/right will navigate to previous/next page. At 768 and below the user\n  // can use normal horizontal scrolling.\n\n  useEffect(function () {\n    setIsPaged(size.width > 768);\n  }, [size]); // Get the page path information\n\n  var router = useRouter();\n\n  var _getPathnames = getPathnames(router),\n      _getPathnames2 = _slicedToArray(_getPathnames, 2),\n      path = _getPathnames2[0],\n      pathWithQuery = _getPathnames2[1]; // Get a reference to the client message bus\n\n\n  var bus = useMessageBus({\n    debug: (_process$env$messageB = process.env.messageBusDebug) !== null && _process$env$messageB !== void 0 ? _process$env$messageB : false\n  });\n  /**\n   * When a recommendation event occurs use the message bus to emit a message\n   */\n\n  function handleRecEvent(i, boxKey, product, eventType) {\n    var obj = {\n      boxIndex: i,\n      boxKey: boxKey,\n      handle: product.handle,\n      id: product.id,\n      path: path,\n      timestamp: new Date().toISOString(),\n      url: pathWithQuery\n    };\n    bus.emit(eventType, obj);\n  }\n  /**\n   * Called when touch gesture begins\n   */\n\n\n  function startTouch(e) {\n    if (!isPaged) return;\n    var firstTouch = e.touches[0];\n    setXDown(firstTouch.clientX);\n    setYDown(firstTouch.clientY);\n  }\n  /**\n   * Called when touch gesture ends\n   */\n\n\n  function endTouch(e) {\n    if (!isPaged) return;\n    var xUp = e.changedTouches[0].clientX;\n    var yUp = e.changedTouches[0].clientY;\n    var xDiff = xDown - xUp;\n    var yDiff = yDown - yUp;\n    var THRESHOLD = 20; // If horizontal was greater than vertical, then it was left or right\n\n    if (Math.abs(xDiff) > Math.abs(yDiff)) {\n      // If the swipe was far enough then call navigatePage()\n      if (Math.abs(xDiff) > THRESHOLD) {\n        sliderRef.current.navigatePage(xDiff > 0 ? 'next' : 'previous');\n      }\n    }\n\n    setXDown(null);\n    setYDown(null);\n  } // Map of box keys to titles (headings)\n\n\n  var boxTitles = {\n    related: 'Related Items',\n    crossSell: 'Frequently Purchased Together',\n    recent: 'Recently Viewed Items',\n    trending: 'Trending Items',\n    youMayLike: 'You May Like'\n  };\n  var cardSize = isPaged || forceLargeCards ? 290 : 150;\n  return /*#__PURE__*/_jsx(_Fragment, {\n    children: data.length > 0 && /*#__PURE__*/_jsxs(\"div\", {\n      className: box,\n      onTouchStart: startTouch,\n      onTouchEnd: endTouch,\n      children: [/*#__PURE__*/_jsx(\"h2\", {\n        className: boxTitle,\n        children: boxTitles[boxKey]\n      }), /*#__PURE__*/_jsx(Slider, {\n        ref: sliderRef // Sometimes a product has bad data, so we need to filter them\n        // before passing down to Slider.\n        ,\n        slides: data.filter(function (product) {\n          return product.url;\n        }),\n        slideWidth: cardSize // Tell Slider what component to use for each slide\n        ,\n        slideComponent: function slideComponent(product, i) {\n          return /*#__PURE__*/_jsx(Lemon, {\n            content: product,\n            cart: cart,\n            onInView: function onInView(product) {\n              return handleRecEvent(i, boxKey, product, 'recInView');\n            },\n            onClick: function onClick(product) {\n              return handleRecEvent(i, boxKey, product, 'recClick');\n            }\n          }, product.id);\n        },\n        scrollerClass: lemonScroller // If screen width is greater than 768, update windowWidth prop.\n        // Else, just pass a constant (so Slider doesn't recalculate layout)\n        ,\n        windowWidth: isPaged ? size.width : 768\n      })]\n    })\n  });\n}",".outsmartly/analysis/modules/57.js":"// lib/utils.js\nimport _regeneratorRuntime from \"/Users/kai/Work/rbx-rewrite/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _slicedToArray from \"/Users/kai/Work/rbx-rewrite/node_modules/next/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _asyncToGenerator from \"/Users/kai/Work/rbx-rewrite/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"/Users/kai/Work/rbx-rewrite/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n// Split a string into chunks by line breaks. Then insert <br>s, but not after\n// the last chunk. Return an expression that can be rendered.\nexport function insertLineBreaks(string) {\n  if (!string) return;\n  return string.split('\\n').map(function (item, i, arr) {\n    return /*#__PURE__*/_jsxs(\"span\", {\n      children: [item, i < arr.length - 1 ? /*#__PURE__*/_jsx(\"br\", {}) : '']\n    }, i);\n  });\n}\nexport function cap(string) {\n  if (typeof string !== 'string') return '';\n  return string.charAt(0).toUpperCase() + string.slice(1);\n}\n/**\n * Takes nested navigation list and flattens it\n * @param {Object[]} array - the nested array to flatter\n * @param {String} children=\"children\" - key holding a child list\n */\n\nexport function flattenObjectArray(array) {\n  var children = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'children';\n  var result = [];\n  array.forEach(function (item) {\n    // Get every property in this object except the children\n    var rest = _objectSpread({}, item);\n\n    delete rest[children];\n    result.push(rest); // Call recursively for any child array\n\n    if (item[children] && Array.isArray(item[children])) {\n      result = result.concat(flattenObjectArray(item[children], children));\n    }\n  });\n  return result;\n}\n/**\n * Convert kebab-case string, or string with space-separated words, to a\n * camelCase string. Does not affect characters other than the starting\n * character of each word. Examples:\n *   camelize('my-kebab-string') ===> 'myKebabString'\n *   camelize('My spACEd string') ===> 'mySpACEdString'.\n * @param {String} str - the string in kebab case or space-separated\n * @returns {String} the string in camelCase\n */\n\nexport function camelize(str) {\n  // Lowercase the starting character of the first word, but uppercase the\n  // starting character of the remaining words. Then remove any white space or\n  // hyphens.\n  return str.replace(/(?:^\\w|[A-Z]|\\b\\w)/g, function (startChar, index) {\n    return index === 0 ? startChar.toLowerCase() : startChar.toUpperCase();\n  }).replace(/\\s+|-/g, '');\n}\n/**\n * Convert kebab case string to Title Case for use as a display name.\n * toTitleCase(\"my-kebab-string\") ===> 'My Kebab String';\n * @param {String} str - the string in kebab case\n * @returns {String} str - the string in Title Case\n */\n\nexport function toTitleCase(str) {\n  return str.split('-').map(function (word) {\n    return word[0].toUpperCase() + word.substring(1);\n  }).join(' ');\n}\n/** Converts a string into a kebab-case handle suitable for a URL. Replaces\n * dots and spaces with a hyphen, then converts text characters to lower case.\n * @param {String} str - the string to convert to kebab case\n */\n\nexport function kebabize(str) {\n  return str.replace(/\\.|\\s/g, '-').toLowerCase();\n}\nexport function getTagHref(query, prefix, tag) {\n  var newTag = \"\".concat(prefix, \"-\").concat(tag);\n  var collection = query.collection; // tagQuery is the slug for the tag which is `tagA+tagB`\n\n  var tagQuery = !query.tagQuery ? // if there's no tagQuery, set it to be the newTag\n  newTag : query.tagQuery.indexOf(\"\".concat(prefix, \"-\")) > -1 ? // if the prefix is already in the query, then replace the old one\n  query.tagQuery.replace(new RegExp(\"\".concat(prefix, \"-[^+]+\")), newTag) : // otherwise add it to the end\n  \"\".concat(query.tagQuery, \"+\").concat(newTag);\n  return {\n    pathname: '/collections/[collection]/[tagQuery]',\n    query: {\n      collection: collection,\n      tagQuery: tagQuery\n    }\n  };\n}\n/** Returns a URL object with the current filter removed\n * @param {Object} query - query object from NextJS router\n * @param {String} prefix - name of an option, e.g., 'color', 'size'\n * @returns {Object} URL object that can be passed to href of Link\n */\n\nexport function getClearTagHref(query, prefix) {\n  /* Possible shapes for query:\n  query = {\n    \"collection\": \"womens-tanks\",\n  }\n  query = {\n    \"collection\": \"womens-tanks\",\n    \"tagQuery\": \"color-blue-green\"\n  }\n  query = {\n    \"collection\": \"womens-tanks\",\n    \"tagQuery\": \"color-blue-green+size-xl\"\n  }\n  */\n  // If tagQuery exists\n  if (query.tagQuery) {\n    // If there is only one tag, just return a path to the collection\n    if (!query.tagQuery.includes('+')) {\n      return {\n        pathname: '/collections/[collection]',\n        query: {\n          collection: query.collection\n        }\n      };\n    } else {\n      // There are more than one query tags. Split them into an array\n      var arr = query.tagQuery.split('+'); // ['size-m', 'color-light-blue', 'option-3']\n      // Filter out our prefix, join whatever is left as the updated tagQuery\n\n      var tagQuery = arr.filter(function (x) {\n        return !x.includes(prefix);\n      }).join('+');\n      return {\n        pathname: '/collections/[collection]/[tagQuery]',\n        query: _objectSpread(_objectSpread({}, query), {}, {\n          tagQuery: tagQuery\n        })\n      };\n    }\n  } else {\n    return {};\n  }\n}\n/** Calculates the width of the browser scroll bar */\n\nexport function getScrollbarWidth() {\n  // Width of <html> excluding scroll bar\n  var documentWidth = document.documentElement.clientWidth; // Width of window including scroll bar\n\n  var windowWidth = window.innerWidth; // Return the difference\n\n  return windowWidth - documentWidth;\n}\n/** Hides the scrollbar. Call this right before opening a model. */\n\nexport function hideScrollbar() {\n  // Get the scrollbar width for the current browser\n  var scrollbarWidth = getScrollbarWidth(); // Hide the scroll bar\n\n  document.documentElement.style.overflow = 'hidden'; // Add margin to compensate (to prevent shift).\n\n  document.documentElement.style.marginRight = \"\".concat(scrollbarWidth, \"px\");\n}\n/** Returns true if color is considered a light color */\n\nexport function colorIsLight(color) {\n  // Single source of truth for which colors are considered light.\n  var lights = ['White', 'White Solid', 'Bright White', 'White Bright', 'Ivory'];\n  return lights.includes(color);\n}\nexport function fetchJson(_x) {\n  return _fetchJson.apply(this, arguments);\n}\n/** Fetch some data from the given URL\n * @param {String} url - the resource to fetch\n * @param {Object} options - optional settings\n * @return {Object} a Promise that resolves to JSON\n */\n\nfunction _fetchJson() {\n  _fetchJson = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(url) {\n    var options,\n        _args = arguments;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            options = _args.length > 1 && _args[1] !== undefined ? _args[1] : undefined;\n            return _context.abrupt(\"return\", fetch(url, options).then(function (res) {\n              return res.json();\n            }));\n\n          case 2:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _fetchJson.apply(this, arguments);\n}\n\nexport function getJSON(_x2) {\n  return _getJSON.apply(this, arguments);\n}\n/**\n * Get the value of a cookie.\n * @param {string} name - the name of the cookie\n * @return {string | Boolean} the cookie's value if it exists, else false.\n */\n\nfunction _getJSON() {\n  _getJSON = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(url) {\n    var options,\n        response,\n        _args2 = arguments;\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            options = _args2.length > 1 && _args2[1] !== undefined ? _args2[1] : undefined;\n            _context2.next = 3;\n            return fetch(url, options);\n\n          case 3:\n            response = _context2.sent;\n\n            if (!response.ok) {\n              _context2.next = 10;\n              break;\n            }\n\n            _context2.next = 7;\n            return response.json();\n\n          case 7:\n            return _context2.abrupt(\"return\", _context2.sent);\n\n          case 10:\n            console.error(\"getJSON(): response from \".concat(url, \" was not OK. Status \").concat(response.status, \": \").concat(response.statusText)); // Can catch this error in the caller\n\n            throw new Error(\"Status \".concat(response.status, \": \").concat(response.statusText));\n\n          case 12:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n  return _getJSON.apply(this, arguments);\n}\n\nexport function getCookie(name) {\n  var array = document.cookie.split(';');\n  var row = array.find(function (row) {\n    return row.trim().startsWith(\"\".concat(name, \"=\"));\n  });\n\n  if (row) {\n    return row.split('=')[1];\n  } else {\n    return false;\n  }\n}\n/**\n * Sets the value of a cookie.\n * @param {string} name - the name of the cookie\n * @param {string} value - the value of the cookie\n */\n\nexport function setCookie(name, value) {\n  document.cookie = \"\".concat(name, \"=\").concat(value, \"; path=/\");\n}\n/**\n * Throttles a function. Initial call not executed until delay has elapsed.\n * Subsequent calls are ignored until delay has elapsed again.\n * @param {Object} fn - the function to throttle\n * @param {number} wait - the delay in milliseconds\n * @returns\n */\n\nexport function throttle(fn, wait) {\n  var id;\n  return function throttledFunc() {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    if (id) {\n      // This is what throttles. If there is a timer id, just do nothing, so\n      // that this execution is dropped.\n      return;\n    } //  Otherwise, keep going. After a delay, execute the desired function only\n    //  once. Establish a timer id so that subsequent calls will be ignored.\n    //  This will execute the *first* of a bunch.\n\n\n    id = setTimeout(function () {\n      fn.apply(void 0, args);\n      id = null;\n    }, wait);\n  };\n}\n/**\n * Get the user's screen resolution (not the available dimensions, just the\n * monitor size)\n * @returns string with screen width x height\n */\n\nexport function getResolution() {\n  if (false) return 'resolution-unknown';\n  return \"\".concat(window.screen.width, \" x \").concat(window.screen.height);\n}\n/**\n * Get the browser's user agent string. For example: 'Mozilla/5.0 (Windows NT\n * 6.1; WOW64; rv:37.0) Gecko/20100101 Firefox/37.0'\n * @returns string with screen width x height\n */\n\nexport function getUA() {\n  if (false) return 'userAgent-unknown';\n  return window.navigator.userAgent;\n}\n/**\n * Gets the path and the path with query for a given router. Replaces dynamic\n * route placeholders with corresponding values from `router.query`. Helps us\n * determine which page we're on.\n * @param {Object} router - router from NextJS useRouter()\n * @returns {string[]} - tuple with `path` and `pathWithQuery`\n */\n\nexport function getPathnames(router) {\n  // Determine the path (without params)\n  var path = router.pathname; // Replace dynamic route placeholders with matching param value\n\n  Object.entries(router.query).forEach(function (_ref) {\n    var _ref2 = _slicedToArray(_ref, 2),\n        key = _ref2[0],\n        value = _ref2[1];\n\n    path = path.replace(\"[\".concat(key, \"]\"), value);\n  }); // Filter out params that are known dynamic slug placeholders. This leaves\n  // only the actual params.\n\n  var params = new URLSearchParams(router.query);\n  var placeholders = ['collection', 'product'];\n  placeholders.forEach(function (placeholder) {\n    params[\"delete\"](placeholder);\n  });\n  var paramsStr = params.toString();\n  var pathWithQuery = paramsStr ? \"\".concat(path, \"?\").concat(paramsStr) : path;\n  return [path, pathWithQuery];\n}",".outsmartly/analysis/modules/125.js":"// components/LemonSpot/Lemon.js\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport _slicedToArray from \"/Users/kai/Work/rbx-rewrite/node_modules/next/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport { useEffect } from 'react';\nimport Link from 'next/link';\nimport ProductRating from 'components/Product/ProductRating';\nimport { getFullProduct } from 'context/getProduct';\nimport { getProductImageUrl } from 'lib/getImageUrl';\nimport { getFilteredImagesByColor } from 'lib/helpers';\nimport { lemon, link, imageWrap, image, imageSecondary, infoWrap, priceWrap, title, price, originalPrice, sale, quickActions } from './Lemon.module.css';\nimport { AddToCartSelect } from './AddToCartSelect';\nimport { useInView } from 'react-intersection-observer';\nimport { getDiscountInfo } from 'lib/discounts';\n/**\n * A Lemon is an individual slide representing a single recommended product. It\n * gets passed by LemonSpot to Slider and then plopped into SlideContainer.\n * @param {Object} children - elements passed down from parent\n * @param {boolean} [cart=undefined] - when true we add Quick Actions to bottom\n * of Lemon\n */\n\nexport function Lemon(_ref) {\n  var content = _ref.content,\n      cart = _ref.cart,\n      onInView = _ref.onInView,\n      _onClick = _ref.onClick;\n  // Get the full product object from the passed in product\n  var product = getFullProduct(content);\n  var images = getFilteredImagesByColor(product.imageMap); // We an intersection observer here to notify the parent when this Lemon\n  // comes into view (so that the parent can emit a `recInView` event).\n\n  var _useInView = useInView({\n    triggerOnce: true,\n    threshold: 0.5\n  }),\n      _useInView2 = _slicedToArray(_useInView, 3),\n      ref = _useInView2[0],\n      inView = _useInView2[1],\n      entry = _useInView2[2];\n\n  useEffect(function () {\n    if (inView) {\n      onInView(product, entry);\n    }\n  }, [inView]);\n\n  var _getDiscountInfo = getDiscountInfo(product),\n      priceText = _getDiscountInfo.priceText,\n      saleMessage = _getDiscountInfo.saleMessage,\n      oldPrice = _getDiscountInfo.oldPrice;\n\n  return /*#__PURE__*/_jsxs(\"div\", {\n    className: lemon,\n    ref: ref,\n    children: [/*#__PURE__*/_jsx(Link, {\n      href: content.url,\n      children: /*#__PURE__*/_jsxs(\"a\", {\n        className: link,\n        onClick: function onClick() {\n          return _onClick(product);\n        },\n        children: [/*#__PURE__*/_jsxs(\"div\", {\n          className: imageWrap,\n          children: [/*#__PURE__*/_jsx(\"img\", {\n            className: image,\n            sizes: \"290px\",\n            src: getProductImageUrl(images[0].src, 600),\n            alt: \"\".concat(product.title, \" - \").concat(images[0].altText),\n            width: \"290\",\n            height: \"400\"\n          }), images.length > 1 && /*#__PURE__*/_jsx(\"img\", {\n            className: imageSecondary,\n            src: getProductImageUrl(images[1].src, 600),\n            alt: \"\".concat(product.title, \" - \").concat(images[0].altText),\n            width: \"290\",\n            height: \"400\"\n          })]\n        }), /*#__PURE__*/_jsxs(\"div\", {\n          className: infoWrap,\n          children: [/*#__PURE__*/_jsx(\"div\", {\n            className: title,\n            children: product.title\n          }), /*#__PURE__*/_jsx(\"div\", {\n            style: {\n              display: 'none'\n            },\n            children: product.vendor\n          }), /*#__PURE__*/_jsxs(\"div\", {\n            className: priceWrap,\n            children: [/*#__PURE__*/_jsx(\"span\", {\n              className: price,\n              children: priceText\n            }), /*#__PURE__*/_jsxs(\"span\", {\n              className: originalPrice,\n              style: oldPrice ? {\n                display: 'block'\n              } : undefined,\n              children: [\"$\", oldPrice]\n            })]\n          }), saleMessage ? /*#__PURE__*/_jsx(\"span\", {\n            className: sale,\n            children: saleMessage\n          }) : null, product.numReviews > 0 && /*#__PURE__*/_jsx(ProductRating, {\n            rating: product.rating,\n            numReviews: product.numReviews\n          })]\n        })]\n      })\n    }), cart && /*#__PURE__*/_jsx(\"div\", {\n      className: quickActions,\n      children: /*#__PURE__*/_jsx(AddToCartSelect, {\n        product: product\n      })\n    })]\n  });\n}",".outsmartly/analysis/modules/174.js":"// pages/__outsmartly__/overrides.ts\nconst empty_overrides = {\n  overrides: {},\n  overrideLogs: [],\n  overrideErrors: [],\n  overrideConsoleMessages: [],\n  logs: []\n};\nexport async function getServerSideProps({\n  res\n}) {\n  if (res) {\n    res.setHeader('Content-Type', 'text/json');\n    res.write(JSON.stringify(empty_overrides));\n    res.end();\n  }\n\n  return {\n    props: {}\n  };\n}\n\nconst Overrides = () => null;\n\nexport default Overrides;",".outsmartly/analysis/modules/187.js":"// pages/products/[product].ts\nimport Product from 'components/Product';\nimport { convertProductToProps } from 'lib/convertProductToProps';\nimport { getStaticPathsWrapper } from 'lib/getStaticPathsWrapper';\nimport { loadSingleProduct, loadProducts } from 'lib/shopify';\nimport { SHOPIFY_PRODUCTS } from 'outsmartly/variables';\n/** Return the list of paths that will match this dynamic page */\n\nexport const getStaticPaths = getStaticPathsWrapper(async () => {\n  const products = await loadProducts(); // const topCollectionProducts = loadTopCollectionProducts();\n\n  return {\n    paths: products.filter(({\n      handle\n    }) => !isShopifyOnly(handle)).map(({\n      handle\n    }) => {\n      return {\n        params: {\n          product: handle\n        }\n      };\n    }),\n    fallback: 'blocking'\n  };\n});\n/**\n * Any products in the SHOPIFY_ROUTES should not get generated so\n * that shopify can handle them, just the giftcart for now.\n */\n\nfunction isShopifyOnly(handle) {\n  return SHOPIFY_PRODUCTS.includes(handle);\n}\n/**\n * Fetch necessary data (and return it as props) to render the product with\n * the given handle.\n */\n\n\nexport async function getStaticProps({\n  params\n}) {\n  if (isShopifyOnly(params.product)) {\n    return {\n      notFound: true,\n      revalidate: 240 // In seconds\n\n    };\n  }\n\n  const product = await loadSingleProduct(params.product);\n\n  if (!product) {\n    return {\n      notFound: true,\n      revalidate: 240 // In seconds\n\n    };\n  }\n\n  if (!product.variants.some(v => v.availableForSale)) {\n    return {\n      redirect: {\n        destination: '/collections/new-arrivals-collection',\n        permanent: false\n      },\n      revalidate: 240 // In seconds\n\n    };\n  }\n\n  const bullets = getBullets(product);\n  product.metafields = bullets;\n  return {\n    props: {\n      content: convertProductToProps(product)\n    },\n    revalidate: 240 // In seconds\n\n  };\n}\nconst bulletKeys = ['bulletone', 'bulletttwo', 'bulletthree', 'bulletfour', 'bulletfive', 'bulletsix', 'bulletseven', 'bulleteight', 'bulletnine', 'bulletten'];\n\nfunction getBullets(product) {\n  return product.metafields.filter(({\n    key,\n    value\n  }) => value && key.startsWith('bullet')).sort((a, b) => {\n    return bulletKeys.indexOf(a.key) - bulletKeys.indexOf(b.key);\n  }).map(({\n    value\n  }) => value);\n}\n\nexport default Product;",".outsmartly/analysis/modules/216.js":"// lib/getStaticPathsWrapper.ts\nexport function getStaticPathsWrapper(getStaticPaths) {\n  // Optimize preview builds, by only SSG-ing a single collection\n  if (process.env.VERCEL_ENV !== 'production' && process.env.VERCEL_ENV !== 'preview') {\n    return async context => {\n      const {\n        paths\n      } = await getStaticPaths(context);\n      paths.length = 2;\n      return {\n        paths,\n        fallback: 'blocking'\n      };\n    };\n  }\n\n  return getStaticPaths;\n}",".outsmartly/analysis/modules/247.js":"// components/SizingGuide/SizeGuide.js\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport Women from './Women';\nimport Men from './Men';\nimport PlusSize from './PlusSize';\nimport Girls from './Girls';\nimport Boys from './Boys';\nimport { title, tableWrap, sizeGuidePage } from './SizingGuide.module.css';\n/** Returns a single size guide based on a string prop. `handle` must be one of:\n * size-guide-women\n * size-guide-men\n * size-guide-plus-size\n * size-guide-girls\n * size-guide-boys\n */\n\nexport default function SizeGuide({\n  handle,\n  contentWrapClass = sizeGuidePage,\n  titleClass = title,\n  wrapClass = tableWrap\n}) {\n  // Exit early if handle isn't as expected\n  if (!handle.startsWith('size-guide-')) {\n    console.error('`handle` must start with `size-guide-`');\n    return null;\n  } // Determine which guide to show\n\n\n  let guide;\n\n  switch (handle.substring(11)) {\n    case 'women':\n      guide = /*#__PURE__*/_jsx(Women, {\n        titleClass: titleClass,\n        wrapClass: wrapClass\n      });\n      break;\n\n    case 'men':\n      guide = /*#__PURE__*/_jsx(Men, {\n        titleClass: titleClass,\n        wrapClass: wrapClass\n      });\n      break;\n\n    case 'plus-size':\n      guide = /*#__PURE__*/_jsx(PlusSize, {\n        titleClass: titleClass,\n        wrapClass: wrapClass\n      });\n      break;\n\n    case 'girls':\n      guide = /*#__PURE__*/_jsx(Girls, {\n        titleClass: titleClass,\n        wrapClass: wrapClass\n      });\n      break;\n\n    case 'boys':\n      guide = /*#__PURE__*/_jsx(Boys, {\n        titleClass: titleClass,\n        wrapClass: wrapClass\n      });\n      break;\n\n    default:\n      console.error('No matching size guide');\n      break;\n  }\n\n  return /*#__PURE__*/_jsx(\"div\", {\n    id: \"size_guide\",\n    className: contentWrapClass,\n    children: guide\n  });\n}",".outsmartly/analysis/modules/307.js":"// lib/productSort.ts\nexport function sortProducts(products, sortBy) {\n  if (!sortBy || sortBy === 'manual') {\n    return products;\n  }\n\n  return [...products].sort((a, b) => {\n    if (sortBy === 'best-selling') {\n      return a.bestSellerSort - b.bestSellerSort;\n    }\n\n    if (sortBy === 'title-ascending') {\n      return a.title.toLowerCase() > b.title.toLowerCase() ? 1 : -1;\n    }\n\n    if (sortBy === 'title-descending') {\n      return a.title.toLowerCase() > b.title.toLowerCase() ? -1 : 1;\n    }\n\n    if (sortBy === 'price-ascending') {\n      return a.price - b.price;\n    }\n\n    if (sortBy === 'price-descending') {\n      return b.price - a.price;\n    }\n\n    if (sortBy === 'created-ascending') {\n      return a.createdAt > b.createdAt ? 1 : -1;\n    }\n\n    if (sortBy === 'created-descending') {\n      return a.createdAt > b.createdAt ? -1 : 1;\n    }\n\n    return 0;\n  });\n}\nexport const sortFields = [{\n  value: 'manual',\n  label: 'Featured'\n}, {\n  value: 'best-selling',\n  label: 'Best Selling'\n}, {\n  value: 'title-ascending',\n  label: 'Alphabetically, A-Z'\n}, {\n  value: 'title-descending',\n  label: 'Alphabetically, Z-A'\n}, {\n  value: 'price-ascending',\n  label: 'Price, low to high'\n}, {\n  value: 'price-descending',\n  label: 'Price, high to low'\n}, {\n  value: 'created-descending',\n  label: 'Date, new to old'\n}, {\n  value: 'created-ascending',\n  label: 'Date, old to new'\n}];",".outsmartly/analysis/modules/140.js":"// components/outsmartly/track-outcome.js\nimport _regeneratorRuntime from \"/Users/kai/Work/rbx-rewrite/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/kai/Work/rbx-rewrite/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nexport function trackOutcome(_x, _x2) {\n  return _trackOutcome.apply(this, arguments);\n}\n\nfunction _trackOutcome() {\n  _trackOutcome = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(outcome, outsmartlyTracking) {\n    var elapsedTime, event, response, data;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            if (window.__DEBUG_TRACKING__) {\n              console.log('outcome ->', {\n                outcome: outcome,\n                outsmartlyTracking: outsmartlyTracking\n              });\n            } // guard for not actually being on the edge\n\n\n            if (!(!window.__APP_CONFIG__.gifLoggerUrl || !outsmartlyTracking)) {\n              _context.next = 3;\n              break;\n            }\n\n            return _context.abrupt(\"return\");\n\n          case 3:\n            elapsedTime = parseInt(window.performance.now());\n            event = {\n              name: 'outcome',\n              log: {\n                rid: window.__APP_CONFIG__.rid,\n                vid: window.__APP_CONFIG__.vid,\n                outcome: outcome,\n                timelineMark: window.__APP_CONFIG__.startTimestamp + elapsedTime,\n                elapsedTime: elapsedTime,\n                pathname: window.location.pathname,\n                outsmartlyTracking: outsmartlyTracking\n              }\n            };\n            _context.prev = 5;\n            _context.next = 8;\n            return fetch(window.__APP_CONFIG__.gifLoggerUrl, {\n              method: 'POST',\n              body: JSON.stringify(event),\n              headers: {\n                'Content-Type': 'application/json'\n              }\n            });\n\n          case 8:\n            response = _context.sent;\n\n            if (!window.__DEBUG_TRACKING__) {\n              _context.next = 14;\n              break;\n            }\n\n            _context.next = 12;\n            return response.json();\n\n          case 12:\n            data = _context.sent;\n            console.error('response in exposures ->', data);\n\n          case 14:\n            _context.next = 19;\n            break;\n\n          case 16:\n            _context.prev = 16;\n            _context.t0 = _context[\"catch\"](5);\n\n            if (window.__DEBUG_TRACKING__) {\n              console.error('error in exposures ->', _context.t0);\n            }\n\n          case 19:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[5, 16]]);\n  }));\n  return _trackOutcome.apply(this, arguments);\n}",".outsmartly/analysis/modules/111.js":"// components/LemonSpot/emitTimeSpend.ts\nimport { getResolution } from 'lib/utils';\n\n/**\n * Emit a \"time spend\" event when the user leaves a page. This can be when they\n * navigate within the Next app, or to a different website.\n */\nexport function emitTimeSpend(startTimeRef, page, path, id, bus) {\n  var nowTime = new Date().getTime();\n  var diffTime = nowTime - startTimeRef.current; // Assemble the payload and emit it\n\n  var obj = {\n    integerData: Math.min(diffTime, 600000),\n    page: page,\n    path: path,\n    id: id,\n    resolution: getResolution(),\n    timestamp: new Date().toISOString()\n  };\n  bus.emit(\"\".concat(page.toLowerCase(), \"TimeSpend\"), obj);\n}",".outsmartly/analysis/modules/280.js":"// node_modules/next/dist/next-server/lib/router/utils/format-url.js\n\"use strict\";\n\nexports.__esModule = true;\nexports.formatUrl = formatUrl;\n\nvar querystring = _interopRequireWildcard(require(\"./querystring\"));\n\nfunction _getRequireWildcardCache() {\n  if (typeof WeakMap !== \"function\") return null;\n  var cache = new WeakMap();\n\n  _getRequireWildcardCache = function () {\n    return cache;\n  };\n\n  return cache;\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  }\n\n  if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") {\n    return {\n      default: obj\n    };\n  }\n\n  var cache = _getRequireWildcardCache();\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n  var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) {\n      var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n      if (desc && (desc.get || desc.set)) {\n        Object.defineProperty(newObj, key, desc);\n      } else {\n        newObj[key] = obj[key];\n      }\n    }\n  }\n\n  newObj.default = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n} // Format function modified from nodejs\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n\nconst slashedProtocols = /https?|ftp|gopher|file/;\n\nfunction formatUrl(urlObj) {\n  let {\n    auth,\n    hostname\n  } = urlObj;\n  let protocol = urlObj.protocol || '';\n  let pathname = urlObj.pathname || '';\n  let hash = urlObj.hash || '';\n  let query = urlObj.query || '';\n  let host = false;\n  auth = auth ? encodeURIComponent(auth).replace(/%3A/i, ':') + '@' : '';\n\n  if (urlObj.host) {\n    host = auth + urlObj.host;\n  } else if (hostname) {\n    host = auth + (~hostname.indexOf(':') ? `[${hostname}]` : hostname);\n\n    if (urlObj.port) {\n      host += ':' + urlObj.port;\n    }\n  }\n\n  if (query && typeof query === 'object') {\n    query = String(querystring.urlQueryToSearchParams(query));\n  }\n\n  let search = urlObj.search || query && `?${query}` || '';\n  if (protocol && protocol.substr(-1) !== ':') protocol += ':';\n\n  if (urlObj.slashes || (!protocol || slashedProtocols.test(protocol)) && host !== false) {\n    host = '//' + (host || '');\n    if (pathname && pathname[0] !== '/') pathname = '/' + pathname;\n  } else if (!host) {\n    host = '';\n  }\n\n  if (hash && hash[0] !== '#') hash = '#' + hash;\n  if (search && search[0] !== '?') search = '?' + search;\n  pathname = pathname.replace(/[?#]/g, encodeURIComponent);\n  search = search.replace('#', '%23');\n  return `${protocol}${host}${pathname}${search}${hash}`;\n}",".outsmartly/analysis/modules/333.js":"// components/Collection/Pagination.js\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React from 'react';\nimport Link from 'next/link';\nimport { pagination, prev, prevIcon, nextIcon, current } from './Pagination.module.css';\nimport Icon from 'components/icons/Icon';\nimport { useRouter } from 'next/router';\n\nfunction getPages({\n  currentPage,\n  totalPages\n}) {\n  // Get the middle page that keeps the pages within range.\n  const middlePage = Math.max(Math.min(currentPage, totalPages - 3), 4);\n  let pages = [middlePage - 3, middlePage - 2, middlePage - 1, middlePage, middlePage + 1, middlePage + 2, middlePage + 3];\n  pages.length = Math.min(totalPages, 7); // Add ... to begining.\n\n  if (pages[0] !== 1) {\n    pages[0] = 1;\n    pages[1] = '...';\n  } // Add ... if it doesn't reach the last page.\n\n\n  if (pages[pages.length - 1] !== totalPages) {\n    pages[pages.length - 1] = totalPages;\n    pages[pages.length - 2] = '...';\n  }\n\n  return pages;\n}\n/** The Pagination component */\n\n\nexport default function Pagination({\n  page: currentPage,\n  totalPages\n}) {\n  const {\n    query\n  } = useRouter();\n  currentPage = parseInt(currentPage);\n  const pages = getPages({\n    currentPage,\n    totalPages\n  });\n  return /*#__PURE__*/_jsxs(\"div\", {\n    className: pagination,\n    children: [currentPage > 1 && /*#__PURE__*/_jsx(\"span\", {\n      className: prev,\n      children: /*#__PURE__*/_jsx(Link, {\n        href: {\n          pathname: '/collections/[collection]',\n          query: _objectSpread(_objectSpread({}, query), {}, {\n            page: currentPage - 1\n          })\n        },\n        shallow: true,\n        children: /*#__PURE__*/_jsx(\"a\", {\n          \"aria-label\": \"Previous page in collection\",\n          children: /*#__PURE__*/_jsx(Icon, {\n            icon: \"angle-left\",\n            className: prevIcon\n          })\n        })\n      })\n    }), ' ', pages.map((page, i) => {\n      return page === currentPage ? /*#__PURE__*/_jsx(\"span\", {\n        className: current,\n        children: page\n      }, i) : page === '...' ? /*#__PURE__*/_jsx(\"span\", {\n        children: page\n      }, i) : /*#__PURE__*/_jsx(\"span\", {\n        children: /*#__PURE__*/_jsx(Link, {\n          href: {\n            pathname: '/collections/[collection]',\n            query: _objectSpread(_objectSpread({}, query), {}, {\n              page\n            })\n          },\n          shallow: true,\n          children: /*#__PURE__*/_jsx(\"a\", {\n            children: page\n          })\n        })\n      }, i);\n    }), ' ', currentPage !== totalPages && /*#__PURE__*/_jsx(\"span\", {\n      className: prev,\n      children: /*#__PURE__*/_jsx(Link, {\n        href: {\n          pathname: '/collections/[collection]',\n          query: _objectSpread(_objectSpread({}, query), {}, {\n            page: currentPage + 1\n          })\n        },\n        shallow: true,\n        children: /*#__PURE__*/_jsx(\"a\", {\n          \"aria-label\": \"Next page in collection\",\n          children: /*#__PURE__*/_jsx(Icon, {\n            icon: \"angle-right\",\n            className: nextIcon\n          })\n        })\n      })\n    })]\n  });\n}",".outsmartly/analysis/modules/273.js":"// components/QuickView/index.js\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React, { useContext, useState } from 'react';\nimport Link from 'next/link';\nimport { quick, grid50, swatchWrapper, swatchGroup, swatchHeader, desc, addBtn, success, successIcon, error, errorIcon } from './QuickView.module.css';\nimport styles from './QuickView.module.css';\nimport QuantityWidget from './QuantityWidget';\nimport ProductColor from 'components/ProductOption/ProductColor';\nimport ProductOption from 'components/ProductOption';\nimport { CartContext } from '@outsmartly/jackrabbit';\nimport Icon from 'components/icons/Icon';\nimport { selectedOptionsState } from 'context/selectedOptionsState';\nimport { getFullProduct } from 'context/getProduct';\nimport { getVariant } from 'context/getVariant';\nimport { getProductImageUrl } from 'lib/getImageUrl';\n\nfunction getAddToCartText(product, currentVariant) {\n  if (!product.variants || currentVariant.availableForSale) {\n    return 'Add to Cart';\n  }\n\n  if (!currentVariant) {\n    return 'Sold Out';\n  }\n\n  return 'Unavailable';\n}\n\nexport default function QuickView({\n  instance,\n  collectionHandle,\n  product: collectionProduct,\n  onClose\n}) {\n  var _product$description$, _product$description;\n\n  // Create state to show whether Add To Cart was a success or an error\n  const {\n    0: statusClass,\n    1: setStatusClass\n  } = useState('');\n  const {\n    0: errorMessage,\n    1: setErrorMessage\n  } = useState('');\n  const {\n    0: quantity,\n    1: setQuantity\n  } = useState(1);\n  const {\n    addToCart\n  } = useContext(CartContext);\n  const product = getFullProduct(collectionProduct); // Call our custom hook to retrieve images and handlers for swatch clicks\n\n  const {\n    selectedOptions,\n    selectSingleOption,\n    images\n  } = selectedOptionsState({\n    product\n  });\n  const currentVariant = getVariant(product, selectedOptions);\n  const addToCartText = getAddToCartText(product, currentVariant);\n  const partialDesc = `${(_product$description$ = (_product$description = product.description) === null || _product$description === void 0 ? void 0 : _product$description.substring(0, 80)) !== null && _product$description$ !== void 0 ? _product$description$ : 'Loading'}...`;\n  /** Submit the form from the Quick Shop modal */\n\n  const onSubmitForm = async e => {\n    e.preventDefault();\n    setStatusClass('');\n\n    if (currentVariant) {\n      try {\n        // Try adding to cart. If it succeeds, report success to UI\n        await addToCart(product, currentVariant, quantity);\n        setStatusClass(success);\n      } catch (e) {\n        // If add operation fails, report error to UI.\n        setStatusClass(error);\n        setErrorMessage(e.message);\n      }\n    }\n  };\n\n  return /*#__PURE__*/_jsx(\"div\", {\n    id: `quickview-${product.id}`,\n    className: `${quick} ${styles[instance]}`,\n    children: /*#__PURE__*/_jsxs(\"div\", {\n      className: grid50,\n      children: [/*#__PURE__*/_jsx(\"div\", {\n        children: /*#__PURE__*/_jsx(\"img\", {\n          src: getProductImageUrl(images[0].src, 600),\n          alt: images[0].altText,\n          style: {\n            aspectRatio: '13/18'\n          },\n          width: \"600\",\n          height: \"831\",\n          loading: \"lazy\"\n        })\n      }), /*#__PURE__*/_jsxs(\"div\", {\n        children: [/*#__PURE__*/_jsx(\"a\", {\n          name: product.id\n        }), /*#__PURE__*/_jsx(\"h3\", {\n          children: product.title\n        }), instance === 'outfitCollectionItem' && /*#__PURE__*/_jsx(\"span\", {\n          children: currentVariant ? `\\$${currentVariant === null || currentVariant === void 0 ? void 0 : currentVariant.price}` : 'N/A'\n        }), /*#__PURE__*/_jsxs(\"form\", {\n          onSubmit: onSubmitForm,\n          children: [/*#__PURE__*/_jsx(\"input\", {\n            type: \"hidden\",\n            name: \"return_to\",\n            value: \"back\"\n          }), /*#__PURE__*/_jsxs(\"div\", {\n            className: swatchWrapper,\n            children: [/*#__PURE__*/_jsxs(\"div\", {\n              className: swatchGroup,\n              children: [/*#__PURE__*/_jsx(\"div\", {\n                className: swatchHeader,\n                children: \"Color\"\n              }), /*#__PURE__*/_jsx(ProductColor, {\n                product: product,\n                selectedOptions: selectedOptions,\n                selectSingleOption: selectSingleOption\n              })]\n            }), /*#__PURE__*/_jsxs(\"div\", {\n              className: swatchGroup,\n              children: [/*#__PURE__*/_jsx(\"div\", {\n                className: swatchHeader,\n                children: \"Size\"\n              }), /*#__PURE__*/_jsx(ProductOption, {\n                product: product,\n                selectedOptions: selectedOptions,\n                selectSingleOption: selectSingleOption\n              })]\n            })]\n          }), instance === 'outfitCollectionItem' && /*#__PURE__*/_jsx(QuantityWidget, {\n            id: product.id,\n            placeClass: \"quickview\",\n            quantity: quantity,\n            onChange: setQuantity\n          }), /*#__PURE__*/_jsxs(\"div\", {\n            className: desc,\n            children: [/*#__PURE__*/_jsx(\"span\", {\n              children: partialDesc\n            }), /*#__PURE__*/_jsx(Link, {\n              href: `/collections/${collectionHandle}/products/${product.handle}`,\n              children: /*#__PURE__*/_jsx(\"a\", {\n                children: instance === 'outfitCollectionItem' ? 'View Full Details' : 'Read More'\n              })\n            })]\n          }), /*#__PURE__*/_jsx(\"button\", {\n            className: addBtn,\n            disabled: !(currentVariant !== null && currentVariant !== void 0 && currentVariant.availableForSale),\n            children: /*#__PURE__*/_jsx(\"span\", {\n              id: \"AddToCartText\",\n              children: addToCartText\n            })\n          }), statusClass === success && /*#__PURE__*/_jsxs(\"p\", {\n            className: success,\n            children: [/*#__PURE__*/_jsx(Icon, {\n              icon: \"faCheck\",\n              className: successIcon\n            }), /*#__PURE__*/_jsx(\"span\", {\n              children: \" Added to cart! \"\n            }), /*#__PURE__*/_jsx(Link, {\n              href: \"/cart\",\n              children: /*#__PURE__*/_jsx(\"a\", {\n                children: \"View cart\"\n              })\n            }), /*#__PURE__*/_jsx(\"span\", {\n              children: \" or \"\n            }), instance === 'quickShopModal' && /*#__PURE__*/_jsx(\"a\", {\n              href: \"#\",\n              onClick: e => {\n                e.preventDefault();\n                onClose(e);\n              },\n              children: \"close this window\"\n            }), instance === 'outfitCollectionItem' && /*#__PURE__*/_jsx(Link, {\n              href: \"/collections/all\",\n              children: /*#__PURE__*/_jsx(\"a\", {\n                children: \"continue shopping\"\n              })\n            }), \".\"]\n          }), statusClass === error && /*#__PURE__*/_jsxs(\"p\", {\n            className: error,\n            children: [/*#__PURE__*/_jsx(Icon, {\n              icon: \"faWarning\",\n              className: errorIcon\n            }), /*#__PURE__*/_jsxs(\"span\", {\n              children: [\" \", errorMessage]\n            })]\n          })]\n        })]\n      })]\n    })\n  });\n}",".outsmartly/analysis/modules/222.js":"// components/AboutRBX.js\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport Link from 'next/link';\nimport { pagefly, leftBlurb, rightBlurb, wrap, heading } from 'styles/pagefly.module.css';\nimport { aboutBanner, aboutPageTitle, mission, missionFullBlurb, missionText, everyday, empowered, within, info, text, pic, accordionItem, accordionPanel, accordionHeader, accordionOpen, accordionClose, locationPagefly, locationTitle, contactFullblurb } from './AboutRBX.module.css';\nimport { getImageUrl } from 'lib/getImageUrl';\nimport Accordion from './Accordion/Accordion';\nimport Locations from './Locations';\nimport Contact from './Contact';\nexport default function AboutRBX() {\n  // Wrap the getImageUrl function to clean up image source strings\n  const url = (str, width) => {\n    return getImageUrl('/fast-image/rbx/t/272/assets/' + str, width);\n  };\n\n  const src1 = url('pf-4fad7e02--AboutRBXMain.jpg?v=1589558677');\n  const dset2 = `\n    ${url('pf-86686fb5--AboutRBX1.jpg?v=1589571637')} 1200w,\n    ${url('pf-86686fb5--AboutRBX1.jpg?v=1589571637', 800)} 800w,\n    ${url('pf-86686fb5--AboutRBX1.jpg?v=1589571637', 400)} 400w`;\n  const set2 = `\n    ${url('pf-86686fb5--AboutRBX1.jpg?v=1589571637')} 1200w,\n    ${url('pf-86686fb5--AboutRBX1.jpg?v=1589571637', 800)} 800w,\n    ${url('pf-86686fb5--AboutRBX1.jpg?v=1589571637', 400)} 400w`;\n  const dset3 = `\n    ${url('pf-7e0291e4--AboutRBX2.jpg?v=1589558712')} 1200w,\n    ${url('pf-7e0291e4--AboutRBX2_800x572.jpg?v=1589558712', 800)} 800w,\n    ${url('pf-7e0291e4--AboutRBX2_400x286.jpg?v=1589558712', 400)} 400w`;\n  const set3 = `\n    ${url('pf-7e0291e4--AboutRBX2.jpg?v=1589558712')} 1200w,\n    ${url('pf-7e0291e4--AboutRBX2_800x572.jpg?v=1589558712', 800)} 800w,\n    ${url('pf-7e0291e4--AboutRBX2_400x286.jpg?v=1589558712', 400)} 400w`;\n  const dset4 = `\n    ${url('pf-686fb5ff--AboutRBX3v2.jpg?v=1589572806')} 1200w,\n    ${url('pf-686fb5ff--AboutRBX3v2_800x572.jpg?v=1589572806', 800)} 800w,\n    ${url('pf-686fb5ff--AboutRBX3v2_400x286.jpg?v=1589572806', 400)} 400w`;\n  const set4 = `\n    ${url('pf-686fb5ff--AboutRBX3v2.jpg?v=1589572806')} 1200w,\n    ${url('pf-686fb5ff--AboutRBX3v2_800x572.jpg?v=1589572806', 800)} 800w,\n    ${url('pf-686fb5ff--AboutRBX3v2_400x286.jpg?v=1589572806', 400)} 400w`;\n  const imgSizes = '(min-width: 992px) 1200px, (min-width: 768px) and (max-width: 991px) 800px, 400px'; // Array of items for the accordion\n\n  const accordionData = [{\n    id: 1,\n    title: 'Visit our store',\n    content: /*#__PURE__*/_jsx(Locations, {\n      pageflyClass: locationPagefly,\n      pageTitleClass: locationTitle\n    })\n  }, {\n    id: 2,\n    title: 'Contact us',\n    content: /*#__PURE__*/_jsx(Contact, {\n      titleBlurbClass: contactFullblurb\n    })\n  }]; // Assemble CSS classes to pass down through Accordion to AccordionItem\n\n  const cssClasses = {\n    item: accordionItem,\n    header: accordionHeader,\n    open: accordionOpen,\n    close: accordionClose,\n    panel: accordionPanel\n  };\n  return /*#__PURE__*/_jsxs(\"div\", {\n    className: pagefly,\n    children: [/*#__PURE__*/_jsx(\"div\", {\n      className: aboutBanner,\n      children: /*#__PURE__*/_jsx(\"img\", {\n        src: src1,\n        alt: \"Four women wearing RBX tank tops\",\n        loading: \"lazy\"\n      })\n    }), /*#__PURE__*/_jsx(\"div\", {\n      className: mission,\n      children: /*#__PURE__*/_jsx(\"div\", {\n        className: missionFullBlurb,\n        children: /*#__PURE__*/_jsxs(\"div\", {\n          className: wrap,\n          children: [/*#__PURE__*/_jsx(\"h2\", {\n            className: aboutPageTitle,\n            children: \"Our Mission\"\n          }), /*#__PURE__*/_jsx(\"p\", {\n            className: missionText,\n            children: \"From our beginnings over a decade ago, Rugged Bear X-Treme\\u2122 has evolved into RBX Active. Built on the idea that being healthy and active should not be a luxury, but rather a basic need, RBX Active seeks to bring fashionable fitness apparel and products to everyone at affordable prices.\"\n          })]\n        })\n      })\n    }), /*#__PURE__*/_jsx(\"div\", {\n      className: everyday,\n      children: /*#__PURE__*/_jsxs(\"div\", {\n        className: leftBlurb,\n        children: [/*#__PURE__*/_jsxs(\"div\", {\n          className: text,\n          children: [/*#__PURE__*/_jsx(\"h3\", {\n            className: heading,\n            children: \"#everydayactive\"\n          }), /*#__PURE__*/_jsx(\"p\", {\n            children: \"We believe that living an active lifestyle promotes both physical and mental wellness. Whether you are an avid gym-goer, yogi, or runner and you are literally active every day, or you try to include activity in your everyday life by choosing to take the stairs instead of the elevator \\u2013 we are here to support your efforts.\"\n          })]\n        }), /*#__PURE__*/_jsx(\"div\", {\n          className: pic,\n          children: /*#__PURE__*/_jsx(\"img\", {\n            sizes: imgSizes,\n            \"data-srcset\": dset2,\n            srcSet: set2,\n            alt: \"Woman jogging on a beach\",\n            loading: \"lazy\"\n          })\n        })]\n      })\n    }), /*#__PURE__*/_jsx(\"div\", {\n      className: empowered,\n      children: /*#__PURE__*/_jsxs(\"div\", {\n        className: rightBlurb,\n        children: [/*#__PURE__*/_jsx(\"div\", {\n          className: pic,\n          children: /*#__PURE__*/_jsx(\"img\", {\n            sizes: imgSizes,\n            \"data-srcset\": dset3,\n            srcSet: set3,\n            alt: \"Man kicking a soccer ball\",\n            loading: \"lazy\"\n          })\n        }), /*#__PURE__*/_jsxs(\"div\", {\n          className: text,\n          children: [/*#__PURE__*/_jsxs(\"h3\", {\n            className: heading,\n            children: [\"Empowered by\", /*#__PURE__*/_jsx(\"br\", {}), \"health and fitness\"]\n          }), /*#__PURE__*/_jsxs(\"p\", {\n            children: [\"As we continue to grow, so has our mission. As the world learns more about what constitutes healthy living, we want to help guide our growing community by providing them with the information and tools to improve their lives. Whether it\\u2019s a killer workout routine, a great recipe or the latest mindfulness tip, we are all over it \\u2013 and sharing it on our\", ' ', /*#__PURE__*/_jsx(Link, {\n              href: \"/blogs/fitness\",\n              children: /*#__PURE__*/_jsx(\"a\", {\n                target: \"_blank\",\n                children: \"blog\"\n              })\n            }), \".\"]\n          })]\n        })]\n      })\n    }), /*#__PURE__*/_jsx(\"div\", {\n      className: within,\n      children: /*#__PURE__*/_jsxs(\"div\", {\n        className: leftBlurb,\n        children: [/*#__PURE__*/_jsxs(\"div\", {\n          className: text,\n          children: [/*#__PURE__*/_jsx(\"h3\", {\n            className: heading,\n            children: \"Within our walls\"\n          }), /*#__PURE__*/_jsx(\"p\", {\n            children: \"Team RBX celebrates fitness with integrity, innovation and an eye on fashion. Together we\\u2019ve built a passionate community that illustrates the ideals of elite athletes tempered with the realities of the everyday lives of regular people. We strive to offer products and solutions that empower and outfit us all, as we stay active together.\"\n          })]\n        }), /*#__PURE__*/_jsx(\"div\", {\n          className: pic,\n          children: /*#__PURE__*/_jsx(\"img\", {\n            sizes: imgSizes,\n            \"data-srcset\": dset4,\n            srcSet: set4,\n            alt: \"Woman exercising on bleachers\"\n          })\n        })]\n      })\n    }), /*#__PURE__*/_jsx(\"div\", {\n      className: info,\n      children: /*#__PURE__*/_jsx(Accordion, {\n        items: accordionData,\n        allowMultipleOpen: true,\n        cssClasses: cssClasses\n      })\n    })]\n  });\n}",".outsmartly/analysis/modules/29.js":"// node_modules/next/dist/next-server/lib/utils.js\n\"use strict\";\n\nvar _regeneratorRuntime = require(\"/Users/kai/Work/rbx-rewrite/node_modules/next/node_modules/@babel/runtime/regenerator\");\n\nvar _asyncToGenerator = require(\"/Users/kai/Work/rbx-rewrite/node_modules/next/node_modules/@babel/runtime/helpers/asyncToGenerator\");\n\nexports.__esModule = true;\nexports.execOnce = execOnce;\nexports.getLocationOrigin = getLocationOrigin;\nexports.getURL = getURL;\nexports.getDisplayName = getDisplayName;\nexports.isResSent = isResSent;\nexports.loadGetInitialProps = loadGetInitialProps;\nexports.formatWithValidation = formatWithValidation;\nexports.ST = exports.SP = exports.urlObjectKeys = void 0;\n\nvar _formatUrl = require(\"./router/utils/format-url\");\n/**\n* Utils\n*/\n\n\nfunction execOnce(fn) {\n  var used = false;\n  var result;\n  return function () {\n    if (!used) {\n      used = true;\n      result = fn.apply(void 0, arguments);\n    }\n\n    return result;\n  };\n}\n\nfunction getLocationOrigin() {\n  var _window$location = window.location,\n      protocol = _window$location.protocol,\n      hostname = _window$location.hostname,\n      port = _window$location.port;\n  return \"\".concat(protocol, \"//\").concat(hostname).concat(port ? ':' + port : '');\n}\n\nfunction getURL() {\n  var href = window.location.href;\n  var origin = getLocationOrigin();\n  return href.substring(origin.length);\n}\n\nfunction getDisplayName(Component) {\n  return typeof Component === 'string' ? Component : Component.displayName || Component.name || 'Unknown';\n}\n\nfunction isResSent(res) {\n  return res.finished || res.headersSent;\n}\n\nfunction loadGetInitialProps(_x, _x2) {\n  return _loadGetInitialProps.apply(this, arguments);\n}\n\nfunction _loadGetInitialProps() {\n  _loadGetInitialProps = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(App, ctx) {\n    var _App$prototype, message, res, props, _message;\n\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            if (!false) {\n              _context.next = 4;\n              break;\n            }\n\n            if (!((_App$prototype = App.prototype) != null && _App$prototype.getInitialProps)) {\n              _context.next = 4;\n              break;\n            }\n\n            message = \"\\\"\".concat(getDisplayName(App), \".getInitialProps()\\\" is defined as an instance method - visit https://nextjs.org/docs/messages/get-initial-props-as-an-instance-method for more information.\");\n            throw new Error(message);\n\n          case 4:\n            // when called from _app `ctx` is nested in `ctx`\n            res = ctx.res || ctx.ctx && ctx.ctx.res;\n\n            if (App.getInitialProps) {\n              _context.next = 12;\n              break;\n            }\n\n            if (!(ctx.ctx && ctx.Component)) {\n              _context.next = 11;\n              break;\n            }\n\n            _context.next = 9;\n            return loadGetInitialProps(ctx.Component, ctx.ctx);\n\n          case 9:\n            _context.t0 = _context.sent;\n            return _context.abrupt(\"return\", {\n              pageProps: _context.t0\n            });\n\n          case 11:\n            return _context.abrupt(\"return\", {});\n\n          case 12:\n            _context.next = 14;\n            return App.getInitialProps(ctx);\n\n          case 14:\n            props = _context.sent;\n\n            if (!(res && isResSent(res))) {\n              _context.next = 17;\n              break;\n            }\n\n            return _context.abrupt(\"return\", props);\n\n          case 17:\n            if (props) {\n              _context.next = 20;\n              break;\n            }\n\n            _message = \"\\\"\".concat(getDisplayName(App), \".getInitialProps()\\\" should resolve to an object. But found \\\"\").concat(props, \"\\\" instead.\");\n            throw new Error(_message);\n\n          case 20:\n            if (false) {\n              if (Object.keys(props).length === 0 && !ctx.ctx) {\n                console.warn(\"\".concat(getDisplayName(App), \" returned an empty object from `getInitialProps`. This de-optimizes and prevents automatic static optimization. https://nextjs.org/docs/messages/empty-object-getInitialProps\"));\n              }\n            }\n\n            return _context.abrupt(\"return\", props);\n\n          case 22:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _loadGetInitialProps.apply(this, arguments);\n}\n\nvar urlObjectKeys = ['auth', 'hash', 'host', 'hostname', 'href', 'path', 'pathname', 'port', 'protocol', 'query', 'search', 'slashes'];\nexports.urlObjectKeys = urlObjectKeys;\n\nfunction formatWithValidation(url) {\n  if (false) {\n    if (url !== null && typeof url === 'object') {\n      Object.keys(url).forEach(function (key) {\n        if (urlObjectKeys.indexOf(key) === -1) {\n          console.warn(\"Unknown key passed via urlObject into url.format: \".concat(key));\n        }\n      });\n    }\n  }\n\n  return (0, _formatUrl.formatUrl)(url);\n}\n\nvar SP = typeof performance !== 'undefined';\nexports.SP = SP;\nvar ST = SP && typeof performance.mark === 'function' && typeof performance.measure === 'function';\nexports.ST = ST;",".outsmartly/analysis/modules/78.js":"// node_modules/next/dist/client/use-intersection.js\n\"use strict\";\n\nvar _slicedToArray = require(\"/Users/kai/Work/rbx-rewrite/node_modules/next/node_modules/@babel/runtime/helpers/slicedToArray\");\n\nexports.__esModule = true;\nexports.useIntersection = useIntersection;\n\nvar _react = require(\"react\");\n\nvar _requestIdleCallback = require(\"./request-idle-callback\");\n\nvar hasIntersectionObserver = typeof IntersectionObserver !== 'undefined';\n\nfunction useIntersection(_ref) {\n  var rootMargin = _ref.rootMargin,\n      disabled = _ref.disabled;\n  var isDisabled = disabled || !hasIntersectionObserver;\n  var unobserve = (0, _react.useRef)();\n\n  var _ref2 = (0, _react.useState)(false),\n      _ref3 = _slicedToArray(_ref2, 2),\n      visible = _ref3[0],\n      setVisible = _ref3[1];\n\n  var setRef = (0, _react.useCallback)(function (el) {\n    if (unobserve.current) {\n      unobserve.current();\n      unobserve.current = undefined;\n    }\n\n    if (isDisabled || visible) return;\n\n    if (el && el.tagName) {\n      unobserve.current = observe(el, function (isVisible) {\n        return isVisible && setVisible(isVisible);\n      }, {\n        rootMargin: rootMargin\n      });\n    }\n  }, [isDisabled, rootMargin, visible]);\n  (0, _react.useEffect)(function () {\n    if (!hasIntersectionObserver) {\n      if (!visible) {\n        var idleCallback = (0, _requestIdleCallback.requestIdleCallback)(function () {\n          return setVisible(true);\n        });\n        return function () {\n          return (0, _requestIdleCallback.cancelIdleCallback)(idleCallback);\n        };\n      }\n    }\n  }, [visible]);\n  return [setRef, visible];\n}\n\nfunction observe(element, callback, options) {\n  var _createObserver = createObserver(options),\n      id = _createObserver.id,\n      observer = _createObserver.observer,\n      elements = _createObserver.elements;\n\n  elements.set(element, callback);\n  observer.observe(element);\n  return function unobserve() {\n    elements[\"delete\"](element);\n    observer.unobserve(element); // Destroy observer when there's nothing left to watch:\n\n    if (elements.size === 0) {\n      observer.disconnect();\n      observers[\"delete\"](id);\n    }\n  };\n}\n\nvar observers = new Map();\n\nfunction createObserver(options) {\n  var id = options.rootMargin || '';\n  var instance = observers.get(id);\n\n  if (instance) {\n    return instance;\n  }\n\n  var elements = new Map();\n  var observer = new IntersectionObserver(function (entries) {\n    entries.forEach(function (entry) {\n      var callback = elements.get(entry.target);\n      var isVisible = entry.isIntersecting || entry.intersectionRatio > 0;\n\n      if (callback && isVisible) {\n        callback(isVisible);\n      }\n    });\n  }, options);\n  observers.set(id, instance = {\n    id: id,\n    observer: observer,\n    elements: elements\n  });\n  return instance;\n}",".outsmartly/analysis/modules/4.js":"// components/TopBarSlider.js\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports._outsmartly_thunk = _outsmartly_thunk;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _reactSlick = _interopRequireDefault(require(\"react-slick\"));\n\nvar __jsx = _react[\"default\"].createElement;\n\nfunction _outsmartly_thunk(_temp) {\n  if (_outsmartly_slices.$1) {\n    var promos = _temp.promos,\n        styles = _temp.styles,\n        backgroundColor = _temp.backgroundColor,\n        textColor = _temp.textColor,\n        settings = _temp.settings;\n  }\n\n  if (_outsmartly_branch_selections.$0) {\n    {\n      if (_outsmartly_slices.$1) {\n        _outsmartly_outlets.$1 = /*#__PURE__*/_react[\"default\"].createElement(_reactSlick[\"default\"], (0, _extends2[\"default\"])({\n          style: {\n            backgroundColor: backgroundColor,\n            color: textColor\n          }\n        }, settings), promos.map(function (_ref, i) {\n          var heading = _ref.heading,\n              _ref$linkUrl = _ref.linkUrl,\n              linkUrl = _ref$linkUrl === void 0 ? null : _ref$linkUrl;\n          return linkUrl ? /*#__PURE__*/_react[\"default\"].createElement(\"a\", {\n            href: linkUrl,\n            key: i,\n            className: styles.promo,\n            dangerouslySetInnerHTML: {\n              __html: heading\n            }\n          }) :\n          /*#__PURE__*/\n          // Having <a /> elements without a valid href attribute effects\n          // Lighthouse scores.\n          _react[\"default\"].createElement(\"span\", {\n            key: i,\n            className: styles.promo,\n            dangerouslySetInnerHTML: {\n              __html: heading\n            }\n          });\n        }));\n      }\n    }\n    return _outsmartly_no_return;\n  } else {\n    return /*#__PURE__*/_react[\"default\"].createElement(_reactSlick[\"default\"], (0, _extends2[\"default\"])({\n      style: {\n        backgroundColor: backgroundColor,\n        color: textColor\n      }\n    }, settings), promos.map(function (_ref2, i) {\n      var heading = _ref2.heading,\n          _ref2$linkUrl = _ref2.linkUrl,\n          linkUrl = _ref2$linkUrl === void 0 ? null : _ref2$linkUrl;\n      return linkUrl ? /*#__PURE__*/_react[\"default\"].createElement(\"a\", {\n        href: linkUrl,\n        key: i,\n        className: styles.promo,\n        dangerouslySetInnerHTML: {\n          __html: heading\n        }\n      }) :\n      /*#__PURE__*/\n      // Having <a /> elements without a valid href attribute effects\n      // Lighthouse scores.\n      _react[\"default\"].createElement(\"span\", {\n        key: i,\n        className: styles.promo,\n        dangerouslySetInnerHTML: {\n          __html: heading\n        }\n      });\n    }));\n  }\n}\n\nvar TopBarSlider = _outsmartly_thunk;",".outsmartly/analysis/modules/68.js":"// components/LemonSpot/LemonSpotUpsell.js\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport React from 'react';\nimport Link from 'next/link';\nimport { recBox, wrap, imageWrap, messageWrap, message, addToCartWrap } from './LemonSpotUpsell.module.css';\nimport { getFilteredImagesByColor } from 'lib/helpers';\nimport { getProductImageUrl } from 'lib/getImageUrl';\nimport { AddToCartSelect } from './AddToCartSelect';\nexport function LemonSpotUpsell(_ref) {\n  var cartItems = _ref.cartItems,\n      upsellItems = _ref.upsellItems;\n  // Filter out the items (by product handles) currently in the cart, so you don't\n  // try to upsell one already have. I.e., look for the current upsell in the cart\n  // items array, and if you find it, then do not return that one. Instead,\n  // return the first upsell item that *is not* in the cart items array.\n  var singleUpsellItem = upsellItems.find(function (upsell) {\n    var upsellInCart = cartItems.find(function (item) {\n      return upsell.handle === item.handle;\n    });\n    return !upsellInCart;\n  });\n\n  if (!singleUpsellItem) {\n    return /*#__PURE__*/_jsx(_Fragment, {});\n  } // Process images\n\n\n  var images = getFilteredImagesByColor(singleUpsellItem.imageMap);\n  var rec = {\n    productTitle: singleUpsellItem.title,\n    image: getProductImageUrl(images[0].src, 120),\n    route: \"https://www.rbxactive.com/products/\".concat(singleUpsellItem.handle) + '?lssrc=upsell&lshst=cart',\n    variants: singleUpsellItem.variants\n  };\n  return /*#__PURE__*/_jsx(\"div\", {\n    className: recBox,\n    children: /*#__PURE__*/_jsxs(\"div\", {\n      className: wrap,\n      children: [/*#__PURE__*/_jsx(\"div\", {\n        className: imageWrap,\n        children: /*#__PURE__*/_jsx(Link, {\n          href: rec.route,\n          children: /*#__PURE__*/_jsx(\"a\", {\n            children: /*#__PURE__*/_jsx(\"img\", {\n              src: rec.image,\n              alt: rec.productTitle,\n              width: \"120\",\n              height: \"166\"\n            })\n          })\n        })\n      }), /*#__PURE__*/_jsxs(\"div\", {\n        className: messageWrap,\n        children: [/*#__PURE__*/_jsx(Link, {\n          href: rec.route,\n          children: /*#__PURE__*/_jsxs(\"a\", {\n            className: message,\n            children: [/*#__PURE__*/_jsx(\"span\", {\n              children: \"Would you like to add \"\n            }), /*#__PURE__*/_jsx(\"span\", {\n              children: rec.productTitle\n            }), /*#__PURE__*/_jsx(\"span\", {\n              children: \" for \"\n            }), /*#__PURE__*/_jsxs(\"span\", {\n              children: [\"$\", rec.variants[0].price]\n            }), /*#__PURE__*/_jsx(\"span\", {\n              children: \"?\"\n            })]\n          })\n        }), /*#__PURE__*/_jsx(\"div\", {\n          className: addToCartWrap,\n          children: /*#__PURE__*/_jsx(AddToCartSelect, {\n            product: singleUpsellItem\n          })\n        })]\n      })]\n    })\n  });\n}",".outsmartly/analysis/modules/39.js":"// components/TopBar.js\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React, { useContext, useEffect, useState } from 'react';\nimport Link from 'next/link';\nimport { AccountContext } from '@outsmartly/jackrabbit';\nimport { TopBarSlider } from './TopBarSlider'; // Settings for react-slick to fade promotions into view.\n// https://react-slick.neostack.com/docs/get-started\n\nvar settings = {\n  arrows: false,\n  autoplay: true,\n  autoplaySpeed: 5000,\n  className: 'topBarSlider',\n  fade: true,\n  speed: 1000\n};\nvar MemoedSlider = /*#__PURE__*/React.memo(TopBarSlider);\nexport default function TopBar(_ref) {\n  var promos = _ref.promos,\n      styles = _ref.styles,\n      color = _ref.color,\n      backgroundColor = _ref.backgroundColor;\n\n  var _useContext = useContext(AccountContext),\n      account = _useContext.account; // const [bannerOverride, setBannerOverride] = useState([]);\n  // useEffect(() => {\n  //   fetchPromos();\n  //   async function fetchPromos() {\n  //     const banner = await fetchJson('/api/_next/banner');\n  //     setBannerOverride(banner);\n  //   }\n  // }, []);\n\n\n  return /*#__PURE__*/_jsxs(\"div\", {\n    id: \"TopBar\",\n    className: styles.topBar,\n    style: {\n      color: color\n    },\n    children: [/*#__PURE__*/_jsx(\"h2\", {\n      className: \"visually-hidden\",\n      children: \"Promotions\"\n    }), /*#__PURE__*/_jsx(MemoedSlider, {\n      textColor: color,\n      promos: promos,\n      styles: styles,\n      backgroundColor: backgroundColor,\n      settings: settings // {...bannerOverride}\n\n    }), /*#__PURE__*/_jsx(\"div\", {\n      className: \"page-width\",\n      style: {\n        position: 'absolute',\n        margin: '6px 0'\n      },\n      children: /*#__PURE__*/_jsxs(\"div\", {\n        className: styles.dropdown,\n        children: [/*#__PURE__*/_jsx(Link, {\n          href: \"/account\",\n          children: /*#__PURE__*/_jsx(\"a\", {\n            className: styles.accountLink,\n            children: \"Account\"\n          })\n        }), /*#__PURE__*/_jsx(\"div\", {\n          className: styles.dropdownContent,\n          children: account !== null && account !== void 0 && account.loggedIn ? /*#__PURE__*/_jsx(Link, {\n            href: \"/account/logout\",\n            children: /*#__PURE__*/_jsx(\"a\", {\n              children: \"Log Out\"\n            })\n          }) : /*#__PURE__*/_jsx(Link, {\n            href: \"/account/login\",\n            children: /*#__PURE__*/_jsx(\"a\", {\n              children: \"Sign In\"\n            })\n          })\n        })]\n      })\n    })]\n  });\n}",".outsmartly/analysis/modules/232.js":"// components/CartNotification.js\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { useContext, useState, useEffect } from 'react';\nimport { success, error, link, message, underline } from './CartNotification.module.css';\nimport { CartContext } from '@outsmartly/jackrabbit';\nimport NotificationBar from './NotificationBar';\nimport Link from 'next/link';\nexport default function CartNotification() {\n  const {\n    0: showBar,\n    1: setShowBar\n  } = useState(false);\n  const {\n    0: showViewCart,\n    1: setShowViewCart\n  } = useState(true);\n  const {\n    0: showBarTimer,\n    1: setShowBarTimer\n  } = useState(null);\n  const {\n    0: statusClass,\n    1: setStatusClass\n  } = useState(success);\n  const {\n    addStatus,\n    setAddStatus\n  } = useContext(CartContext);\n  const showBarDuration = 30000;\n  const {\n    0: errorMessage,\n    1: setErrorMessage\n  } = useState(); // Called when notification status changes\n\n  useEffect(() => {\n    // If there is an add status:\n    if (addStatus !== '') {\n      // First clear any existing timers, for a fresh start\n      if (showBarTimer) {\n        clearTimeout(showBarTimer);\n        setShowBarTimer(null);\n      } // Show the bar, then scroll to top so user can see it\n\n\n      setShowBar(true);\n      window.scrollTo(0, 0); // After some time, hide the bar\n\n      setShowBarTimer(setTimeout(() => {\n        setShowBar(false);\n      }, showBarDuration)); // Determine the message className for the notification bar\n\n      const isSuccess = addStatus === 'success' || addStatus === 'cartSuccess';\n      setShowViewCart(addStatus === 'success');\n      setStatusClass(isSuccess ? success : error);\n      setErrorMessage(isSuccess ? '' : addStatus); // Clear out status for the next time\n\n      setAddStatus('');\n    }\n  }, [addStatus]);\n  /** Handles a click on the close icon in the notification bar */\n\n  const handleCloseBar = e => {\n    e.preventDefault();\n    setShowBar(false);\n  };\n\n  return /*#__PURE__*/_jsx(NotificationBar, {\n    messageClass: statusClass,\n    show: showBar,\n    onClose: handleCloseBar,\n    children: statusClass === success ? showViewCart ? /*#__PURE__*/_jsx(Link, {\n      href: \"/cart\",\n      children: /*#__PURE__*/_jsxs(\"a\", {\n        className: link,\n        children: [/*#__PURE__*/_jsx(\"span\", {\n          children: \"Item added to cart. \"\n        }), /*#__PURE__*/_jsx(\"span\", {\n          className: underline,\n          children: \"View cart and check out.\"\n        })]\n      })\n    }) : /*#__PURE__*/_jsx(\"a\", {\n      className: link,\n      children: /*#__PURE__*/_jsx(\"span\", {\n        children: \"Item added to cart. \"\n      })\n    }) : /*#__PURE__*/_jsx(\"span\", {\n      className: message,\n      children: /*#__PURE__*/_jsx(\"span\", {\n        children: errorMessage\n      })\n    })\n  });\n}",".outsmartly/analysis/modules/263.js":"// contentful/format-hero-slider.js\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport { nullIfUndefined } from './helpers';\n/**\n * Formats an individual slide so the prop names match what our component wants\n * @param {string} entry id\n * @param {Object} slide\n * @returns {Object} slide props object\n */\n\nexport function formatSlide(id, slide) {\n  const {\n    headingText,\n    subheadingText,\n    captionText,\n    buttonText,\n    linkUrl,\n    textAlignment,\n    image,\n    textSizes\n  } = slide,\n        rest = _objectWithoutProperties(slide, [\"headingText\", \"subheadingText\", \"captionText\", \"buttonText\", \"linkUrl\", \"textAlignment\", \"image\", \"textSizes\"]);\n\n  return _objectSpread({\n    id,\n    title: nullIfUndefined(headingText),\n    subtitle: nullIfUndefined(subheadingText),\n    caption: nullIfUndefined(captionText),\n    linkText: nullIfUndefined(buttonText),\n    linkRoute: nullIfUndefined(linkUrl),\n    align: nullIfUndefined(textAlignment),\n    textSizes: textSizes,\n    imgAlt: image.title,\n    imgSrc: image.url\n  }, rest);\n}",".outsmartly/analysis/modules/323.js":"// lib/shopify/mapEdgeToProduct.ts\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { parseShopifyId } from './parseShopifyId';\nimport { _getYotpoBottomline } from './yotpoReviews';\nexport function mapEdgesToProducts({\n  edges,\n  YOTPO_API_KEY = undefined,\n  bestSellerResponse = undefined\n}) {\n  return edges.filter(filterProducts).map(map);\n\n  async function map({\n    node\n  }) {\n    const productId = parseShopifyId(node.id);\n\n    const reviews = _getYotpoBottomline({\n      YOTPO_API_KEY,\n      productId\n    });\n\n    const product = _objectSpread({}, node);\n\n    product.id = productId;\n    product.images = product.images.edges.map(({\n      node\n    }) => node);\n    product.price = parseFloat(product.priceRange.minVariantPrice.amount);\n    const oldPrice = product.compareAtPriceRange.minVariantPrice ? parseFloat(product.compareAtPriceRange.minVariantPrice.amount) : undefined;\n    const showOldPrice = !!oldPrice && oldPrice > parseFloat(product.priceRange.minVariantPrice.amount);\n\n    if (showOldPrice) {\n      product.oldPrice = oldPrice;\n    }\n\n    if (parseFloat(product.priceRange.maxVariantPrice.amount) > parseFloat(product.priceRange.minVariantPrice.amount)) {\n      product.showFromPrice = true;\n    }\n\n    delete product.compareAtPriceRange;\n    delete product.priceRange;\n    delete product.onlineStoreUrl;\n    delete product.availableForSale;\n    const bestSellerSort = bestSellerResponse ? (await bestSellerResponse).indexOf(product.handle) : 0;\n    return _objectSpread(_objectSpread(_objectSpread({}, product), await reviews), {}, {\n      bestSellerSort\n    });\n  }\n}\n\nfunction filterProducts({\n  node\n}) {\n  return node.availableForSale && !!node.onlineStoreUrl && node.handle !== 'routeins';\n}",".outsmartly/analysis/modules/290.js":"// node_modules/next/dist/next-server/lib/router/utils/prepare-destination.js\n\"use strict\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nexports.__esModule = true;\nexports.matchHas = matchHas;\nexports.compileNonPath = compileNonPath;\nexports.default = prepareDestination;\nexports.getSafeParamName = void 0;\n\nvar _querystring = require(\"./querystring\");\n\nvar _parseRelativeUrl = require(\"./parse-relative-url\");\n\nvar pathToRegexp = _interopRequireWildcard(require(\"next/dist/compiled/path-to-regexp\"));\n\nfunction _getRequireWildcardCache() {\n  if (typeof WeakMap !== \"function\") return null;\n  var cache = new WeakMap();\n\n  _getRequireWildcardCache = function () {\n    return cache;\n  };\n\n  return cache;\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  }\n\n  if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") {\n    return {\n      default: obj\n    };\n  }\n\n  var cache = _getRequireWildcardCache();\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n  var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) {\n      var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n      if (desc && (desc.get || desc.set)) {\n        Object.defineProperty(newObj, key, desc);\n      } else {\n        newObj[key] = obj[key];\n      }\n    }\n  }\n\n  newObj.default = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n} // ensure only a-zA-Z are used for param names for proper interpolating\n// with path-to-regexp\n\n\nconst getSafeParamName = paramName => {\n  let newParamName = '';\n\n  for (let i = 0; i < paramName.length; i++) {\n    const charCode = paramName.charCodeAt(i);\n\n    if (charCode > 64 && charCode < 91 || // A-Z\n    charCode > 96 && charCode < 123 // a-z\n    ) {\n        newParamName += paramName[i];\n      }\n  }\n\n  return newParamName;\n};\n\nexports.getSafeParamName = getSafeParamName;\n\nfunction matchHas(req, has, query) {\n  const params = {};\n  let initialQueryValues = [];\n\n  if (true) {\n    initialQueryValues = Object.values(req.__NEXT_INIT_QUERY);\n  }\n\n  if (false) {\n    initialQueryValues = Array.from(new URLSearchParams(location.search).values());\n  }\n\n  const allMatch = has.every(hasItem => {\n    let value;\n    let key = hasItem.key;\n\n    switch (hasItem.type) {\n      case 'header':\n        {\n          key = key.toLowerCase();\n          value = req.headers[key];\n          break;\n        }\n\n      case 'cookie':\n        {\n          value = req.cookies[hasItem.key];\n          break;\n        }\n\n      case 'query':\n        {\n          // preserve initial encoding of query values\n          value = query[key];\n\n          if (initialQueryValues.includes(value || '')) {\n            value = encodeURIComponent(value);\n          }\n\n          break;\n        }\n\n      case 'host':\n        {\n          const {\n            host\n          } = (req == null ? void 0 : req.headers) || {}; // remove port from host if present\n\n          const hostname = host == null ? void 0 : host.split(':')[0].toLowerCase();\n          value = hostname;\n          break;\n        }\n\n      default:\n        {\n          break;\n        }\n    }\n\n    if (!hasItem.value && value) {\n      params[getSafeParamName(key)] = value;\n      return true;\n    } else if (value) {\n      const matcher = new RegExp(`^${hasItem.value}$`);\n      const matches = value.match(matcher);\n\n      if (matches) {\n        if (matches.groups) {\n          Object.keys(matches.groups).forEach(groupKey => {\n            params[groupKey] = matches.groups[groupKey];\n          });\n        } else if (hasItem.type === 'host' && matches[0]) {\n          params.host = matches[0];\n        }\n\n        return true;\n      }\n    }\n\n    return false;\n  });\n\n  if (allMatch) {\n    return params;\n  }\n\n  return false;\n}\n\nfunction compileNonPath(value, params) {\n  if (!value.includes(':')) {\n    return value;\n  }\n\n  for (const key of Object.keys(params)) {\n    if (value.includes(`:${key}`)) {\n      value = value.replace(new RegExp(`:${key}\\\\*`, 'g'), `:${key}--ESCAPED_PARAM_ASTERISKS`).replace(new RegExp(`:${key}\\\\?`, 'g'), `:${key}--ESCAPED_PARAM_QUESTION`).replace(new RegExp(`:${key}\\\\+`, 'g'), `:${key}--ESCAPED_PARAM_PLUS`).replace(new RegExp(`:${key}(?!\\\\w)`, 'g'), `--ESCAPED_PARAM_COLON${key}`);\n    }\n  }\n\n  value = value.replace(/(:|\\*|\\?|\\+|\\(|\\)|\\{|\\})/g, '\\\\$1').replace(/--ESCAPED_PARAM_PLUS/g, '+').replace(/--ESCAPED_PARAM_COLON/g, ':').replace(/--ESCAPED_PARAM_QUESTION/g, '?').replace(/--ESCAPED_PARAM_ASTERISKS/g, '*'); // the value needs to start with a forward-slash to be compiled\n  // correctly\n\n  return pathToRegexp.compile(`/${value}`, {\n    validate: false\n  })(params).substr(1);\n}\n\nfunction prepareDestination(destination, params, query, appendParamsToQuery) {\n  let parsedDestination = {}; // clone query so we don't modify the original\n\n  query = Object.assign({}, query);\n  const hadLocale = query.__nextLocale;\n  delete query.__nextLocale;\n  delete query.__nextDefaultLocale;\n\n  if (destination.startsWith('/')) {\n    parsedDestination = (0, _parseRelativeUrl.parseRelativeUrl)(destination);\n  } else {\n    const {\n      pathname,\n      searchParams,\n      hash,\n      hostname,\n      port,\n      protocol,\n      search,\n      href\n    } = new URL(destination);\n    parsedDestination = {\n      pathname,\n      query: (0, _querystring.searchParamsToUrlQuery)(searchParams),\n      hash,\n      protocol,\n      hostname,\n      port,\n      search,\n      href\n    };\n  }\n\n  const destQuery = parsedDestination.query;\n  const destPath = `${parsedDestination.pathname}${parsedDestination.hash || ''}`;\n  const destPathParamKeys = [];\n  pathToRegexp.pathToRegexp(destPath, destPathParamKeys);\n  const destPathParams = destPathParamKeys.map(key => key.name);\n  let destinationCompiler = pathToRegexp.compile(destPath, // we don't validate while compiling the destination since we should\n  // have already validated before we got to this point and validating\n  // breaks compiling destinations with named pattern params from the source\n  // e.g. /something:hello(.*) -> /another/:hello is broken with validation\n  // since compile validation is meant for reversing and not for inserting\n  // params from a separate path-regex into another\n  {\n    validate: false\n  });\n  let newUrl; // update any params in query values\n\n  for (const [key, strOrArray] of Object.entries(destQuery)) {\n    let value = Array.isArray(strOrArray) ? strOrArray[0] : strOrArray;\n\n    if (value) {\n      // the value needs to start with a forward-slash to be compiled\n      // correctly\n      value = compileNonPath(value, params);\n    }\n\n    destQuery[key] = value;\n  } // add path params to query if it's not a redirect and not\n  // already defined in destination query or path\n\n\n  let paramKeys = Object.keys(params); // remove internal param for i18n\n\n  if (hadLocale) {\n    paramKeys = paramKeys.filter(name => name !== 'nextInternalLocale');\n  }\n\n  if (appendParamsToQuery && !paramKeys.some(key => destPathParams.includes(key))) {\n    for (const key of paramKeys) {\n      if (!(key in destQuery)) {\n        destQuery[key] = params[key];\n      }\n    }\n  }\n\n  try {\n    newUrl = destinationCompiler(params);\n    const [pathname, hash] = newUrl.split('#');\n    parsedDestination.pathname = pathname;\n    parsedDestination.hash = `${hash ? '#' : ''}${hash || ''}`;\n    delete parsedDestination.search;\n  } catch (err) {\n    if (err.message.match(/Expected .*? to not repeat, but got an array/)) {\n      throw new Error(`To use a multi-match in the destination you must add \\`*\\` at the end of the param name to signify it should repeat. https://nextjs.org/docs/messages/invalid-multi-match`);\n    }\n\n    throw err;\n  } // Query merge order lowest priority to highest\n  // 1. initial URL query values\n  // 2. path segment values\n  // 3. destination specified query values\n\n\n  parsedDestination.query = _objectSpread(_objectSpread({}, query), parsedDestination.query);\n  return {\n    newUrl,\n    parsedDestination\n  };\n}",".outsmartly/analysis/modules/101.js":"// third-party-scripts/utils.js\nvar timeoutIds = {};\nexport function loadScript(config) {\n  var callback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : function () {};\n  var src = config.src,\n      id = config.id,\n      _config$anonymous = config.anonymous,\n      anonymous = _config$anonymous === void 0 ? true : _config$anonymous,\n      _config$defer = config.defer,\n      defer = _config$defer === void 0 ? true : _config$defer; // If there is a setTimeout running for this script, clear it. This may occur\n  // when user interactions require the script to be loaded sooner.\n\n  if (timeoutIds[src]) {\n    window.clearTimeout(timeoutIds[src]);\n  } // If the script has already been loaded, do nothing\n\n\n  if (document.getElementById(id)) {\n    return;\n  }\n\n  var script = document.createElement('script');\n  script.src = src;\n  script.defer = defer;\n  script.id = id;\n\n  if (anonymous) {\n    script.crossOrigin = 'anonymous';\n  } // A lot of the scripts have the same timeout, so use requestIdleCallback\n  // to callback when idle and avoid overloading main thread.\n\n\n  script.onload = typeof window.requestIdleCallback === 'function' ? function () {\n    return window.requestIdleCallback(callback);\n  } : callback;\n  document.body.append(script);\n}\nexport function loadScriptWithDelay(config) {\n  var callback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : function () {};\n  var src = config.src,\n      id = config.id; // If the script has already been loaded, just execute the callback right away\n\n  if (document.getElementById(id)) {\n    if (typeof window.requestIdleCallback === 'function') {\n      window.requestIdleCallback(callback);\n    } else {\n      window.setTimeout(callback, 0);\n    }\n\n    return;\n  } // If config object says so, and it's available, load script in lull period\n\n\n  if (config.useRequestIdleCallback && typeof window.requestIdleCallback === 'function') {\n    window.requestIdleCallback(function () {\n      return loadScript(config, callback);\n    });\n  } else {\n    // window.scriptDelayTime let's us control this from edge, if desired\n    var timeout = config.timeout || window.scriptDelayTime || 10000;\n    timeoutIds[src] = window.setTimeout(loadScript, timeout, config, callback);\n  }\n}",".outsmartly/analysis/modules/150.js":"// lib/discounts.ts\nexport function getDiscountInfo(product, currentVariant) {\n  var _currentVariant$price, _currentVariant$compa, _product$oldPrice;\n\n  var _getSpecialDiscount = getSpecialDiscount(product),\n      discount = _getSpecialDiscount.discount,\n      saleMessage = _getSpecialDiscount.saleMessage;\n\n  var isOnSale = discount > 0; // Pull the variant price if available, else pull the product price.\n\n  var price = (_currentVariant$price = currentVariant === null || currentVariant === void 0 ? void 0 : currentVariant.price) !== null && _currentVariant$price !== void 0 ? _currentVariant$price : product === null || product === void 0 ? void 0 : product.price; // Update the price if there's a special sale running.\n\n  price = isOnSale ? (price - price * discount).toFixed(2) : price; // Show the from text if we're showing the price of a product that varies in price.\n\n  var priceText = !currentVariant && product.showFromPrice ? \"From $\".concat(price) : \"$\".concat(price); // The old price is either from the variant if available, or the product.\n\n  var oldPrice = (_currentVariant$compa = currentVariant === null || currentVariant === void 0 ? void 0 : currentVariant.compareAtPrice) !== null && _currentVariant$compa !== void 0 ? _currentVariant$compa : ((_product$oldPrice = product.oldPrice) !== null && _product$oldPrice !== void 0 ? _product$oldPrice : isOnSale) ? product.price : null;\n  return {\n    priceText: priceText,\n    saleMessage: saleMessage,\n    oldPrice: oldPrice\n  };\n}\n/**\n * Put any logic here for special sales that get applied automatically\n * in the cart.\n *\n * @param product\n * @returns\n */\n\nfunction getSpecialDiscount(product) {\n  var _product$tags;\n\n  if (Date.now() > new Date('2021-09-07T04:00:00.000Z').getTime()) {\n    return {\n      discount: 0\n    };\n  }\n\n  var onSaleTags = ['sale', 'SALE'];\n\n  if ((_product$tags = product.tags) !== null && _product$tags !== void 0 && _product$tags.some(function (tag) {\n    return onSaleTags.includes(tag);\n  }) || product.tag === 'Sale') {\n    return {\n      discount: 0.5,\n      saleMessage: 'END OF SEASON EXTRA 50% OFF'\n    };\n  }\n\n  return {\n    discount: 0\n  };\n}",".outsmartly/analysis/modules/317.js":"// components/Tabs/Tabs.js\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { cloneElement, useState } from 'react';\nimport { container, list, content, showPanel, hidePanel } from './Tabs.module.css'; // Based on this:\n// https://medium.com/@diegocasmo/a-simple-react-tabs-component-47cac2cfbb5\n// For additional features consider emulating:\n// https://github.com/reactjs/react-tabs\n// itemClass, itemActiveClass, and linkClass can either be passed as props to\n// <Tabs />, in which case they will apply to all <Tab /> components, or\n// passed as props to each individual <Tab /> component.\n\nexport default function Tabs({\n  defaultTab = 0,\n  children,\n  keepInDom = false,\n  containerClass = container,\n  listClass = list,\n  contentClass = content,\n  itemClass,\n  itemActiveClass,\n  linkClass\n}) {\n  // State for the active tab is the index in the array of tabs\n  const {\n    0: activeTab,\n    1: setActiveTab\n  } = useState(defaultTab);\n  /** Handles click on a tab item. Updates state with the active tab index */\n\n  const handleTabClick = tab => {\n    if (tab !== activeTab) {\n      setActiveTab(tab);\n    }\n  }; // Determine whether to keep all the content panels in the DOM or only the\n  // active one\n\n\n  let tabContents;\n\n  if (keepInDom) {\n    tabContents = children.map((tab, i) => /*#__PURE__*/_jsx(\"div\", {\n      className: i === activeTab ? showPanel : hidePanel,\n      children: tab.props.children\n    }, i));\n  } else {\n    tabContents = children[activeTab].props.children;\n  }\n\n  return /*#__PURE__*/_jsxs(\"div\", {\n    className: containerClass,\n    children: [/*#__PURE__*/_jsx(\"ul\", {\n      className: listClass,\n      children: children.map((tab, i) => {\n        return /*#__PURE__*/cloneElement(tab, {\n          key: i,\n          index: i,\n          onClick: handleTabClick,\n          isActive: i === activeTab,\n          itemClass,\n          itemActiveClass,\n          linkClass\n        });\n      })\n    }), /*#__PURE__*/_jsx(\"div\", {\n      className: contentClass,\n      children: tabContents\n    })]\n  });\n}",".outsmartly/analysis/modules/257.js":"// third-party-scripts/yotpo.js\nimport { useEffect } from 'react';\nimport { loadScriptWithDelay, loadScript } from './utils';\nexport function useYotpo(productId, inView) {\n  // Go get Yotpo reviews if the user has scrolled down\n  useEffect(() => {\n    if (inView) {\n      // immediately load Limespot and Yotpo\n      ///////loadLimespotImmediately({ routeInfo });\n      loadYotpoImmediately();\n    }\n  }, [inView]); // Go get Yotpo reviews if we're on a Product page\n\n  useEffect(() => {\n    /////////loadLimespot({ routeInfo });\n    loadYotpo(); // A cleanup function for the effect. yotpo needs to be cleaned or it will\n    // throw an error and stop working\n\n    return () => {\n      window.yotpo && typeof window.yotpo.clean === 'function' && window.yotpo.clean();\n    };\n  }, [productId]);\n}\nconst config = {\n  src: '//staticw2.yotpo.com/J97jPKypdpmHGqgeR4CAzCBh6EcRa42lPCQNXpyd/widget.js',\n  id: 'yotpo-script',\n  timeout: 12 * 1000\n}; // could refactor these callbacks to be async and await them instead\n\nfunction loadYotpo(callback) {\n  initWidgets(); // We don't need to initWidgets after the script loads, because the script inits itself.\n\n  loadScriptWithDelay(config);\n}\n\nfunction loadYotpoImmediately() {\n  loadScript(config);\n}\n\nfunction initWidgets() {\n  // init widgets if yotpo has already loaded.\n  if (document.getElementsByClassName('yotpo').length > 0 && window.yotpo && typeof window.yotpo.initWidgets === 'function') {\n    try {\n      // sometimes this throws an error\n      window.yotpo.refreshWidgets();\n    } catch (e) {\n      console.log(e);\n    }\n  }\n}",".outsmartly/analysis/modules/346.js":"// components/Product/ProductPhotos/ProductPhotosMainImage.js\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { getFirstImage } from '../../../lib/helpers';\nimport { getProductImageUrl } from '../../../lib/getImageUrl';\nimport { useEffect, useMemo, useState } from 'react';\n\nfunction getSrc(imageMap, color, index) {\n  if (!color) {\n    return getFirstImage(imageMap);\n  }\n\n  const images = imageMap[color]; // A check to make sure that the index request is available.\n\n  if ((images === null || images === void 0 ? void 0 : images.length) <= index) {\n    index = 0;\n  }\n\n  return images ? images[index] : getFirstImage(imageMap);\n}\n\nexport function useOverrideProp(serverProp, clientProp) {\n  const {\n    0: isPropHydrated,\n    1: setIsPropHydrated\n  } = useState(false);\n  const overrideProp = useMemo(() => {\n    if (isPropHydrated || !serverProp) {\n      return clientProp;\n    }\n\n    return serverProp;\n  }, [clientProp, isPropHydrated]);\n  useEffect(() => {\n    if (clientProp === serverProp && !isPropHydrated) {\n      setIsPropHydrated(true);\n    }\n  }, [clientProp]);\n  return overrideProp;\n}\nexport function ProductPhotosMainImage({\n  imgRef,\n  className,\n  setSrc = undefined,\n  imageMap,\n  serverColor = undefined,\n  clientColor,\n  index = 0\n}) {\n  const color = useOverrideProp(serverColor, clientColor);\n  const image = getSrc(imageMap, color, index); // imageMap[color] ? getFirstImage(imageMap) : imageMap[color];\n\n  const src = getProductImageUrl(image, 600); // Tell the outside world the src being displayed, this if so that the ImageZoom\n  // can fetch the full size version of the image for zooming.\n\n  if (setSrc) {\n    useEffect(() => {\n      setSrc(src);\n    }, [image]);\n  }\n\n  return /*#__PURE__*/_jsx(\"img\", {\n    ref: imgRef,\n    className: className,\n    alt: color,\n    src: src,\n    width: \"600\",\n    height: \"831\"\n  });\n}\n/* Another option to wrap any component, and just overriding the variantId\nfunction VariantOverride({ variantId, product, type }) {\n  switch (type) {\n    case 'MainImage':\n      return (\n        <ProductPhotosFirstImage product={product} variantId={variantId} />\n      );\n      case 'Options':\n        return (\n          <ProductOptions product={product} variantId={variantId} />\n        );\n    }\n}\n*/",".outsmartly/analysis/modules/206.js":"// components/icons/Icon.js\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nexport default function Icon(props) {\n  return /*#__PURE__*/_jsx(\"svg\", _objectSpread(_objectSpread({}, props), {}, {\n    \"aria-hidden\": \"true\",\n    focusable: \"false\",\n    children: /*#__PURE__*/_jsx(\"use\", {\n      xlinkHref: `#${props.icon}`\n    })\n  }));\n}",".outsmartly/analysis/modules/197.js":"// components/Help.js\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { useState } from 'react';\nimport Icon from 'components/icons/Icon';\nimport { Loader } from './Loader';\nimport { container, btn, icon, label } from './Help.module.css';\nimport { loadZendesk } from 'third-party-scripts/zendesk';\n/**\n * Help\n *\n * A button that launches the Zendesk help chat window.\n */\n\nexport function Help(props) {\n  const {\n    0: isInitial,\n    1: setIsInitial\n  } = useState(true);\n  const {\n    0: loading,\n    1: setLoading\n  } = useState(false);\n  /** Handles a click on the Help Chat button */\n\n  function handleClick(e) {\n    if (isInitial) {\n      // Show a loading spinner, and put down the isInitial flag\n      setLoading(true);\n      setIsInitial(false); // Wait for Zendesk to be setup. There is no real event, so we use this\n      // as a way to know when it's \"ready\"\n\n      Object.defineProperty(globalThis, 'zE', {\n        enumerable: true,\n        configurable: true,\n\n        get() {\n          return;\n        },\n\n        set(value) {\n          Object.defineProperty(globalThis, 'zE', {\n            enumerable: true,\n            writable: true,\n            configurable: true,\n            value\n          }); // Show the widget, and open the chat window\n\n          zE('webWidget', 'show');\n          zE('webWidget', 'open'); // When the chat window closes, hide the widget, remove the spinner\n\n          zE('webWidget:on', 'close', function () {\n            zE('webWidget', 'hide');\n            setLoading(false);\n          });\n        }\n\n      }); // Load and execute the script\n\n      loadZendesk();\n    } else {\n      // Show the widget, and open the chat window\n      zE('webWidget', 'show');\n      zE('webWidget', 'open');\n    }\n  }\n\n  return /*#__PURE__*/_jsx(\"div\", {\n    className: container,\n    children: /*#__PURE__*/_jsxs(\"button\", {\n      className: btn,\n      onClick: handleClick,\n      children: [loading ? /*#__PURE__*/_jsx(Loader, {}) : /*#__PURE__*/_jsx(Icon, {\n        icon: \"zd-question\",\n        className: icon\n      }), /*#__PURE__*/_jsx(\"span\", {\n        className: label,\n        children: \"Chat\"\n      })]\n    })\n  });\n}",".outsmartly/analysis/modules/164.js":"// components/FilterSidebar/Callout.js\nimport _taggedTemplateLiteral from \"/Users/kai/Work/rbx-rewrite/node_modules/next/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n\\n.\", \"__content {\\n  align-items: \", \";\\n}\\n\\n.\", \"__heading {\\n  color: \", \";\\n  font-size: \", \";\\n  text-align: \", \";\\n}\\n\\n.\", \"__link {\\n  color: \", \";\\n  font-size: \", \";\\n  background-color: \", \"\", \";\\n}\\n\\n.\", \"__link:hover {\\n  color: \", \";\\n  background-color: \", \";\\n}\\n\\n@media only screen and (min-width: 990px) {\\n  .\", \"__heading {\\n    font-size: \", \";\\n  }\\n  .\", \"__link {\\n    font-size: \", \";\\n  }\\n}\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React from 'react';\nimport Link from 'next/link'; // import { getImageUrl } from '../../lib/getImageUrl';\n\nimport oneLineTrim from 'common-tags/lib/oneLineTrim';\nimport { TrackExposure } from '../outsmartly/track-exposure';\nexport function Callout(_ref) {\n  var callout = _ref.callout,\n      css = _ref.css;\n  // Extract props and CSS modules\n  var id = callout.id,\n      imgSrc = callout.imgSrc,\n      imgAlt = callout.imgAlt,\n      headingText = callout.headingText,\n      buttonText = callout.buttonText,\n      linkUrl = callout.linkUrl,\n      outsmartlyTracking = callout.outsmartlyTracking;\n  var calloutElem = css.calloutElem,\n      content = css.content,\n      contentHeading = css.contentHeading,\n      link = css.link; // example props:\n  // {\n  //   \"id\": \"2pz9O5b0eYfuy674X710xo\",\n  //   \"imgAlt\": \"3 pack masks\",\n  //   \"imgSrc\": \"/fast-image/rbx-ctf/7GF0L18g1Ph7z92Mi4futz/fee6b02db7069137f953f45d5b122394/collection-sidebar-callout-2.jpg\",\n  //   \"headingText\": \"3-Pack<br>Masks\",\n  //   \"headingTextColor\": \"#ffffff\",\n  //   \"linkUrl\": \"/collections/accessories\",\n  //   \"buttonText\": \"Shop Now\",\n  //   \"buttonTextColor\": \"#558678\",\n  //   \"buttonTextHoverColor\": \"#9397ba\",\n  //   \"buttonBackgroundColor\": \"#ffffff\",\n  //   \"buttonBackgroundColorOpacity\": null,\n  //   \"align\": \"Right\",\n  //   \"textSizes\": {\n  //     \"name\": \"Default Sidebar Callout Font Sizes\",\n  //     \"headingFontSizeMobile\": \"18px\",\n  //     \"headingFontSizeTablet\": \"18px\",\n  //     \"headingFontSizeDesktop\": \"30px\",\n  //     \"buttonFontSizeMobile\": \"12px\",\n  //     \"buttonFontSizeTablet\": \"12px\",\n  //     \"buttonFontSizeDesktop\": \"14px\"\n  //   },\n  //   \"calloutName\": \"3-Pack Masks\"\n  // }\n  // Replace `img` prop with url to the fast-image asset\n  // Update: this is happening when data gets formatted\n  // const fastImg = getImageUrl(`/fast-image/rbx/t/312/assets/${imgSrc}`);\n  // This assures the CSS in the <style> tag is scoped to this callout\n\n  var elementId = \"callout-\".concat(id);\n  return /*#__PURE__*/_jsxs(\"div\", {\n    className: calloutElem,\n    children: [/*#__PURE__*/_jsx(CalloutCss, {\n      item: callout,\n      elementId: elementId\n    }), /*#__PURE__*/_jsx(TrackExposure, {\n      outsmartlyTracking: outsmartlyTracking,\n      children: /*#__PURE__*/_jsx(\"img\", {\n        src: imgSrc,\n        alt: imgAlt,\n        loading: \"lazy\"\n      })\n    }), /*#__PURE__*/_jsxs(\"div\", {\n      className: \"\".concat(content, \" \").concat(elementId, \"__content\"),\n      children: [/*#__PURE__*/_jsx(\"h3\", {\n        className: \"\".concat(contentHeading, \" \").concat(elementId, \"__heading\"),\n        dangerouslySetInnerHTML: {\n          __html: headingText\n        }\n      }), /*#__PURE__*/_jsx(Link, {\n        href: linkUrl,\n        children: /*#__PURE__*/_jsx(\"a\", {\n          onClick: function onClick() {\n            trackOutcome('calloutClicked', outsmartlyTracking);\n          },\n          className: \"\".concat(link, \" \").concat(elementId, \"__link\"),\n          children: buttonText\n        })\n      })]\n    })]\n  });\n}\n/** Creates a <style> tag with CSS from Contentful */\n\nfunction CalloutCss(props) {\n  var _props$item = props.item,\n      item = _props$item === void 0 ? {} : _props$item,\n      elementId = props.elementId;\n\n  var _ref2 = item || {\n    textSizes: {}\n  },\n      headingTextColor = _ref2.headingTextColor,\n      buttonTextColor = _ref2.buttonTextColor,\n      buttonTextHoverColor = _ref2.buttonTextHoverColor,\n      buttonBackgroundColor = _ref2.buttonBackgroundColor,\n      buttonBackgroundColorOpacity = _ref2.buttonBackgroundColorOpacity,\n      align = _ref2.align,\n      _ref2$textSizes = _ref2.textSizes,\n      headingFontSizeMobile = _ref2$textSizes.headingFontSizeMobile,\n      headingFontSizeTablet = _ref2$textSizes.headingFontSizeTablet,\n      headingFontSizeDesktop = _ref2$textSizes.headingFontSizeDesktop,\n      buttonFontSizeMobile = _ref2$textSizes.buttonFontSizeMobile,\n      buttonFontSizeTablet = _ref2$textSizes.buttonFontSizeTablet,\n      buttonFontSizeDesktop = _ref2$textSizes.buttonFontSizeDesktop; // Opacity from Contentful is from 0-1. Convert it to hex so we can append it.\n\n\n  var opacity = buttonBackgroundColorOpacity ? Math.floor(buttonBackgroundColorOpacity * 255).toString(16).padStart(2, '0') : ''; // Determine the alignment\n\n  var alignment = align === 'Right' ? 'flex-end' : align === 'Center' ? 'center' : 'flex-start';\n  return /*#__PURE__*/_jsx(\"style\", {\n    dangerouslySetInnerHTML: {\n      __html: oneLineTrim(_templateObject(), elementId, alignment, elementId, headingTextColor, headingFontSizeTablet, align.toLowerCase(), elementId, buttonTextColor, buttonFontSizeTablet, buttonBackgroundColor, opacity, elementId, buttonTextHoverColor, buttonBackgroundColor, elementId, headingFontSizeDesktop, elementId, buttonFontSizeDesktop)\n    }\n  });\n}",".outsmartly/analysis/modules/135.js":"// outsmartly/variables.js\nexport var CONTENTFUL_SPACE_ID = 'ajgn17op1zyt';\nexport var CONTENTFUL_ENV_ID = 'master';\nexport var CONTENTFUL_TOKEN = 'YP79tI1xlUCgSzh18oD-oHCGuT7ivgv41pAuRBqsuxo';\nexport var CONTENTFUL_PREVIEW_TOKEN = '6Js0JF9NVdXI0au1LlV6nLLP3_JpKGb3nvoAYIoLiVo';\nexport var ORIGIN = \"rbxactive-jwvv8pvml-outsmartly.vercel.app\";\nexport var GATEKEEPING_TOKEN = '53b22f8fbf0e97b7a8fb732705f886070a1adb12f68ac57001375853d25504dd';\nexport var CLOUDINARY_ID = 'davda9b9c';\nexport var CLOUDINARY_BUCKET_NAME = 'rbx';\nexport var CLOUDINARY_FEATURED_SLIDE = '2da4UGCV4c8DKQFRjICjKk';\nexport var LOYALTY_LION_SECRET = '7fd91473b4748e7d56da6cc9aadd0eff'; // Analytics IDs\n\nexport var STORE_URL = 'https://www.rbxactive.com';\nexport var GIF_LOGGER_URL = '/__analytics__';\nexport var SHOP_ID = 11152394;\nexport var VERCEL_PAGES_WHITELIST = ['outfits', 'sizing-guide', 'size-guide-women', 'size-guide-men', 'size-guide-plus-size', 'size-guide-girls', 'size-guide-boys', 'locations', 'about-rbx', 'philadelphia-premium-outlets'];\nexport var SHOPIFY_PRODUCTS = ['rbx-active-electronic-gift-card' // 'gift-card',\n];\nexport var ADDITIONAL_SHOPIFY_ROUTES = ['/blogs', '/.well-known/apple-app-site-association', '/services/currency/update', '/account', '/pages/faq', '/search', '/pages/rbx-rewards', '/pages/current-promotion', '/products/rbx-active-electronic-gift-card', '/pages/rbx-influencer', '/pages/privacy-policy', '/pages/outsmartly', '/pages/terms-conditions', '/pages/return-policy', '/robots.txt', '/sitemap', '/cart.js', '/cart/add', '/cart/change', '/cart/update', '/cart/clear', '/pages/contact-rbx', '/contact', '/challenge', '/shopify_pay/', '/wallets/'];\nexport var ADDITIONAL_SHOPIFY_FRAGMENTS = ['/wishlist/', 'discounted_pricing', 'checkouts', 'digital_wallets', 'csp-report', 'orders', 'invoices', 'discount', 'placeholder.png', 'orderLookupApp', 'apple_pay', 'gift_cards', 'favicon', '/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js', 'apple-touch', 'paypal/tokens', 'express/callback'];\nexport var outsmartlyCacheFresh = 30;\nexport var outsmartlyCacheTTL = 60 * 60 * 24;\nexport var tmpCacheTTL = 60 * 60;\nexport var swrTTL = 60 * 60 * 24 * 365;\nexport var swrMaxAge = 30;",".outsmartly/analysis/modules/284.js":"// lib/shopify/searchProducts.ts\nimport { getShopifyClient } from './shopifyClient';\nimport { mapEdgesToProducts } from './mapEdgeToProduct';\nexport async function _searchProducts({\n  query,\n  graphqlParams,\n  YOTPO_API_KEY\n}) {\n  var _data$products;\n\n  const shopifyClient = getShopifyClient(graphqlParams);\n  const data = await shopifyClient.request(productsQuery(query));\n  const edges = data === null || data === void 0 ? void 0 : (_data$products = data.products) === null || _data$products === void 0 ? void 0 : _data$products.edges;\n  const products = mapEdgesToProducts({\n    edges,\n    YOTPO_API_KEY\n  });\n  return await Promise.all(products);\n}\n\nfunction productsQuery(query) {\n  return `\n    {\n      products(\n        first:30,\n        query:\"available_for_sale:true AND product_type:*${query}* OR tag:*${query}* OR title:*${query}*\",\n        sortKey:RELEVANCE\n      ) {\n        edges {        \n          node {\n            id\n            createdAt\n            productType\n            handle\n            title\n            tags\n            availableForSale\n            onlineStoreUrl\n            compareAtPriceRange {\n              minVariantPrice {\n                amount\n              }\n            }\n            options {\n              id\n              name\n              values\n            }\n            priceRange {\n              minVariantPrice {\n                amount\n              }\n              maxVariantPrice {\n                amount\n              }\n            }\n            images(first: 250) {\n              edges {\n                node {\n                  src\n                  altText\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  `;\n}",".outsmartly/analysis/modules/115.js":"// components/Product/ProductPurchase.js\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport _regeneratorRuntime from \"/Users/kai/Work/rbx-rewrite/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/kai/Work/rbx-rewrite/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport React, { useContext } from 'react';\nimport { useRouter } from 'next/router';\nimport { form, swatchWrapper, swatchGroup, swatchHeader, submitWrap, submitBtn } from './ProductPurchase.module.css';\nimport ProductColor from 'components/ProductOption/ProductColor';\nimport ProductOption from 'components/ProductOption';\nimport { CartContext } from '@outsmartly/jackrabbit';\nimport { getVariant } from 'context/getVariant';\nimport ViewSizeGuide from 'components/SizingGuide/ViewSizeGuide';\nimport { ProductOutOfStock } from './ProductOutOfStock';\nimport { logOutsmartlyError } from '@outsmartly/shopify-analytics';\nexport default function ProductPurchase(_ref) {\n  var product = _ref.product,\n      selectedOptions = _ref.selectedOptions,\n      selectSingleOption = _ref.selectSingleOption;\n  var router = useRouter();\n\n  var _useContext = useContext(CartContext),\n      addToCart = _useContext.addToCart,\n      setAddStatus = _useContext.setAddStatus;\n\n  var currentVariant = getVariant(product, selectedOptions);\n  var addToCartText = currentVariant ? currentVariant !== null && currentVariant !== void 0 && currentVariant.availableForSale ? 'Add to Cart' : 'Sold Out' : 'Unavailable';\n\n  var onAddToCartClick = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(e) {\n      var _window$__APP_CONFIG_;\n\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              e.preventDefault();\n\n              if (!currentVariant) {\n                _context.next = 13;\n                break;\n              }\n\n              _context.prev = 2;\n              _context.next = 5;\n              return addToCart(product, currentVariant);\n\n            case 5:\n              // If set, then go straight to the cart\n              if ((_window$__APP_CONFIG_ = window.__APP_CONFIG__) !== null && _window$__APP_CONFIG_ !== void 0 && _window$__APP_CONFIG_.addToCartRedirect) {\n                setAddStatus('cartSuccess');\n                router.push('/cart');\n              } else {\n                // Otherwise just update the status bar success\n                // with a link\n                setAddStatus('success');\n              }\n\n              setAddStatus('success');\n              _context.next = 13;\n              break;\n\n            case 9:\n              _context.prev = 9;\n              _context.t0 = _context[\"catch\"](2);\n              logOutsmartlyError(_context.t0); // If add operation fails, report error to UI.\n\n              setAddStatus(_context.t0.message);\n\n            case 13:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[2, 9]]);\n    }));\n\n    return function onAddToCartClick(_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/_jsxs(\"div\", {\n    className: form,\n    children: [product.variants.length > 1 ? /*#__PURE__*/_jsx(\"div\", {\n      className: swatchWrapper,\n      children: product.options.map(function (_ref3) {\n        var name = _ref3.name;\n        return /*#__PURE__*/_jsxs(\"div\", {\n          className: swatchGroup,\n          children: [/*#__PURE__*/_jsx(\"div\", {\n            className: swatchHeader,\n            children: name\n          }), name === 'Color' ? /*#__PURE__*/_jsx(ProductColor, {\n            product: product,\n            selectedOptions: selectedOptions,\n            selectSingleOption: selectSingleOption\n          }) : /*#__PURE__*/_jsx(ProductOption, {\n            product: product,\n            optionName: name,\n            selectedOptions: selectedOptions,\n            selectSingleOption: selectSingleOption\n          })]\n        }, name);\n      })\n    }) : null, /*#__PURE__*/_jsx(ViewSizeGuide, {\n      product: product\n    }), /*#__PURE__*/_jsx(\"div\", {\n      className: submitWrap,\n      children: /*#__PURE__*/_jsx(\"button\", {\n        className: submitBtn,\n        id: \"AddToCart\",\n        name: \"add\",\n        onClick: onAddToCartClick,\n        disabled: !(currentVariant !== null && currentVariant !== void 0 && currentVariant.availableForSale),\n        children: /*#__PURE__*/_jsx(\"span\", {\n          id: \"AddToCartText\",\n          children: addToCartText\n        })\n      })\n    }), currentVariant !== null && currentVariant !== void 0 && currentVariant.availableForSale ? null : /*#__PURE__*/_jsx(\"div\", {\n      className: submitWrap,\n      children: /*#__PURE__*/_jsx(ProductOutOfStock, {\n        product: product,\n        selectedOptions: selectedOptions,\n        currentVariant: currentVariant\n      })\n    })]\n  });\n}",".outsmartly/analysis/modules/144.js":"// components/Accordion/AccordionItem.js\nimport _defineProperty from \"/Users/kai/Work/rbx-rewrite/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useRef, useEffect, useMemo } from 'react';\nimport Icon from 'components/icons/Icon'; // Based on this:\n// https://medium.com/skillthrive/build-a-react-accordion-component-from-scratch-using-react-hooks-a71d3d91324b\n// With modifications from here:\n// https://codesandbox.io/s/react-accordion-shixian-n705f?file=/src/Accordion.js:194-286\n// And ideas from here:\n// https://www.digitalocean.com/community/tutorials/react-react-accordion-component\n\nexport default function AccordionItem(_ref) {\n  var title = _ref.title,\n      children = _ref.children,\n      isActive = _ref.isActive,\n      _onClick = _ref.onClick,\n      cssClasses = _ref.cssClasses,\n      _ref$duration = _ref.duration,\n      duration = _ref$duration === void 0 ? 600 : _ref$duration,\n      _ref$buttonVariant = _ref.buttonVariant,\n      buttonVariant = _ref$buttonVariant === void 0 ? 1 : _ref$buttonVariant;\n  var panelRef = useRef(null); // Extract the passed-in CSS classes\n\n  var item = cssClasses.item,\n      header = cssClasses.header,\n      _cssClasses$headerTit = cssClasses.headerTitle,\n      headerTitle = _cssClasses$headerTit === void 0 ? '' : _cssClasses$headerTit,\n      open = cssClasses.open,\n      close = cssClasses.close,\n      panel = cssClasses.panel,\n      _cssClasses$content = cssClasses.content,\n      content = _cssClasses$content === void 0 ? '' : _cssClasses$content; // Set the height as a max-height inline style (must give it a string)\n\n  useEffect(function () {\n    panelRef.current.style.maxHeight = isActive ? \"\".concat(panelRef.current.scrollHeight, \"px\") : '0';\n  }, [panelRef, isActive]); // Establish props that all variants will use\n\n  var baseProps = {\n    ht: headerTitle,\n    ti: title,\n    ac: isActive,\n    op: open,\n    cl: close\n  }; // Create components with different markup variants for the header/button\n\n  var Variant1 = function Variant1(_ref2) {\n    var ht = _ref2.ht,\n        ti = _ref2.ti,\n        ac = _ref2.ac,\n        op = _ref2.op,\n        cl = _ref2.cl;\n    return /*#__PURE__*/_jsxs(_Fragment, {\n      children: [/*#__PURE__*/_jsx(\"span\", {\n        className: ht,\n        children: ti\n      }), !ac && /*#__PURE__*/_jsx(Icon, {\n        icon: \"faPlus\",\n        className: op\n      }), ac && /*#__PURE__*/_jsx(Icon, {\n        icon: \"faMinus\",\n        className: cl\n      })]\n    });\n  };\n\n  var Variant2 = function Variant2(_ref3) {\n    var ht = _ref3.ht,\n        ti = _ref3.ti,\n        ac = _ref3.ac,\n        op = _ref3.op,\n        cl = _ref3.cl;\n    return /*#__PURE__*/_jsxs(\"span\", {\n      children: [!ac && /*#__PURE__*/_jsx(\"span\", {\n        className: cl,\n        children: \"+\"\n      }), ac && /*#__PURE__*/_jsx(\"span\", {\n        className: op,\n        children: \"-\"\n      }), /*#__PURE__*/_jsx(\"span\", {\n        className: ht,\n        children: ti\n      })]\n    });\n  }; // Hack to have the ssr page return the correct values and prevent\n  // cumulative layout shift. Using isActive in the style caused the\n  // animation to be jumpy, but adding a memoized isActive fixed that.\n\n\n  var initialIsActive = useMemo(function () {\n    return isActive;\n  }, []);\n  return /*#__PURE__*/_jsxs(\"div\", {\n    className: item,\n    children: [/*#__PURE__*/_jsxs(\"button\", {\n      className: header,\n      onClick: function onClick() {\n        return _onClick(title);\n      },\n      children: [buttonVariant === 1 && /*#__PURE__*/_jsx(Variant1, _objectSpread({}, baseProps)), buttonVariant === 2 && /*#__PURE__*/_jsx(Variant2, _objectSpread({}, baseProps))]\n    }), /*#__PURE__*/_jsx(\"div\", {\n      ref: panelRef,\n      className: panel,\n      style: {\n        maxHeight: initialIsActive ? '1000px' : 0,\n        transition: \"max-height \".concat(duration, \"ms ease\")\n      },\n      children: /*#__PURE__*/_jsx(\"div\", {\n        className: content,\n        children: children\n      })\n    })]\n  });\n}",".outsmartly/analysis/modules/226.js":"// lib/scrape/scrapeNav.ts\nimport cheerio from 'cheerio';\nimport { STORE_URL } from 'outsmartly/variables';\nexport const nav = scrapeNav();\n\nasync function scrapeNav() {\n  const url = `${STORE_URL}/collections/all?__orly_origin=shopify`;\n  const response = await fetch(url);\n  const html = await response.text();\n  const $ = cheerio.load(html);\n  const collections = scrapeAllCollections();\n  return {\n    collections\n  };\n\n  function scrapeAllCollections() {\n    const handles = {};\n    $('a').each(function (i, e) {\n      const href = e.attribs['href'];\n      const collectionHandle = href === null || href === void 0 ? void 0 : href.match(/collections\\/([^/?]+)$/);\n\n      if (collectionHandle) {\n        handles[collectionHandle[1]] = true;\n      }\n    });\n    return Object.keys(handles);\n  }\n}",".outsmartly/analysis/modules/337.js":"// components/FilterSidebar/Callouts.js\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { calloutGroup } from './Callouts.module.css';\nimport { calloutElem, content, contentHeading, link } from './Callout.module.css';\nimport { CalloutsNoCss } from './CalloutsNoCss';\nexport default function Callouts({\n  callouts\n}) {\n  return /*#__PURE__*/_jsx(CalloutsNoCss, {\n    callouts: callouts,\n    css: {\n      calloutGroup,\n      calloutElem,\n      content,\n      contentHeading,\n      link\n    }\n  });\n}",".outsmartly/analysis/modules/277.js":"// lib/shopify/yotpoReviews.ts\nimport { fetchJson } from 'lib/utils';\nconst cache = {};\nexport async function _getYotpoBottomline({\n  YOTPO_API_KEY,\n  productId\n}) {\n  try {\n    if (!YOTPO_API_KEY) {\n      return {};\n    }\n\n    if (cache[productId]) {\n      return cache[productId];\n    }\n\n    return await refetchSingleReview({\n      YOTPO_API_KEY,\n      productId\n    });\n  } catch (e) {\n    console.error(e);\n    return {};\n  }\n}\n\nasync function refetchSingleReview({\n  YOTPO_API_KEY,\n  productId\n}) {\n  var _json$status;\n\n  const url = `https://api.yotpo.com/v1/widget/${YOTPO_API_KEY}/products/${productId}/reviews.json`;\n  const response = await fetch(url, {\n    method: 'GET'\n  });\n\n  if (response.status !== 200) {\n    console.error('\\nyotpo response status', response.status);\n    console.error('url', url);\n    console.error('ratelimit-reset', response.headers.get('ratelimit-reset'));\n    const text = await response.text();\n    console.error(text);\n    return null;\n  }\n\n  const json = await response.json();\n\n  if ((json === null || json === void 0 ? void 0 : (_json$status = json.status) === null || _json$status === void 0 ? void 0 : _json$status.code) !== 200) {\n    console.error('\\nyotpo response status not 200', response.status);\n    console.error(json);\n  } // This is a temporary try/catch with logging to help us find the root cause\n  // of PRDS-402 which I was never able to diagnose. TODO: Replace this with\n  // more targeted code when we get to the bottom of the missing reviews.\n\n\n  try {\n    const {\n      response: {\n        bottomline: {\n          average_score: rating,\n          total_review: numReviews\n        }\n      }\n    } = json;\n\n    if (!numReviews || numReviews === 0) {\n      return {};\n    }\n\n    const bottomline = {\n      rating,\n      numReviews\n    };\n    cache[productId] = bottomline;\n    return bottomline;\n  } catch (e) {\n    console.error('\\n_getYotpoBottomline', e.message);\n    console.error(json);\n    console.error('ratelimit-limit', response.headers.get('ratelimit-limit'));\n    console.error('ratelimit-remaining', response.headers.get('ratelimit-remaining'));\n    console.error('ratelimit-reset', response.headers.get('ratelimit-reset'));\n    return null;\n  }\n}\n\nexport async function _fetchAllReviews({\n  YOTPO_API_KEY\n}) {\n  console.log('\\n_fetchAllReviews');\n  let page = 1;\n  let hasNextPage = await fetchPage({\n    YOTPO_API_KEY,\n    page\n  });\n\n  while (hasNextPage) {\n    page++;\n    hasNextPage = await fetchPage({\n      YOTPO_API_KEY,\n      page\n    });\n  }\n\n  console.log('\\n_fetchAllReviews cache length', Object.keys(cache).length, page);\n  return cache;\n}\n\nasync function fetchPage({\n  YOTPO_API_KEY,\n  page = 1\n}) {\n  try {\n    const {\n      response: {\n        bottomlines\n      }\n    } = await fetchJson(`https://api.yotpo.com/v1/apps/${YOTPO_API_KEY}/bottom_lines?count=100&page=${page}`);\n\n    for (let bottomline of bottomlines) {\n      const {\n        domain_key,\n        product_score,\n        total_reviews\n      } = bottomline;\n      cache[domain_key] = {\n        rating: product_score,\n        numReviews: total_reviews\n      };\n    }\n\n    return bottomlines.length === 100;\n  } catch (e) {\n    console.error('\\n', e);\n  }\n\n  return false;\n} // const bottomlines = batch();",".outsmartly/analysis/modules/170.js":"// pages/cart.json.ts\nconst shopName = process.env.shopName; // This route is only used for local development. The edge\n// remapps cart.json to shopify. However, in order to get\n// the cookies set, we need to fix the set-cookie domain.\n// Otherwise we get errors like:\n// `Set-Cookie was blocked because its Domain attribute was invalid with regards to the current host url.`\n\nexport async function getServerSideProps({\n  req,\n  res\n}) {\n  try {\n    const shopifyHost = `${shopName}.myshopify.com`;\n    const url = `https://${shopifyHost}/cart.json`;\n    const response = await fetch(url); // headers.get return a comma separated string which makes cookie\n    // parsing difficult. This is a workaround for that issue. See:\n    // https://github.com/node-fetch/node-fetch/issues/251#issuecomment-428143940\n\n    const setCookies = response.headers.raw()['set-cookie'];\n    res.setHeader('content-type', 'application/json'); // Add the cookie header. The secure/LAX attributes have\n    // to be stripped out for localhost http development\n\n    res.setHeader('set-cookie', setCookies.map(c => {\n      const strippedCookie = c.split('; ');\n      strippedCookie.length = 2;\n      return strippedCookie.join('; ');\n    }));\n    const cart = await response.json();\n    res.write(JSON.stringify(cart));\n    res.end();\n  } catch (e) {\n    console.log(e); // A fallback in case that doesn't work for some reason.\n\n    res.write({\n      token: '6a37d7556dec925a3a666becc957d98b',\n      note: null,\n      attributes: {},\n      original_total_price: 0,\n      total_price: 0,\n      total_discount: 0,\n      total_weight: 0.0,\n      item_count: 0,\n      items: [],\n      requires_shipping: false,\n      currency: 'USD',\n      items_subtotal_price: 0,\n      cart_level_discount_applications: []\n    });\n    res.end();\n  }\n\n  return {\n    props: {}\n  };\n}\n\nconst Cart = () => null;\n\nexport default Cart;",".outsmartly/analysis/modules/121.js":"// context/selectedOptionsState.ts\nimport _slicedToArray from \"/Users/kai/Work/rbx-rewrite/node_modules/next/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport { kebabize } from 'lib/utils';\nimport { useEffect, useMemo, useState } from 'react';\nimport { firstAvailableVariant, getFilteredImagesByColor } from 'lib/helpers';\nimport { addOption } from './SelectedOptionsContext';\nexport function selectedOptionsState(_ref) {\n  var product = _ref.product,\n      _ref$variantId = _ref.variantId,\n      variantId = _ref$variantId === void 0 ? undefined : _ref$variantId;\n\n  // const { defaultOptions } = useContext(SelectedOptionsContext);\n  var _useState = useState(getSelectedOptions()),\n      selectedOptions = _useState[0],\n      setSelectedOptions = _useState[1];\n\n  var color = useMemo(getColor, [selectedOptions]);\n  var images = useMemo(getFilteredImages, [product, color]);\n  useEffect(function () {\n    setSelectedOptions(getSelectedOptions());\n  }, [product, variantId]);\n  return {\n    selectedOptions: selectedOptions,\n    selectSingleOption: selectSingleOption,\n    images: images\n  };\n\n  function selectSingleOption(option) {\n    var newSelectedOptions = addOption(selectedOptions, option);\n\n    if (newSelectedOptions !== selectedOptions) {\n      setSelectedOptions(newSelectedOptions);\n    }\n  }\n\n  function getSelectedOptions() {\n    var _ref4, _product$variants;\n\n    if (!product.variants) {\n      var _product$options$map$, _product$options;\n\n      // It appears that products that are sold out on an option won't have a tag for it.\n      // So this is logic to find options based upon product tags\n      var options = (_product$options$map$ = (_product$options = product.options) === null || _product$options === void 0 ? void 0 : _product$options.map(function (_ref2) {\n        var name = _ref2.name,\n            values = _ref2.values;\n        var value = values.find(function (value) {\n          var _product$tags;\n\n          var tag = kebabize(\"\".concat(name, \" \").concat(value));\n          return (_product$tags = product.tags) === null || _product$tags === void 0 ? void 0 : _product$tags.includes(tag);\n        });\n        return {\n          name: name,\n          value: value\n        };\n      }).filter(function (_ref3) {\n        var value = _ref3.value;\n        return !!value;\n      })) !== null && _product$options$map$ !== void 0 ? _product$options$map$ : [];\n      return options;\n    }\n\n    var variant = (_ref4 = variantId && (product === null || product === void 0 ? void 0 : (_product$variants = product.variants) === null || _product$variants === void 0 ? void 0 : _product$variants.find(function (_ref5) {\n      var id = _ref5.id;\n      return id === variantId;\n    }))) !== null && _ref4 !== void 0 ? _ref4 : firstAvailableVariant(product);\n    return Object.entries(variant.optionMap).map(function (_ref6) {\n      var _ref7 = _slicedToArray(_ref6, 2),\n          name = _ref7[0],\n          value = _ref7[1];\n\n      return {\n        name: name,\n        value: value\n      };\n    });\n  }\n\n  function getColor() {\n    var colorOption = selectedOptions.find(function (_ref8) {\n      var name = _ref8.name;\n      return name === 'Color';\n    });\n\n    if (colorOption) {\n      return colorOption.value;\n    }\n  }\n\n  function getFilteredImages() {\n    return getFilteredImagesByColor(product.imageMap, color);\n  }\n}",".outsmartly/analysis/modules/243.js":"// outsmartly/helpers/fastImageToCloudinary.js\nimport { CLOUDINARY_ID } from '../variables';\nexport function fastImageToCloudinary(url) {\n  url.pathname = url.pathname.replace(`/fast-image/`, `/${CLOUDINARY_ID}/image/upload/`);\n\n  if (url.search) {\n    url.pathname += `${url.search.replace('?', '%3F')}`;\n    url.search = '';\n  }\n\n  url.hostname = `res.cloudinary.com`;\n  return url;\n}",".outsmartly/analysis/modules/303.js":"// components/LemonSpot/emitTimeSpend.ts\nimport { getResolution } from 'lib/utils';\n\n/**\n * Emit a \"time spend\" event when the user leaves a page. This can be when they\n * navigate within the Next app, or to a different website.\n */\nexport function emitTimeSpend(startTimeRef, page, path, id, bus) {\n  const nowTime = new Date().getTime();\n  const diffTime = nowTime - startTimeRef.current; // Assemble the payload and emit it\n\n  const obj = {\n    integerData: Math.min(diffTime, 600000),\n    page,\n    path,\n    id: id,\n    resolution: getResolution(),\n    timestamp: new Date().toISOString()\n  };\n  bus.emit(`${page.toLowerCase()}TimeSpend`, obj);\n}",".outsmartly/analysis/modules/212.js":"// components/Seo.tsx\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React from 'react';\nimport Head from 'next/head';\nimport { getImageUrl, getProductImageUrl } from 'lib/getImageUrl';\nimport config from '../jackrabbit.config';\nexport function SEO({\n  preloads = [],\n  ogType,\n  title,\n  canonical = '',\n  description,\n  images = [config.images.defaultOgImage],\n  price\n}) {\n  var _images;\n\n  // Add cannonical url prefix.\n  canonical = canonical ? `${config.urls.base}${canonical}` : ''; // Only show three images\n\n  images = images.filter((_, i) => i < 3);\n  title = `${title}`;\n  const browserTitle = config.helpers.browserTitle(title);\n  return /*#__PURE__*/_jsxs(Head, {\n    children: [preloads.map((src, i) => /*#__PURE__*/_jsx(\"link\", {\n      as: \"image\",\n      rel: \"preload\",\n      href: src\n    }, i)), /*#__PURE__*/_jsx(\"title\", {\n      children: browserTitle\n    }), /*#__PURE__*/_jsx(\"link\", {\n      rel: \"canonical\",\n      href: canonical\n    }), /*#__PURE__*/_jsx(\"link\", {\n      rel: \"shortcut icon\",\n      href: getImageUrl(config.favicon),\n      type: \"image/png\"\n    }), /*#__PURE__*/_jsx(\"meta\", {\n      name: \"description\",\n      content: description\n    }), /*#__PURE__*/_jsx(\"meta\", {\n      property: \"og:type\",\n      content: ogType\n    }), /*#__PURE__*/_jsx(\"meta\", {\n      property: \"og:title\",\n      content: title\n    }), description && /*#__PURE__*/_jsx(\"meta\", {\n      property: \"og:description\",\n      content: description\n    }), images.map(src => /*#__PURE__*/_jsx(\"meta\", {\n      property: \"og:image\",\n      content: getProductImageUrl(src)\n    }, src)), price && /*#__PURE__*/_jsxs(_Fragment, {\n      children: [/*#__PURE__*/_jsx(\"meta\", {\n        property: \"og:price:amount\",\n        content: price\n      }), /*#__PURE__*/_jsx(\"meta\", {\n        property: \"og:price:currency\",\n        content: \"USD\"\n      })]\n    }), /*#__PURE__*/_jsx(\"meta\", {\n      property: \"og:site_name\",\n      content: config.siteName\n    }), /*#__PURE__*/_jsx(\"meta\", {\n      property: \"og:url\",\n      content: canonical\n    }), /*#__PURE__*/_jsx(\"meta\", {\n      name: \"twitter:site\",\n      content: config.social.twitter\n    }), /*#__PURE__*/_jsx(\"meta\", {\n      name: \"twitter:card\",\n      content: \"summary\"\n    }), /*#__PURE__*/_jsx(\"meta\", {\n      name: \"twitter:title\",\n      content: title\n    }), description && /*#__PURE__*/_jsx(\"meta\", {\n      name: \"twitter:description\",\n      content: description\n    }), ((_images = images) === null || _images === void 0 ? void 0 : _images.length) > 0 && /*#__PURE__*/_jsxs(_Fragment, {\n      children: [/*#__PURE__*/_jsx(\"meta\", {\n        name: \"twitter:image\",\n        content: getProductImageUrl(images[0], 600)\n      }), /*#__PURE__*/_jsx(\"meta\", {\n        name: \"twitter:image:width\",\n        content: \"600\"\n      }), /*#__PURE__*/_jsx(\"meta\", {\n        name: \"twitter:image:height\",\n        content: \"600\"\n      })]\n    })]\n  });\n}",".outsmartly/analysis/modules/183.js":"// pages/pages/[page].ts\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { Page } from 'components/Page';\nimport { loadSinglePage } from 'lib/shopify';\nimport fs from 'fs';\nimport path from 'path';\nimport { scrapePage } from 'lib/scrape/scrapePage';\nimport { VERCEL_PAGES_WHITELIST } from 'outsmartly/variables';\n/** Return the list of paths that will match this dynamic page */\n\nexport function getStaticPaths() {\n  const pages = VERCEL_PAGES_WHITELIST;\n  const pagesDirectory = path.resolve(process.cwd(), 'pages/pages');\n  const files = fs.readdirSync(pagesDirectory);\n  const paths = pages.filter(handle => {\n    // Skip predefined routes\n    return files.every(f => !f.startsWith(`${handle}.`));\n  }).map(page => {\n    return {\n      params: {\n        page\n      }\n    };\n  });\n  return {\n    paths,\n    fallback: false\n  };\n}\n/**\n * Fetch necessary data (and return it as props) to render the page with\n * the given handle.\n */\n\nexport async function getStaticProps({\n  params\n}) {\n  try {\n    const scrapedContent = scrapePage(params.page);\n    const pageContent = loadSinglePage(params.page);\n\n    const content = _objectSpread(_objectSpread({}, await pageContent), await scrapedContent);\n\n    return {\n      props: {\n        content\n      },\n      revalidate: 120 // In seconds\n\n    };\n  } catch (e) {\n    console.log(e.message);\n    return {\n      notFound: true,\n      revalidate: 120 // In seconds\n\n    };\n  }\n}\nexport default Page;",".outsmartly/analysis/modules/19.js":"// pages/pages/outfits.js\nimport _defineProperty from \"/Users/kai/Work/rbx-rewrite/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React from 'react';\nimport { collectionBanner, grid33 } from 'styles/outfits.module.css';\nimport styles from 'styles/Main.module.css';\nimport OutfitCard from 'components/OutfitCard';\nimport { SEO } from 'components/Seo';\nimport { getImageUrl } from 'lib/getImageUrl';\n\n/** The Outfits component */\nexport var __N_SSG = true;\nexport default function Outfits(_ref) {\n  var content = _ref.content;\n  // Add page type class to <main>\n  var pageType = 'templatePage'; // Create a background image styling rule (if there is one)\n\n  var bannerStyle = content.bannerImg && {\n    backgroundImage: \"url(\".concat(content.bannerImg, \")\")\n  };\n  return /*#__PURE__*/_jsxs(\"main\", {\n    id: \"mainContent\",\n    className: \"\".concat(styles['mainContent'], \" \").concat(styles[pageType]),\n    children: [/*#__PURE__*/_jsx(SEO, {\n      ogType: \"website\",\n      title: content.title,\n      canonical: \"/pages/\".concat(content.handle),\n      description: content.description,\n      images: [content.bannerImg],\n      preloads: [content.bannerImg, getImageUrl(content.outfits[0].src, 600)]\n    }), /*#__PURE__*/_jsxs(\"div\", {\n      className: content.bannerImg ? collectionBanner : 'visually-hidden',\n      style: bannerStyle,\n      children: [/*#__PURE__*/_jsx(\"h1\", {\n        children: content.title\n      }), content.body && /*#__PURE__*/_jsx(\"p\", {\n        dangerouslySetInnerHTML: content.body\n      })]\n    }), /*#__PURE__*/_jsx(\"div\", {\n      className: \"page-width\",\n      children: /*#__PURE__*/_jsx(\"ul\", {\n        className: grid33,\n        children: content.outfits.map(function (outfit) {\n          return /*#__PURE__*/_jsx(\"li\", {\n            children: /*#__PURE__*/_jsx(OutfitCard, _objectSpread({}, outfit))\n          }, outfit.handle);\n        })\n      })\n    })]\n  });\n}",".outsmartly/analysis/modules/48.js":"// node_modules/next/dist/client/page-loader.js\n\"use strict\";\n\nvar _classCallCheck = require(\"/Users/kai/Work/rbx-rewrite/node_modules/next/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/Users/kai/Work/rbx-rewrite/node_modules/next/node_modules/@babel/runtime/helpers/createClass\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nexports.__esModule = true;\nexports[\"default\"] = void 0;\n\nvar _router = require(\"../next-server/lib/router/router\");\n\nvar _getAssetPathFromRoute = _interopRequireDefault(require(\"../next-server/lib/router/utils/get-asset-path-from-route\"));\n\nvar _isDynamic = require(\"../next-server/lib/router/utils/is-dynamic\");\n\nvar _parseRelativeUrl = require(\"../next-server/lib/router/utils/parse-relative-url\");\n\nvar _normalizeTrailingSlash = require(\"./normalize-trailing-slash\");\n\nvar _routeLoader = _interopRequireWildcard(require(\"./route-loader\"));\n\nfunction normalizeRoute(route) {\n  if (route[0] !== '/') {\n    throw new Error(\"Route name should start with a \\\"/\\\", got \\\"\".concat(route, \"\\\"\"));\n  }\n\n  if (route === '/') return route;\n  return route.replace(/\\/$/, '');\n}\n\nvar PageLoader = /*#__PURE__*/function () {\n  function PageLoader(buildId, assetPrefix) {\n    _classCallCheck(this, PageLoader);\n\n    this.buildId = void 0;\n    this.assetPrefix = void 0;\n    this.promisedSsgManifest = void 0;\n    this.promisedDevPagesManifest = void 0;\n    this.routeLoader = void 0;\n    this.routeLoader = (0, _routeLoader[\"default\"])(assetPrefix);\n    this.buildId = buildId;\n    this.assetPrefix = assetPrefix;\n    /** @type {Promise<Set<string>>} */\n\n    this.promisedSsgManifest = new Promise(function (resolve) {\n      if (window.__SSG_MANIFEST) {\n        resolve(window.__SSG_MANIFEST);\n      } else {\n        ;\n\n        window.__SSG_MANIFEST_CB = function () {\n          resolve(window.__SSG_MANIFEST);\n        };\n      }\n    });\n  }\n\n  _createClass(PageLoader, [{\n    key: \"getPageList\",\n    value: function getPageList() {\n      if (true) {\n        return (0, _routeLoader.getClientBuildManifest)().then(function (manifest) {\n          return manifest.sortedPages;\n        });\n      } else {\n        if (window.__DEV_PAGES_MANIFEST) {\n          return window.__DEV_PAGES_MANIFEST.pages;\n        } else {\n          if (!this.promisedDevPagesManifest) {\n            this.promisedDevPagesManifest = fetch(\"\".concat(this.assetPrefix, \"/_next/static/development/_devPagesManifest.json\")).then(function (res) {\n              return res.json();\n            }).then(function (manifest) {\n              ;\n              window.__DEV_PAGES_MANIFEST = manifest;\n              return manifest.pages;\n            })[\"catch\"](function (err) {\n              console.log(\"Failed to fetch devPagesManifest\", err);\n            });\n          }\n\n          return this.promisedDevPagesManifest;\n        }\n      }\n    }\n    /**\n    * @param {string} href the route href (file-system path)\n    * @param {string} asPath the URL as shown in browser (virtual path); used for dynamic routes\n    * @returns {string}\n    */\n\n  }, {\n    key: \"getDataHref\",\n    value: function getDataHref(href, asPath, ssg, locale) {\n      var _this = this;\n\n      var _ref = (0, _parseRelativeUrl.parseRelativeUrl)(href),\n          hrefPathname = _ref.pathname,\n          query = _ref.query,\n          search = _ref.search;\n\n      var _ref2 = (0, _parseRelativeUrl.parseRelativeUrl)(asPath),\n          asPathname = _ref2.pathname;\n\n      var route = normalizeRoute(hrefPathname);\n\n      var getHrefForSlug = function getHrefForSlug(path) {\n        var dataRoute = (0, _getAssetPathFromRoute[\"default\"])((0, _normalizeTrailingSlash.removePathTrailingSlash)((0, _router.addLocale)(path, locale)), '.json');\n        return (0, _router.addBasePath)(\"/_next/data/\".concat(_this.buildId).concat(dataRoute).concat(ssg ? '' : search));\n      };\n\n      var isDynamic = (0, _isDynamic.isDynamicRoute)(route);\n      var interpolatedRoute = isDynamic ? (0, _router.interpolateAs)(hrefPathname, asPathname, query).result : '';\n      return isDynamic ? interpolatedRoute && getHrefForSlug(interpolatedRoute) : getHrefForSlug(route);\n    }\n    /**\n    * @param {string} route - the route (file-system path)\n    */\n\n  }, {\n    key: \"_isSsg\",\n    value: function _isSsg(route) {\n      return this.promisedSsgManifest.then(function (s) {\n        return s.has(route);\n      });\n    }\n  }, {\n    key: \"loadPage\",\n    value: function loadPage(route) {\n      return this.routeLoader.loadRoute(route).then(function (res) {\n        if ('component' in res) {\n          return {\n            page: res.component,\n            mod: res.exports,\n            styleSheets: res.styles.map(function (o) {\n              return {\n                href: o.href,\n                text: o.content\n              };\n            })\n          };\n        }\n\n        throw res.error;\n      });\n    }\n  }, {\n    key: \"prefetch\",\n    value: function prefetch(route) {\n      return this.routeLoader.prefetch(route);\n    }\n  }]);\n\n  return PageLoader;\n}();\n\nexports[\"default\"] = PageLoader;",".outsmartly/analysis/modules/58.js":"// components/Seo.tsx\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React from 'react';\nimport Head from 'next/head';\nimport { getImageUrl, getProductImageUrl } from 'lib/getImageUrl';\nimport config from '../jackrabbit.config';\nexport function SEO(_ref) {\n  var _images;\n\n  var _ref$preloads = _ref.preloads,\n      preloads = _ref$preloads === void 0 ? [] : _ref$preloads,\n      ogType = _ref.ogType,\n      title = _ref.title,\n      _ref$canonical = _ref.canonical,\n      canonical = _ref$canonical === void 0 ? '' : _ref$canonical,\n      description = _ref.description,\n      _ref$images = _ref.images,\n      images = _ref$images === void 0 ? [config.images.defaultOgImage] : _ref$images,\n      price = _ref.price;\n  // Add cannonical url prefix.\n  canonical = canonical ? \"\".concat(config.urls.base).concat(canonical) : ''; // Only show three images\n\n  images = images.filter(function (_, i) {\n    return i < 3;\n  });\n  title = \"\".concat(title);\n  var browserTitle = config.helpers.browserTitle(title);\n  return /*#__PURE__*/_jsxs(Head, {\n    children: [preloads.map(function (src, i) {\n      return /*#__PURE__*/_jsx(\"link\", {\n        as: \"image\",\n        rel: \"preload\",\n        href: src\n      }, i);\n    }), /*#__PURE__*/_jsx(\"title\", {\n      children: browserTitle\n    }), /*#__PURE__*/_jsx(\"link\", {\n      rel: \"canonical\",\n      href: canonical\n    }), /*#__PURE__*/_jsx(\"link\", {\n      rel: \"shortcut icon\",\n      href: getImageUrl(config.favicon),\n      type: \"image/png\"\n    }), /*#__PURE__*/_jsx(\"meta\", {\n      name: \"description\",\n      content: description\n    }), /*#__PURE__*/_jsx(\"meta\", {\n      property: \"og:type\",\n      content: ogType\n    }), /*#__PURE__*/_jsx(\"meta\", {\n      property: \"og:title\",\n      content: title\n    }), description && /*#__PURE__*/_jsx(\"meta\", {\n      property: \"og:description\",\n      content: description\n    }), images.map(function (src) {\n      return /*#__PURE__*/_jsx(\"meta\", {\n        property: \"og:image\",\n        content: getProductImageUrl(src)\n      }, src);\n    }), price && /*#__PURE__*/_jsxs(_Fragment, {\n      children: [/*#__PURE__*/_jsx(\"meta\", {\n        property: \"og:price:amount\",\n        content: price\n      }), /*#__PURE__*/_jsx(\"meta\", {\n        property: \"og:price:currency\",\n        content: \"USD\"\n      })]\n    }), /*#__PURE__*/_jsx(\"meta\", {\n      property: \"og:site_name\",\n      content: config.siteName\n    }), /*#__PURE__*/_jsx(\"meta\", {\n      property: \"og:url\",\n      content: canonical\n    }), /*#__PURE__*/_jsx(\"meta\", {\n      name: \"twitter:site\",\n      content: config.social.twitter\n    }), /*#__PURE__*/_jsx(\"meta\", {\n      name: \"twitter:card\",\n      content: \"summary\"\n    }), /*#__PURE__*/_jsx(\"meta\", {\n      name: \"twitter:title\",\n      content: title\n    }), description && /*#__PURE__*/_jsx(\"meta\", {\n      name: \"twitter:description\",\n      content: description\n    }), ((_images = images) === null || _images === void 0 ? void 0 : _images.length) > 0 && /*#__PURE__*/_jsxs(_Fragment, {\n      children: [/*#__PURE__*/_jsx(\"meta\", {\n        name: \"twitter:image\",\n        content: getProductImageUrl(images[0], 600)\n      }), /*#__PURE__*/_jsx(\"meta\", {\n        name: \"twitter:image:width\",\n        content: \"600\"\n      }), /*#__PURE__*/_jsx(\"meta\", {\n        name: \"twitter:image:height\",\n        content: \"600\"\n      })]\n    })]\n  });\n}",".outsmartly/analysis/modules/0.js":"// components/overrides/AppConfigOverrides.js\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports._outsmartly_thunk = _outsmartly_thunk;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar __jsx = _react[\"default\"].createElement;\n\nfunction _outsmartly_thunk(_temp) {\n  if (_outsmartly_slices.$1 || _outsmartly_slices.$2) {\n    var _temp$extraAppConfigP = _temp.extraAppConfigProps,\n        extraAppConfigProps = _temp$extraAppConfigP === void 0 ? undefined : _temp$extraAppConfigP;\n  }\n\n  if (_outsmartly_slices.$1 ? !extraAppConfigProps : _outsmartly_branch_selections.$1) {\n    if (_outsmartly_branch_selections.$1) {\n      {}\n      return _outsmartly_no_return;\n    } else {\n      return null;\n    }\n  }\n\n  if (_outsmartly_branch_selections.$0) {\n    {\n      if (_outsmartly_slices.$2) {\n        _outsmartly_outlets.$2 = {\n          __html: extraAppConfigProps.map(function (_ref) {\n            var key = _ref.key,\n                value = _ref.value;\n            return \"window.__APP_CONFIG__.\".concat(key, \"=\").concat(JSON.stringify(value), \";\");\n          }).join('')\n        };\n      }\n    }\n    return _outsmartly_no_return;\n  } else {\n    return /*#__PURE__*/_react[\"default\"].createElement(\"script\", {\n      \"data-app-config-override\": true,\n      dangerouslySetInnerHTML: {\n        __html: extraAppConfigProps.map(function (_ref2) {\n          var key = _ref2.key,\n              value = _ref2.value;\n          return \"window.__APP_CONFIG__.\".concat(key, \"=\").concat(JSON.stringify(value), \";\");\n        }).join('')\n      }\n    });\n  }\n}\n\nvar AppConfigOverrides = _outsmartly_thunk;",".outsmartly/analysis/modules/342.js":"// components/Slider/Dots.js\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { dotsWrap, dots, dotArea, dotAreaActive, dot } from './Dots.module.css';\n/**\n * A set of dots indicating which page of slides we're on\n */\n\nexport function Dots({\n  numPages,\n  currentPage,\n  handleClick,\n  pageSize\n}) {\n  const dotArray = [];\n\n  for (let i = 1; i <= numPages; i++) {\n    const slideIndex = (i - 1) * pageSize;\n    dotArray.push( /*#__PURE__*/_jsx(Dot, {\n      active: i === currentPage,\n      dotClick: e => handleClick(slideIndex)\n    }, i));\n  }\n\n  return /*#__PURE__*/_jsx(\"div\", {\n    className: dotsWrap,\n    children: /*#__PURE__*/_jsx(\"div\", {\n      className: dots,\n      children: dotArray\n    })\n  });\n}\n/**\n * A single dot\n */\n\nfunction Dot({\n  active,\n  dotClick\n}) {\n  return /*#__PURE__*/_jsx(\"div\", {\n    className: active ? dotAreaActive : dotArea,\n    onClick: active ? null : dotClick,\n    children: /*#__PURE__*/_jsx(\"span\", {\n      className: dot\n    })\n  });\n}",".outsmartly/analysis/modules/193.js":"// components/TopBar.js\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React, { useContext, useEffect, useState } from 'react';\nimport Link from 'next/link';\nimport { AccountContext } from '@outsmartly/jackrabbit';\nimport { TopBarSlider } from './TopBarSlider'; // Settings for react-slick to fade promotions into view.\n// https://react-slick.neostack.com/docs/get-started\n\nconst settings = {\n  arrows: false,\n  autoplay: true,\n  autoplaySpeed: 5000,\n  className: 'topBarSlider',\n  fade: true,\n  speed: 1000\n};\nconst MemoedSlider = /*#__PURE__*/React.memo(TopBarSlider);\nexport default function TopBar({\n  promos,\n  styles,\n  color,\n  backgroundColor\n}) {\n  const {\n    account\n  } = useContext(AccountContext); // const [bannerOverride, setBannerOverride] = useState([]);\n  // useEffect(() => {\n  //   fetchPromos();\n  //   async function fetchPromos() {\n  //     const banner = await fetchJson('/api/_next/banner');\n  //     setBannerOverride(banner);\n  //   }\n  // }, []);\n\n  return /*#__PURE__*/_jsxs(\"div\", {\n    id: \"TopBar\",\n    className: styles.topBar,\n    style: {\n      color\n    },\n    children: [/*#__PURE__*/_jsx(\"h2\", {\n      className: \"visually-hidden\",\n      children: \"Promotions\"\n    }), /*#__PURE__*/_jsx(MemoedSlider, {\n      textColor: color,\n      promos: promos,\n      styles: styles,\n      backgroundColor: backgroundColor,\n      settings: settings // {...bannerOverride}\n\n    }), /*#__PURE__*/_jsx(\"div\", {\n      className: \"page-width\",\n      style: {\n        position: 'absolute',\n        margin: '6px 0'\n      },\n      children: /*#__PURE__*/_jsxs(\"div\", {\n        className: styles.dropdown,\n        children: [/*#__PURE__*/_jsx(Link, {\n          href: \"/account\",\n          children: /*#__PURE__*/_jsx(\"a\", {\n            className: styles.accountLink,\n            children: \"Account\"\n          })\n        }), /*#__PURE__*/_jsx(\"div\", {\n          className: styles.dropdownContent,\n          children: account !== null && account !== void 0 && account.loggedIn ? /*#__PURE__*/_jsx(Link, {\n            href: \"/account/logout\",\n            children: /*#__PURE__*/_jsx(\"a\", {\n              children: \"Log Out\"\n            })\n          }) : /*#__PURE__*/_jsx(Link, {\n            href: \"/account/login\",\n            children: /*#__PURE__*/_jsx(\"a\", {\n              children: \"Sign In\"\n            })\n          })\n        })]\n      })\n    })]\n  });\n}",".outsmartly/analysis/modules/202.js":"// components/OutfitCollection.js\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React from 'react';\nimport styles from 'styles/Main.module.css';\nimport { outfitHeader, imageWrap, headerContent, outfitTitle, outfitInfo, grid50 } from './OutfitCollection.module.css';\nimport QuickView from './QuickView';\nimport { getImageUrl, getProductImageUrl } from 'lib/getImageUrl';\nimport { LemonSpot } from 'components/LemonSpot/LemonSpot';\nimport { SEO } from './Seo';\nimport { useCollectionView } from '@outsmartly/shopify-analytics';\nimport { getFirstColor, getFirstImage } from 'lib/helpers';\nexport default function OutfitCollection({\n  content\n}) {\n  useCollectionView(content, content.products); // Add page type class to <main>\n\n  const pageType = 'templateCollection';\n  const heroImage = getImageUrl(content.image, 600);\n  const description = content.description !== '' ? content.description : `${content.title} 2-piece outfit: ${content.products.map(({\n    title\n  }) => title).join(' & ')}`;\n  return /*#__PURE__*/_jsxs(\"main\", {\n    id: \"mainContent\",\n    className: `${styles['mainContent']} ${styles[pageType]}`,\n    children: [/*#__PURE__*/_jsx(SEO, {\n      ogType: \"website\",\n      title: content.title,\n      canonical: `/collections/${content.handle}`,\n      description: description,\n      images: [content.image],\n      preloads: [heroImage]\n    }), /*#__PURE__*/_jsxs(\"div\", {\n      className: \"page-width\",\n      children: [/*#__PURE__*/_jsx(\"header\", {\n        className: outfitHeader,\n        children: /*#__PURE__*/_jsxs(\"div\", {\n          className: grid50,\n          children: [/*#__PURE__*/_jsx(\"div\", {\n            className: imageWrap,\n            children: /*#__PURE__*/_jsx(\"img\", {\n              src: heroImage,\n              style: {\n                aspectRatio: '13/18'\n              },\n              alt: `${content.title} Outfit`,\n              width: \"600\",\n              height: \"831\"\n            })\n          }), /*#__PURE__*/_jsxs(\"div\", {\n            className: headerContent,\n            children: [/*#__PURE__*/_jsx(\"h1\", {\n              className: outfitTitle,\n              children: content.title\n            }), /*#__PURE__*/_jsx(\"p\", {\n              children: \"2-piece outfit\"\n            }), /*#__PURE__*/_jsx(\"h2\", {\n              children: \"In this outfit\"\n            }), content.products.map(product => /*#__PURE__*/_jsx(\"div\", {\n              className: outfitInfo,\n              children: /*#__PURE__*/_jsxs(\"a\", {\n                href: `#${product.id}`,\n                children: [/*#__PURE__*/_jsx(\"img\", {\n                  src: getProductImageUrl(getFirstImage(product.imageMap), 600),\n                  alt: getFirstColor(product.imageMap),\n                  style: {\n                    aspectRatio: '13/18'\n                  },\n                  width: \"600\",\n                  height: \"831\",\n                  loading: \"lazy\"\n                }), /*#__PURE__*/_jsxs(\"p\", {\n                  children: [product.title, \" - \", /*#__PURE__*/_jsx(\"strong\", {\n                    children: `\\$${product.price}`\n                  })]\n                })]\n              })\n            }, product.id))]\n          })]\n        })\n      }), /*#__PURE__*/_jsx(\"div\", {\n        className: \"page-width\",\n        children: content.products.map(product => /*#__PURE__*/_jsx(QuickView, {\n          instance: \"outfitCollectionItem\",\n          collectionHandle: content.handle,\n          product: product\n        }, product.id))\n      }), /*#__PURE__*/_jsx(LemonSpot, {\n        page: \"Collection\"\n      })]\n    })]\n  });\n}",".outsmartly/analysis/modules/313.js":"// components/SizingGuide/Girls.js\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { title, tableWrap } from './SizingGuide.module.css';\nexport default function Girls({\n  titleClass = title,\n  wrapClass = tableWrap\n}) {\n  return /*#__PURE__*/_jsxs(\"div\", {\n    id: \"girls\",\n    children: [/*#__PURE__*/_jsx(\"p\", {\n      className: titleClass,\n      children: /*#__PURE__*/_jsx(\"strong\", {\n        children: \"Girls Size Guide\"\n      })\n    }), /*#__PURE__*/_jsx(\"div\", {\n      className: wrapClass,\n      children: /*#__PURE__*/_jsxs(\"table\", {\n        children: [/*#__PURE__*/_jsx(\"thead\", {\n          children: /*#__PURE__*/_jsxs(\"tr\", {\n            children: [/*#__PURE__*/_jsx(\"th\", {\n              scope: \"col\",\n              children: \"Size\"\n            }), /*#__PURE__*/_jsx(\"th\", {\n              scope: \"col\",\n              children: \"US Numeric Size\"\n            }), /*#__PURE__*/_jsx(\"th\", {\n              scope: \"col\",\n              children: \"Height\"\n            }), /*#__PURE__*/_jsx(\"th\", {\n              scope: \"col\",\n              children: \"Weight\"\n            }), /*#__PURE__*/_jsx(\"th\", {\n              scope: \"col\",\n              children: \"Chest\"\n            }), /*#__PURE__*/_jsx(\"th\", {\n              scope: \"col\",\n              children: \"Waist\"\n            }), /*#__PURE__*/_jsx(\"th\", {\n              scope: \"col\",\n              children: \"Hip\"\n            })]\n          })\n        }), /*#__PURE__*/_jsxs(\"tbody\", {\n          children: [/*#__PURE__*/_jsxs(\"tr\", {\n            children: [/*#__PURE__*/_jsx(\"th\", {\n              scope: \"row\",\n              children: \"XXS\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"4\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"38\\\"-41\\\"\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"36-40 lbs\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"22\\\"\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"21\\\"\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"23\\\"\"\n            })]\n          }), /*#__PURE__*/_jsxs(\"tr\", {\n            children: [/*#__PURE__*/_jsx(\"th\", {\n              scope: \"row\",\n              children: \"XS\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"5/6\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"42\\\"-46\\\"\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"40-48 lbs\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"23\\\"-23\\\"\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"21.5\\\"-22\\\"\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"24\\\"-25\\\"\"\n            })]\n          }), /*#__PURE__*/_jsxs(\"tr\", {\n            children: [/*#__PURE__*/_jsx(\"th\", {\n              scope: \"row\",\n              children: \"S\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"7\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"47\\\"-48\\\"\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"53-62 lbs\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"25\\\"\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"22.5\\\"\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"26\\\"\"\n            })]\n          }), /*#__PURE__*/_jsxs(\"tr\", {\n            children: [/*#__PURE__*/_jsx(\"th\", {\n              scope: \"row\",\n              children: \"M\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"8\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"50\\\"-52\\\"\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"62-70 lbs\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"27\\\"\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"23\\\"\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"28\\\"\"\n            })]\n          }), /*#__PURE__*/_jsxs(\"tr\", {\n            children: [/*#__PURE__*/_jsx(\"th\", {\n              scope: \"row\",\n              children: \"L\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"10/12\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"53\\\"-58\\\"\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"70-90 lbs\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"28.5\\\"- 30\\\"\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"24\\\"-25\\\"\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"30\\\" - 32\\\"\"\n            })]\n          }), /*#__PURE__*/_jsxs(\"tr\", {\n            children: [/*#__PURE__*/_jsx(\"th\", {\n              scope: \"row\",\n              children: \"XL\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"14/16\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"58\\\"-64\\\"\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"90-110 lbs\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"31\\\"-33\\\"\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"26\\\"-27\\\"\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"34\\\"-36\\\"\"\n            })]\n          }), /*#__PURE__*/_jsxs(\"tr\", {\n            children: [/*#__PURE__*/_jsx(\"th\", {\n              scope: \"row\",\n              children: \"XXL\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"18/20\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"64\\\"+\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"110 lbs+\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"33\\\"+\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"27\\\"+\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"36\\\"+\"\n            })]\n          })]\n        })]\n      })\n    })]\n  });\n}",".outsmartly/analysis/modules/253.js":"// node_modules/next/dist/client/normalize-trailing-slash.js\n\"use strict\";\n\nexports.__esModule = true;\nexports.removePathTrailingSlash = removePathTrailingSlash;\nexports.normalizePathTrailingSlash = void 0;\n/**\n* Removes the trailing slash of a path if there is one. Preserves the root path `/`.\n*/\n\nfunction removePathTrailingSlash(path) {\n  return path.endsWith('/') && path !== '/' ? path.slice(0, -1) : path;\n}\n/**\n* Normalizes the trailing slash of a path according to the `trailingSlash` option\n* in `next.config.js`.\n*/\n\n\nconst normalizePathTrailingSlash = process.env.__NEXT_TRAILING_SLASH ? path => {\n  if (/\\.[^/]+\\/?$/.test(path)) {\n    return removePathTrailingSlash(path);\n  } else if (path.endsWith('/')) {\n    return path;\n  } else {\n    return path + '/';\n  }\n} : removePathTrailingSlash;\nexports.normalizePathTrailingSlash = normalizePathTrailingSlash;",".outsmartly/analysis/modules/131.js":"// components/SizingGuide/PlusSize.js\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { title, tableWrap } from './SizingGuide.module.css';\nexport default function PlusSize(_ref) {\n  var _ref$titleClass = _ref.titleClass,\n      titleClass = _ref$titleClass === void 0 ? title : _ref$titleClass,\n      _ref$wrapClass = _ref.wrapClass,\n      wrapClass = _ref$wrapClass === void 0 ? tableWrap : _ref$wrapClass;\n  return /*#__PURE__*/_jsxs(\"div\", {\n    id: \"plus-size\",\n    children: [/*#__PURE__*/_jsx(\"p\", {\n      className: titleClass,\n      children: /*#__PURE__*/_jsx(\"strong\", {\n        children: \"Plus Size Guide\"\n      })\n    }), /*#__PURE__*/_jsx(\"div\", {\n      className: wrapClass,\n      children: /*#__PURE__*/_jsxs(\"table\", {\n        children: [/*#__PURE__*/_jsx(\"thead\", {\n          children: /*#__PURE__*/_jsxs(\"tr\", {\n            children: [/*#__PURE__*/_jsx(\"th\", {\n              scope: \"col\",\n              children: \"Size\"\n            }), /*#__PURE__*/_jsx(\"th\", {\n              scope: \"col\",\n              children: \"Bust\"\n            }), /*#__PURE__*/_jsx(\"th\", {\n              scope: \"col\",\n              children: \"Waist\"\n            }), /*#__PURE__*/_jsx(\"th\", {\n              scope: \"col\",\n              children: \"Hip\"\n            })]\n          })\n        }), /*#__PURE__*/_jsxs(\"tbody\", {\n          children: [/*#__PURE__*/_jsxs(\"tr\", {\n            children: [/*#__PURE__*/_jsx(\"th\", {\n              scope: \"row\",\n              children: \"1X / 16W 18W\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"44\\\" - 45\\\"\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"37\\\" - 38\\\"\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"46\\\" - 47\\\"\"\n            })]\n          }), /*#__PURE__*/_jsxs(\"tr\", {\n            children: [/*#__PURE__*/_jsx(\"th\", {\n              scope: \"row\",\n              children: \"2X / 20W 22W\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"47\\\" - 48\\\"\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"40\\\" - 41\\\"\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"49\\\" - 50\\\"\"\n            })]\n          }), /*#__PURE__*/_jsxs(\"tr\", {\n            children: [/*#__PURE__*/_jsx(\"th\", {\n              scope: \"row\",\n              children: \"3X / 24W 26W\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"50\\\" - 51\\\"\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"43\\\" - 44\\\"\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"52\\\" - 53\\\"\"\n            })]\n          })]\n        })]\n      })\n    })]\n  });\n}",".outsmartly/analysis/modules/160.js":"// context/availableOptionsState.ts\nimport { toTitleCase } from 'lib/utils';\nimport { useContext } from 'react';\nimport SelectedOptionsContext from './SelectedOptionsContext';\nexport function availableOptionsState(_ref) {\n  var _product$variants, _product$options$find, _product$options, _product$options$find2;\n\n  var product = _ref.product,\n      optionName = _ref.optionName,\n      selectedOptions = _ref.selectedOptions,\n      selectSingleOption = _ref.selectSingleOption;\n\n  var _useContext = useContext(SelectedOptionsContext),\n      updateOptionDefaults = _useContext.updateOptionDefaults;\n\n  var availableVariants = product === null || product === void 0 ? void 0 : (_product$variants = product.variants) === null || _product$variants === void 0 ? void 0 : _product$variants.filter(function (variant) {\n    return variant.availableForSale;\n  }); // If there are no product options, then construct them from the images/tags.\n\n  var optionValues = (_product$options$find = (_product$options = product.options) === null || _product$options === void 0 ? void 0 : (_product$options$find2 = _product$options.find(function (_ref2) {\n    var name = _ref2.name;\n    return name === optionName;\n  })) === null || _product$options$find2 === void 0 ? void 0 : _product$options$find2.values) !== null && _product$options$find !== void 0 ? _product$options$find : getFallbackOptionValues(product, optionName);\n  var options = optionValues.map(function (optionValue) {\n    var availableForSale = !availableVariants || availableVariants.some(function (variant) {\n      return variant.optionMap[optionName] === optionValue;\n    });\n    var selected = selectedOptions === null || selectedOptions === void 0 ? void 0 : selectedOptions.some(function (_ref3) {\n      var name = _ref3.name,\n          value = _ref3.value;\n      return optionName === name && value === optionValue;\n    });\n\n    var selectOption = function selectOption() {\n      var option = {\n        name: optionName,\n        value: optionValue\n      };\n      selectSingleOption(option);\n      updateOptionDefaults(option);\n    };\n\n    return {\n      option: optionValue,\n      availableForSale: availableForSale,\n      selected: selected,\n      selectOption: selectOption\n    };\n  });\n  return options !== null && options !== void 0 ? options : [];\n}\n\nfunction getFallbackOptionValues(product, optionName) {\n  // The available options are in the tags and could be used\n  // in place of variant availableForSale data, even on the\n  // collection page, though we are currently stripping out the\n  // tags from the products.\n  if (optionName === 'Color') {\n    var _ref4, _Object$keys, _product$tags;\n\n    return (_ref4 = (_Object$keys = Object.keys(product.imageMap)) !== null && _Object$keys !== void 0 ? _Object$keys : (_product$tags = product.tags) === null || _product$tags === void 0 ? void 0 : _product$tags.filter(function (t) {\n      return t.startsWith('color-');\n    }).map(function (t) {\n      return t.replace('color-', '');\n    }).map(toTitleCase)) !== null && _ref4 !== void 0 ? _ref4 : [];\n  }\n\n  if (optionName === 'Size') {\n    var _product$tags$filter$, _product$tags2;\n\n    return (_product$tags$filter$ = (_product$tags2 = product.tags) === null || _product$tags2 === void 0 ? void 0 : _product$tags2.filter(function (t) {\n      return t.startsWith('size-');\n    }).map(function (t) {\n      return t.replace('size-', '').toUpperCase();\n    })) !== null && _product$tags$filter$ !== void 0 ? _product$tags$filter$ : [];\n  }\n}",".outsmartly/analysis/modules/267.js":"// node_modules/next/dist/next-server/lib/router/utils/is-dynamic.js\n\"use strict\";\n\nexports.__esModule = true;\nexports.isDynamicRoute = isDynamicRoute; // Identify /[param]/ in route string\n\nconst TEST_ROUTE = /\\/\\[[^/]+?\\](?=\\/|$)/;\n\nfunction isDynamicRoute(route) {\n  return TEST_ROUTE.test(route);\n}",".outsmartly/analysis/modules/327.js":"// components/Product/ProductRating.js\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React from 'react';\nimport { link, wrap, stars, star, reviews } from './ProductRating.module.css';\nimport styles from './ProductRating.module.css';\n/** The ProductRating component */\n\nexport default function ProductRating({\n  rating,\n  numReviews,\n  showFullReviewText\n}) {\n  /**\n   * Handle clicks on number of reviews. In collection grid, does nothing.\n   * In product view, it scrolls to the reviews section of product page.\n   */\n  const handleReviewsClick = e => {\n    const elements = document.getElementsByClassName('yotpo-main-widget');\n\n    if (elements.length > 0) {\n      elements[0].scrollIntoView();\n    }\n  };\n  /**\n   * Returns an array with star types for a given rating\n   * @param {Number} rating - the rating, can be an integer or a decimal\n   * @param {Number} numStars - the total possible stars. Default is 5.\n   * @returns {String[]} - array of star types: 'full', 'half', or 'empty'\n   */\n\n\n  function getStarArray(rating, numStars = 5) {\n    if (rating > numStars) {\n      console.error('Rating exceeds number of possible stars');\n      return;\n    }\n\n    const arr = Array(numStars).fill('empty');\n    const rem = rating % 1;\n    let i;\n\n    for (i = 0; i < Math.floor(rating); i++) {\n      arr[i] = 'full';\n    }\n\n    if (rem > 0.25 && rem < 0.75) {\n      arr[i] = 'half';\n    }\n\n    if (rem > 0.75) {\n      arr[i] = 'full';\n    }\n\n    return arr;\n  } // Determine the icon star types for this rating\n\n\n  const starArray = getStarArray(rating);\n  return (\n    /*#__PURE__*/\n    // Only wrap in Link if we are in the CollectionGrid. On product page,\n    // don't.\n    _jsxs(\"div\", {\n      className: wrap,\n      onClick: handleReviewsClick,\n      children: [/*#__PURE__*/_jsxs(\"span\", {\n        className: stars,\n        children: [starArray.map((type, i) => /*#__PURE__*/_jsx(\"span\", {\n          className: `${star} ${styles[type]}`\n        }, i)), /*#__PURE__*/_jsx(\"span\", {\n          className: \"visually-hidden\",\n          children: `${rating} star rating`\n        })]\n      }), /*#__PURE__*/_jsx(\"span\", {\n        className: reviews,\n        children: !numReviews || numReviews === 0 ? 'Write a review' : showFullReviewText ? `${numReviews} Reviews` : `(${numReviews})`\n      })]\n    })\n  );\n}",".outsmartly/analysis/modules/236.js":"// node_modules/next/dist/client/script.js\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nexports.__esModule = true;\nexports.initScriptLoader = initScriptLoader;\nexports.default = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _objectWithoutPropertiesLoose2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutPropertiesLoose\"));\n\nvar _react = require(\"react\");\n\nvar _headManagerContext = require(\"../next-server/lib/head-manager-context\");\n\nvar _headManager = require(\"./head-manager\");\n\nvar _requestIdleCallback = require(\"./request-idle-callback\");\n\nconst ScriptCache = new Map();\nconst LoadCache = new Set();\nconst ignoreProps = ['onLoad', 'dangerouslySetInnerHTML', 'children', 'onError', 'strategy'];\n\nconst loadScript = props => {\n  const {\n    src,\n    id,\n    onLoad = () => {},\n    dangerouslySetInnerHTML,\n    children = '',\n    onError\n  } = props;\n  const cacheKey = id || src;\n\n  if (ScriptCache.has(src)) {\n    if (!LoadCache.has(cacheKey)) {\n      LoadCache.add(cacheKey); // Execute onLoad since the script loading has begun\n\n      ScriptCache.get(src).then(onLoad, onError);\n    }\n\n    return;\n  }\n\n  const el = document.createElement('script');\n  const loadPromise = new Promise((resolve, reject) => {\n    el.addEventListener('load', function () {\n      resolve();\n\n      if (onLoad) {\n        onLoad.call(this);\n      }\n    });\n    el.addEventListener('error', function () {\n      reject();\n\n      if (onError) {\n        onError();\n      }\n    });\n  });\n\n  if (src) {\n    ScriptCache.set(src, loadPromise);\n    LoadCache.add(cacheKey);\n  }\n\n  if (dangerouslySetInnerHTML) {\n    el.innerHTML = dangerouslySetInnerHTML.__html || '';\n  } else if (children) {\n    el.textContent = typeof children === 'string' ? children : Array.isArray(children) ? children.join('') : '';\n  } else if (src) {\n    el.src = src;\n  }\n\n  for (const [k, value] of Object.entries(props)) {\n    if (value === undefined || ignoreProps.includes(k)) {\n      continue;\n    }\n\n    const attr = _headManager.DOMAttributeNames[k] || k.toLowerCase();\n    el.setAttribute(attr, value);\n  }\n\n  document.body.appendChild(el);\n};\n\nfunction handleClientScriptLoad(props) {\n  const {\n    strategy = 'afterInteractive'\n  } = props;\n\n  if (strategy === 'afterInteractive') {\n    loadScript(props);\n  } else if (strategy === 'lazyOnload') {\n    window.addEventListener('load', () => {\n      (0, _requestIdleCallback.requestIdleCallback)(() => loadScript(props));\n    });\n  }\n}\n\nfunction loadLazyScript(props) {\n  if (document.readyState === 'complete') {\n    (0, _requestIdleCallback.requestIdleCallback)(() => loadScript(props));\n  } else {\n    window.addEventListener('load', () => {\n      (0, _requestIdleCallback.requestIdleCallback)(() => loadScript(props));\n    });\n  }\n}\n\nfunction initScriptLoader(scriptLoaderItems) {\n  scriptLoaderItems.forEach(handleClientScriptLoad);\n}\n\nfunction Script(props) {\n  const {\n    src = '',\n    onLoad = () => {},\n    strategy = 'afterInteractive',\n    onError\n  } = props,\n        restProps = (0, _objectWithoutPropertiesLoose2.default)(props, [\"src\", \"onLoad\", \"dangerouslySetInnerHTML\", \"strategy\", \"onError\"]); // Context is available only during SSR\n\n  const {\n    updateScripts,\n    scripts\n  } = (0, _react.useContext)(_headManagerContext.HeadManagerContext);\n  (0, _react.useEffect)(() => {\n    if (strategy === 'afterInteractive') {\n      loadScript(props);\n    } else if (strategy === 'lazyOnload') {\n      loadLazyScript(props);\n    }\n  }, [props, strategy]);\n\n  if (strategy === 'beforeInteractive') {\n    if (updateScripts) {\n      scripts.beforeInteractive = (scripts.beforeInteractive || []).concat([(0, _extends2.default)({\n        src,\n        onLoad,\n        onError\n      }, restProps)]);\n      updateScripts(scripts);\n    }\n  }\n\n  return null;\n}\n\nvar _default = Script;\nexports.default = _default;",".outsmartly/analysis/modules/154.js":"// components/Product/ProductTag.js\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { tag, newArrival, extendedTag } from './ProductTag.module.css';\nexport default function ProductTag(_ref) {\n  var _ref2;\n\n  var product = _ref.product,\n      _ref$extended = _ref.extended,\n      extended = _ref$extended === void 0 ? false : _ref$extended;\n  var label = (_ref2 = extended ? product.extended : product.tag) !== null && _ref2 !== void 0 ? _ref2 : null;\n  return label && /*#__PURE__*/_jsx(\"div\", {\n    className: \"\".concat(tag, \" \").concat(label === 'New' ? newArrival : '', \" \").concat(extended ? extendedTag : ''),\n    children: label\n  });\n}\nexport function extractTagLabel(tags, extended) {\n  if (extended) {\n    // This code is taken straight from the liquid template\n    if (tags.includes('XS_XL')) {\n      return 'XS - XL';\n    }\n\n    if (tags.includes('S_4X')) {\n      return 'S - 4X';\n    } // Don't show the extended tag if the product isn't tagged as such.\n\n\n    if (!tags.includes('extended') && !tags.includes('extended2')) {\n      return;\n    }\n\n    var sOption = ['xxs', 'xs', 's'].find(function (o) {\n      return tags.includes(\"size-\".concat(o));\n    });\n    var lOption = ['xxl', 'xl', 'l'].find(function (o) {\n      return tags.includes(\"size-\".concat(o));\n    });\n\n    if (sOption && lOption) {\n      return \"\".concat(sOption, \" - \").concat(lOption).toLocaleUpperCase();\n    } // Logic from liquid template\n    // if (product.tags.includes('extended')) {\n    //   return 'XS - 3X';\n    // }\n    // if (product.tags.includes('extended2')) {\n    //   return 'XS - XXL'; //or XS-3X\n    // }\n\n  } else {\n    if (tags.includes('deal')) {\n      return 'Deal Of The Day';\n    }\n\n    if (tags.includes('sale')) {\n      return 'Sale';\n    }\n\n    if (tags.includes('new arrivals')) {\n      return 'New';\n    }\n\n    if (tags.includes('clearance')) {\n      return 'Clearance';\n    }\n  }\n\n  return;\n}",".outsmartly/analysis/modules/105.js":"// context/CollectionContext.tsx\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React, { createContext } from 'react';\nexport var CollectionContext = /*#__PURE__*/createContext({});\nCollectionContext.displayName = 'CollectionContext';\nexport function CollectionProvider(_ref) {\n  var value = _ref.value,\n      children = _ref.children;\n  return /*#__PURE__*/_jsx(CollectionContext.Provider, {\n    value: value,\n    children: children\n  });\n}",".outsmartly/analysis/modules/294.js":"// components/BreadCrumbs.js\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React from 'react';\nimport Link from 'next/link';\nimport Icon from './icons/Icon';\nimport { nav, breadcrumbs, angleRight, crumb } from './BreadCrumbs.module.css';\nexport default function Breadcrumbs({\n  title,\n  groupName,\n  groupHandle = undefined,\n  navClass = nav,\n  crumbListClass = breadcrumbs,\n  iconClass = angleRight,\n  crumbTitleClass = crumb\n}) {\n  if (!groupHandle) {\n    groupHandle = groupName;\n  }\n\n  return /*#__PURE__*/_jsx(\"nav\", {\n    className: navClass,\n    \"aria-label\": \"Breadcrumbs\",\n    children: /*#__PURE__*/_jsxs(\"ol\", {\n      className: crumbListClass,\n      children: [/*#__PURE__*/_jsxs(\"li\", {\n        className: crumb,\n        children: [/*#__PURE__*/_jsx(Link, {\n          href: \"/\",\n          children: /*#__PURE__*/_jsx(\"a\", {\n            children: \"Home\"\n          })\n        }), /*#__PURE__*/_jsx(Icon, {\n          icon: \"angle-right\",\n          className: iconClass\n        })]\n      }), groupName && /*#__PURE__*/_jsxs(\"li\", {\n        className: crumb,\n        children: [/*#__PURE__*/_jsx(Link, {\n          href: `/collections/${groupHandle}`,\n          children: /*#__PURE__*/_jsx(\"a\", {\n            children: groupName\n          })\n        }), /*#__PURE__*/_jsx(Icon, {\n          icon: \"angle-right\",\n          className: iconClass\n        })]\n      }), /*#__PURE__*/_jsx(\"li\", {\n        className: crumbTitleClass,\n        children: /*#__PURE__*/_jsx(\"span\", {\n          children: title\n        })\n      })]\n    })\n  });\n}",".outsmartly/analysis/modules/114.js":"// data/navigation.js\nvar nav = [{\n  id: 464083763,\n  navText: 'New',\n  title: 'New Arrivals Collection',\n  route: '/collections/new-arrivals-collection'\n}, {\n  id: 269571772,\n  navText: 'Women',\n  title: 'Women',\n  bannerImg: '1.jpg?v=1599055331',\n  route: '/collections/women',\n  groupId: 1,\n  subNav: [{\n    id: 382012440,\n    navText: 'Tops',\n    title: \"Women's Tops\",\n    bannerImg: '1_6a5fc36f-7511-41ac-b670-53adb4a271c8.jpg?v=1598990904',\n    route: '/collections/womens-tops',\n    groupId: 1,\n    subNav: [{\n      id: 443957010,\n      navText: 'Tanks',\n      title: \"Women's Tanks\",\n      bannerImg: '1_45e8f165-9ac3-44a3-9f88-c1cd383119b9.jpg?v=1598991087',\n      route: '/collections/womens-tanks',\n      groupId: 1\n    }, {\n      id: 365188181,\n      navText: 'T-Shirts',\n      title: \"Women's Tees\",\n      bannerImg: '1_89b8b844-9d06-4bcc-a87b-f62e075a6cf3.jpg?v=1598991147',\n      route: '/collections/womens-tees',\n      groupId: 1\n    }, {\n      id: 516764647,\n      navText: 'Long Sleeve',\n      title: \"Women's Long Sleeve\",\n      bannerImg: '1_624e3fdb-dd68-400a-b670-f6e534cf8627.jpg?v=1598991191',\n      route: '/collections/women-longsleeve',\n      groupId: 1\n    }, {\n      id: 378503080,\n      navText: 'Sweatshirts',\n      title: \"Women's Sweatshirts\",\n      bannerImg: 'cr1239.png?v=1599055147',\n      route: '/collections/womens-sweatshirts',\n      groupId: 1\n    }, {\n      id: 411896099,\n      navText: 'Jackets',\n      title: \"Women's Jackets\",\n      bannerImg: '1_1e2c0cb1-ecd0-426d-8e93-b75f4c203f95.jpg?v=1549918885',\n      route: '/collections/jackets',\n      groupId: 1,\n      hidden: true\n    }]\n  }, {\n    id: 504850016,\n    navText: 'Bottoms',\n    title: \"Women's Bottoms\",\n    bannerImg: '1_b2ba5f70-0799-4634-82b5-29c1d9cda3ac.jpg?v=1599055674',\n    route: '/collections/women-bottoms',\n    groupId: 1,\n    subNav: [{\n      id: 472560934,\n      navText: 'Leggings',\n      title: \"Women's Leggings\",\n      bannerImg: '1_5580cddb-2901-4e49-baea-9a4add000295.jpg?v=1599056068',\n      route: '/collections/women-leggings',\n      groupId: 1\n    }, {\n      id: 244461898,\n      navText: 'Capris',\n      title: \"Women's Capris\",\n      bannerImg: '1_04818088-2c26-4ec1-bcde-8df39461af82.jpg?v=1599056137',\n      route: '/collections/capris',\n      groupId: 1\n    }, {\n      id: 'womens-skorts',\n      navText: 'Skorts',\n      route: '/collections/womens-skorts',\n      groupId: 1\n    }, {\n      id: 493212209,\n      navText: 'Shorts',\n      title: \"Women's Shorts\",\n      bannerImg: '1_92d55b3d-5df9-4631-9f2d-e82faafac6b9.jpg?v=1599056386',\n      route: '/collections/womens-shorts',\n      groupId: 1\n    }, {\n      id: 436115746,\n      navText: 'Pants',\n      title: \"Women's Pants\",\n      bannerImg: '1_9e40c716-5550-4388-8a91-5d398e07abe1.jpg?v=1599056252',\n      route: '/collections/womens-pants',\n      groupId: 1\n    }]\n  }, {\n    id: 484677635,\n    navText: 'Bras',\n    title: 'Bras',\n    subtitle: \"RBX Active Women's Sports Bras\",\n    bannerImg: '1_78cd199f-7f6e-4782-a7f3-8eb35e713e0f.jpg?v=1598994264',\n    route: '/collections/bras',\n    groupId: 1\n  }, {\n    id: 304997827,\n    navText: 'Intimates',\n    title: 'Intimates',\n    bannerImg: 'Generic_57442e2b-9538-4fc7-820a-a0fef3d3adfb.jpg?v=1559244467',\n    route: '/collections/intimates',\n    groupId: 1,\n    hidden: true\n  }, {\n    id: 487080627,\n    navText: 'Socks',\n    title: \"Women's Socks\",\n    bannerImg: 'Generic_b5a49e67-fd80-4b51-85ab-7de18955cb45.jpg?v=1558552471',\n    route: '/collections/womens-socks',\n    groupId: 1\n  }, {\n    id: 'womens-shoes-1',\n    navText: 'Shoes',\n    route: '/collections/womens-shoes-1',\n    groupId: 1\n  }, {\n    id: 475843420,\n    navText: 'Sale',\n    title: \"Women's Sale\",\n    bannerImg: 'Sale_49fa0d95-f3d6-4e4c-9f3c-226a3223890e.jpg?v=1588106227',\n    route: '/collections/womens-sale',\n    groupId: 1\n  }]\n}, {\n  id: 239126299,\n  navText: 'Men',\n  title: 'Men',\n  bannerImg: '1_64507a44-5331-417e-8382-87afffc1651d.jpg?v=1588103834',\n  route: '/collections/men',\n  groupId: 2,\n  subNav: [{\n    id: 316417257,\n    navText: 'Tops',\n    title: \"Men's Tops\",\n    bannerImg: '',\n    route: '/collections/mens-tops',\n    groupId: 2,\n    subNav: [{\n      id: 538796632,\n      navText: 'T-Shirts',\n      title: \"Men's T-Shirts\",\n      bannerImg: '',\n      route: '/collections/mens-t-shirt',\n      groupId: 2\n    }, {\n      id: 516268928,\n      navText: 'Tanks',\n      title: \"Men's Tanks\",\n      bannerImg: '',\n      route: '/collections/mens-sleeveless',\n      groupId: 2\n    }, {\n      id: 534308887,\n      navText: 'Long Sleeve',\n      title: 'Long Sleeve',\n      bannerImg: '',\n      route: '/collections/men-long-sleeve',\n      groupId: 2,\n      hidden: true\n    }, {\n      id: 214329577,\n      navText: 'Sweatshirts',\n      title: 'Sweatshirts',\n      bannerImg: '',\n      route: '/collections/men-sweatshirts',\n      groupId: 2,\n      hidden: true\n    }]\n  }, {\n    id: 496011011,\n    navText: 'Bottoms',\n    title: \"Men's Bottoms\",\n    bannerImg: '',\n    route: '/collections/mens-bottoms',\n    groupId: 2,\n    subNav: [{\n      id: 376987766,\n      navText: 'Shorts',\n      title: \"Men's Shorts\",\n      bannerImg: '',\n      route: '/collections/men-shorts',\n      groupId: 2\n    }, {\n      id: 201642584,\n      navText: 'Pants',\n      title: 'Pants',\n      bannerImg: '',\n      route: '/collections/mens-running-pants',\n      groupId: 2\n    }]\n  }, {\n    id: 'mens-shoes',\n    navText: 'Shoes',\n    route: '/collections/mens-shoes',\n    groupId: 2\n  }, {\n    id: 460493113,\n    navText: 'Socks',\n    title: \"Men's Socks\",\n    bannerImg: '',\n    route: '/collections/mens-socks',\n    groupId: 2\n  }, {\n    id: 236758991,\n    navText: 'Underwear',\n    title: \"Men's Underwear\",\n    bannerImg: '',\n    route: '/collections/mens-underwear',\n    groupId: 2\n  }, {\n    id: 320106041,\n    navText: 'Swim',\n    title: \"Men's Swim\",\n    bannerImg: '',\n    route: '/collections/mens-swim',\n    groupId: 2,\n    hidden: true\n  }, {\n    id: 234259415,\n    navText: 'Sale',\n    title: \"Men's Sale\",\n    bannerImg: '',\n    route: '/collections/mens-sale',\n    groupId: 2\n  }]\n}, {\n  id: 413626659,\n  navText: 'Plus Size',\n  title: 'Plus Size',\n  bannerImg: '1_7b44d716-d858-4b22-b568-83d44b102c3d.jpg?v=1604074381',\n  route: '/collections/womens-plus-size',\n  groupId: 1,\n  subNav: [{\n    id: 226758734,\n    navText: 'Tops',\n    title: 'Plus Tops',\n    bannerImg: '',\n    route: '/collections/womens-plus-size-tops',\n    groupId: 1\n  }, {\n    navText: 'Bottoms',\n    route: '/collections/womens-plus-size-bottoms',\n    groupId: 1,\n    subNav: [{\n      navText: 'Leggings',\n      route: '/collections/plus-leggings',\n      groupId: 1\n    }, {\n      navText: 'Pants',\n      route: '/collections/plus-pants',\n      groupId: 1\n    }, {\n      navText: 'Shorts/Skorts',\n      route: '/collections/plus-shorts',\n      groupId: 1\n    }]\n  }]\n}, {\n  id: 538439077,\n  navText: 'Collections',\n  title: 'Camo Camo',\n  bannerImg: '',\n  route: '/collections/camo-camo',\n  newWindow: true,\n  subNav: [{\n    id: 353896217,\n    navText: 'Sets',\n    title: 'Sets',\n    bannerImg: '',\n    route: '/collections/sets'\n  }, {\n    id: 218229691,\n    navText: 'Tie Dye Collection',\n    title: 'Tie Dye',\n    bannerImg: '',\n    route: '/collections/tie-dye'\n  }, {\n    id: 361020701,\n    navText: 'Camo Collection',\n    title: 'Camo Camo',\n    bannerImg: '',\n    route: '/collections/camo-camo',\n    newWindow: true\n  }]\n}, {\n  id: 481581853,\n  navText: 'Shop Outfits',\n  title: 'Shop The Outfits',\n  subtitle: 'Not sure what to wear? Shop from our curated outfits',\n  route: '/pages/outfits'\n}, {\n  id: 560250319,\n  navText: 'Accessories',\n  title: 'Accessories',\n  bannerImg: 'Generic_a2506e92-fa51-4b36-bf95-30e221741234.jpg?v=1538061661',\n  route: '/collections/accessories',\n  subNav: [{\n    id: 228691718,\n    navText: 'Accessories',\n    title: 'Accessories',\n    bannerImg: '',\n    route: '/collections/accessories'\n  }, {\n    id: 228691718,\n    navText: 'Fitness',\n    title: 'Fitness',\n    bannerImg: '',\n    route: '/collections/fitness-accessories',\n    hidden: true\n  }, {\n    id: 268765939,\n    navText: 'Water Bottles',\n    title: 'Water Bottles',\n    bannerImg: '',\n    route: '/collections/water-bottles'\n  }]\n}, {\n  id: 424531021,\n  navText: 'Sale',\n  title: 'Sale Items',\n  bannerImg: '',\n  route: '/collections/sale-items',\n  groupId: 3,\n  newWindow: true,\n  subNav: [{\n    id: 456941628,\n    navText: \"Women's Sale\",\n    title: \"Women's Sale\",\n    bannerImg: '',\n    route: '/collections/womens-sale',\n    groupId: 3\n  }, {\n    id: 375255896,\n    navText: \"Men's Sale\",\n    title: \"Men's Sale\",\n    bannerImg: '',\n    route: '/collections/mens-sale',\n    groupId: 3\n  }, {\n    id: 242461553,\n    navText: 'Clearance',\n    title: 'Clearance',\n    bannerImg: '',\n    subtitle: '**Final Sale and Non-Returnable. Additional Coupons and Promotions Do Not Apply**',\n    route: '/collections/clearance',\n    groupId: 3\n  }, {\n    id: 488176819,\n    navText: 'Promotions',\n    title: 'Current Promotions',\n    route: '/pages/current-promotion'\n  }]\n}, {\n  id: 232959541,\n  navText: 'About Us',\n  route: '/pages/about-rbx',\n  subNav: [{\n    id: 517992224,\n    navText: 'About Us',\n    route: '/pages/about-rbx'\n  }, {\n    id: 535519460,\n    navText: 'Contact Us',\n    route: '/pages/contact-rbx'\n  }, // {\n  //   id: 414465722,\n  //   navText: 'Locations',\n  //   route: '/pages/locations',\n  // },\n  {\n    id: 215828233,\n    navText: 'Blog',\n    route: '/blogs/fitness'\n  }]\n}, {\n  id: 208605332,\n  navText: 'Account',\n  route: '/account',\n  subNav: [{\n    id: 365965326,\n    navText: 'Sign In',\n    route: '/account/login',\n    account: false\n  }, {\n    id: 365965326,\n    navText: 'Log Out',\n    route: '/account/logout',\n    account: true\n  }]\n}, {\n  id: 298179541,\n  navText: 'All',\n  title: 'All',\n  route: '/collections/all',\n  hidden: true\n}];\nexport var groups = [{\n  id: 1,\n  name: 'women'\n}, {\n  id: 2,\n  name: 'men'\n}, {\n  id: 3,\n  name: 'sale'\n}];\nexport default nav;",".outsmartly/analysis/modules/285.js":"// components/Contact.js\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { Fragment } from 'react';\nimport { pagefly, fullBlurb, pageTitle, wrap, divider, formWrap, submit } from 'styles/pagefly.module.css';\nimport { contact, contactHeading, contactCard, contactMethod, contactLeft, contactRight } from './Contact.module.css';\nimport config from '../jackrabbit.config';\nexport default function Contact({\n  titleBlurbClass\n}) {\n  return /*#__PURE__*/_jsx(\"div\", {\n    className: pagefly,\n    children: /*#__PURE__*/_jsxs(\"div\", {\n      className: contact,\n      children: [/*#__PURE__*/_jsx(\"div\", {\n        className: `${fullBlurb} ${titleBlurbClass ? titleBlurbClass : ''}`,\n        children: /*#__PURE__*/_jsx(\"div\", {\n          className: wrap,\n          children: /*#__PURE__*/_jsx(\"h2\", {\n            className: pageTitle,\n            children: \"Contact Us\"\n          })\n        })\n      }), /*#__PURE__*/_jsxs(\"div\", {\n        className: contactCard,\n        children: [/*#__PURE__*/_jsx(\"div\", {\n          className: contactLeft,\n          children: /*#__PURE__*/_jsx(\"div\", {\n            className: wrap,\n            children: config.contactInfo.map((entry, i) => /*#__PURE__*/_jsxs(Fragment, {\n              children: [/*#__PURE__*/_jsx(\"h3\", {\n                className: contactHeading,\n                children: entry.heading\n              }), /*#__PURE__*/_jsx(\"p\", {\n                className: contactMethod,\n                children: /*#__PURE__*/_jsx(\"a\", {\n                  href: entry.href,\n                  children: entry.text\n                })\n              }), i + 1 !== config.contactInfo.length && /*#__PURE__*/_jsx(\"hr\", {\n                className: divider\n              })]\n            }, entry.text))\n          })\n        }), /*#__PURE__*/_jsx(\"div\", {\n          className: contactRight,\n          children: /*#__PURE__*/_jsx(\"div\", {\n            className: formWrap,\n            children: /*#__PURE__*/_jsxs(\"form\", {\n              method: \"post\",\n              action: \"/contact#contact_form\",\n              children: [/*#__PURE__*/_jsxs(\"div\", {\n                className: fullBlurb,\n                children: [/*#__PURE__*/_jsxs(\"div\", {\n                  className: wrap,\n                  children: [/*#__PURE__*/_jsxs(\"label\", {\n                    children: [\"First Name\", /*#__PURE__*/_jsx(\"sup\", {\n                      children: \"*\"\n                    })]\n                  }), /*#__PURE__*/_jsx(\"input\", {\n                    placeholder: \"Enter your first name\",\n                    required: true\n                  })]\n                }), /*#__PURE__*/_jsxs(\"div\", {\n                  className: wrap,\n                  children: [/*#__PURE__*/_jsx(\"label\", {\n                    children: \"Last Name\"\n                  }), /*#__PURE__*/_jsx(\"input\", {\n                    placeholder: \"Enter your last name\"\n                  })]\n                })]\n              }), /*#__PURE__*/_jsx(\"div\", {\n                className: fullBlurb,\n                children: /*#__PURE__*/_jsxs(\"div\", {\n                  className: wrap,\n                  children: [/*#__PURE__*/_jsxs(\"label\", {\n                    children: [\"Email\", /*#__PURE__*/_jsx(\"sup\", {\n                      children: \"*\"\n                    })]\n                  }), /*#__PURE__*/_jsx(\"input\", {\n                    type: \"email\",\n                    placeholder: \"Enter your email\",\n                    required: true\n                  })]\n                })\n              }), /*#__PURE__*/_jsx(\"div\", {\n                className: fullBlurb,\n                children: /*#__PURE__*/_jsxs(\"div\", {\n                  className: wrap,\n                  children: [/*#__PURE__*/_jsx(\"label\", {\n                    children: \"Subject\"\n                  }), /*#__PURE__*/_jsx(\"input\", {\n                    placeholder: \"Enter your subject\"\n                  })]\n                })\n              }), /*#__PURE__*/_jsx(\"div\", {\n                className: fullBlurb,\n                children: /*#__PURE__*/_jsxs(\"div\", {\n                  className: wrap,\n                  children: [/*#__PURE__*/_jsxs(\"label\", {\n                    children: [\"Message \", /*#__PURE__*/_jsx(\"sup\", {\n                      children: \"*\"\n                    })]\n                  }), /*#__PURE__*/_jsx(\"textarea\", {\n                    placeholder: \"Enter your message\",\n                    rows: \"6\",\n                    required: true\n                  })]\n                })\n              }), /*#__PURE__*/_jsx(\"div\", {\n                className: fullBlurb,\n                children: /*#__PURE__*/_jsx(\"div\", {\n                  className: wrap,\n                  children: /*#__PURE__*/_jsx(\"button\", {\n                    type: \"submit\",\n                    className: submit,\n                    children: \"Submit\"\n                  })\n                })\n              })]\n            })\n          })\n        })]\n      })]\n    })\n  });\n}",".outsmartly/analysis/modules/145.js":"// components/ProductOption/index.js\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport _defineProperty from \"/Users/kai/Work/rbx-rewrite/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport React from 'react';\nimport { swatchList, swatchItem, productOption, checked } from './ProductOption.module.css';\nimport Swatch from './Swatch';\nimport { availableOptionsState } from 'context/availableOptionsState';\nimport { useIsVariantReady } from 'components/Product';\nexport default function ProductOption(_ref) {\n  var product = _ref.product,\n      _ref$optionName = _ref.optionName,\n      optionName = _ref$optionName === void 0 ? 'Size' : _ref$optionName,\n      listItemType = _ref.listItemType,\n      sizeParent = _ref.sizeParent,\n      selectedOptions = _ref.selectedOptions,\n      selectSingleOption = _ref.selectSingleOption;\n  var isVariantReady = useIsVariantReady();\n  var options = availableOptionsState({\n    product: product,\n    optionName: optionName,\n    selectedOptions: selectedOptions,\n    selectSingleOption: selectSingleOption\n  }); // Convert the array of sizes into an object array for rendering\n\n  var sizes = options === null || options === void 0 ? void 0 : options.map(function (_ref2) {\n    var _ref3;\n\n    var option = _ref2.option,\n        availableForSale = _ref2.availableForSale,\n        selected = _ref2.selected,\n        selectOption = _ref2.selectOption;\n    return _ref3 = {\n      name: option.toUpperCase(),\n      checked: false,\n      availableForSale: availableForSale\n    }, _defineProperty(_ref3, \"checked\", selected), _defineProperty(_ref3, \"selectOption\", selectOption), _ref3;\n  });\n  return /*#__PURE__*/_jsx(\"ul\", {\n    className: swatchList,\n    children: sizes === null || sizes === void 0 ? void 0 : sizes.map(function (s) {\n      return /*#__PURE__*/_jsx(\"li\", {\n        className: \"\".concat(listItemType ? listItemType : swatchItem, \" \").concat(isVariantReady && s.checked ? checked : ''),\n        children: /*#__PURE__*/_jsx(Swatch, {\n          available: s.availableForSale,\n          optionalClass: productOption,\n          swatchType: \"sizeSwatch\",\n          sizeParent: sizeParent,\n          sizeText: s.name,\n          onClick: s.selectOption\n        })\n      }, \"\".concat(s.name));\n    })\n  });\n}",".outsmartly/analysis/modules/227.js":"// third-party-scripts/routeapp.ts\nimport { CartContext } from '@outsmartly/jackrabbit';\nimport { fetchJson } from 'lib/utils';\nimport { useContext, useEffect } from 'react';\nimport { loadScriptWithDelay, loadScript } from './utils';\nconst config = {\n  src: 'https://cdn.routeapp.io/route-widget-shopify/stable/route-widget-shopify-stable.min.js?shop=rbxactive.myshopify.com',\n  id: 'routeapp-script',\n  timeout: 10 * 1000,\n  anonymous: false\n};\nexport function loadRouteapp() {\n  loadScriptWithDelay(config);\n}\nexport function loadRouteappImmediately() {\n  loadScript(config);\n}\nlet routeinRequest = null;\nexport function useHasItemsInCart() {\n  const {\n    items\n  } = useContext(CartContext);\n  return (items === null || items === void 0 ? void 0 : items.find(({\n    handle\n  }) => handle !== 'routeins')) !== undefined;\n}\nexport function useRoutein() {\n  var _items$filter;\n\n  const context = useContext(CartContext);\n  const {\n    items,\n    changeVariant\n  } = context; // Get the subtotal w/o routeins.\n\n  const filteredItems = (_items$filter = items.filter(({\n    handle\n  }) => handle !== 'routeins')) !== null && _items$filter !== void 0 ? _items$filter : [];\n  const subtotal = filteredItems.reduce((total, item) => total + item.final_line_price, 0) / 100;\n  useEffect(() => {\n    updateRoutein();\n  }, [subtotal]);\n\n  async function updateRoutein() {\n    const routeinItem = items.find(({\n      handle\n    }) => handle === 'routeins'); // Skip if there's no routein, or the subtotal is 0\n\n    if (!routeinItem || subtotal === 0) {\n      return;\n    }\n\n    if (!routeinRequest) {\n      routeinRequest = fetchJson(`/api/_next/product?handle=routeins`);\n    } // Pull the insurance routein quote from the api\n\n\n    const quote_url = new URL(`https://api.route.com/v1/quote`);\n    const {\n      searchParams\n    } = quote_url;\n    searchParams.set('subtotal', subtotal.toString());\n    searchParams.set('store_domain', 'rbxactive.myshopify.com');\n    searchParams.set('currency', 'USD');\n    const {\n      insurance_price\n    } = await fetchJson(quote_url.toString()); // Wait for the routein variants to return.\n\n    const {\n      variants\n    } = await routeinRequest; // Fine the routein variant of at least the quoted insurance price\n\n    const newRouteinItem = variants.find(({\n      price\n    }) => parseFloat(price) >= insurance_price); // Skip if the insurance is the same value.\n\n    if (routeinItem.id.toString() === newRouteinItem.id.toString()) {\n      return;\n    } // Remove the old routein and add in the new one.\n\n\n    await changeVariant(routeinItem.id, newRouteinItem.id);\n  }\n}",".outsmartly/analysis/modules/336.js":"// components/FilterSidebar/SizeFilter.js\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React, { useContext } from 'react';\nimport Link from 'next/link';\nimport { list, pill, selectedPill } from './SizeFilter.module.css';\nimport { CollectionContext } from 'context/CollectionContext';\nimport { getTagHref, getClearTagHref, toTitleCase } from 'lib/utils';\nimport { useRouter } from 'next/router';\nexport default function SizeFilter({\n  handle\n}) {\n  // Get the route for this collection to use as a prefix for each swatch\n  const router = useRouter();\n  const {\n    query\n  } = router;\n  const {\n    sizes\n  } = useContext(CollectionContext); // Get the correct route for the \"Clear filter\" link\n\n  const clearHref = getClearTagHref(query, 'size'); // Convert the array of sizes into an object array for rendering\n\n  const sizeItems = sizes.map(item => {\n    const href = getTagHref(query, 'size', item); // Convert the size tags differently\n\n    let name;\n\n    if (item.includes('-')) {\n      // For handles with at least hyphen.\n      // First, handle special case: 'one-size' --> 'One Size'\n      // Then, for sizes: 1. replace hypens with periods, 2. replace first\n      // period with hyphen\n      name = item === 'one-size' ? toTitleCase(item) : item.replace(/\\-/g, '.').replace(/\\./, '-');\n    } else {\n      // For abbreviations\n      name = item.toUpperCase();\n    } // Determine if this color is selected\n\n\n    const isSelected = href.query.tagQuery === query.tagQuery;\n    return {\n      name: name,\n      href: isSelected ? clearHref : href,\n      selected: isSelected\n    };\n  });\n  return /*#__PURE__*/_jsxs(\"div\", {\n    className: \"scroll-content\",\n    children: [/*#__PURE__*/_jsx(\"form\", {\n      children: /*#__PURE__*/_jsx(\"input\", {\n        type: \"text\",\n        className: \"fm-search-box snize-input-style\",\n        name: \"q\",\n        placeholder: \"search...\",\n        style: {\n          display: 'none'\n        },\n        autoComplete: \"off\"\n      })\n    }), /*#__PURE__*/_jsx(\"ul\", {\n      className: list,\n      children: sizeItems.map(size => /*#__PURE__*/_jsx(\"li\", {\n        children: /*#__PURE__*/_jsx(Link, {\n          href: size.href,\n          children: /*#__PURE__*/_jsx(\"a\", {\n            title: `${size.selected ? 'Clear' : 'Add'} filter: ${size.name}`,\n            children: /*#__PURE__*/_jsx(\"div\", {\n              className: `${size.selected ? selectedPill : pill}`,\n              children: size.name\n            })\n          })\n        })\n      }, size.name))\n    })]\n  });\n}",".outsmartly/analysis/modules/276.js":"// lib/shopify/loadSingleProduct.ts\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { _getYotpoBottomline } from './yotpoReviews';\nimport { parseShopifyId } from './parseShopifyId';\nimport { getShopifyClient } from './shopifyClient';\nexport async function _loadSingleProduct({\n  graphqlParams,\n  handle,\n  YOTPO_API_KEY = undefined\n}) {\n  var _item$metafields, _item$metafields$edge;\n\n  const shopifyClient = getShopifyClient(graphqlParams);\n  const {\n    productByHandle: item\n  } = await shopifyClient.request(productsQuery(handle));\n\n  if (!item) {\n    return null;\n  }\n\n  const variants = item.variants.edges.map(({\n    node\n  }) => {\n    const variant = _objectSpread(_objectSpread({}, node), {}, {\n      id: parseShopifyId(node.id)\n    });\n\n    if (variant.compareAtPrice === null || !variant.compareAtPrice && variant.compareAtPrice === variant.price) {\n      delete variant.compareAtPrice;\n    }\n\n    if (variant.quantityAvailable <= 0 || variant.quantityAvailable > 5) {\n      delete variant.quantityAvailable;\n    }\n\n    variant.optionMap = Object.fromEntries(variant.selectedOptions.map(({\n      name,\n      value\n    }) => [name, value]));\n    delete variant.selectedOptions;\n    return variant;\n  });\n  const id = parseShopifyId(item.id);\n  const reviews = await _getYotpoBottomline({\n    YOTPO_API_KEY,\n    productId: id\n  });\n\n  const product = _objectSpread(_objectSpread({\n    id,\n    vendor: item.vendor,\n    title: item.title,\n    handle: handle,\n    tags: item.tags,\n    price: item.priceRange.minVariantPrice.amount,\n    description: item.description,\n    descriptionHtml: {\n      __html: item.descriptionHtml\n    },\n    options: item.options,\n    variants,\n    images: item.images.edges.map(({\n      node\n    }) => node)\n  }, reviews), {}, {\n    metafields: item === null || item === void 0 ? void 0 : (_item$metafields = item.metafields) === null || _item$metafields === void 0 ? void 0 : (_item$metafields$edge = _item$metafields.edges) === null || _item$metafields$edge === void 0 ? void 0 : _item$metafields$edge.map(({\n      node\n    }) => node),\n    productType: item.productType\n  });\n\n  return product;\n}\n\nfunction productsQuery(handle) {\n  return `\n    {\n      productByHandle(handle: \"${handle}\"){\n        id\n        vendor\n        title\n        description\n        descriptionHtml\n        productType\n        handle\n        priceRange {\n          minVariantPrice {\n            amount\n          }\n        }\n        metafields(first:50) {\n          edges {\n            node {\n              key\n              value\n            }\n          }\n        }\n        options {\n          name\n          values\n        }\n        tags\n        images(first: 250) {\n          edges {\n            node {\n              id\n              src\n              altText\n            }\n          }\n        }\n        variants(first:250) {\n          edges {\n            node {\n              id              \n              title\n              sku\n              quantityAvailable\n              availableForSale\n              compareAtPrice              \n              selectedOptions {\n                name\n                value\n              }\n              image {\n                altText\n              }\n              price\n            }\n          }\n        }\n      }\n    }\n  `;\n}",".outsmartly/analysis/modules/171.js":"// pages/index.js\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React from 'react';\nimport HeroCarousel from '../components/HeroCarousel';\nimport Featured from '../components/Featured';\nimport styles from '../styles/Main.module.css';\nimport { LemonSpot } from 'components/LemonSpot/LemonSpot';\nimport { SEO } from 'components/Seo';\nimport { fetchHomeHero, fetchHomeFeatures } from 'outsmartly/helpers/contentful';\nimport config from '../jackrabbit.config';\nconst {\n  seo,\n  sections: {\n    heroItems,\n    featuredItems\n  }\n} = config;\nconst defaultProps = {\n  heroItems,\n  featuredItems\n};\nexport default function Home({\n  heroItems,\n  featuredItems\n}) {\n  // Add page type class to <main>\n  const pageType = 'templateIndex';\n  return /*#__PURE__*/_jsxs(\"main\", {\n    id: \"mainContent\",\n    className: `${styles['mainContent']} ${styles[pageType]}`,\n    children: [/*#__PURE__*/_jsx(SEO, _objectSpread({\n      ogType: \"website\"\n    }, seo.home)), /*#__PURE__*/_jsxs(\"section\", {\n      children: [/*#__PURE__*/_jsx(\"h2\", {\n        className: \"visually-hidden\",\n        children: \"Featured Collections\"\n      }), /*#__PURE__*/_jsx(HeroCarousel, {\n        heroItems: heroItems\n      }), /*#__PURE__*/_jsx(Featured, {\n        featuredItems: featuredItems\n      })]\n    }), /*#__PURE__*/_jsx(LemonSpot, {\n      page: \"Home\"\n    })]\n  });\n}\nexport async function getStaticProps() {\n  try {\n    const [heroItems, featuredItems] = await Promise.all([getHeroItems(), getHomeFeatures()]);\n    return {\n      props: {\n        heroItems,\n        featuredItems\n      },\n      revalidate: 120 // In seconds\n\n    };\n  } catch (e) {}\n\n  return {\n    props: defaultProps,\n    revalidate: 120 // In seconds\n\n  };\n} // Fetch home hero slides\n\nasync function getHeroItems() {\n  const _await$fetchHomeHero = await fetchHomeHero(),\n        {\n    slides\n  } = _await$fetchHomeHero,\n        homeHero = _objectWithoutProperties(_await$fetchHomeHero, [\"slides\"]);\n\n  slides.length = 3;\n  return _objectSpread(_objectSpread({}, homeHero), {}, {\n    slides\n  });\n} // Fetch homepage features\n\n\nasync function getHomeFeatures() {\n  const {\n    features\n  } = await fetchHomeFeatures();\n  features.length = 2;\n  return features;\n}",".outsmartly/analysis/modules/120.js":"// components/NotificationBar.js\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport Icon from './icons/Icon';\nimport { notification, active, messageWrap, close, closeIcon } from './NotificationBar.module.css';\n/** Generic component that wraps a notification message. Showing/hiding and\n * duration handled by the parent. */\n\nexport default function NotificationBar(_ref) {\n  var _ref$messageClass = _ref.messageClass,\n      messageClass = _ref$messageClass === void 0 ? notification : _ref$messageClass,\n      _ref$show = _ref.show,\n      show = _ref$show === void 0 ? false : _ref$show,\n      onClose = _ref.onClose,\n      children = _ref.children;\n  return /*#__PURE__*/_jsx(\"div\", {\n    className: \"\".concat(messageClass, \" \").concat(show ? active : ''),\n    \"aria-hidden\": !show,\n    children: /*#__PURE__*/_jsxs(\"div\", {\n      className: \"page-width \".concat(messageWrap),\n      children: [children, /*#__PURE__*/_jsxs(\"button\", {\n        type: \"button\",\n        className: close,\n        onClick: onClose,\n        children: [/*#__PURE__*/_jsx(Icon, {\n          icon: \"close3\",\n          className: closeIcon\n        }), /*#__PURE__*/_jsx(\"span\", {\n          className: \"visually-hidden\",\n          children: \"Close\"\n        })]\n      })]\n    })\n  });\n}",".outsmartly/analysis/modules/242.js":"// lib/helpers.js\nexport function firstAvailableVariant({\n  variants\n}) {\n  const variant = variants === null || variants === void 0 ? void 0 : variants.find(({\n    availableForSale\n  }) => availableForSale);\n  return variant !== null && variant !== void 0 ? variant : variants[0];\n}\nexport function getColorsByVariantId({\n  variants\n}) {\n  return fromEntries(variants.map(({\n    id,\n    optionMap\n  }) => {\n    return [id, optionMap['Color']];\n  }));\n}\nexport function getFirstImage(imageMap) {\n  return Object.values(imageMap)[0][0];\n}\nexport function getFirstColor(imageMap) {\n  return Object.keys(imageMap)[0];\n}\nexport function getFilteredImagesByColor(imageMap, color = null) {\n  var _imageMap$color;\n\n  const filteredImages = (_imageMap$color = imageMap[color]) !== null && _imageMap$color !== void 0 ? _imageMap$color : Object.values(imageMap).reduce((allImages, colorImages) => {\n    return [...allImages, ...colorImages];\n  }, []);\n  return filteredImages.map(src => {\n    return {\n      id: src,\n      src: src,\n      altText: color\n    };\n  });\n}\nexport function getColorByVariantId(colorsByVariant, variantId) {\n  return colorsByVariant[variantId];\n}\nexport function fromEntries(arr) {\n  return arr.reduce((obj, [key, val]) => {\n    obj[key] = val;\n    return obj;\n  }, {});\n}",".outsmartly/analysis/modules/302.js":"// third-party-scripts/index.js\nexport { loadPebblePost } from './pebblepost';\nexport { loadRouteapp } from './routeapp';\nexport { loadSearchanise } from './searchanise';\nexport { loadZendesk } from './zendesk';",".outsmartly/analysis/modules/182.js":"// pages/collections/[collection]/products/[product].ts\nimport Product from 'components/Product/ProductWithCollection';\nimport { loadSingleCollectionTitle } from 'lib/shopify';\nimport { getStaticProps as baseStaticProps } from 'pages/products/[product]';\n/** Return the list of paths that will match this dynamic page */\n\nexport async function getStaticPaths() {\n  return {\n    paths: [],\n    fallback: 'blocking'\n  };\n}\n/**\n * Fetch necessary data (and return it as props) to render the product with\n * the given handle.\n */\n\nexport async function getStaticProps({\n  params\n}) {\n  const baseProps = baseStaticProps({\n    params\n  });\n  const collectionInfo = loadSingleCollectionTitle(params.collection);\n  const props = await baseProps;\n\n  if (props.notFound || props.redirect) {\n    return props;\n  }\n\n  const {\n    props: {\n      content\n    }\n  } = props;\n  return {\n    props: {\n      collectionInfo: await collectionInfo,\n      content\n    },\n    revalidate: 240 // In seconds\n\n  };\n}\nexport default Product;",".outsmartly/analysis/modules/213.js":"// outsmartly/variables.js\nexport const CONTENTFUL_SPACE_ID = 'ajgn17op1zyt';\nexport const CONTENTFUL_ENV_ID = 'master';\nexport const CONTENTFUL_TOKEN = 'YP79tI1xlUCgSzh18oD-oHCGuT7ivgv41pAuRBqsuxo';\nexport const CONTENTFUL_PREVIEW_TOKEN = '6Js0JF9NVdXI0au1LlV6nLLP3_JpKGb3nvoAYIoLiVo';\nexport const ORIGIN = `rbxactive-jwvv8pvml-outsmartly.vercel.app`;\nexport const GATEKEEPING_TOKEN = '53b22f8fbf0e97b7a8fb732705f886070a1adb12f68ac57001375853d25504dd';\nexport const CLOUDINARY_ID = 'davda9b9c';\nexport const CLOUDINARY_BUCKET_NAME = 'rbx';\nexport const CLOUDINARY_FEATURED_SLIDE = '2da4UGCV4c8DKQFRjICjKk';\nexport const LOYALTY_LION_SECRET = '7fd91473b4748e7d56da6cc9aadd0eff'; // Analytics IDs\n\nexport const STORE_URL = 'https://www.rbxactive.com';\nexport const GIF_LOGGER_URL = '/__analytics__';\nexport const SHOP_ID = 11152394;\nexport const VERCEL_PAGES_WHITELIST = ['outfits', 'sizing-guide', 'size-guide-women', 'size-guide-men', 'size-guide-plus-size', 'size-guide-girls', 'size-guide-boys', 'locations', 'about-rbx', 'philadelphia-premium-outlets'];\nexport const SHOPIFY_PRODUCTS = ['rbx-active-electronic-gift-card' // 'gift-card',\n];\nexport const ADDITIONAL_SHOPIFY_ROUTES = ['/blogs', '/.well-known/apple-app-site-association', '/services/currency/update', '/account', '/pages/faq', '/search', '/pages/rbx-rewards', '/pages/current-promotion', '/products/rbx-active-electronic-gift-card', '/pages/rbx-influencer', '/pages/privacy-policy', '/pages/outsmartly', '/pages/terms-conditions', '/pages/return-policy', '/robots.txt', '/sitemap', '/cart.js', '/cart/add', '/cart/change', '/cart/update', '/cart/clear', '/pages/contact-rbx', '/contact', '/challenge', '/shopify_pay/', '/wallets/'];\nexport const ADDITIONAL_SHOPIFY_FRAGMENTS = ['/wishlist/', 'discounted_pricing', 'checkouts', 'digital_wallets', 'csp-report', 'orders', 'invoices', 'discount', 'placeholder.png', 'orderLookupApp', 'apple_pay', 'gift_cards', 'favicon', '/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js', 'apple-touch', 'paypal/tokens', 'express/callback'];\nexport const outsmartlyCacheFresh = 30;\nexport const outsmartlyCacheTTL = 60 * 60 * 24;\nexport const tmpCacheTTL = 60 * 60;\nexport const swrTTL = 60 * 60 * 24 * 365;\nexport const swrMaxAge = 30;",".outsmartly/analysis/modules/18.js":"// pages/pages/locations.js\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React from 'react';\nimport styles from 'styles/Main.module.css';\nimport Locations from 'components/Locations';\nimport { SEO } from 'components/Seo';\nexport default function LocationsPage() {\n  // Add page type class to <main>\n  var pageType = 'templatePage';\n  return /*#__PURE__*/_jsxs(\"main\", {\n    id: \"mainContent\",\n    className: \"\".concat(styles['mainContent'], \" \").concat(styles[pageType]),\n    children: [/*#__PURE__*/_jsx(SEO, {\n      ogType: \"website\",\n      title: \"Contact Us\",\n      canonical: \"/pages/locations\"\n    }), /*#__PURE__*/_jsx(\"div\", {\n      className: \"page-width\",\n      children: /*#__PURE__*/_jsx(Locations, {})\n    })]\n  });\n}",".outsmartly/analysis/modules/49.js":"// node_modules/next/dist/client/head-manager.js\n\"use strict\";\n\nexports.__esModule = true;\nexports[\"default\"] = initHeadManager;\nexports.DOMAttributeNames = void 0;\nvar DOMAttributeNames = {\n  acceptCharset: 'accept-charset',\n  className: 'class',\n  htmlFor: 'for',\n  httpEquiv: 'http-equiv',\n  noModule: 'noModule'\n};\nexports.DOMAttributeNames = DOMAttributeNames;\n\nfunction reactElementToDOM(_ref) {\n  var type = _ref.type,\n      props = _ref.props;\n  var el = document.createElement(type);\n\n  for (var p in props) {\n    if (!props.hasOwnProperty(p)) continue;\n    if (p === 'children' || p === 'dangerouslySetInnerHTML') continue; // we don't render undefined props to the DOM\n\n    if (props[p] === undefined) continue;\n    var attr = DOMAttributeNames[p] || p.toLowerCase();\n\n    if (type === 'script' && (attr === 'async' || attr === 'defer' || attr === 'noModule')) {\n      ;\n      el[attr] = !!props[p];\n    } else {\n      el.setAttribute(attr, props[p]);\n    }\n  }\n\n  var children = props.children,\n      dangerouslySetInnerHTML = props.dangerouslySetInnerHTML;\n\n  if (dangerouslySetInnerHTML) {\n    el.innerHTML = dangerouslySetInnerHTML.__html || '';\n  } else if (children) {\n    el.textContent = typeof children === 'string' ? children : Array.isArray(children) ? children.join('') : '';\n  }\n\n  return el;\n}\n\nfunction updateElements(type, components) {\n  var headEl = document.getElementsByTagName('head')[0];\n  var headCountEl = headEl.querySelector('meta[name=next-head-count]');\n\n  if (false) {\n    if (!headCountEl) {\n      console.error('Warning: next-head-count is missing. https://nextjs.org/docs/messages/next-head-count-missing');\n      return;\n    }\n  }\n\n  var headCount = Number(headCountEl.content);\n  var oldTags = [];\n\n  for (var i = 0, j = headCountEl.previousElementSibling; i < headCount; i++, j = j.previousElementSibling) {\n    if (j.tagName.toLowerCase() === type) {\n      oldTags.push(j);\n    }\n  }\n\n  var newTags = components.map(reactElementToDOM).filter(function (newTag) {\n    for (var k = 0, len = oldTags.length; k < len; k++) {\n      var oldTag = oldTags[k];\n\n      if (oldTag.isEqualNode(newTag)) {\n        oldTags.splice(k, 1);\n        return false;\n      }\n    }\n\n    return true;\n  });\n  oldTags.forEach(function (t) {\n    return t.parentNode.removeChild(t);\n  });\n  newTags.forEach(function (t) {\n    return headEl.insertBefore(t, headCountEl);\n  });\n  headCountEl.content = (headCount - oldTags.length + newTags.length).toString();\n}\n\nfunction initHeadManager() {\n  var updatePromise = null;\n  return {\n    mountedInstances: new Set(),\n    updateHead: function updateHead(head) {\n      var promise = updatePromise = Promise.resolve().then(function () {\n        if (promise !== updatePromise) return;\n        updatePromise = null;\n        var tags = {};\n        head.forEach(function (h) {\n          if ( // If the font tag is loaded only on client navigation\n          // it won't be inlined. In this case revert to the original behavior\n          h.type === 'link' && h.props['data-optimized-fonts'] && !document.querySelector(\"style[data-href=\\\"\".concat(h.props['data-href'], \"\\\"]\"))) {\n            h.props.href = h.props['data-href'];\n            h.props['data-href'] = undefined;\n          }\n\n          var components = tags[h.type] || [];\n          components.push(h);\n          tags[h.type] = components;\n        });\n        var titleComponent = tags.title ? tags.title[0] : null;\n        var title = '';\n\n        if (titleComponent) {\n          var children = titleComponent.props.children;\n          title = typeof children === 'string' ? children : Array.isArray(children) ? children.join('') : '';\n        }\n\n        if (title !== document.title) document.title = title;\n        ['meta', 'base', 'link', 'style', 'script'].forEach(function (type) {\n          updateElements(type, tags[type] || []);\n        });\n      });\n    }\n  };\n}",".outsmartly/analysis/modules/59.js":"// components/Analytics.tsx\nimport { useEffect, useState, useContext } from 'react';\nimport { AccountContext } from '@outsmartly/jackrabbit';\nimport { loadGoogleAnalytics, loadKlaviyoSubscribe, loadSnapchat } from '@outsmartly/shopify-analytics';\nimport { loadSearchanise, loadPebblePost } from 'third-party-scripts';\nexport function Analytics() {\n  var _useState = useState(false),\n      hasLoadedScripts = _useState[0],\n      setHasLoadedScripts = _useState[1];\n\n  var _useState2 = useState(false),\n      hasLoadedAccountScripts = _useState2[0],\n      setHasLoadedAccountScripts = _useState2[1];\n\n  var _useContext = useContext(AccountContext),\n      account = _useContext.account;\n\n  useEffect(function () {\n    if (!hasLoadedScripts) {\n      loadGoogleAnalytics();\n      loadKlaviyoSubscribe();\n      loadSearchanise();\n      setHasLoadedScripts(true);\n    }\n\n    if (account && !hasLoadedAccountScripts) {\n      loadPebblePost(account);\n      loadSnapchat(account);\n      setHasLoadedAccountScripts(true);\n    }\n  }, [account]);\n  return null;\n}",".outsmartly/analysis/modules/1.js":"// components/fix.js\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports._outsmartly_thunk = _outsmartly_thunk;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar __jsx = _react[\"default\"].createElement;\n\nfunction _outsmartly_thunk() {\n  if (_outsmartly_branch_selections.$0) {\n    {}\n    return _outsmartly_no_return;\n  } else {\n    return /*#__PURE__*/_react[\"default\"].createElement(\"div\", null);\n  }\n}\n\nvar HelloWorld = _outsmartly_thunk;",".outsmartly/analysis/modules/343.js":"// components/ProductOption/Swatch.js\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React from 'react';\nimport { colorSwatch, sizeSwatch, crossedOut, soldOut } from './Swatch.module.css';\nimport styles from './Swatch.module.css';\nexport default function Swatch({\n  available = true,\n  optionalClass,\n  swatchType = 'colorSwatch',\n  colorParent,\n  color,\n  colorName = '',\n  tooltip,\n  sizeParent,\n  sizeText,\n  onClick\n}) {\n  // Crossed out image\n  // swatchType can be either 'colorSwatch' or 'sizeSwatch'\n  return /*#__PURE__*/_jsx(_Fragment, {\n    children: swatchType === 'colorSwatch' ? /*#__PURE__*/_jsx(\"span\", {\n      className: `${optionalClass ? optionalClass : ''} ${colorParent ? colorParent : colorSwatch} ${available ? '' : soldOut} ${styles[color] ? styles[color] : ''}`,\n      title: tooltip ? tooltip : colorName,\n      onClick: onClick,\n      children: !available && /*#__PURE__*/_jsx(SoldOut, {\n        className: crossedOut,\n        alt: \"Sold Out\"\n      })\n    }) : /*#__PURE__*/_jsxs(\"span\", {\n      className: `${optionalClass ? optionalClass : ''} ${sizeParent ? sizeParent : sizeSwatch} ${available ? '' : soldOut}`,\n      onClick: onClick,\n      children: [/*#__PURE__*/_jsx(\"span\", {\n        children: sizeText\n      }), !available && /*#__PURE__*/_jsx(SoldOut, {\n        className: crossedOut,\n        alt: \"Sold Out\"\n      })]\n    })\n  });\n}\n\nfunction SoldOut(props) {\n  return /*#__PURE__*/_jsxs(\"svg\", _objectSpread(_objectSpread({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 82.58 64.96\"\n  }, props), {}, {\n    children: [/*#__PURE__*/_jsx(\"filter\", {\n      id: \"blur\",\n      children: /*#__PURE__*/_jsx(\"feGaussianBlur\", {\n        in: \"SourceGraphic\",\n        stdDeviation: \"2\"\n      })\n    }), /*#__PURE__*/_jsx(\"path\", {\n      filter: \"url(#blur)\",\n      fill: \"none\",\n      stroke: \"#333333\",\n      strokeMiterlimit: 10,\n      strokeWidth: 2,\n      d: \"M.61.79l81.35 63.38\"\n    })]\n  }));\n}",".outsmartly/analysis/modules/203.js":"// components/Locations.js\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { pagefly, pageTitle, heading, fullBlurb, rightBlurb, wrap, divider } from 'styles/pagefly.module.css';\nimport { location, locationCard, hoursWrap, hours } from './Locations.module.css';\nimport { getImageUrl } from 'lib/getImageUrl';\nexport default function Locations({\n  pageflyClass,\n  pageTitleClass\n}) {\n  // Get image info\n  const image = {\n    src: 'https://cdn.shopify.com/s/files/1/1115/2394/t/272/assets/pf-91e478df--PhillyStore.jpg?v=1589558737',\n    alt: 'RBX Storefront'\n  };\n  return /*#__PURE__*/_jsx(\"div\", {\n    className: `${pagefly} ${pageflyClass ? pageflyClass : ''}`,\n    children: /*#__PURE__*/_jsxs(\"div\", {\n      className: location,\n      children: [/*#__PURE__*/_jsx(\"div\", {\n        className: fullBlurb,\n        children: /*#__PURE__*/_jsx(\"div\", {\n          className: wrap,\n          children: /*#__PURE__*/_jsxs(\"h2\", {\n            className: `${pageTitle} ${pageTitleClass ? pageTitleClass : ''}`,\n            children: [\"Visit our store at\", /*#__PURE__*/_jsx(\"br\", {}), \"Philadelphia Premium Outlets\"]\n          })\n        })\n      }), /*#__PURE__*/_jsx(\"div\", {\n        className: locationCard,\n        children: /*#__PURE__*/_jsxs(\"div\", {\n          className: wrap,\n          children: [/*#__PURE__*/_jsxs(\"div\", {\n            className: rightBlurb,\n            children: [/*#__PURE__*/_jsx(\"div\", {\n              className: wrap,\n              children: /*#__PURE__*/_jsx(\"img\", {\n                src: getImageUrl(image.src),\n                alt: image.alt,\n                loading: \"lazy\"\n              })\n            }), /*#__PURE__*/_jsx(\"div\", {\n              className: wrap,\n              children: /*#__PURE__*/_jsxs(\"div\", {\n                className: hoursWrap,\n                children: [/*#__PURE__*/_jsx(\"h3\", {\n                  className: heading,\n                  children: \"Open Hours\"\n                }), /*#__PURE__*/_jsxs(\"p\", {\n                  className: hours,\n                  children: [\"Monday - Saturday\", /*#__PURE__*/_jsx(\"br\", {}), \"11 AM to 7 PM\", /*#__PURE__*/_jsx(\"br\", {}), /*#__PURE__*/_jsx(\"br\", {}), \"Sunday \", /*#__PURE__*/_jsx(\"br\", {}), \"12 PM to 6 PM\"]\n                }), /*#__PURE__*/_jsx(\"hr\", {\n                  className: divider\n                }), /*#__PURE__*/_jsx(\"h3\", {\n                  className: heading,\n                  children: \"Address\"\n                }), /*#__PURE__*/_jsxs(\"p\", {\n                  className: hours,\n                  children: [\"18 West Lightcap Road, Suite 759\", /*#__PURE__*/_jsx(\"br\", {}), \"Pottstown, PA 19464\"]\n                }), /*#__PURE__*/_jsx(\"h3\", {\n                  className: heading,\n                  children: \"Phone\"\n                }), /*#__PURE__*/_jsx(\"p\", {\n                  className: hours,\n                  children: /*#__PURE__*/_jsx(\"a\", {\n                    href: \"tel:+18885882892\",\n                    children: \"(888) 588-2892 ext. 106\"\n                  })\n                })]\n              })\n            })]\n          }), /*#__PURE__*/_jsx(\"div\", {\n            className: fullBlurb,\n            children: /*#__PURE__*/_jsx(\"div\", {\n              className: wrap,\n              children: /*#__PURE__*/_jsx(\"iframe\", {\n                src: \"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3045.761014702737!2d-75.57277454896087!3d40.23661557928518!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x89c6850a24d35fb1%3A0x70ee02a6485c6d56!2s18%20Lightcap%20Rd%20%23759%2C%20Pottstown%2C%20PA%2019464!5e0!3m2!1sen!2sus!4v1589555215484!5m2!1sen!2sus\",\n                width: \"100%\",\n                height: \"450\",\n                frameBorder: \"0\",\n                style: {\n                  border: 0\n                },\n                allowFullScreen: \"\",\n                \"aria-hidden\": \"false\",\n                tabIndex: \"0\"\n              })\n            })\n          })]\n        })\n      })]\n    })\n  });\n}",".outsmartly/analysis/modules/192.js":"// components/Featured.js\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React from 'react';\nimport { featured, featuredItem, featuredImage } from '../components/Featured.module.css';\nimport { content, title, subtitle, caption, link } from './FeaturedContent.module.css';\nimport styles from './FeaturedContent.module.css';\nimport { FeaturedNoCss } from './FeaturedNoCss';\nexport default function Featured({\n  featuredItems\n}) {\n  return /*#__PURE__*/_jsx(FeaturedNoCss, {\n    featuredItems: featuredItems,\n    css: {\n      featured,\n      featuredItem,\n      featuredImage,\n      content,\n      title,\n      subtitle,\n      caption,\n      link,\n      styles\n    }\n  });\n}",".outsmartly/analysis/modules/312.js":"// components/SizingGuide/Men.js\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { title, tableWrap } from './SizingGuide.module.css';\nexport default function Men({\n  titleClass = title,\n  wrapClass = tableWrap\n}) {\n  return /*#__PURE__*/_jsxs(\"div\", {\n    id: \"men\",\n    children: [/*#__PURE__*/_jsx(\"p\", {\n      className: titleClass,\n      children: /*#__PURE__*/_jsx(\"strong\", {\n        children: \"Men Size Guide\"\n      })\n    }), /*#__PURE__*/_jsx(\"div\", {\n      className: wrapClass,\n      children: /*#__PURE__*/_jsxs(\"table\", {\n        children: [/*#__PURE__*/_jsxs(\"colgroup\", {\n          children: [/*#__PURE__*/_jsx(\"col\", {}), /*#__PURE__*/_jsx(\"col\", {\n            span: \"3\"\n          }), /*#__PURE__*/_jsx(\"col\", {\n            span: \"3\"\n          })]\n        }), /*#__PURE__*/_jsxs(\"thead\", {\n          children: [/*#__PURE__*/_jsxs(\"tr\", {\n            children: [/*#__PURE__*/_jsx(\"th\", {\n              scope: \"col\",\n              children: \"Size\"\n            }), /*#__PURE__*/_jsx(\"th\", {\n              scope: \"colgroup\",\n              children: \"Tops\"\n            }), /*#__PURE__*/_jsx(\"th\", {}), /*#__PURE__*/_jsx(\"th\", {}), /*#__PURE__*/_jsx(\"th\", {\n              scope: \"colgroup\",\n              children: \"Bottoms\"\n            }), /*#__PURE__*/_jsx(\"th\", {}), /*#__PURE__*/_jsx(\"th\", {})]\n          }), /*#__PURE__*/_jsxs(\"tr\", {\n            children: [/*#__PURE__*/_jsx(\"td\", {}), /*#__PURE__*/_jsx(\"th\", {\n              scope: \"col\",\n              children: \"Chest\"\n            }), /*#__PURE__*/_jsx(\"th\", {\n              scope: \"col\",\n              children: \"Body Length\"\n            }), /*#__PURE__*/_jsx(\"th\", {\n              scope: \"col\",\n              children: \"Hem Sweep\"\n            }), /*#__PURE__*/_jsx(\"th\", {\n              scope: \"col\",\n              children: \"Waist\"\n            }), /*#__PURE__*/_jsx(\"th\", {\n              scope: \"col\",\n              children: \"Hip\"\n            }), /*#__PURE__*/_jsx(\"th\", {\n              scope: \"col\",\n              children: \"Inseam\"\n            })]\n          })]\n        }), /*#__PURE__*/_jsxs(\"tbody\", {\n          children: [/*#__PURE__*/_jsxs(\"tr\", {\n            children: [/*#__PURE__*/_jsx(\"th\", {\n              scope: \"row\",\n              children: \"S\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"37-39\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"28\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"36-38\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"28-30\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"39-41\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"31\"\n            })]\n          }), /*#__PURE__*/_jsxs(\"tr\", {\n            children: [/*#__PURE__*/_jsx(\"th\", {\n              scope: \"row\",\n              children: \"M\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"40-42\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"29\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"39-41\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"31-33\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"42-44\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"31\"\n            })]\n          }), /*#__PURE__*/_jsxs(\"tr\", {\n            children: [/*#__PURE__*/_jsx(\"th\", {\n              scope: \"row\",\n              children: \"L\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"43-45\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"30\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"42-44\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"34-36\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"45-47\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"31\"\n            })]\n          }), /*#__PURE__*/_jsxs(\"tr\", {\n            children: [/*#__PURE__*/_jsx(\"th\", {\n              scope: \"row\",\n              children: \"XL\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"46\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"31\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"45\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"37-39\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"48-50\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"31\"\n            })]\n          })]\n        })]\n      })\n    })]\n  });\n}",".outsmartly/analysis/modules/252.js":"// node_modules/next/dist/client/head-manager.js\n\"use strict\";\n\nexports.__esModule = true;\nexports.default = initHeadManager;\nexports.DOMAttributeNames = void 0;\nconst DOMAttributeNames = {\n  acceptCharset: 'accept-charset',\n  className: 'class',\n  htmlFor: 'for',\n  httpEquiv: 'http-equiv',\n  noModule: 'noModule'\n};\nexports.DOMAttributeNames = DOMAttributeNames;\n\nfunction reactElementToDOM({\n  type,\n  props\n}) {\n  const el = document.createElement(type);\n\n  for (const p in props) {\n    if (!props.hasOwnProperty(p)) continue;\n    if (p === 'children' || p === 'dangerouslySetInnerHTML') continue; // we don't render undefined props to the DOM\n\n    if (props[p] === undefined) continue;\n    const attr = DOMAttributeNames[p] || p.toLowerCase();\n\n    if (type === 'script' && (attr === 'async' || attr === 'defer' || attr === 'noModule')) {\n      ;\n      el[attr] = !!props[p];\n    } else {\n      el.setAttribute(attr, props[p]);\n    }\n  }\n\n  const {\n    children,\n    dangerouslySetInnerHTML\n  } = props;\n\n  if (dangerouslySetInnerHTML) {\n    el.innerHTML = dangerouslySetInnerHTML.__html || '';\n  } else if (children) {\n    el.textContent = typeof children === 'string' ? children : Array.isArray(children) ? children.join('') : '';\n  }\n\n  return el;\n}\n\nfunction updateElements(type, components) {\n  const headEl = document.getElementsByTagName('head')[0];\n  const headCountEl = headEl.querySelector('meta[name=next-head-count]');\n\n  if (false) {\n    if (!headCountEl) {\n      console.error('Warning: next-head-count is missing. https://nextjs.org/docs/messages/next-head-count-missing');\n      return;\n    }\n  }\n\n  const headCount = Number(headCountEl.content);\n  const oldTags = [];\n\n  for (let i = 0, j = headCountEl.previousElementSibling; i < headCount; i++, j = j.previousElementSibling) {\n    if (j.tagName.toLowerCase() === type) {\n      oldTags.push(j);\n    }\n  }\n\n  const newTags = components.map(reactElementToDOM).filter(newTag => {\n    for (let k = 0, len = oldTags.length; k < len; k++) {\n      const oldTag = oldTags[k];\n\n      if (oldTag.isEqualNode(newTag)) {\n        oldTags.splice(k, 1);\n        return false;\n      }\n    }\n\n    return true;\n  });\n  oldTags.forEach(t => t.parentNode.removeChild(t));\n  newTags.forEach(t => headEl.insertBefore(t, headCountEl));\n  headCountEl.content = (headCount - oldTags.length + newTags.length).toString();\n}\n\nfunction initHeadManager() {\n  let updatePromise = null;\n  return {\n    mountedInstances: new Set(),\n    updateHead: head => {\n      const promise = updatePromise = Promise.resolve().then(() => {\n        if (promise !== updatePromise) return;\n        updatePromise = null;\n        const tags = {};\n        head.forEach(h => {\n          if ( // If the font tag is loaded only on client navigation\n          // it won't be inlined. In this case revert to the original behavior\n          h.type === 'link' && h.props['data-optimized-fonts'] && !document.querySelector(`style[data-href=\"${h.props['data-href']}\"]`)) {\n            h.props.href = h.props['data-href'];\n            h.props['data-href'] = undefined;\n          }\n\n          const components = tags[h.type] || [];\n          components.push(h);\n          tags[h.type] = components;\n        });\n        const titleComponent = tags.title ? tags.title[0] : null;\n        let title = '';\n\n        if (titleComponent) {\n          const {\n            children\n          } = titleComponent.props;\n          title = typeof children === 'string' ? children : Array.isArray(children) ? children.join('') : '';\n        }\n\n        if (title !== document.title) document.title = title;\n        ['meta', 'base', 'link', 'style', 'script'].forEach(type => {\n          updateElements(type, tags[type] || []);\n        });\n      });\n    }\n  };\n}",".outsmartly/analysis/modules/130.js":"// components/SizingGuide/Boys.js\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { title, tableWrap } from './SizingGuide.module.css';\nexport default function Boys(_ref) {\n  var _ref$titleClass = _ref.titleClass,\n      titleClass = _ref$titleClass === void 0 ? title : _ref$titleClass,\n      _ref$wrapClass = _ref.wrapClass,\n      wrapClass = _ref$wrapClass === void 0 ? tableWrap : _ref$wrapClass;\n  return /*#__PURE__*/_jsxs(\"div\", {\n    id: \"boys\",\n    children: [/*#__PURE__*/_jsx(\"p\", {\n      className: titleClass,\n      children: /*#__PURE__*/_jsx(\"strong\", {\n        children: \"Boys Size Guide\"\n      })\n    }), /*#__PURE__*/_jsx(\"div\", {\n      className: wrapClass,\n      children: /*#__PURE__*/_jsxs(\"table\", {\n        children: [/*#__PURE__*/_jsx(\"thead\", {\n          children: /*#__PURE__*/_jsxs(\"tr\", {\n            children: [/*#__PURE__*/_jsx(\"th\", {\n              scope: \"col\",\n              children: \"Size\"\n            }), /*#__PURE__*/_jsx(\"th\", {\n              scope: \"col\",\n              children: \"US Numeric Size\"\n            }), /*#__PURE__*/_jsx(\"th\", {\n              scope: \"col\",\n              children: \"Height\"\n            }), /*#__PURE__*/_jsx(\"th\", {\n              scope: \"col\",\n              children: \"Weight\"\n            }), /*#__PURE__*/_jsx(\"th\", {\n              scope: \"col\",\n              children: \"Chest\"\n            }), /*#__PURE__*/_jsx(\"th\", {\n              scope: \"col\",\n              children: \"Waist\"\n            }), /*#__PURE__*/_jsx(\"th\", {\n              scope: \"col\",\n              children: \"Hip\"\n            })]\n          })\n        }), /*#__PURE__*/_jsxs(\"tbody\", {\n          children: [/*#__PURE__*/_jsxs(\"tr\", {\n            children: [/*#__PURE__*/_jsx(\"th\", {\n              scope: \"row\",\n              children: \"XXS\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"4\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"38\\\"-41\\\"\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"36-40 lbs\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"22\\\"\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"21\\\"\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"23\\\"\"\n            })]\n          }), /*#__PURE__*/_jsxs(\"tr\", {\n            children: [/*#__PURE__*/_jsx(\"th\", {\n              scope: \"row\",\n              children: \"XS\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"5/6\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"42\\\"-46\\\"\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"40-48 lbs\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"23\\\"-23\\\"\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"21.5\\\"-22\\\"\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"24\\\"-25\\\"\"\n            })]\n          }), /*#__PURE__*/_jsxs(\"tr\", {\n            children: [/*#__PURE__*/_jsx(\"th\", {\n              scope: \"row\",\n              children: \"S\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"7\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"47\\\"-48\\\"\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"47-54 lbs\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"25\\\"\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"22.5\\\"\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"26\\\"\"\n            })]\n          }), /*#__PURE__*/_jsxs(\"tr\", {\n            children: [/*#__PURE__*/_jsx(\"th\", {\n              scope: \"row\",\n              children: \"M\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"8\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"50\\\"-52\\\"\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"55-70 lbs\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"26.5\\\"\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"23.5\\\"\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"26.5\\\"\"\n            })]\n          }), /*#__PURE__*/_jsxs(\"tr\", {\n            children: [/*#__PURE__*/_jsx(\"th\", {\n              scope: \"row\",\n              children: \"L\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"10/12\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"53\\\"-58\\\"\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"70-92 lbs\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"28\\\"-29.5\\\"\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"24.5\\\"-25.5\\\"\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"28.5\\\"-30\\\"\"\n            })]\n          }), /*#__PURE__*/_jsxs(\"tr\", {\n            children: [/*#__PURE__*/_jsx(\"th\", {\n              scope: \"row\",\n              children: \"XL\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"14/16\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"58\\\"-64\\\"\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"92-115 lbs\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"31\\\"-32.5\\\"\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"26.5\\\"-27.5\\\"\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"32\\\"-34\\\"\"\n            })]\n          }), /*#__PURE__*/_jsxs(\"tr\", {\n            children: [/*#__PURE__*/_jsx(\"th\", {\n              scope: \"row\",\n              children: \"XXL\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"18/20\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"64\\\"+\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"116 lbs+\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"33\\\"+\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"28.5\\\"+\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: \"34\\\"+\"\n            })]\n          })]\n        })]\n      })\n    })]\n  });\n}",".outsmartly/analysis/modules/161.js":"// context/selectedImagesState.ts\nimport { getFilteredImagesByColor } from 'lib/helpers';\nimport { useMemo, useState } from 'react';\nimport { addOption } from './SelectedOptionsContext';\nexport function selectedImagesState(_ref) {\n  var product = _ref.product,\n      _ref$defaultColor = _ref.defaultColor,\n      defaultColor = _ref$defaultColor === void 0 ? undefined : _ref$defaultColor;\n\n  var _useState = useState(defaultColor ? [{\n    name: 'Color',\n    value: defaultColor\n  }] : []),\n      selectedOptions = _useState[0],\n      setSelectedOptions = _useState[1];\n\n  var color = useMemo(getColor, [selectedOptions]);\n  var images = useMemo(getFilteredImages, [product, color]);\n  return {\n    selectedOptions: selectedOptions,\n    selectSingleOption: selectSingleOption,\n    images: images\n  };\n\n  function selectSingleOption(option) {\n    var newSelectedOptions = addOption(selectedOptions, option);\n\n    if (newSelectedOptions !== selectedOptions) {\n      setSelectedOptions(newSelectedOptions);\n    }\n  }\n\n  function getColor() {\n    var colorOption = selectedOptions.find(function (_ref2) {\n      var name = _ref2.name;\n      return name === 'Color';\n    });\n\n    if (colorOption) {\n      return colorOption.value;\n    }\n  }\n\n  function getFilteredImages() {\n    return getFilteredImagesByColor(product.imageMap, color);\n  }\n}",".outsmartly/analysis/modules/266.js":"// node_modules/next/dist/next-server/lib/router/utils/parse-relative-url.js\n\"use strict\";\n\nexports.__esModule = true;\nexports.parseRelativeUrl = parseRelativeUrl;\n\nvar _utils = require(\"../../utils\");\n\nvar _querystring = require(\"./querystring\");\n/**\n* Parses path-relative urls (e.g. `/hello/world?foo=bar`). If url isn't path-relative\n* (e.g. `./hello`) then at least base must be.\n* Absolute urls are rejected with one exception, in the browser, absolute urls that are on\n* the current origin will be parsed as relative\n*/\n\n\nfunction parseRelativeUrl(url, base) {\n  const globalBase = new URL(true ? 'http://n' : (0, _utils.getLocationOrigin)());\n  const resolvedBase = base ? new URL(base, globalBase) : globalBase;\n  const {\n    pathname,\n    searchParams,\n    search,\n    hash,\n    href,\n    origin\n  } = new URL(url, resolvedBase);\n\n  if (origin !== globalBase.origin) {\n    throw new Error(`invariant: invalid relative URL, router received ${url}`);\n  }\n\n  return {\n    pathname,\n    query: (0, _querystring.searchParamsToUrlQuery)(searchParams),\n    search,\n    hash,\n    href: href.slice(globalBase.origin.length)\n  };\n}",".outsmartly/analysis/modules/326.js":"// context/getProduct.ts\nimport { fetchJson } from 'lib/utils';\nimport { useEffect, useState } from 'react';\nimport getConfig from 'next/config'; // Only holds serverRuntimeConfig and publicRuntimeConfig\n\nconst {\n  publicRuntimeConfig\n} = getConfig();\nexport function getFullProduct(collectionProduct) {\n  const {\n    0: product,\n    1: setProduct\n  } = useState(collectionProduct);\n  useEffect(() => {\n    if (!product.variants || collectionProduct.handle !== product.handle) {\n      fetchInfo();\n    }\n  }, [collectionProduct]);\n\n  async function fetchInfo() {\n    var _data$pageProps, _data$pageProps2, _data$pageProps2$cont;\n\n    const data = await fetchJson(`/_next/data/${publicRuntimeConfig.buildId}/products/${collectionProduct.handle}.json`);\n    const content = data === null || data === void 0 ? void 0 : (_data$pageProps = data.pageProps) === null || _data$pageProps === void 0 ? void 0 : _data$pageProps.content;\n\n    if (data !== null && data !== void 0 && (_data$pageProps2 = data.pageProps) !== null && _data$pageProps2 !== void 0 && (_data$pageProps2$cont = _data$pageProps2.content) !== null && _data$pageProps2$cont !== void 0 && _data$pageProps2$cont.handle) {\n      setProduct(content);\n    }\n  }\n\n  return product;\n}",".outsmartly/analysis/modules/237.js":"// node_modules/next/dist/next-server/lib/router/router.js\n\"use strict\";\n\nexports.__esModule = true;\nexports.getDomainLocale = getDomainLocale;\nexports.addLocale = addLocale;\nexports.delLocale = delLocale;\nexports.hasBasePath = hasBasePath;\nexports.addBasePath = addBasePath;\nexports.delBasePath = delBasePath;\nexports.isLocalURL = isLocalURL;\nexports.interpolateAs = interpolateAs;\nexports.resolveHref = resolveHref;\nexports.default = void 0;\n\nvar _normalizeTrailingSlash = require(\"../../../client/normalize-trailing-slash\");\n\nvar _routeLoader = require(\"../../../client/route-loader\");\n\nvar _denormalizePagePath = require(\"../../server/denormalize-page-path\");\n\nvar _normalizeLocalePath = require(\"../i18n/normalize-locale-path\");\n\nvar _mitt = _interopRequireDefault(require(\"../mitt\"));\n\nvar _utils = require(\"../utils\");\n\nvar _isDynamic = require(\"./utils/is-dynamic\");\n\nvar _parseRelativeUrl = require(\"./utils/parse-relative-url\");\n\nvar _querystring = require(\"./utils/querystring\");\n\nvar _resolveRewrites = _interopRequireDefault(require(\"./utils/resolve-rewrites\"));\n\nvar _routeMatcher = require(\"./utils/route-matcher\");\n\nvar _routeRegex = require(\"./utils/route-regex\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n} // tslint:disable:no-console\n\n\nlet detectDomainLocale;\n\nif (process.env.__NEXT_I18N_SUPPORT) {\n  detectDomainLocale = require('../i18n/detect-domain-locale').detectDomainLocale;\n}\n\nconst basePath = process.env.__NEXT_ROUTER_BASEPATH || '';\n\nfunction buildCancellationError() {\n  return Object.assign(new Error('Route Cancelled'), {\n    cancelled: true\n  });\n}\n\nfunction addPathPrefix(path, prefix) {\n  return prefix && path.startsWith('/') ? path === '/' ? (0, _normalizeTrailingSlash.normalizePathTrailingSlash)(prefix) : `${prefix}${pathNoQueryHash(path) === '/' ? path.substring(1) : path}` : path;\n}\n\nfunction getDomainLocale(path, locale, locales, domainLocales) {\n  if (process.env.__NEXT_I18N_SUPPORT) {\n    locale = locale || (0, _normalizeLocalePath.normalizeLocalePath)(path, locales).detectedLocale;\n    const detectedDomain = detectDomainLocale(domainLocales, undefined, locale);\n\n    if (detectedDomain) {\n      return `http${detectedDomain.http ? '' : 's'}://${detectedDomain.domain}${basePath || ''}${locale === detectedDomain.defaultLocale ? '' : `/${locale}`}${path}`;\n    }\n\n    return false;\n  }\n\n  return false;\n}\n\nfunction addLocale(path, locale, defaultLocale) {\n  if (process.env.__NEXT_I18N_SUPPORT) {\n    const pathname = pathNoQueryHash(path);\n    const pathLower = pathname.toLowerCase();\n    const localeLower = locale && locale.toLowerCase();\n    return locale && locale !== defaultLocale && !pathLower.startsWith('/' + localeLower + '/') && pathLower !== '/' + localeLower ? addPathPrefix(path, '/' + locale) : path;\n  }\n\n  return path;\n}\n\nfunction delLocale(path, locale) {\n  if (process.env.__NEXT_I18N_SUPPORT) {\n    const pathname = pathNoQueryHash(path);\n    const pathLower = pathname.toLowerCase();\n    const localeLower = locale && locale.toLowerCase();\n    return locale && (pathLower.startsWith('/' + localeLower + '/') || pathLower === '/' + localeLower) ? (pathname.length === locale.length + 1 ? '/' : '') + path.substr(locale.length + 1) : path;\n  }\n\n  return path;\n}\n\nfunction pathNoQueryHash(path) {\n  const queryIndex = path.indexOf('?');\n  const hashIndex = path.indexOf('#');\n\n  if (queryIndex > -1 || hashIndex > -1) {\n    path = path.substring(0, queryIndex > -1 ? queryIndex : hashIndex);\n  }\n\n  return path;\n}\n\nfunction hasBasePath(path) {\n  path = pathNoQueryHash(path);\n  return path === basePath || path.startsWith(basePath + '/');\n}\n\nfunction addBasePath(path) {\n  // we only add the basepath on relative urls\n  return addPathPrefix(path, basePath);\n}\n\nfunction delBasePath(path) {\n  path = path.slice(basePath.length);\n  if (!path.startsWith('/')) path = `/${path}`;\n  return path;\n}\n/**\n* Detects whether a given url is routable by the Next.js router (browser only).\n*/\n\n\nfunction isLocalURL(url) {\n  // prevent a hydration mismatch on href for url with anchor refs\n  if (url.startsWith('/') || url.startsWith('#') || url.startsWith('?')) return true;\n\n  try {\n    // absolute urls can be local if they are on the same origin\n    const locationOrigin = (0, _utils.getLocationOrigin)();\n    const resolved = new URL(url, locationOrigin);\n    return resolved.origin === locationOrigin && hasBasePath(resolved.pathname);\n  } catch (_) {\n    return false;\n  }\n}\n\nfunction interpolateAs(route, asPathname, query) {\n  let interpolatedRoute = '';\n  const dynamicRegex = (0, _routeRegex.getRouteRegex)(route);\n  const dynamicGroups = dynamicRegex.groups;\n  const dynamicMatches = // Try to match the dynamic route against the asPath\n  (asPathname !== route ? (0, _routeMatcher.getRouteMatcher)(dynamicRegex)(asPathname) : '') || // Fall back to reading the values from the href\n  // TODO: should this take priority; also need to change in the router.\n  query;\n  interpolatedRoute = route;\n  const params = Object.keys(dynamicGroups);\n\n  if (!params.every(param => {\n    let value = dynamicMatches[param] || '';\n    const {\n      repeat,\n      optional\n    } = dynamicGroups[param]; // support single-level catch-all\n    // TODO: more robust handling for user-error (passing `/`)\n\n    let replaced = `[${repeat ? '...' : ''}${param}]`;\n\n    if (optional) {\n      replaced = `${!value ? '/' : ''}[${replaced}]`;\n    }\n\n    if (repeat && !Array.isArray(value)) value = [value];\n    return (optional || param in dynamicMatches) && ( // Interpolate group into data URL if present\n    interpolatedRoute = interpolatedRoute.replace(replaced, repeat ? value.map( // these values should be fully encoded instead of just\n    // path delimiter escaped since they are being inserted\n    // into the URL and we expect URL encoded segments\n    // when parsing dynamic route params\n    segment => encodeURIComponent(segment)).join('/') : encodeURIComponent(value)) || '/');\n  })) {\n    interpolatedRoute = ''; // did not satisfy all requirements\n    // n.b. We ignore this error because we handle warning for this case in\n    // development in the `<Link>` component directly.\n  }\n\n  return {\n    params,\n    result: interpolatedRoute\n  };\n}\n\nfunction omitParmsFromQuery(query, params) {\n  const filteredQuery = {};\n  Object.keys(query).forEach(key => {\n    if (!params.includes(key)) {\n      filteredQuery[key] = query[key];\n    }\n  });\n  return filteredQuery;\n}\n/**\n* Resolves a given hyperlink with a certain router state (basePath not included).\n* Preserves absolute urls.\n*/\n\n\nfunction resolveHref(router, href, resolveAs) {\n  // we use a dummy base url for relative urls\n  let base;\n  const urlAsString = typeof href === 'string' ? href : (0, _utils.formatWithValidation)(href);\n\n  try {\n    base = new URL(urlAsString.startsWith('#') ? router.asPath : router.pathname, 'http://n');\n  } catch (_) {\n    // fallback to / for invalid asPath values e.g. //\n    base = new URL('/', 'http://n');\n  } // Return because it cannot be routed by the Next.js router\n\n\n  if (!isLocalURL(urlAsString)) {\n    return resolveAs ? [urlAsString] : urlAsString;\n  }\n\n  try {\n    const finalUrl = new URL(urlAsString, base);\n    finalUrl.pathname = (0, _normalizeTrailingSlash.normalizePathTrailingSlash)(finalUrl.pathname);\n    let interpolatedAs = '';\n\n    if ((0, _isDynamic.isDynamicRoute)(finalUrl.pathname) && finalUrl.searchParams && resolveAs) {\n      const query = (0, _querystring.searchParamsToUrlQuery)(finalUrl.searchParams);\n      const {\n        result,\n        params\n      } = interpolateAs(finalUrl.pathname, finalUrl.pathname, query);\n\n      if (result) {\n        interpolatedAs = (0, _utils.formatWithValidation)({\n          pathname: result,\n          hash: finalUrl.hash,\n          query: omitParmsFromQuery(query, params)\n        });\n      }\n    } // if the origin didn't change, it means we received a relative href\n\n\n    const resolvedHref = finalUrl.origin === base.origin ? finalUrl.href.slice(finalUrl.origin.length) : finalUrl.href;\n    return resolveAs ? [resolvedHref, interpolatedAs || resolvedHref] : resolvedHref;\n  } catch (_) {\n    return resolveAs ? [urlAsString] : urlAsString;\n  }\n}\n\nfunction stripOrigin(url) {\n  const origin = (0, _utils.getLocationOrigin)();\n  return url.startsWith(origin) ? url.substring(origin.length) : url;\n}\n\nfunction prepareUrlAs(router, url, as) {\n  // If url and as provided as an object representation,\n  // we'll format them into the string version here.\n  let [resolvedHref, resolvedAs] = resolveHref(router, url, true);\n  const origin = (0, _utils.getLocationOrigin)();\n  const hrefHadOrigin = resolvedHref.startsWith(origin);\n  const asHadOrigin = resolvedAs && resolvedAs.startsWith(origin);\n  resolvedHref = stripOrigin(resolvedHref);\n  resolvedAs = resolvedAs ? stripOrigin(resolvedAs) : resolvedAs;\n  const preparedUrl = hrefHadOrigin ? resolvedHref : addBasePath(resolvedHref);\n  const preparedAs = as ? stripOrigin(resolveHref(router, as)) : resolvedAs || resolvedHref;\n  return {\n    url: preparedUrl,\n    as: asHadOrigin ? preparedAs : addBasePath(preparedAs)\n  };\n}\n\nfunction resolveDynamicRoute(pathname, pages) {\n  const cleanPathname = (0, _normalizeTrailingSlash.removePathTrailingSlash)((0, _denormalizePagePath.denormalizePagePath)(pathname));\n\n  if (cleanPathname === '/404' || cleanPathname === '/_error') {\n    return pathname;\n  } // handle resolving href for dynamic routes\n\n\n  if (!pages.includes(cleanPathname)) {\n    // eslint-disable-next-line array-callback-return\n    pages.some(page => {\n      if ((0, _isDynamic.isDynamicRoute)(page) && (0, _routeRegex.getRouteRegex)(page).re.test(cleanPathname)) {\n        pathname = page;\n        return true;\n      }\n    });\n  }\n\n  return (0, _normalizeTrailingSlash.removePathTrailingSlash)(pathname);\n}\n\nconst manualScrollRestoration = process.env.__NEXT_SCROLL_RESTORATION && false && 'scrollRestoration' in window.history && !!function () {\n  try {\n    let v = '__next'; // eslint-disable-next-line no-sequences\n\n    return sessionStorage.setItem(v, v), sessionStorage.removeItem(v), true;\n  } catch (n) {}\n}();\nconst SSG_DATA_NOT_FOUND = Symbol('SSG_DATA_NOT_FOUND');\n\nfunction fetchRetry(url, attempts) {\n  return fetch(url, {\n    // Cookies are required to be present for Next.js' SSG \"Preview Mode\".\n    // Cookies may also be required for `getServerSideProps`.\n    //\n    // > `fetch` wont send cookies, unless you set the credentials init\n    // > option.\n    // https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API/Using_Fetch\n    //\n    // > For maximum browser compatibility when it comes to sending &\n    // > receiving cookies, always supply the `credentials: 'same-origin'`\n    // > option instead of relying on the default.\n    // https://github.com/github/fetch#caveats\n    credentials: 'same-origin'\n  }).then(res => {\n    if (!res.ok) {\n      if (attempts > 1 && res.status >= 500) {\n        return fetchRetry(url, attempts - 1);\n      }\n\n      if (res.status === 404) {\n        return res.json().then(data => {\n          if (data.notFound) {\n            return {\n              notFound: SSG_DATA_NOT_FOUND\n            };\n          }\n\n          throw new Error(`Failed to load static props`);\n        });\n      }\n\n      throw new Error(`Failed to load static props`);\n    }\n\n    return res.json();\n  });\n}\n\nfunction fetchNextData(dataHref, isServerRender) {\n  return fetchRetry(dataHref, isServerRender ? 3 : 1).catch(err => {\n    // We should only trigger a server-side transition if this was caused\n    // on a client-side transition. Otherwise, we'd get into an infinite\n    // loop.\n    if (!isServerRender) {\n      (0, _routeLoader.markAssetError)(err);\n    }\n\n    throw err;\n  });\n}\n\nclass Router {\n  /**\n  * Map of all components loaded in `Router`\n  */\n  // Static Data Cache\n  // In-flight Server Data Requests, for deduping\n  constructor(_pathname, _query, _as, {\n    initialProps,\n    pageLoader,\n    App,\n    wrapApp,\n    Component,\n    err,\n    subscription,\n    isFallback,\n    locale,\n    locales,\n    defaultLocale,\n    domainLocales,\n    isPreview\n  }) {\n    this.route = void 0;\n    this.pathname = void 0;\n    this.query = void 0;\n    this.asPath = void 0;\n    this.basePath = void 0;\n    this.components = void 0;\n    this.sdc = {};\n    this.sdr = {};\n    this.sub = void 0;\n    this.clc = void 0;\n    this.pageLoader = void 0;\n    this._bps = void 0;\n    this.events = void 0;\n    this._wrapApp = void 0;\n    this.isSsr = void 0;\n    this.isFallback = void 0;\n    this._inFlightRoute = void 0;\n    this._shallow = void 0;\n    this.locale = void 0;\n    this.locales = void 0;\n    this.defaultLocale = void 0;\n    this.domainLocales = void 0;\n    this.isReady = void 0;\n    this.isPreview = void 0;\n    this.isLocaleDomain = void 0;\n    this._idx = 0;\n\n    this.onPopState = e => {\n      const state = e.state;\n\n      if (!state) {\n        // We get state as undefined for two reasons.\n        //  1. With older safari (< 8) and older chrome (< 34)\n        //  2. When the URL changed with #\n        //\n        // In the both cases, we don't need to proceed and change the route.\n        // (as it's already changed)\n        // But we can simply replace the state with the new changes.\n        // Actually, for (1) we don't need to nothing. But it's hard to detect that event.\n        // So, doing the following for (1) does no harm.\n        const {\n          pathname,\n          query\n        } = this;\n        this.changeState('replaceState', (0, _utils.formatWithValidation)({\n          pathname: addBasePath(pathname),\n          query\n        }), (0, _utils.getURL)());\n        return;\n      }\n\n      if (!state.__N) {\n        return;\n      }\n\n      let forcedScroll;\n      const {\n        url,\n        as,\n        options,\n        idx\n      } = state;\n\n      if (process.env.__NEXT_SCROLL_RESTORATION) {\n        if (manualScrollRestoration) {\n          if (this._idx !== idx) {\n            // Snapshot current scroll position:\n            try {\n              sessionStorage.setItem('__next_scroll_' + this._idx, JSON.stringify({\n                x: self.pageXOffset,\n                y: self.pageYOffset\n              }));\n            } catch (_unused) {} // Restore old scroll position:\n\n\n            try {\n              const v = sessionStorage.getItem('__next_scroll_' + idx);\n              forcedScroll = JSON.parse(v);\n            } catch (_unused2) {\n              forcedScroll = {\n                x: 0,\n                y: 0\n              };\n            }\n          }\n        }\n      }\n\n      this._idx = idx;\n      const {\n        pathname\n      } = (0, _parseRelativeUrl.parseRelativeUrl)(url); // Make sure we don't re-render on initial load,\n      // can be caused by navigating back from an external site\n\n      if (this.isSsr && as === this.asPath && pathname === this.pathname) {\n        return;\n      } // If the downstream application returns falsy, return.\n      // They will then be responsible for handling the event.\n\n\n      if (this._bps && !this._bps(state)) {\n        return;\n      }\n\n      this.change('replaceState', url, as, Object.assign({}, options, {\n        shallow: options.shallow && this._shallow,\n        locale: options.locale || this.defaultLocale\n      }), forcedScroll);\n    }; // represents the current component key\n\n\n    this.route = (0, _normalizeTrailingSlash.removePathTrailingSlash)(_pathname); // set up the component cache (by route keys)\n\n    this.components = {}; // We should not keep the cache, if there's an error\n    // Otherwise, this cause issues when when going back and\n    // come again to the errored page.\n\n    if (_pathname !== '/_error') {\n      this.components[this.route] = {\n        Component,\n        initial: true,\n        props: initialProps,\n        err,\n        __N_SSG: initialProps && initialProps.__N_SSG,\n        __N_SSP: initialProps && initialProps.__N_SSP\n      };\n    }\n\n    this.components['/_app'] = {\n      Component: App,\n      styleSheets: [\n        /* /_app does not need its stylesheets managed */\n      ]\n    }; // Backwards compat for Router.router.events\n    // TODO: Should be remove the following major version as it was never documented\n\n    this.events = Router.events;\n    this.pageLoader = pageLoader;\n    this.pathname = _pathname;\n    this.query = _query; // if auto prerendered and dynamic route wait to update asPath\n    // until after mount to prevent hydration mismatch\n\n    const autoExportDynamic = (0, _isDynamic.isDynamicRoute)(_pathname) && self.__NEXT_DATA__.autoExport;\n\n    this.asPath = autoExportDynamic ? _pathname : _as;\n    this.basePath = basePath;\n    this.sub = subscription;\n    this.clc = null;\n    this._wrapApp = wrapApp; // make sure to ignore extra popState in safari on navigating\n    // back from external site\n\n    this.isSsr = true;\n    this.isFallback = isFallback;\n    this.isReady = !!(self.__NEXT_DATA__.gssp || self.__NEXT_DATA__.gip || !autoExportDynamic && !self.location.search && !process.env.__NEXT_HAS_REWRITES);\n    this.isPreview = !!isPreview;\n    this.isLocaleDomain = false;\n\n    if (process.env.__NEXT_I18N_SUPPORT) {\n      this.locale = locale;\n      this.locales = locales;\n      this.defaultLocale = defaultLocale;\n      this.domainLocales = domainLocales;\n      this.isLocaleDomain = !!detectDomainLocale(domainLocales, self.location.hostname);\n    }\n\n    if (false) {\n      // make sure \"as\" doesn't start with double slashes or else it can\n      // throw an error as it's considered invalid\n      if (_as.substr(0, 2) !== '//') {\n        // in order for `e.state` to work on the `onpopstate` event\n        // we have to register the initial route upon initialization\n        const options = {\n          locale\n        };\n        options._shouldResolveHref = _as !== _pathname;\n        this.changeState('replaceState', (0, _utils.formatWithValidation)({\n          pathname: addBasePath(_pathname),\n          query: _query\n        }), (0, _utils.getURL)(), options);\n      }\n\n      window.addEventListener('popstate', this.onPopState); // enable custom scroll restoration handling when available\n      // otherwise fallback to browser's default handling\n\n      if (process.env.__NEXT_SCROLL_RESTORATION) {\n        if (manualScrollRestoration) {\n          window.history.scrollRestoration = 'manual';\n        }\n      }\n    }\n  }\n\n  reload() {\n    window.location.reload();\n  }\n  /**\n  * Go back in history\n  */\n\n\n  back() {\n    window.history.back();\n  }\n  /**\n  * Performs a `pushState` with arguments\n  * @param url of the route\n  * @param as masks `url` for the browser\n  * @param options object you can define `shallow` and other options\n  */\n\n\n  push(url, as, options = {}) {\n    if (process.env.__NEXT_SCROLL_RESTORATION) {\n      // TODO: remove in the future when we update history before route change\n      // is complete, as the popstate event should handle this capture.\n      if (manualScrollRestoration) {\n        try {\n          // Snapshot scroll position right before navigating to a new page:\n          sessionStorage.setItem('__next_scroll_' + this._idx, JSON.stringify({\n            x: self.pageXOffset,\n            y: self.pageYOffset\n          }));\n        } catch (_unused3) {}\n      }\n    }\n\n    ;\n    ({\n      url,\n      as\n    } = prepareUrlAs(this, url, as));\n    return this.change('pushState', url, as, options);\n  }\n  /**\n  * Performs a `replaceState` with arguments\n  * @param url of the route\n  * @param as masks `url` for the browser\n  * @param options object you can define `shallow` and other options\n  */\n\n\n  replace(url, as, options = {}) {\n    ;\n    ({\n      url,\n      as\n    } = prepareUrlAs(this, url, as));\n    return this.change('replaceState', url, as, options);\n  }\n\n  async change(method, url, as, options, forcedScroll) {\n    if (!isLocalURL(url)) {\n      window.location.href = url;\n      return false;\n    }\n\n    const shouldResolveHref = url === as || options._h || options._shouldResolveHref; // for static pages with query params in the URL we delay\n    // marking the router ready until after the query is updated\n\n    if (options._h) {\n      this.isReady = true;\n    }\n\n    let localeChange = options.locale !== this.locale;\n\n    if (process.env.__NEXT_I18N_SUPPORT) {\n      this.locale = options.locale === false ? this.defaultLocale : options.locale || this.locale;\n\n      if (typeof options.locale === 'undefined') {\n        options.locale = this.locale;\n      }\n\n      const parsedAs = (0, _parseRelativeUrl.parseRelativeUrl)(hasBasePath(as) ? delBasePath(as) : as);\n      const localePathResult = (0, _normalizeLocalePath.normalizeLocalePath)(parsedAs.pathname, this.locales);\n\n      if (localePathResult.detectedLocale) {\n        this.locale = localePathResult.detectedLocale;\n        parsedAs.pathname = addBasePath(parsedAs.pathname);\n        as = (0, _utils.formatWithValidation)(parsedAs);\n        url = addBasePath((0, _normalizeLocalePath.normalizeLocalePath)(hasBasePath(url) ? delBasePath(url) : url, this.locales).pathname);\n      }\n\n      let didNavigate = false; // we need to wrap this in the env check again since regenerator runtime\n      // moves this on its own due to the return\n\n      if (process.env.__NEXT_I18N_SUPPORT) {\n        var _this$locales; // if the locale isn't configured hard navigate to show 404 page\n\n\n        if (!((_this$locales = this.locales) != null && _this$locales.includes(this.locale))) {\n          parsedAs.pathname = addLocale(parsedAs.pathname, this.locale);\n          window.location.href = (0, _utils.formatWithValidation)(parsedAs); // this was previously a return but was removed in favor\n          // of better dead code elimination with regenerator runtime\n\n          didNavigate = true;\n        }\n      }\n\n      const detectedDomain = detectDomainLocale(this.domainLocales, undefined, this.locale); // we need to wrap this in the env check again since regenerator runtime\n      // moves this on its own due to the return\n\n      if (process.env.__NEXT_I18N_SUPPORT) {\n        // if we are navigating to a domain locale ensure we redirect to the\n        // correct domain\n        if (!didNavigate && detectedDomain && this.isLocaleDomain && self.location.hostname !== detectedDomain.domain) {\n          const asNoBasePath = delBasePath(as);\n          window.location.href = `http${detectedDomain.http ? '' : 's'}://${detectedDomain.domain}${addBasePath(`${this.locale === detectedDomain.defaultLocale ? '' : `/${this.locale}`}${asNoBasePath === '/' ? '' : asNoBasePath}` || '/')}`; // this was previously a return but was removed in favor\n          // of better dead code elimination with regenerator runtime\n\n          didNavigate = true;\n        }\n      }\n\n      if (didNavigate) {\n        return new Promise(() => {});\n      }\n    }\n\n    if (!options._h) {\n      this.isSsr = false;\n    } // marking route changes as a navigation start entry\n\n\n    if (_utils.ST) {\n      performance.mark('routeChange');\n    }\n\n    const {\n      shallow = false\n    } = options;\n    const routeProps = {\n      shallow\n    };\n\n    if (this._inFlightRoute) {\n      this.abortComponentLoad(this._inFlightRoute, routeProps);\n    }\n\n    as = addBasePath(addLocale(hasBasePath(as) ? delBasePath(as) : as, options.locale, this.defaultLocale));\n    const cleanedAs = delLocale(hasBasePath(as) ? delBasePath(as) : as, this.locale);\n    this._inFlightRoute = as; // If the url change is only related to a hash change\n    // We should not proceed. We should only change the state.\n    // WARNING: `_h` is an internal option for handing Next.js client-side\n    // hydration. Your app should _never_ use this property. It may change at\n    // any time without notice.\n\n    if (!options._h && this.onlyAHashChange(cleanedAs)) {\n      this.asPath = cleanedAs;\n      Router.events.emit('hashChangeStart', as, routeProps); // TODO: do we need the resolved href when only a hash change?\n\n      this.changeState(method, url, as, options);\n      this.scrollToHash(cleanedAs);\n      this.notify(this.components[this.route], null);\n      Router.events.emit('hashChangeComplete', as, routeProps);\n      return true;\n    }\n\n    let parsed = (0, _parseRelativeUrl.parseRelativeUrl)(url);\n    let {\n      pathname,\n      query\n    } = parsed; // The build manifest needs to be loaded before auto-static dynamic pages\n    // get their query parameters to allow ensuring they can be parsed properly\n    // when rewritten to\n\n    let pages, rewrites;\n\n    try {\n      pages = await this.pageLoader.getPageList();\n      ({\n        __rewrites: rewrites\n      } = await (0, _routeLoader.getClientBuildManifest)());\n    } catch (err) {\n      // If we fail to resolve the page list or client-build manifest, we must\n      // do a server-side transition:\n      window.location.href = as;\n      return false;\n    } // If asked to change the current URL we should reload the current page\n    // (not location.reload() but reload getInitialProps and other Next.js stuffs)\n    // We also need to set the method = replaceState always\n    // as this should not go into the history (That's how browsers work)\n    // We should compare the new asPath to the current asPath, not the url\n\n\n    if (!this.urlIsNew(cleanedAs) && !localeChange) {\n      method = 'replaceState';\n    } // we need to resolve the as value using rewrites for dynamic SSG\n    // pages to allow building the data URL correctly\n\n\n    let resolvedAs = as; // url and as should always be prefixed with basePath by this\n    // point by either next/link or router.push/replace so strip the\n    // basePath from the pathname to match the pages dir 1-to-1\n\n    pathname = pathname ? (0, _normalizeTrailingSlash.removePathTrailingSlash)(delBasePath(pathname)) : pathname;\n\n    if (shouldResolveHref && pathname !== '/_error') {\n      ;\n      options._shouldResolveHref = true;\n\n      if (process.env.__NEXT_HAS_REWRITES && as.startsWith('/')) {\n        const rewritesResult = (0, _resolveRewrites.default)(addBasePath(addLocale(cleanedAs, this.locale)), pages, rewrites, query, p => resolveDynamicRoute(p, pages), this.locales);\n        resolvedAs = rewritesResult.asPath;\n\n        if (rewritesResult.matchedPage && rewritesResult.resolvedHref) {\n          // if this directly matches a page we need to update the href to\n          // allow the correct page chunk to be loaded\n          pathname = rewritesResult.resolvedHref;\n          parsed.pathname = addBasePath(pathname);\n          url = (0, _utils.formatWithValidation)(parsed);\n        }\n      } else {\n        parsed.pathname = resolveDynamicRoute(pathname, pages);\n\n        if (parsed.pathname !== pathname) {\n          pathname = parsed.pathname;\n          parsed.pathname = addBasePath(pathname);\n          url = (0, _utils.formatWithValidation)(parsed);\n        }\n      }\n    }\n\n    const route = (0, _normalizeTrailingSlash.removePathTrailingSlash)(pathname);\n\n    if (!isLocalURL(as)) {\n      if (false) {\n        throw new Error(`Invalid href: \"${url}\" and as: \"${as}\", received relative href and external as` + `\\nSee more info: https://nextjs.org/docs/messages/invalid-relative-url-external-as`);\n      }\n\n      window.location.href = as;\n      return false;\n    }\n\n    resolvedAs = delLocale(delBasePath(resolvedAs), this.locale);\n\n    if ((0, _isDynamic.isDynamicRoute)(route)) {\n      const parsedAs = (0, _parseRelativeUrl.parseRelativeUrl)(resolvedAs);\n      const asPathname = parsedAs.pathname;\n      const routeRegex = (0, _routeRegex.getRouteRegex)(route);\n      const routeMatch = (0, _routeMatcher.getRouteMatcher)(routeRegex)(asPathname);\n      const shouldInterpolate = route === asPathname;\n      const interpolatedAs = shouldInterpolate ? interpolateAs(route, asPathname, query) : {};\n\n      if (!routeMatch || shouldInterpolate && !interpolatedAs.result) {\n        const missingParams = Object.keys(routeRegex.groups).filter(param => !query[param]);\n\n        if (missingParams.length > 0) {\n          if (false) {\n            console.warn(`${shouldInterpolate ? `Interpolating href` : `Mismatching \\`as\\` and \\`href\\``} failed to manually provide ` + `the params: ${missingParams.join(', ')} in the \\`href\\`'s \\`query\\``);\n          }\n\n          throw new Error((shouldInterpolate ? `The provided \\`href\\` (${url}) value is missing query values (${missingParams.join(', ')}) to be interpolated properly. ` : `The provided \\`as\\` value (${asPathname}) is incompatible with the \\`href\\` value (${route}). `) + `Read more: https://nextjs.org/docs/messages/${shouldInterpolate ? 'href-interpolation-failed' : 'incompatible-href-as'}`);\n        }\n      } else if (shouldInterpolate) {\n        as = (0, _utils.formatWithValidation)(Object.assign({}, parsedAs, {\n          pathname: interpolatedAs.result,\n          query: omitParmsFromQuery(query, interpolatedAs.params)\n        }));\n      } else {\n        // Merge params into `query`, overwriting any specified in search\n        Object.assign(query, routeMatch);\n      }\n    }\n\n    Router.events.emit('routeChangeStart', as, routeProps);\n\n    try {\n      var _self$__NEXT_DATA__$p, _self$__NEXT_DATA__$p2, _options$scroll;\n\n      let routeInfo = await this.getRouteInfo(route, pathname, query, as, resolvedAs, routeProps);\n      let {\n        error,\n        props,\n        __N_SSG,\n        __N_SSP\n      } = routeInfo; // handle redirect on client-transition\n\n      if ((__N_SSG || __N_SSP) && props) {\n        if (props.pageProps && props.pageProps.__N_REDIRECT) {\n          const destination = props.pageProps.__N_REDIRECT; // check if destination is internal (resolves to a page) and attempt\n          // client-navigation if it is falling back to hard navigation if\n          // it's not\n\n          if (destination.startsWith('/')) {\n            const parsedHref = (0, _parseRelativeUrl.parseRelativeUrl)(destination);\n            parsedHref.pathname = resolveDynamicRoute(parsedHref.pathname, pages);\n            const {\n              url: newUrl,\n              as: newAs\n            } = prepareUrlAs(this, destination, destination);\n            return this.change(method, newUrl, newAs, options);\n          }\n\n          window.location.href = destination;\n          return new Promise(() => {});\n        }\n\n        this.isPreview = !!props.__N_PREVIEW; // handle SSG data 404\n\n        if (props.notFound === SSG_DATA_NOT_FOUND) {\n          let notFoundRoute;\n\n          try {\n            await this.fetchComponent('/404');\n            notFoundRoute = '/404';\n          } catch (_) {\n            notFoundRoute = '/_error';\n          }\n\n          routeInfo = await this.getRouteInfo(notFoundRoute, notFoundRoute, query, as, resolvedAs, {\n            shallow: false\n          });\n        }\n      }\n\n      Router.events.emit('beforeHistoryChange', as, routeProps);\n      this.changeState(method, url, as, options);\n\n      if (false) {\n        const appComp = this.components['/_app'].Component;\n        window.next.isPrerendered = appComp.getInitialProps === appComp.origGetInitialProps && !routeInfo.Component.getInitialProps;\n      }\n\n      if (options._h && pathname === '/_error' && ((_self$__NEXT_DATA__$p = self.__NEXT_DATA__.props) == null ? void 0 : (_self$__NEXT_DATA__$p2 = _self$__NEXT_DATA__$p.pageProps) == null ? void 0 : _self$__NEXT_DATA__$p2.statusCode) === 500 && props != null && props.pageProps) {\n        // ensure statusCode is still correct for static 500 page\n        // when updating query information\n        props.pageProps.statusCode = 500;\n      } // shallow routing is only allowed for same page URL changes.\n\n\n      const isValidShallowRoute = options.shallow && this.route === route;\n      const shouldScroll = (_options$scroll = options.scroll) != null ? _options$scroll : !isValidShallowRoute;\n      const resetScroll = shouldScroll ? {\n        x: 0,\n        y: 0\n      } : null;\n      await this.set(route, pathname, query, cleanedAs, routeInfo, forcedScroll != null ? forcedScroll : resetScroll).catch(e => {\n        if (e.cancelled) error = error || e;else throw e;\n      });\n\n      if (error) {\n        Router.events.emit('routeChangeError', error, cleanedAs, routeProps);\n        throw error;\n      }\n\n      if (process.env.__NEXT_I18N_SUPPORT) {\n        if (this.locale) {\n          document.documentElement.lang = this.locale;\n        }\n      }\n\n      Router.events.emit('routeChangeComplete', as, routeProps);\n      return true;\n    } catch (err) {\n      if (err.cancelled) {\n        return false;\n      }\n\n      throw err;\n    }\n  }\n\n  changeState(method, url, as, options = {}) {\n    if (false) {\n      if (typeof window.history === 'undefined') {\n        console.error(`Warning: window.history is not available.`);\n        return;\n      }\n\n      if (typeof window.history[method] === 'undefined') {\n        console.error(`Warning: window.history.${method} is not available`);\n        return;\n      }\n    }\n\n    if (method !== 'pushState' || (0, _utils.getURL)() !== as) {\n      this._shallow = options.shallow;\n      window.history[method]({\n        url,\n        as,\n        options,\n        __N: true,\n        idx: this._idx = method !== 'pushState' ? this._idx : this._idx + 1\n      }, // Most browsers currently ignores this parameter, although they may use it in the future.\n      // Passing the empty string here should be safe against future changes to the method.\n      // https://developer.mozilla.org/en-US/docs/Web/API/History/replaceState\n      '', as);\n    }\n  }\n\n  async handleRouteInfoError(err, pathname, query, as, routeProps, loadErrorFail) {\n    if (err.cancelled) {\n      // bubble up cancellation errors\n      throw err;\n    }\n\n    if ((0, _routeLoader.isAssetError)(err) || loadErrorFail) {\n      Router.events.emit('routeChangeError', err, as, routeProps); // If we can't load the page it could be one of following reasons\n      //  1. Page doesn't exists\n      //  2. Page does exist in a different zone\n      //  3. Internal error while loading the page\n      // So, doing a hard reload is the proper way to deal with this.\n\n      window.location.href = as; // Changing the URL doesn't block executing the current code path.\n      // So let's throw a cancellation error stop the routing logic.\n\n      throw buildCancellationError();\n    }\n\n    try {\n      let Component;\n      let styleSheets;\n      let props;\n\n      if (typeof Component === 'undefined' || typeof styleSheets === 'undefined') {\n        ;\n        ({\n          page: Component,\n          styleSheets\n        } = await this.fetchComponent('/_error'));\n      }\n\n      const routeInfo = {\n        props,\n        Component,\n        styleSheets,\n        err,\n        error: err\n      };\n\n      if (!routeInfo.props) {\n        try {\n          routeInfo.props = await this.getInitialProps(Component, {\n            err,\n            pathname,\n            query\n          });\n        } catch (gipErr) {\n          console.error('Error in error page `getInitialProps`: ', gipErr);\n          routeInfo.props = {};\n        }\n      }\n\n      return routeInfo;\n    } catch (routeInfoErr) {\n      return this.handleRouteInfoError(routeInfoErr, pathname, query, as, routeProps, true);\n    }\n  }\n\n  async getRouteInfo(route, pathname, query, as, resolvedAs, routeProps) {\n    try {\n      const existingRouteInfo = this.components[route];\n\n      if (routeProps.shallow && existingRouteInfo && this.route === route) {\n        return existingRouteInfo;\n      }\n\n      const cachedRouteInfo = existingRouteInfo && 'initial' in existingRouteInfo ? undefined : existingRouteInfo;\n      const routeInfo = cachedRouteInfo ? cachedRouteInfo : await this.fetchComponent(route).then(res => ({\n        Component: res.page,\n        styleSheets: res.styleSheets,\n        __N_SSG: res.mod.__N_SSG,\n        __N_SSP: res.mod.__N_SSP\n      }));\n      const {\n        Component,\n        __N_SSG,\n        __N_SSP\n      } = routeInfo;\n\n      if (false) {\n        const {\n          isValidElementType\n        } = require('react-is');\n\n        if (!isValidElementType(Component)) {\n          throw new Error(`The default export is not a React Component in page: \"${pathname}\"`);\n        }\n      }\n\n      let dataHref;\n\n      if (__N_SSG || __N_SSP) {\n        dataHref = this.pageLoader.getDataHref((0, _utils.formatWithValidation)({\n          pathname,\n          query\n        }), resolvedAs, __N_SSG, this.locale);\n      }\n\n      const props = await this._getData(() => __N_SSG ? this._getStaticData(dataHref) : __N_SSP ? this._getServerData(dataHref) : this.getInitialProps(Component, // we provide AppTree later so this needs to be `any`\n      {\n        pathname,\n        query,\n        asPath: as,\n        locale: this.locale,\n        locales: this.locales,\n        defaultLocale: this.defaultLocale\n      }));\n      routeInfo.props = props;\n      this.components[route] = routeInfo;\n      return routeInfo;\n    } catch (err) {\n      return this.handleRouteInfoError(err, pathname, query, as, routeProps);\n    }\n  }\n\n  set(route, pathname, query, as, data, resetScroll) {\n    this.isFallback = false;\n    this.route = route;\n    this.pathname = pathname;\n    this.query = query;\n    this.asPath = as;\n    return this.notify(data, resetScroll);\n  }\n  /**\n  * Callback to execute before replacing router state\n  * @param cb callback to be executed\n  */\n\n\n  beforePopState(cb) {\n    this._bps = cb;\n  }\n\n  onlyAHashChange(as) {\n    if (!this.asPath) return false;\n    const [oldUrlNoHash, oldHash] = this.asPath.split('#');\n    const [newUrlNoHash, newHash] = as.split('#'); // Makes sure we scroll to the provided hash if the url/hash are the same\n\n    if (newHash && oldUrlNoHash === newUrlNoHash && oldHash === newHash) {\n      return true;\n    } // If the urls are change, there's more than a hash change\n\n\n    if (oldUrlNoHash !== newUrlNoHash) {\n      return false;\n    } // If the hash has changed, then it's a hash only change.\n    // This check is necessary to handle both the enter and\n    // leave hash === '' cases. The identity case falls through\n    // and is treated as a next reload.\n\n\n    return oldHash !== newHash;\n  }\n\n  scrollToHash(as) {\n    const [, hash] = as.split('#'); // Scroll to top if the hash is just `#` with no value or `#top`\n    // To mirror browsers\n\n    if (hash === '' || hash === 'top') {\n      window.scrollTo(0, 0);\n      return;\n    } // First we check if the element by id is found\n\n\n    const idEl = document.getElementById(hash);\n\n    if (idEl) {\n      idEl.scrollIntoView();\n      return;\n    } // If there's no element with the id, we check the `name` property\n    // To mirror browsers\n\n\n    const nameEl = document.getElementsByName(hash)[0];\n\n    if (nameEl) {\n      nameEl.scrollIntoView();\n    }\n  }\n\n  urlIsNew(asPath) {\n    return this.asPath !== asPath;\n  }\n  /**\n  * Prefetch page code, you may wait for the data during page rendering.\n  * This feature only works in production!\n  * @param url the href of prefetched page\n  * @param asPath the as path of the prefetched page\n  */\n\n\n  async prefetch(url, asPath = url, options = {}) {\n    let parsed = (0, _parseRelativeUrl.parseRelativeUrl)(url);\n    let {\n      pathname\n    } = parsed;\n\n    if (process.env.__NEXT_I18N_SUPPORT) {\n      if (options.locale === false) {\n        pathname = (0, _normalizeLocalePath.normalizeLocalePath)(pathname, this.locales).pathname;\n        parsed.pathname = pathname;\n        url = (0, _utils.formatWithValidation)(parsed);\n        let parsedAs = (0, _parseRelativeUrl.parseRelativeUrl)(asPath);\n        const localePathResult = (0, _normalizeLocalePath.normalizeLocalePath)(parsedAs.pathname, this.locales);\n        parsedAs.pathname = localePathResult.pathname;\n        options.locale = localePathResult.detectedLocale || this.defaultLocale;\n        asPath = (0, _utils.formatWithValidation)(parsedAs);\n      }\n    }\n\n    const pages = await this.pageLoader.getPageList();\n    let resolvedAs = asPath;\n\n    if (process.env.__NEXT_HAS_REWRITES && asPath.startsWith('/')) {\n      let rewrites;\n      ({\n        __rewrites: rewrites\n      } = await (0, _routeLoader.getClientBuildManifest)());\n      const rewritesResult = (0, _resolveRewrites.default)(addBasePath(addLocale(asPath, this.locale)), pages, rewrites, parsed.query, p => resolveDynamicRoute(p, pages), this.locales);\n      resolvedAs = delLocale(delBasePath(rewritesResult.asPath), this.locale);\n\n      if (rewritesResult.matchedPage && rewritesResult.resolvedHref) {\n        // if this directly matches a page we need to update the href to\n        // allow the correct page chunk to be loaded\n        pathname = rewritesResult.resolvedHref;\n        parsed.pathname = pathname;\n        url = (0, _utils.formatWithValidation)(parsed);\n      }\n    } else {\n      parsed.pathname = resolveDynamicRoute(parsed.pathname, pages);\n\n      if (parsed.pathname !== pathname) {\n        pathname = parsed.pathname;\n        parsed.pathname = pathname;\n        url = (0, _utils.formatWithValidation)(parsed);\n      }\n    }\n\n    const route = (0, _normalizeTrailingSlash.removePathTrailingSlash)(pathname); // Prefetch is not supported in development mode because it would trigger on-demand-entries\n\n    if (false) {\n      return;\n    }\n\n    await Promise.all([this.pageLoader._isSsg(route).then(isSsg => {\n      return isSsg ? this._getStaticData(this.pageLoader.getDataHref(url, resolvedAs, true, typeof options.locale !== 'undefined' ? options.locale : this.locale)) : false;\n    }), this.pageLoader[options.priority ? 'loadPage' : 'prefetch'](route)]);\n  }\n\n  async fetchComponent(route) {\n    let cancelled = false;\n\n    const cancel = this.clc = () => {\n      cancelled = true;\n    };\n\n    const componentResult = await this.pageLoader.loadPage(route);\n\n    if (cancelled) {\n      const error = new Error(`Abort fetching component for route: \"${route}\"`);\n      error.cancelled = true;\n      throw error;\n    }\n\n    if (cancel === this.clc) {\n      this.clc = null;\n    }\n\n    return componentResult;\n  }\n\n  _getData(fn) {\n    let cancelled = false;\n\n    const cancel = () => {\n      cancelled = true;\n    };\n\n    this.clc = cancel;\n    return fn().then(data => {\n      if (cancel === this.clc) {\n        this.clc = null;\n      }\n\n      if (cancelled) {\n        const err = new Error('Loading initial props cancelled');\n        err.cancelled = true;\n        throw err;\n      }\n\n      return data;\n    });\n  }\n\n  _getStaticData(dataHref) {\n    const {\n      href: cacheKey\n    } = new URL(dataHref, window.location.href);\n\n    if (true && !this.isPreview && this.sdc[cacheKey]) {\n      return Promise.resolve(this.sdc[cacheKey]);\n    }\n\n    return fetchNextData(dataHref, this.isSsr).then(data => {\n      this.sdc[cacheKey] = data;\n      return data;\n    });\n  }\n\n  _getServerData(dataHref) {\n    const {\n      href: resourceKey\n    } = new URL(dataHref, window.location.href);\n\n    if (this.sdr[resourceKey]) {\n      return this.sdr[resourceKey];\n    }\n\n    return this.sdr[resourceKey] = fetchNextData(dataHref, this.isSsr).then(data => {\n      delete this.sdr[resourceKey];\n      return data;\n    }).catch(err => {\n      delete this.sdr[resourceKey];\n      throw err;\n    });\n  }\n\n  getInitialProps(Component, ctx) {\n    const {\n      Component: App\n    } = this.components['/_app'];\n\n    const AppTree = this._wrapApp(App);\n\n    ctx.AppTree = AppTree;\n    return (0, _utils.loadGetInitialProps)(App, {\n      AppTree,\n      Component,\n      router: this,\n      ctx\n    });\n  }\n\n  abortComponentLoad(as, routeProps) {\n    if (this.clc) {\n      Router.events.emit('routeChangeError', buildCancellationError(), as, routeProps);\n      this.clc();\n      this.clc = null;\n    }\n  }\n\n  notify(data, resetScroll) {\n    return this.sub(data, this.components['/_app'].Component, resetScroll);\n  }\n\n}\n\nexports.default = Router;\nRouter.events = (0, _mitt.default)();",".outsmartly/analysis/modules/155.js":"// components/Product/ProductPhotos/ImageZoom.js\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport _defineProperty from \"/Users/kai/Work/rbx-rewrite/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { useState, useRef, useMemo } from 'react';\nimport { target, show, lens, view } from './ImageZoom.module.css';\nimport { getProductImageUrl } from 'lib/getImageUrl'; // Definitions:\n// main = the main image that the user hovers\n// lens = the cursor, a translucent rectangle that hovers the main image\n// view = the zoom viewport that holds the zoomed-in image\n// zoom = the zoomed-in (magnified) image\n\nexport default function ImageZoom(_ref) {\n  var children = _ref.children,\n      zoomSrc = _ref.zoomSrc,\n      imageRef = _ref.imageRef,\n      cursorColor = _ref.cursorColor,\n      opacity = _ref.opacity,\n      cursorType = _ref.cursorType,\n      zindex = _ref.zindex,\n      _ref$zoomviewsize = _ref.zoomviewsize,\n      zoomviewsize = _ref$zoomviewsize === void 0 ? [480, 395] : _ref$zoomviewsize,\n      _ref$zoomviewposition = _ref.zoomviewposition,\n      zoomviewposition = _ref$zoomviewposition === void 0 ? 'right' : _ref$zoomviewposition,\n      _ref$zoomviewmargin = _ref.zoomviewmargin,\n      zoomviewmargin = _ref$zoomviewmargin === void 0 ? 20 : _ref$zoomviewmargin,\n      _ref$zoomviewborder = _ref.zoomviewborder,\n      zoomviewborder = _ref$zoomviewborder === void 0 ? 'none' : _ref$zoomviewborder,\n      _ref$magnification = _ref.magnification,\n      magnification = _ref$magnification === void 0 ? 1.925 : _ref$magnification;\n\n  var _useState = useState(false),\n      showZoom = _useState[0],\n      setShowZoom = _useState[1];\n\n  var _useState2 = useState({\n    mainWidth: 0,\n    mainHeight: 0,\n    mainPageTop: 0,\n    mainPageLeft: 0,\n    mainOffsetTop: 0,\n    mainOffsetLeft: 0\n  }),\n      mainImageDim = _useState2[0],\n      setMainImageDim = _useState2[1];\n\n  var _useState3 = useState({\n    top: 0,\n    left: 0\n  }),\n      lensPosition = _useState3[0],\n      setLensPosition = _useState3[1];\n\n  var _useState4 = useState({\n    top: 0,\n    left: 0\n  }),\n      zoomPosition = _useState4[0],\n      setZoomPosition = _useState4[1];\n  /** Takes the latest image DOM element, and sets state with the latest\n   * dimensions and position.\n   * @param {Element} img - the <img /> element\n   */\n\n\n  var updateImageDim = function updateImageDim(img) {\n    if (img && true) {\n      var rect = img.getBoundingClientRect();\n      setMainImageDim({\n        mainWidth: rect.width,\n        mainHeight: rect.height,\n        mainPageTop: rect.top + window.scrollY,\n        mainPageLeft: rect.left + window.scrollX,\n        mainOffsetTop: img.offsetTop,\n        mainOffsetLeft: img.offsetLeft\n      });\n    }\n  };\n  /** Called when mouse hovers the image. Well, actually, when the mouse hovers\n   * the transparent wrapper around the image.\n   */\n\n\n  var handleEnter = function handleEnter() {\n    // We could add the lens and view to the DOM here. For now we just add a\n    // class that makes them display: block.\n    // Show the lens and zoom view\n    setShowZoom(true); // Update main image dimensions and position (user could have scrolled,\n    // zoomed in, reduced browser width, etc.).\n\n    updateImageDim(imageRef === null || imageRef === void 0 ? void 0 : imageRef.current);\n  };\n  /** Called when the mouse leaves the image */\n\n\n  var handleLeave = function handleLeave(e) {\n    setShowZoom(false); // We could remove the lens and view from DOM here. For now just remove the\n    // class to leave them at display: none.\n  };\n  /** Called when the mouse moves over the image (the target wrapper) */\n\n\n  var handleMove = function handleMove(e) {\n    // Figure out mouse position relative to the image\n    var mouseX = e.pageX - mainPageLeft;\n    var mouseY = e.pageY - mainPageTop; // Position the lens. Keep cursor from escaping coordinates of image.\n\n    var lensLeft, lensTop;\n    var lensHalfWidth = lensSize.width / 2;\n\n    if (mouseX - lensHalfWidth < 0) {\n      lensLeft = mainOffsetLeft;\n    } else if (mouseX + lensHalfWidth > mainOffsetLeft + mainWidth) {\n      lensLeft = mainOffsetLeft + mainWidth - lensSize.width;\n    } else {\n      lensLeft = mainOffsetLeft + mouseX - lensHalfWidth;\n    }\n\n    var lensHalfHeight = lensSize.height / 2;\n\n    if (mouseY - lensHalfHeight < 0) {\n      lensTop = mainOffsetTop;\n    } else if (mouseY + lensHalfHeight > mainOffsetTop + mainHeight) {\n      lensTop = mainOffsetTop + mainHeight - lensSize.height;\n    } else {\n      lensTop = mainOffsetTop + mouseY - lensHalfHeight;\n    }\n\n    setLensPosition({\n      top: Math.round(lensTop),\n      left: Math.round(lensLeft)\n    }); // Position the zoomed-in image in the zoom viewport. Give left edge a\n    // slight nudge so no gap appears on the right edge.\n\n    var zoomTop = -1 * (lensTop - mainOffsetTop) * magnification;\n    var zoomLeft = -1 * (lensLeft - mainOffsetLeft - 1) * magnification;\n    setZoomPosition({\n      top: Math.round(zoomTop),\n      left: Math.round(zoomLeft)\n    });\n  }; // Get the main image dimensions and position from state. Use them along with\n  // any settings to establish size and position for lens, view, and zoom image\n\n\n  var mainWidth = mainImageDim.mainWidth,\n      mainHeight = mainImageDim.mainHeight,\n      mainPageTop = mainImageDim.mainPageTop,\n      mainPageLeft = mainImageDim.mainPageLeft,\n      mainOffsetTop = mainImageDim.mainOffsetTop,\n      mainOffsetLeft = mainImageDim.mainOffsetLeft; // Styles for the lens\n\n  var lensSize = {\n    width: Math.round(zoomviewsize[0] / magnification),\n    height: Math.round(zoomviewsize[1] / magnification)\n  };\n  var lensStyles = {\n    backgroundColor: cursorColor ? cursorColor : null,\n    opacity: opacity ? opacity : null,\n    cursor: cursorType ? cursorType : null,\n    zIndex: zindex ? zindex : null,\n    width: lensSize.width,\n    height: lensSize.height\n  }; // Styles for the zoom viewport\n\n  var viewTop = mainOffsetTop;\n  var viewLeft = mainOffsetLeft + mainWidth + zoomviewmargin;\n  var viewStyles = {\n    top: Math.round(viewTop),\n    left: Math.round(viewLeft),\n    width: zoomviewsize[0],\n    height: zoomviewsize[1],\n    border: zoomviewborder\n  }; // Styles for the zoomed in image\n\n  var zoomWidth = mainWidth * magnification;\n  var zoomHeight = mainHeight * magnification;\n  var zoomStyles = {\n    width: Math.round(zoomWidth),\n    height: Math.round(zoomHeight)\n  }; // Look through children for the one that is an image, and get the src\n\n  var zoomRef = useRef();\n  useMemo(function () {\n    if (zoomRef && showZoom && zoomSrc) {\n      var largSrc = getProductImageUrl(zoomSrc, 1024);\n      var image = new Image();\n      image.src = largSrc;\n\n      image.onload = function () {\n        zoomRef.current.setAttribute('src', largSrc);\n      };\n    }\n  }, [showZoom, zoomRef]);\n  return /*#__PURE__*/_jsxs(_Fragment, {\n    children: [/*#__PURE__*/_jsxs(\"div\", {\n      className: target,\n      onMouseEnter: handleEnter,\n      onMouseMove: handleMove,\n      onMouseLeave: handleLeave,\n      children: [children, /*#__PURE__*/_jsx(\"div\", {\n        className: \"\".concat(lens, \" \").concat(showZoom ? show : ''),\n        style: _objectSpread(_objectSpread({}, lensStyles), lensPosition)\n      })]\n    }), /*#__PURE__*/_jsx(\"div\", {\n      className: \"\".concat(view, \" \").concat(showZoom ? show : ''),\n      style: viewStyles,\n      children: /*#__PURE__*/_jsx(\"img\", {\n        ref: zoomRef,\n        src: zoomSrc,\n        style: _objectSpread(_objectSpread({}, zoomStyles), zoomPosition),\n        alt: \"Zoomed-in product image\"\n      })\n    })]\n  });\n}",".outsmartly/analysis/modules/295.js":"// components/outsmartly/track-exposure.js\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React, { useEffect } from 'react';\nimport { useInView } from 'react-intersection-observer';\n/*\n    rid: string;\n    vid: string;\n    timelineMark: number;\n    elapsedTime: number;\n    releaseId: string;\n    featureId: string;\n    variationId: string;\n    exposureId: string;\n    intersectionRatio: number;\n    elapsedInterval: number;\n    position: number;\n    visibility: string;\n*/\n\nexport async function logExposure({\n  outsmartlyTracking\n}) {\n  if (window.__DEBUG_TRACKING__) {\n    console.log('exposure ->', outsmartlyTracking);\n  } // guard for not actually being on the edge\n\n\n  if (!window.__APP_CONFIG__.gifLoggerUrl || !(outsmartlyTracking !== null && outsmartlyTracking !== void 0 && outsmartlyTracking.featureId)) {\n    return;\n  }\n\n  const elapsedTime = parseInt(window.performance.now());\n  const event = {\n    name: 'exposure',\n    log: {\n      rid: window.__APP_CONFIG__.rid,\n      vid: window.__APP_CONFIG__.vid,\n      timelineMark: window.__APP_CONFIG__.startTimestamp + elapsedTime,\n      elapsedTime,\n      pathname: window.location.pathname,\n      outsmartlyTracking,\n      intersectionRatio: 1,\n      elapsedInterval: 1,\n      visibility: 'visible'\n    }\n  };\n\n  try {\n    const response = await fetch(window.__APP_CONFIG__.gifLoggerUrl, {\n      method: 'POST',\n      body: JSON.stringify(event),\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    });\n\n    if (window.__DEBUG_TRACKING__) {\n      const data = await response.json();\n      console.error('response in exposures ->', data);\n    }\n  } catch (e) {\n    if (window.__DEBUG_TRACKING__) {\n      console.error('error in exposures ->', e);\n    }\n  }\n} // may need to import the intersection observer polyfill\n\nexport function TrackExposure(_ref) {\n  let {\n    children,\n    outsmartlyTracking\n  } = _ref,\n      props = _objectWithoutProperties(_ref, [\"children\", \"outsmartlyTracking\"]);\n\n  const [ref, inView, entry] = useInView({\n    triggerOnce: true,\n    rootMargin: '0px 0px 0px 0px',\n    threshold: [1]\n  });\n  useEffect(() => {\n    if (inView) {\n      logExposure({\n        outsmartlyTracking\n      });\n    }\n  }, [inView]);\n  return (\n    /*#__PURE__*/\n    // maybe pass the inView prop so you don't need to have double observers\n    // if also using an observe in the child?\n    _jsx(\"span\", _objectSpread(_objectSpread({\n      ref: ref\n    }, props), {}, {\n      children: children\n    }))\n  );\n}",".outsmartly/analysis/modules/104.js":"// components/Collection/CollectionGrid.js\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React, { useContext, useState, useMemo } from 'react';\nimport { useRouter } from 'next/router';\nimport { wrapper, collectionGrid, collectionItem } from './CollectionGrid.module.css';\nimport ProductCard from './ProductCard';\nimport Pagination from './Pagination';\nimport { CollectionContext } from 'context/CollectionContext';\nimport Modal from 'components/Modal';\nimport QuickView from 'components/QuickView';\nimport { quickshop } from 'components/QuickView/QuickView.module.css';\nimport { sortProducts } from 'lib/productSort';\nimport { hideScrollbar } from 'lib/utils';\nimport { useCollectionView } from '@outsmartly/shopify-analytics';\n/** The CollectionGrid component */\n\nexport default function CollectionGrid(_ref) {\n  var handle = _ref.handle;\n\n  var _useContext = useContext(CollectionContext),\n      title = _useContext.title,\n      unsortedProducts = _useContext.products;\n\n  if (unsortedProducts.length === 0) {\n    return /*#__PURE__*/_jsx(\"div\", {\n      className: wrapper,\n      children: /*#__PURE__*/_jsx(\"p\", {\n        children: \"Sorry, there are no products in this collection\"\n      })\n    });\n  }\n\n  return /*#__PURE__*/_jsx(InternalGrid, {\n    handle: handle,\n    unsortedProducts: unsortedProducts,\n    title: title\n  });\n}\n\nfunction InternalGrid(_ref2) {\n  var handle = _ref2.handle,\n      unsortedProducts = _ref2.unsortedProducts,\n      title = _ref2.title;\n\n  var _useState = useState(false),\n      showModal = _useState[0],\n      setShowModal = _useState[1];\n\n  var _useState2 = useState({}),\n      quick = _useState2[0],\n      setQuick = _useState2[1]; // Determine the page number and sort_by from the URL\n\n\n  var router = useRouter();\n  var _router$query = router.query,\n      sort_by = _router$query.sort_by,\n      _router$query$page = _router$query.page,\n      page = _router$query$page === void 0 ? 1 : _router$query$page;\n  var products = useMemo(function () {\n    return sortProducts(unsortedProducts, sort_by);\n  }, [unsortedProducts, sort_by]); // Determine if pagination control should appear\n\n  var pageSize = 24;\n  var showPagination = false;\n\n  if (products.length > pageSize) {\n    showPagination = true;\n  } // Determine how many pages there are, and which page to show\n\n\n  var totalPages = Math.ceil(products.length / pageSize); // Grab the products that are on the current page\n\n  var start = (page - 1) * pageSize;\n  var end = page * pageSize;\n  var currentPage = useMemo(function () {\n    return products.slice(start, end);\n  }, [products, start, end]);\n  useCollectionView({\n    title: title\n  }, currentPage);\n  /** Opens the Quick Shop modal */\n\n  var openQuickShopModal = function openQuickShopModal(productHandle) {\n    // Find this product in the currentPage array\n    var product = currentPage.find(function (p) {\n      return p.handle === productHandle;\n    });\n    setQuick(product);\n    hideScrollbar();\n    setShowModal(true);\n  };\n  /** Closes the Quick Shop modal */\n\n\n  var closeQuickShopModal = function closeQuickShopModal(e) {\n    setShowModal(false);\n  };\n\n  return /*#__PURE__*/_jsxs(\"div\", {\n    className: wrapper,\n    children: [/*#__PURE__*/_jsx(\"ul\", {\n      className: collectionGrid,\n      children: currentPage.map(function (product) {\n        return /*#__PURE__*/_jsx(ProductCard, {\n          className: collectionItem,\n          \"data-id\": \"Product Id \".concat(product.id),\n          handle: handle,\n          product: product,\n          onQuickClick: openQuickShopModal\n        }, product.id);\n      })\n    }), showPagination && /*#__PURE__*/_jsx(Pagination, {\n      page: page,\n      totalPages: totalPages\n    }), /*#__PURE__*/_jsx(Modal, {\n      show: showModal,\n      onClose: closeQuickShopModal,\n      contentClass: quickshop,\n      children: /*#__PURE__*/_jsx(QuickView, {\n        instance: \"quickShopModal\",\n        collectionHandle: handle,\n        product: quick,\n        onClose: closeQuickShopModal\n      })\n    })]\n  });\n}",".outsmartly/analysis/modules/124.js":"// components/Product/ProductPhotos/ProductPhotos.js\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { useEffect, useRef, useState } from 'react';\nimport { getProductImageUrl } from 'lib/getImageUrl';\nimport { photos, main, mainImgWrap, mainImg, thumbs, thumbsInner, thumb, active } from './ProductPhotos.module.css';\nimport ProductTag from '../ProductTag';\nimport ImageZoom from './ImageZoom';\nimport { ProductPhotosServerImage } from './ProductPhotosServerImage';\nimport { ServerThumbnails } from './ServerThumbnails';\nimport { getColorsByVariantId } from 'lib/helpers';\nexport default function ProductPhotos(_ref) {\n  var product = _ref.product,\n      images = _ref.images,\n      color = _ref.color;\n  // preload all the images, this is how they do it now\n  // probably pretty wasteful and could be optimized further\n  // for example, just preloading the main image for each color and\n  // then letting the other one load when changing, or loading small\n  // images for the non-main image\n  useEffect(function () {\n    setTimeout(function () {\n      Object.values(product.imageMap).forEach(function (imageSrc) {\n        imageSrc.forEach(function (src, i) {\n          if (images.find(function (defaultImage) {\n            return defaultImage.src === src;\n          })) {\n            // skip the images already displayed\n            return;\n          }\n\n          var image = new Image();\n          image.src = getProductImageUrl(src, i === 0 ? 600 : 100);\n        });\n      });\n    }, 5000);\n  }, [product.images]); // Grab a ref to the main image, and pass it to ImageZoom\n\n  var mainImgRef = useRef();\n\n  var _useState = useState(0),\n      imageIndex = _useState[0],\n      setImageIndex = _useState[1]; // Reset to first image when changing colors.\n\n\n  useEffect(function () {\n    setImageIndex(0);\n  }, [color]);\n  /** Handles a click on a thumbnail. Activates the clicked thumbnail and\n   * updates the main image.\n   * @param {String} clickedId - id of the clicked thumbnail image\n   * @param {Object} e - the event object\n   */\n\n  var handleThumbClick = function handleThumbClick(index, e) {\n    e.preventDefault(); // Update the main image\n\n    setImageIndex(index);\n  };\n\n  var _useState2 = useState(),\n      mainSrc = _useState2[0],\n      setMainSrc = _useState2[1];\n\n  return /*#__PURE__*/_jsxs(\"div\", {\n    className: photos,\n    children: [/*#__PURE__*/_jsx(\"div\", {\n      className: main,\n      children: /*#__PURE__*/_jsxs(\"div\", {\n        className: mainImgWrap,\n        children: [/*#__PURE__*/_jsx(ProductTag, {\n          product: product\n        }), /*#__PURE__*/_jsx(ImageZoom, {\n          imageRef: mainImgRef,\n          zoomSrc: mainSrc,\n          zoomviewsize: [480, 480],\n          magnification: \"2.2\",\n          children: /*#__PURE__*/_jsx(ProductPhotosServerImage, {\n            imgRef: mainImgRef,\n            setSrc: setMainSrc,\n            className: mainImg,\n            imageMap: product.imageMap,\n            clientColor: color,\n            colorsByVariant: getColorsByVariantId(product),\n            index: imageIndex\n          })\n        })]\n      })\n    }), /*#__PURE__*/_jsx(\"div\", {\n      className: thumbs,\n      children: /*#__PURE__*/_jsx(ServerThumbnails, {\n        thumbsInner: thumbsInner,\n        imageIndex: imageIndex,\n        clientColor: color,\n        thumb: thumb,\n        active: active,\n        imageMap: product.imageMap,\n        handleThumbClick: handleThumbClick,\n        colorsByVariant: getColorsByVariantId(product)\n      })\n    })]\n  });\n}",".outsmartly/analysis/modules/175.js":"// pages/api/_next/banner.ts\nimport { fetchAnnouncementBar } from 'outsmartly/helpers/contentful';\nexport default (async (req, res) => {\n  const notifications = await fetchAnnouncementBar();\n  res.statusCode = 200;\n  res.json(notifications);\n});",".outsmartly/analysis/modules/217.js":"// outsmartly/helpers/contentful.js\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport { CONTENTFUL_SPACE_ID, CONTENTFUL_ENV_ID, CONTENTFUL_TOKEN, CONTENTFUL_PREVIEW_TOKEN, tmpCacheTTL } from '../variables';\nimport { formatSlide } from '../../contentful/format-hero-slider';\nimport { formatFeature } from '../../contentful/format-home-features';\nimport { formatCallout } from '../../contentful/format-sidebar-callouts';\nimport { formatMessage } from '../../contentful/format-announcement-bar';\nimport { formatCollection } from '../../contentful/helpers';\nimport { transformContentful } from './transform-contentful';\nconst entryPath = `contentful.com/spaces/${CONTENTFUL_SPACE_ID}/environments/${CONTENTFUL_ENV_ID}/entries`;\nconst baseUrl = `https://cdn.${entryPath}?access_token=${CONTENTFUL_TOKEN}`;\nconst basePreviewUrl = `https://preview.${entryPath}?access_token=${CONTENTFUL_PREVIEW_TOKEN}`;\n/**\n * Gets the data for an entry\n * @param {Object} entry - The entry to fetch. Can be a collection or a single.\n * @param {string} entry.entryId - The id for this entry\n * @param {string} entry.contentType - The well-known contentType id for this entry.\n *\n * @returns {Response} - the raw response from contentful\n */\n\nexport async function fetchContentfulData({\n  entryId,\n  parentEntryId,\n  contentType\n}) {\n  // Determine the appropriate URL for fetching data from Contentful. If we\n  // have an entry ID then we're previewing something, so use the preview URL.\n  // But if we also have a parentEntryId then actually we're previewing a\n  // single item inside a parent, so fetch data for the parent. Else, we are\n  // not previewing, so fetch the regular data.\n  const isPreview = !!entryId;\n  const url = isPreview ? parentEntryId ? `${basePreviewUrl}&sys.id=${parentEntryId}&include=3` : `${basePreviewUrl}&sys.id=${entryId}&include=3` : `${baseUrl}&content_type=${contentType}&include=3`;\n  const request = new Request(url, {\n    cf: {\n      cacheEverything: true,\n      cacheKey: isPreview ? Math.random() : undefined,\n      cacheTtlByStatus: {\n        '200-299': tmpCacheTTL,\n        404: 1,\n        '500-599': 0\n      }\n    }\n    /*\n      outsmartly: {\n        cache: `max-age=${swrMaxAge}, stale-while-revalidate=${swrTTL}`,\n      },\n    */\n\n  });\n  const response = await fetch(request); // Skip the override if it's not a 200 cached.\n\n  const cacheStatus = response.headers.get('cf-cache-status');\n  const is200 = response.status === 200; // if (!isPreview && cacheStatus && cacheStatus !== 'HIT') {\n\n  if (!is200) {\n    return;\n  } // Resolve links and add Outsmartly tracking. Also, split off the `content`\n  // property so that we can rename the array to `promos` below.\n\n\n  return transformContentful(response);\n}\n/**\n * Gets the data for an entry\n * @param {Object} entry - The entry to fetch. Can be a collection or a single.\n * @param {string} entry.entryId - The id for this entry\n * @param {string} [entry.contentType=announcementBar] - The well-known\n * contentType id for this entry. The default is a collection of announcement\n * bar messages.\n * @returns {Object} - object that can be used as props\n */\n\nexport async function fetchAnnouncementBar(entry = {}) {\n  var _entry, _entry2;\n\n  // Check that the entry is for the announcementBar, otherwise reset\n  // to the default.\n  if (((_entry = entry) === null || _entry === void 0 ? void 0 : _entry.contentType) !== 'announcementBar' && ((_entry2 = entry) === null || _entry2 === void 0 ? void 0 : _entry2.contentType) !== 'announcementBarMsg') {\n    entry = {\n      contentType: 'announcementBar'\n    };\n  }\n\n  const transformed = await fetchContentfulData(entry);\n\n  if (!transformed) {\n    return;\n  } // Format `transformed` to match the prop names that our component wants\n\n\n  let formatted = formatCollection(transformed, 'content', formatMessage); // If we're previewing a single item, filter out the others\n\n  if (entry.contentType === 'announcementBarMsg') {\n    formatted = formatted.filter(item => item.id === entry.entryId); // Hack to duplicate single item (if needed)\n    // formatted = [formatted[0], formatted[0]];\n  } // Remove content prop from the transformed object since we're adding it back\n  // in as promos.\n\n\n  const {\n    content\n  } = transformed,\n        rest = _objectWithoutProperties(transformed, [\"content\"]); // Assemble props object\n\n\n  const props = _objectSpread(_objectSpread({}, rest), {}, {\n    promos: formatted\n  });\n\n  return props;\n}\n/**\n * Gets the data for an entry\n * @param {Object} entry - The entry to fetch. Can be a collection or a single.\n * @param {string} entry.entryId - The id for this entry\n * @param {string} entry.parentEntryId - The id for the parent of this entry\n * @param {string} [entry.contentType=homepageSlideshow] - The well-known\n * contentType id for this entry. The default is a collection of slides.\n * @returns {Object} - object that can be used as props\n */\n\nexport async function fetchHomeHero({\n  entryId,\n  parentEntryId,\n  contentType\n} = {\n  contentType: 'homepageSlideshow'\n}) {\n  const transformed = await fetchContentfulData({\n    entryId,\n    parentEntryId,\n    contentType\n  });\n\n  if (!transformed) {\n    return;\n  } // Format `transformed` to match the prop names that our component wants\n\n\n  let formatted = formatCollection(transformed, 'slides', formatSlide); // If we're previewing a single item, filter out the others\n\n  if (contentType === 'homepageSlide') {\n    formatted = formatted.filter(item => item.id === entryId);\n  } // Assemble props object\n\n\n  const props = _objectSpread(_objectSpread({}, transformed), {}, {\n    slides: formatted\n  });\n\n  return props;\n}\n/**\n * Gets the data for an entry\n * @param {Object} entry - The entry to fetch. Can be a collection or a single.\n * @param {string} entry.entryId - The id for this entry\n * @param {string} [entry.contentType=homePageFeatures] - The well-known\n * contentType id for this entry. Default is a collection of features.\n * @returns {Object} - object that can be used as props\n */\n\nexport async function fetchHomeFeatures({\n  entryId,\n  parentEntryId,\n  contentType\n} = {\n  contentType: 'homepageFeatures'\n}) {\n  const transformed = await fetchContentfulData({\n    entryId,\n    parentEntryId,\n    contentType\n  });\n\n  if (!transformed) {\n    return;\n  } // Format `transformed` to match the prop names that our component wants\n\n\n  let formatted = formatCollection(transformed, 'features', formatFeature); // If we're previewing a single item, filter out the others\n\n  if (contentType === 'homepageFeature') {\n    formatted = formatted.filter(item => item.id === entryId);\n  } // Assemble props object\n\n\n  const props = _objectSpread(_objectSpread({}, transformed), {}, {\n    features: formatted\n  });\n\n  return props;\n}\n/**\n * Gets the data for an entry\n * @param {Object} entry - The entry to fetch. Can be a collection or a single.\n * @param {string} entry.entryId - The id for this entry\n * @param {string} [entry.contentType=sidebarCallouts] - The well-known\n * contentType id for this entry. The default is a collection of callouts.\n * @returns {Object} - object that can be used as props\n */\n\nexport async function fetchSidebarCallouts({\n  entryId,\n  parentEntryId,\n  contentType\n} = {\n  contentType: 'sidebarCallouts'\n}) {\n  const transformed = await fetchContentfulData({\n    entryId,\n    parentEntryId,\n    contentType\n  });\n\n  if (!transformed) {\n    return;\n  } // Format `transformed` to match the prop names that our component wants\n\n\n  let formatted = formatCollection(transformed, 'callouts', formatCallout); // If we're previewing a single item, filter out the others\n\n  if (contentType === 'sidebarCallout') {\n    formatted = formatted.filter(item => item.id === entryId);\n  } // Assemble props object\n\n\n  const props = _objectSpread(_objectSpread({}, transformed), {}, {\n    callouts: formatted\n  });\n\n  return props;\n}\n/**\n * Checks if the request is a preview request or not.\n * @param {Object} event - the override event object\n * @returns {Object} - if preview, returns an object containing ids. If not,\n * returns an empty object.\n */\n\nexport function checkForPreview(event) {\n  var _event$state$original, _event$state;\n\n  const {\n    url\n  } = event; // Pull the original searchParams (since we have middleware which strips them),\n  // or fallback to the searchParams on the url.\n\n  const searchParams = (_event$state$original = (_event$state = event.state) === null || _event$state === void 0 ? void 0 : _event$state.originalSearchParams) !== null && _event$state$original !== void 0 ? _event$state$original : url.searchParams;\n  const preview = searchParams.get('preview');\n  const entryId = searchParams.get('entryId');\n  const parentEntryId = searchParams.get('parentEntryId');\n  const contentType = searchParams.get('contentType');\n\n  if (preview && entryId && contentType) {\n    return {\n      entryId,\n      parentEntryId,\n      contentType\n    };\n  }\n\n  return {};\n}",".outsmartly/analysis/modules/186.js":"// pages/pages/outfits.js\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React from 'react';\nimport { collectionBanner, grid33 } from 'styles/outfits.module.css';\nimport styles from 'styles/Main.module.css';\nimport OutfitCard from 'components/OutfitCard';\nimport { SEO } from 'components/Seo';\nimport { loadSinglePage } from 'lib/shopify';\nimport { scrapeOutfitsPage } from 'lib/scrape/scrapeOutfitsPage';\nimport { getImageUrl } from 'lib/getImageUrl';\nexport async function getStaticProps() {\n  try {\n    const page = 'outfits';\n    const pageContent = loadSinglePage(page);\n    const scrapedContent = scrapeOutfitsPage();\n\n    const content = _objectSpread(_objectSpread({}, await pageContent), await scrapedContent);\n\n    content.bannerImg = getImageUrl(content.bannerImg);\n    return {\n      props: {\n        content\n      },\n      revalidate: 120 // In seconds\n\n    };\n  } catch (e) {\n    console.log(e.message);\n    return {\n      notFound: true,\n      revalidate: 120 // In seconds\n\n    };\n  }\n}\n/** The Outfits component */\n\nexport default function Outfits({\n  content\n}) {\n  // Add page type class to <main>\n  const pageType = 'templatePage'; // Create a background image styling rule (if there is one)\n\n  const bannerStyle = content.bannerImg && {\n    backgroundImage: `url(${content.bannerImg})`\n  };\n  return /*#__PURE__*/_jsxs(\"main\", {\n    id: \"mainContent\",\n    className: `${styles['mainContent']} ${styles[pageType]}`,\n    children: [/*#__PURE__*/_jsx(SEO, {\n      ogType: \"website\",\n      title: content.title,\n      canonical: `/pages/${content.handle}`,\n      description: content.description,\n      images: [content.bannerImg],\n      preloads: [content.bannerImg, getImageUrl(content.outfits[0].src, 600)]\n    }), /*#__PURE__*/_jsxs(\"div\", {\n      className: content.bannerImg ? collectionBanner : 'visually-hidden',\n      style: bannerStyle,\n      children: [/*#__PURE__*/_jsx(\"h1\", {\n        children: content.title\n      }), content.body && /*#__PURE__*/_jsx(\"p\", {\n        dangerouslySetInnerHTML: content.body\n      })]\n    }), /*#__PURE__*/_jsx(\"div\", {\n      className: \"page-width\",\n      children: /*#__PURE__*/_jsx(\"ul\", {\n        className: grid33,\n        children: content.outfits.map(outfit => /*#__PURE__*/_jsx(\"li\", {\n          children: /*#__PURE__*/_jsx(OutfitCard, _objectSpread({}, outfit))\n        }, outfit.handle))\n      })\n    })]\n  });\n}",".outsmartly/analysis/modules/246.js":"// components/SizingGuide/AllSizeGuides.js\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport Tabs from 'components/Tabs/Tabs';\nimport Tab from 'components/Tabs/Tab';\nimport Women from './Women';\nimport Men from './Men';\nimport PlusSize from './PlusSize';\nimport Girls from './Girls';\nimport Boys from './Boys';\nimport { sizeGuidePage, guideList, guideItem, guideItemActive, guideLink, guideContent } from './SizingGuide.module.css';\n/** Returns all possible size guides in a tabbed format */\n\nexport default function AllSizeGuides() {\n  return /*#__PURE__*/_jsx(\"div\", {\n    id: \"size_guide\",\n    className: sizeGuidePage,\n    children: /*#__PURE__*/_jsxs(Tabs, {\n      keepInDom: true,\n      listClass: guideList,\n      contentClass: guideContent,\n      itemClass: guideItem,\n      itemActiveClass: guideItemActive,\n      linkClass: guideLink,\n      children: [/*#__PURE__*/_jsx(Tab, {\n        label: \"Women\",\n        children: /*#__PURE__*/_jsx(Women, {})\n      }), /*#__PURE__*/_jsx(Tab, {\n        label: \"Men\",\n        children: /*#__PURE__*/_jsx(Men, {})\n      }), /*#__PURE__*/_jsx(Tab, {\n        label: \"Plus Size\",\n        children: /*#__PURE__*/_jsx(PlusSize, {})\n      }), /*#__PURE__*/_jsx(Tab, {\n        label: \"Girls\",\n        children: /*#__PURE__*/_jsx(Girls, {})\n      }), /*#__PURE__*/_jsx(Tab, {\n        label: \"Boys\",\n        children: /*#__PURE__*/_jsx(Boys, {})\n      })]\n    })\n  });\n}",".outsmartly/analysis/modules/306.js":"// context/CollectionContext.tsx\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React, { createContext } from 'react';\nexport const CollectionContext = /*#__PURE__*/createContext({});\nCollectionContext.displayName = 'CollectionContext';\nexport function CollectionProvider({\n  value,\n  children\n}) {\n  return /*#__PURE__*/_jsx(CollectionContext.Provider, {\n    value: value,\n    children: children\n  });\n}",".outsmartly/analysis/modules/141.js":"// components/Collection/Pagination.js\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport _defineProperty from \"/Users/kai/Work/rbx-rewrite/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React from 'react';\nimport Link from 'next/link';\nimport { pagination, prev, prevIcon, nextIcon, current } from './Pagination.module.css';\nimport Icon from 'components/icons/Icon';\nimport { useRouter } from 'next/router';\n\nfunction getPages(_ref) {\n  var currentPage = _ref.currentPage,\n      totalPages = _ref.totalPages;\n  // Get the middle page that keeps the pages within range.\n  var middlePage = Math.max(Math.min(currentPage, totalPages - 3), 4);\n  var pages = [middlePage - 3, middlePage - 2, middlePage - 1, middlePage, middlePage + 1, middlePage + 2, middlePage + 3];\n  pages.length = Math.min(totalPages, 7); // Add ... to begining.\n\n  if (pages[0] !== 1) {\n    pages[0] = 1;\n    pages[1] = '...';\n  } // Add ... if it doesn't reach the last page.\n\n\n  if (pages[pages.length - 1] !== totalPages) {\n    pages[pages.length - 1] = totalPages;\n    pages[pages.length - 2] = '...';\n  }\n\n  return pages;\n}\n/** The Pagination component */\n\n\nexport default function Pagination(_ref2) {\n  var currentPage = _ref2.page,\n      totalPages = _ref2.totalPages;\n\n  var _useRouter = useRouter(),\n      query = _useRouter.query;\n\n  currentPage = parseInt(currentPage);\n  var pages = getPages({\n    currentPage: currentPage,\n    totalPages: totalPages\n  });\n  return /*#__PURE__*/_jsxs(\"div\", {\n    className: pagination,\n    children: [currentPage > 1 && /*#__PURE__*/_jsx(\"span\", {\n      className: prev,\n      children: /*#__PURE__*/_jsx(Link, {\n        href: {\n          pathname: '/collections/[collection]',\n          query: _objectSpread(_objectSpread({}, query), {}, {\n            page: currentPage - 1\n          })\n        },\n        shallow: true,\n        children: /*#__PURE__*/_jsx(\"a\", {\n          \"aria-label\": \"Previous page in collection\",\n          children: /*#__PURE__*/_jsx(Icon, {\n            icon: \"angle-left\",\n            className: prevIcon\n          })\n        })\n      })\n    }), ' ', pages.map(function (page, i) {\n      return page === currentPage ? /*#__PURE__*/_jsx(\"span\", {\n        className: current,\n        children: page\n      }, i) : page === '...' ? /*#__PURE__*/_jsx(\"span\", {\n        children: page\n      }, i) : /*#__PURE__*/_jsx(\"span\", {\n        children: /*#__PURE__*/_jsx(Link, {\n          href: {\n            pathname: '/collections/[collection]',\n            query: _objectSpread(_objectSpread({}, query), {}, {\n              page: page\n            })\n          },\n          shallow: true,\n          children: /*#__PURE__*/_jsx(\"a\", {\n            children: page\n          })\n        })\n      }, i);\n    }), ' ', currentPage !== totalPages && /*#__PURE__*/_jsx(\"span\", {\n      className: prev,\n      children: /*#__PURE__*/_jsx(Link, {\n        href: {\n          pathname: '/collections/[collection]',\n          query: _objectSpread(_objectSpread({}, query), {}, {\n            page: currentPage + 1\n          })\n        },\n        shallow: true,\n        children: /*#__PURE__*/_jsx(\"a\", {\n          \"aria-label\": \"Next page in collection\",\n          children: /*#__PURE__*/_jsx(Icon, {\n            icon: \"angle-right\",\n            className: nextIcon\n          })\n        })\n      })\n    })]\n  });\n}",".outsmartly/analysis/modules/281.js":"// lib/shopify/loadSinglePage.ts\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { getShopifyClient } from './shopifyClient';\nexport async function _loadSinglePage({\n  graphqlParams,\n  handle\n}) {\n  try {\n    const shopifyClient = getShopifyClient(graphqlParams);\n    const graphqlResponse = shopifyClient.request(pageQuery(handle));\n    const {\n      pageByHandle\n    } = await graphqlResponse;\n    return _objectSpread(_objectSpread({}, pageByHandle), {}, {\n      body: {\n        __html: pageByHandle.body\n      }\n    });\n  } catch (e) {\n    console.error(e.message);\n  }\n\n  return null;\n}\n\nfunction pageQuery(handle) {\n  return `\n       {\n        pageByHandle(handle: \"${handle}\"){   \n            id\n            handle\n            title\n            body\n            bodySummary\n            updatedAt\n            url     \n        }\n      }\n    `;\n}",".outsmartly/analysis/modules/110.js":"// lib/productSort.ts\nimport _toConsumableArray from \"/Users/kai/Work/rbx-rewrite/node_modules/next/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nexport function sortProducts(products, sortBy) {\n  if (!sortBy || sortBy === 'manual') {\n    return products;\n  }\n\n  return _toConsumableArray(products).sort(function (a, b) {\n    if (sortBy === 'best-selling') {\n      return a.bestSellerSort - b.bestSellerSort;\n    }\n\n    if (sortBy === 'title-ascending') {\n      return a.title.toLowerCase() > b.title.toLowerCase() ? 1 : -1;\n    }\n\n    if (sortBy === 'title-descending') {\n      return a.title.toLowerCase() > b.title.toLowerCase() ? -1 : 1;\n    }\n\n    if (sortBy === 'price-ascending') {\n      return a.price - b.price;\n    }\n\n    if (sortBy === 'price-descending') {\n      return b.price - a.price;\n    }\n\n    if (sortBy === 'created-ascending') {\n      return a.createdAt > b.createdAt ? 1 : -1;\n    }\n\n    if (sortBy === 'created-descending') {\n      return a.createdAt > b.createdAt ? -1 : 1;\n    }\n\n    return 0;\n  });\n}\nexport var sortFields = [{\n  value: 'manual',\n  label: 'Featured'\n}, {\n  value: 'best-selling',\n  label: 'Best Selling'\n}, {\n  value: 'title-ascending',\n  label: 'Alphabetically, A-Z'\n}, {\n  value: 'title-descending',\n  label: 'Alphabetically, Z-A'\n}, {\n  value: 'price-ascending',\n  label: 'Price, low to high'\n}, {\n  value: 'price-descending',\n  label: 'Price, high to low'\n}, {\n  value: 'created-descending',\n  label: 'Date, new to old'\n}, {\n  value: 'created-ascending',\n  label: 'Date, old to new'\n}];",".outsmartly/analysis/modules/332.js":"// components/ProductOption/index.js\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React from 'react';\nimport { swatchList, swatchItem, productOption, checked } from './ProductOption.module.css';\nimport Swatch from './Swatch';\nimport { availableOptionsState } from 'context/availableOptionsState';\nimport { useIsVariantReady } from 'components/Product';\nexport default function ProductOption({\n  product,\n  optionName = 'Size',\n  listItemType,\n  sizeParent,\n  selectedOptions,\n  selectSingleOption\n}) {\n  const isVariantReady = useIsVariantReady();\n  const options = availableOptionsState({\n    product,\n    optionName,\n    selectedOptions,\n    selectSingleOption\n  }); // Convert the array of sizes into an object array for rendering\n\n  const sizes = options === null || options === void 0 ? void 0 : options.map(({\n    option,\n    availableForSale,\n    selected,\n    selectOption\n  }) => ({\n    name: option.toUpperCase(),\n    checked: false,\n    availableForSale,\n    checked: selected,\n    selectOption\n  }));\n  return /*#__PURE__*/_jsx(\"ul\", {\n    className: swatchList,\n    children: sizes === null || sizes === void 0 ? void 0 : sizes.map(s => {\n      return /*#__PURE__*/_jsx(\"li\", {\n        className: `${listItemType ? listItemType : swatchItem} ${isVariantReady && s.checked ? checked : ''}`,\n        children: /*#__PURE__*/_jsx(Swatch, {\n          available: s.availableForSale,\n          optionalClass: productOption,\n          swatchType: \"sizeSwatch\",\n          sizeParent: sizeParent,\n          sizeText: s.name,\n          onClick: s.selectOption\n        })\n      }, `${s.name}`);\n    })\n  });\n}",".outsmartly/analysis/modules/272.js":"// node_modules/next/dist/next-server/lib/router/utils/route-regex.js\n\"use strict\";\n\nexports.__esModule = true;\nexports.getRouteRegex = getRouteRegex; // this isn't importing the escape-string-regex module\n// to reduce bytes\n\nfunction escapeRegex(str) {\n  return str.replace(/[|\\\\{}()[\\]^$+*?.-]/g, '\\\\$&');\n}\n\nfunction parseParameter(param) {\n  const optional = param.startsWith('[') && param.endsWith(']');\n\n  if (optional) {\n    param = param.slice(1, -1);\n  }\n\n  const repeat = param.startsWith('...');\n\n  if (repeat) {\n    param = param.slice(3);\n  }\n\n  return {\n    key: param,\n    repeat,\n    optional\n  };\n}\n\nfunction getRouteRegex(normalizedRoute) {\n  const segments = (normalizedRoute.replace(/\\/$/, '') || '/').slice(1).split('/');\n  const groups = {};\n  let groupIndex = 1;\n  const parameterizedRoute = segments.map(segment => {\n    if (segment.startsWith('[') && segment.endsWith(']')) {\n      const {\n        key,\n        optional,\n        repeat\n      } = parseParameter(segment.slice(1, -1));\n      groups[key] = {\n        pos: groupIndex++,\n        repeat,\n        optional\n      };\n      return repeat ? optional ? '(?:/(.+?))?' : '/(.+?)' : '/([^/]+?)';\n    } else {\n      return `/${escapeRegex(segment)}`;\n    }\n  }).join(''); // dead code eliminate for browser since it's only needed\n  // while generating routes-manifest\n\n  if (true) {\n    let routeKeyCharCode = 97;\n    let routeKeyCharLength = 1; // builds a minimal routeKey using only a-z and minimal number of characters\n\n    const getSafeRouteKey = () => {\n      let routeKey = '';\n\n      for (let i = 0; i < routeKeyCharLength; i++) {\n        routeKey += String.fromCharCode(routeKeyCharCode);\n        routeKeyCharCode++;\n\n        if (routeKeyCharCode > 122) {\n          routeKeyCharLength++;\n          routeKeyCharCode = 97;\n        }\n      }\n\n      return routeKey;\n    };\n\n    const routeKeys = {};\n    let namedParameterizedRoute = segments.map(segment => {\n      if (segment.startsWith('[') && segment.endsWith(']')) {\n        const {\n          key,\n          optional,\n          repeat\n        } = parseParameter(segment.slice(1, -1)); // replace any non-word characters since they can break\n        // the named regex\n\n        let cleanedKey = key.replace(/\\W/g, '');\n        let invalidKey = false; // check if the key is still invalid and fallback to using a known\n        // safe key\n\n        if (cleanedKey.length === 0 || cleanedKey.length > 30) {\n          invalidKey = true;\n        }\n\n        if (!isNaN(parseInt(cleanedKey.substr(0, 1)))) {\n          invalidKey = true;\n        }\n\n        if (invalidKey) {\n          cleanedKey = getSafeRouteKey();\n        }\n\n        routeKeys[cleanedKey] = key;\n        return repeat ? optional ? `(?:/(?<${cleanedKey}>.+?))?` : `/(?<${cleanedKey}>.+?)` : `/(?<${cleanedKey}>[^/]+?)`;\n      } else {\n        return `/${escapeRegex(segment)}`;\n      }\n    }).join('');\n    return {\n      re: new RegExp(`^${parameterizedRoute}(?:/)?$`),\n      groups,\n      routeKeys,\n      namedRegex: `^${namedParameterizedRoute}(?:/)?$`\n    };\n  }\n\n  return {\n    re: new RegExp(`^${parameterizedRoute}(?:/)?$`),\n    groups\n  };\n}",".outsmartly/analysis/modules/223.js":"// components/IconSet1.js\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React from 'react';\n/*\nDefine a set of SVGs in here. Then include this set on the page.\n\nThen you'll use an individual icon like this:\n  <svg class=\"icon icon-beaker\">\n    <use xlink:href=\"#beaker\" />\n  </svg>\n\nWhen using React, NextJS, and CSS modules do this: \n  <svg className={`icon ${beaker}`}>\n    <title>Optional title (omit if purely decorative)</title>\n    <use xlinkHref=\"#beaker\" />\n  </svg>\n\n*Can* compose .icon into .beaker, or do `.parent :global(.icon){}`. But easier\nto allow global styles (from globals.css) handle the global class=\"icon\", while\nlocal styles affect local class.\n*/\n// Can try this <svg style=\"display: none;\" xmlns=\"http://www.w3.org/2000/svg\">\n\nexport default function IconSet1() {\n  return /*#__PURE__*/_jsxs(\"svg\", {\n    style: {\n      position: 'absolute',\n      height: 0\n    },\n    xmlns: \"http://www.w3.org/2000/svg\",\n    children: [/*#__PURE__*/_jsxs(\"symbol\", {\n      id: \"close\",\n      viewBox: \"0 0 14 14\",\n      stroke: \"currentColor\",\n      strokeWidth: \"2\",\n      children: [/*#__PURE__*/_jsx(\"path\", {\n        d: \"M1 1l12 12\"\n      }), /*#__PURE__*/_jsx(\"path\", {\n        d: \"M13 1l-12 12\"\n      })]\n    }), /*#__PURE__*/_jsx(\"symbol\", {\n      id: \"close2\",\n      viewBox: \"0 0 50 50\",\n      fill: \"currentColor\",\n      children: /*#__PURE__*/_jsx(\"path\", {\n        d: \"M16.03 25L0 8.98L8.97 0L25 16.03L41.03 0L50 8.98L33.97 25L50 41.03L41.03 50L25 33.98L8.97 50L0 41.03L16.03 25Z\"\n      })\n    }), /*#__PURE__*/_jsx(\"symbol\", {\n      id: \"close3\",\n      viewBox: \"0 0 100 100\",\n      stroke: \"currentColor\",\n      strokeWidth: \"8.2\",\n      children: /*#__PURE__*/_jsx(\"path\", {\n        d: \"M23.8 23.8L76.2 76.2M76.2 23.8L23.8 76.2\"\n      })\n    }), /*#__PURE__*/_jsx(\"symbol\", {\n      id: \"hamburger\",\n      viewBox: \"0 0 32 32\",\n      fill: \"currentColor\",\n      children: /*#__PURE__*/_jsx(\"path\", {\n        d: \"M4.89 14.958h22.22v2.222H4.89v-2.222zM4.89 8.292h22.22v2.222 H4.89V8.292zM4.89 21.625h22.22v2.222H4.89v-2.222z\"\n      })\n    }), /*#__PURE__*/_jsx(\"symbol\", {\n      id: \"plus\",\n      viewBox: \"0 0 42 42\",\n      fill: \"currentColor\",\n      children: /*#__PURE__*/_jsx(\"path\", {\n        d: \"M23 23h19v-4H23V0h-4v19H0v4H19V42h4v-19z\"\n      })\n    }), /*#__PURE__*/_jsx(\"symbol\", {\n      id: \"minus\",\n      viewBox: \"0 0 42 42\",\n      fill: \"currentColor\",\n      children: /*#__PURE__*/_jsx(\"path\", {\n        d: \"M0 23h42v-4H0z\"\n      })\n    }), /*#__PURE__*/_jsx(\"symbol\", {\n      id: \"faPlus\",\n      viewBox: \"0 0 380 380\",\n      fill: \"currentColor\",\n      children: /*#__PURE__*/_jsx(\"path\", {\n        d: \"M366 166v48q0 10-7 17t-17 7h-104v104q0 10-7 17t-17 7 h-48q-10 0-17-7t-7-17v-104h-104q-10 0-17-7t-7-17v-48q0-10 7-17t17-7h104 v-104q0-10 7-17t17-7h48q10 0 17 7t7 17v104 h104q10 0 17 7t7 17z\"\n      })\n    }), /*#__PURE__*/_jsx(\"symbol\", {\n      id: \"faMinus\",\n      viewBox: \"0 0 380 124\",\n      fill: \"currentColor\",\n      children: /*#__PURE__*/_jsx(\"path\", {\n        d: \"M366 38v48q0 10-7 17t-17 7h-304q-10 0-17-7t-7-17v-48q0-10 7-17t17-7h304q10 0 17 7t7 17z\"\n      })\n    }), /*#__PURE__*/_jsxs(\"symbol\", {\n      id: \"checkmark\",\n      viewBox: \"0 0 50 50\",\n      fill: \"currentColor\",\n      children: [/*#__PURE__*/_jsx(\"rect\", {\n        width: \"25\",\n        height: \"10.8\",\n        transform: \"rotate(45)\",\n        x: \"20\",\n        y: \"6\",\n        rx: \"2.8\"\n      }), /*#__PURE__*/_jsx(\"rect\", {\n        width: \"39.5\",\n        height: \"10.8\",\n        transform: \"rotate(-45)\",\n        x: \"-16.8\",\n        y: \"34.2\",\n        rx: \"2.8\"\n      })]\n    }), /*#__PURE__*/_jsx(\"symbol\", {\n      id: \"faCheck\",\n      viewBox: \"0 0 100 100\",\n      fill: \"currentColor\",\n      children: /*#__PURE__*/_jsx(\"path\", {\n        d: \"M93.25 31.58q0 2.23-1.56 3.79l-40.4 40.4-7.59 7.59q-1.56 1.56-3.79 1.56t-3.79-1.56l-7.59-7.59-20.2-20.2q-1.56-1.56-1.56-3.79t1.56-3.79 l7.59-7.59q1.56-1.56 3.79-1.56t3.79 1.56l16.41 16.46 36.61-36.66q1.56 -1.56 3.79-1.56t3.79 1.56l7.59 7.59q1.56 1.56 1.56 3.79z\"\n      })\n    }), /*#__PURE__*/_jsx(\"symbol\", {\n      id: \"lion-chevron-up\",\n      viewBox: \"0 0 100 100\",\n      fill: \"currentColor\",\n      children: /*#__PURE__*/_jsx(\"path\", {\n        d: \"M49.4 18.6C48.2 18.7 47.1 18.9 46.1 19.5C45.3 20 44.7 20.6 44 21.3 L6.9 58.4C5.5 59.8 4.1 61.1 3.5 62.9C2.8 65.1 3 67.6 4.3 69.5C5.2 70.8 6.6 72 7.8 73.1C8.9 74.3 10.1 75.7 11.5 76.6C13.9 78 17.1 77.9 19.4 76.4C20.7 75.6 21.8 74.3 22.9 73.2L48.1 48 49.4 46.6 C49.5 46.5 49.7 46.2 49.9 46.2C50.2 46.2 50.4 46.6 50.5 46.7L52 48.1 78.4 74.5C79.2 75.3 80 76.1 80.9 76.6C82.4 77.5 84.2 77.7 85.9 77.5 C88.7 77.1 90.7 74.9 92.5 72.9C93.6 71.7 94.9 70.6 95.8 69.2C97.3 66.9 97.2 63.8 95.9 61.5C95 60 93.5 58.8 92.3 57.6L57.2 22.5C56.3 21.6 55.4 20.6 54.3 19.8C53 18.9 51.1 18.3 49.4 18.6z\"\n      })\n    }), /*#__PURE__*/_jsx(\"symbol\", {\n      id: \"lion-chevron-down\",\n      viewBox: \"0 0 100 100\",\n      fill: \"currentColor\",\n      children: /*#__PURE__*/_jsx(\"path\", {\n        d: \"M49.4 81.4C48.2 81.3 47.1 81.1 46.1 80.5C45.3 80 44.7 79.4 44 78.7 L6.9 41.6C5.5 40.2 4.1 38.9 3.5 37.1C2.8 34.9 3 32.4 4.3 30.5C5.2 29.2 6.6 28 7.8 26.9C8.9 25.7 10.1 24.3 11.5 23.4C13.9 22 17.1 22.1 19.4 23.6C20.7 24.4 21.8 25.7 22.9 26.8L48.1 52 49.4 53.4C49.5 53.5 49.7 53.8 49.9 53.8C50.2 53.8 50.4 53.4 50.5 53.3L52 51.9 78.4 25.5C79.2 24.7 80 23.9 80.9 23.4C82.4 22.5 84.2 22.3 85.9 22.5C88.7 22.9 90.7 25.1 92.5 27.1C93.6 28.3 94.9 29.4 95.8 30.8C97.3 33.1 97.2 36.2 95.9 38.5C95 40 93.5 41.2 92.3 42.4L57.2 77.5C56.3 78.4 55.4 79.4 54.3 80.2 C53 81.1 51.1 81.7 49.4 81.4z\"\n      })\n    }), /*#__PURE__*/_jsx(\"symbol\", {\n      id: \"zd-question\",\n      viewBox: \"0 0 15 16\",\n      fill: \"currentColor\",\n      \"aria-hidden\": \"true\",\n      children: /*#__PURE__*/_jsx(\"path\", {\n        d: \"M1.3,16c-0.7,0-1.1-0.3-1.2-0.8c-0.3-0.8,0.5-1.3,0.8-1.5c0.6-0.4,0.9-0.7,1-1c0-0.2-0.1-0.4-0.3-0.7c0,0,0-0.1-0.1-0.1 C0.5,10.6,0,9,0,7.4C0,3.3,3.4,0,7.5,0C11.6,0,15,3.3,15,7.4s-3.4,7.4-7.5,7.4c-0.5,0-1-0.1-1.5-0.2C3.4,15.9,1.5,16,1.5,16 C1.4,16,1.4,16,1.3,16z M3.3,10.9c0.5,0.7,0.7,1.5,0.6,2.2c0,0.1-0.1,0.3-0.1,0.4c0.5-0.2,1-0.4,1.6-0.7c0.2-0.1,0.4-0.2,0.6-0.1 c0,0,0.1,0,0.1,0c0.4,0.1,0.9,0.2,1.4,0.2c3,0,5.5-2.4,5.5-5.4S10.5,2,7.5,2C4.5,2,2,4.4,2,7.4c0,1.2,0.4,2.4,1.2,3.3 C3.2,10.8,3.3,10.8,3.3,10.9z\"\n      })\n    }), /*#__PURE__*/_jsx(\"symbol\", {\n      id: \"faWarning\",\n      viewBox: \"0 0 100 100\",\n      fill: \"currentColor\",\n      children: /*#__PURE__*/_jsx(\"path\", {\n        d: \"M57.14 76.73v-10.6q0-.78-.53-1.31t-1.26-.53h-10.71q-.73 0-1.26.53 t-.53 1.31v10.6q0 .78.53 1.31t1.26.53h10.71q.73 0 1.26-.53t.53-1.31z m-.11-20.87 1-25.61q0-.67-.56-1.06q-.73-.61-1.34-.61h-12.28q-.61 0 -1.34.61q-.56.39-.56 1.17l.95 25.5q0 .56.56.92t1.34.36h10.32q.78 0 1.31-.36t.59-.92zm-.78-52.12 42.86 78.57q1.95 3.52-.11 7.03q-.95 1.62 -2.59 2.57t-3.54.95h-85.71q-1.9 0-3.54-.95t-2.59-2.57q-2.06-3.52-.11 -7.03l42.86-78.57q.95-1.73 2.62-2.73t3.63-1t3.63 1t2.62 2.73z\"\n      })\n    }), /*#__PURE__*/_jsx(\"symbol\", {\n      id: \"angle-left\",\n      viewBox: \"0 0 210 330\",\n      fill: \"currentColor\",\n      children: /*#__PURE__*/_jsx(\"path\", {\n        d: \"M200 31.3q0 4.18-3.21 7.39l-126.29 126.29 126.29 126.29q3.21 3.21 3.21 7.39t-3.21 7.39l-16.06 16.06q-3.21 3.21-7.39 3.21t-7.39-3.21 l-149.74-149.74q-3.21-3.21-3.21-7.39t3.21-7.39l149.74-149.74q3.21 -3.21 7.39-3.21t7.39 3.21l16.06 16.06q3.21 3.21 3.21 7.39z\"\n      })\n    }), /*#__PURE__*/_jsx(\"symbol\", {\n      id: \"angle-right\",\n      viewBox: \"0 0 210 330\",\n      fill: \"currentColor\",\n      children: /*#__PURE__*/_jsx(\"path\", {\n        d: \"M197 165q0 4.2-3.23 7.37l-149.76 149.76q-3.23 3.23-7.37 3.23 t-7.37-3.23l-16.07-16.07q-3.23-3.23-3.23-7.37t3.23-7.37l126.32-126.32 l-126.32-126.32q-3.23-3.23-3.23-7.37t3.23-7.37l16.07-16.07q3.23-3.23 7.37-3.23t7.37 3.23l149.76 149.76q3.23 3.23 3.23 7.37z\"\n      })\n    }), /*#__PURE__*/_jsx(\"symbol\", {\n      id: \"angle-left1\",\n      viewBox: \"0 0 100 100\",\n      fill: \"currentColor\",\n      children: /*#__PURE__*/_jsx(\"path\", {\n        d: \"M75 11.86l-5.62-5.27-46.46 43.41 46.46 43.41 5.62-5.24 -40.82-38.17z\"\n      })\n    }), /*#__PURE__*/_jsx(\"symbol\", {\n      id: \"angle-right1\",\n      viewBox: \"0 0 100 100\",\n      fill: \"currentColor\",\n      children: /*#__PURE__*/_jsx(\"path\", {\n        d: \"M23.96 11.86l5.62-5.27l46.46 43.41l-46.46 43.41l-5.62-5.24 l40.82-38.17z\"\n      })\n    }), /*#__PURE__*/_jsx(\"symbol\", {\n      id: \"angle-left-lime\",\n      viewBox: \"0 0 100 100\",\n      fill: \"currentColor\",\n      children: /*#__PURE__*/_jsx(\"path\", {\n        d: \"M76.5 22.4v9.9A2 1.9 0 0175.6 33.9l-25.2 14.1a2 1.9 0 000 3.4l25.2 14.1A2 1.9 0 0176.5 67.2v9.9A2 1.9 0 0173.5 78.7l-49-27.3a2 1.9 0 010-3.4L73.5 20.7A2 1.9 0 0176.5 22.4z\"\n      })\n    }), /*#__PURE__*/_jsx(\"symbol\", {\n      id: \"angle-right-lime\",\n      viewBox: \"0 0 100 100\",\n      fill: \"currentColor\",\n      children: /*#__PURE__*/_jsx(\"path\", {\n        d: \"M23.5 22.4v9.9A2 1.9 0 0024.4 33.9l25.2 14.1a2 1.9 0 010 3.4 l-25.2 14.1A2 1.9 0 0023.5 67.2v9.9A2 1.9 0 0026.5 78.7l49-27.3a2 1.9 0 000-3.4L26.5 20.7A2 1.9 0 0023.5 22.4z\"\n      })\n    }), /*#__PURE__*/_jsx(\"symbol\", {\n      id: \"angle-down\",\n      viewBox: \"0 0 100 100\",\n      fill: \"currentColor\",\n      children: /*#__PURE__*/_jsx(\"path\", {\n        d: \"M2 35.8l48 44.6l48-44.6l-8.5-9.2l-39.5 36.7l-39.5-36.7z\"\n      })\n    }), /*#__PURE__*/_jsxs(\"symbol\", {\n      id: \"search-glass\",\n      viewBox: \"0 0 100 100\",\n      children: [/*#__PURE__*/_jsx(\"circle\", {\n        fill: \"none\",\n        stroke: \"currentColor\",\n        strokeWidth: \"6.6\",\n        cx: \"41.8\",\n        cy: \"41.8\",\n        r: \"28.1\"\n      }), /*#__PURE__*/_jsx(\"path\", {\n        fill: \"currentColor\",\n        d: \"M60.1 67L82.6 89.6L89.6 82.6L67 60z\"\n      })]\n    }), /*#__PURE__*/_jsx(\"symbol\", {\n      id: \"cart\",\n      viewBox: \"0 0 32 32\",\n      fill: \"currentColor\",\n      children: /*#__PURE__*/_jsx(\"path\", {\n        d: \"M26.56 10.72h-3.52v-.248a6.772 6.772 0 00-6.793-6.792h-.44 c-3.767 0-6.847 3.025-6.847 6.792v.248H5.44l-1.76 17.6h24.638 l-1.76-17.6zm-15.84-.247c0-2.788 2.3-5.032 5.087-5.032h.44a5.02 5.02 0 015.032 5.033v.248H10.72v-.247zM5.65 26.56l1.37-14.08h1.94 v1.996a1.758 1.758 0 00.88 3.283c.974 0 1.76-.787 1.76-1.76c0-.65 -.352-1.222-.88-1.524V12.48h10.56v1.996c-.53.302-.88.874-.88 1.523 c0 .972.785 1.76 1.76 1.76s1.76-.787 1.76-1.76c0-.65-.353-1.222 -.88-1.524V12.48h1.946l1.37 14.08H5.648z\"\n      })\n    })]\n  });\n}",".outsmartly/analysis/modules/28.js":"// node_modules/next/dist/next-server/lib/mitt.js\n\"use strict\";\n\nexports.__esModule = true;\nexports[\"default\"] = mitt;\n/*\nMIT License\nCopyright (c) Jason Miller (https://jasonformat.com/)\nPermission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\nThe above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n*/\n// This file is based on https://github.com/developit/mitt/blob/v1.1.3/src/index.js\n// It's been edited for the needs of this script\n// See the LICENSE at the top of the file\n\nfunction mitt() {\n  var all = Object.create(null);\n  return {\n    on: function on(type, handler) {\n      ;\n      (all[type] || (all[type] = [])).push(handler);\n    },\n    off: function off(type, handler) {\n      if (all[type]) {\n        all[type].splice(all[type].indexOf(handler) >>> 0, 1);\n      }\n    },\n    emit: function emit(type) {\n      for (var _len = arguments.length, evts = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        evts[_key - 1] = arguments[_key];\n      }\n\n      // eslint-disable-next-line array-callback-return\n      ;\n      (all[type] || []).slice().map(function (handler) {\n        handler.apply(void 0, evts);\n      });\n    }\n  };\n}",".outsmartly/analysis/modules/79.js":"// components/Product/index.js\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport _defineProperty from \"/Users/kai/Work/rbx-rewrite/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"/Users/kai/Work/rbx-rewrite/node_modules/next/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useEffect, useMemo, useRef } from 'react';\nimport { useRouter } from 'next/router';\nimport { crumbTitle, grid50, productSingle, info } from './Product.module.css';\nimport mainStyles from 'styles/Main.module.css';\nimport BreadCrumbs from 'components/BreadCrumbs';\nimport ProductPhotos from './ProductPhotos/ProductPhotos';\nimport ProductMeta from './ProductMeta';\nimport ProductPurchase from './ProductPurchase';\nimport ProductDescription from './ProductDescription';\nimport { selectedOptionsState } from 'context/selectedOptionsState';\nimport { getVariant } from 'context/getVariant';\nimport { getCollectionInfo } from 'context/getCollectionInfo';\nimport { getImageUrl, getProductImageUrl } from 'lib/getImageUrl';\nimport { LemonSpot } from 'components/LemonSpot/LemonSpot';\nimport { SEO } from 'components/Seo';\nimport { firstAvailableVariant, getFilteredImagesByColor, getFirstImage } from 'lib/helpers';\nimport config from '../../jackrabbit.config';\nimport { useMessageBus } from '@outsmartly/core';\nimport { getPathnames, getResolution } from 'lib/utils';\nimport { emitTimeSpend } from 'components/LemonSpot/emitTimeSpend'; // this is false on hydration, which is critical for hydration\n\nexport function useIsVariantReady() {\n  var router = useRouter();\n  var variant = router.query.variant;\n  return useMemo(function () {\n    if (variant) {\n      return true;\n    } else if (new RegExp(\"[&?]variant=(.*)(&|$)\").test(router.asPath)) {\n      return false;\n    }\n\n    return true;\n  }, [variant]);\n}\n/**\n * Product component\n * @param {Object} collectionInfo\n * @param {Object} content - the entire product with all possible variants\n */\n\nexport default function Product(_ref) {\n  var _process$env$messageB;\n\n  var collectionInfo = _ref.collectionInfo,\n      content = _ref.content;\n  var router = useRouter();\n  var variantId = router.query.variant;\n\n  var _firstAvailableVarian = firstAvailableVariant(content),\n      firstVariantId = _firstAvailableVarian.id;\n\n  var isVariantReady = useIsVariantReady(); // Get path information for this page\n\n  var _getPathnames = getPathnames(router),\n      _getPathnames2 = _slicedToArray(_getPathnames, 2),\n      path = _getPathnames2[0],\n      pathWithQuery = _getPathnames2[1];\n\n  var page = 'Product'; // Get a reference to the client message bus\n\n  var bus = useMessageBus({\n    debug: (_process$env$messageB = process.env.messageBusDebug) !== null && _process$env$messageB !== void 0 ? _process$env$messageB : false\n  }); // Create a start time ref that persists across renders\n\n  var startTime = useRef(0); // Run when the product changes (not the variant)\n\n  useEffect(function () {\n    // Set the start time for viewing this product\n    startTime.current = new Date().getTime(); // Assemble the payload for an \"product view\" event and emit it\n\n    var obj = {\n      page: page,\n      path: path,\n      productId: content.id,\n      resolution: getResolution(),\n      timestamp: new Date().toISOString()\n    };\n    bus.emit('productView', obj); // When this product is unmounted, emit the \"product time spend\" event\n\n    return function () {\n      emitTimeSpend(startTime, page, path, content.id, bus);\n    };\n  }, [content]); // Attach a regular event listener for navigating outside of Next app\n\n  useEffect(function () {\n    // Use a wrapper function to facilitate attaching and clean up\n    var emitWrapper = function emitWrapper() {\n      emitTimeSpend(startTime, page, path, content.id, bus);\n    };\n\n    window.addEventListener('beforeunload', emitWrapper);\n    return function () {\n      window.removeEventListener('beforeunload', emitWrapper);\n    };\n  }, [page, path, content.id, bus]); // Emit a \"variant view\" event when the variant changes.\n\n  useEffect(function () {\n    // Assemble the payload and emit it\n    var obj = {\n      page: page,\n      path: path,\n      productId: content.id,\n      resolution: getResolution(),\n      timestamp: new Date().toISOString(),\n      url: pathWithQuery,\n      variantId: variantId !== null && variantId !== void 0 ? variantId : firstVariantId\n    };\n    bus.emit('variantView', obj);\n  }, [variantId]);\n\n  var _selectedOptionsState = selectedOptionsState({\n    product: content,\n    variantId: variantId\n  }),\n      selectedOptions = _selectedOptionsState.selectedOptions,\n      selectSingleOption = _selectedOptionsState.selectSingleOption,\n      images = _selectedOptionsState.images;\n\n  var _getCollectionInfo = getCollectionInfo(collectionInfo),\n      collectionHandle = _getCollectionInfo.handle,\n      collectionTitle = _getCollectionInfo.title;\n\n  useEffect(function () {\n    var currentVariant = getVariant(content, selectedOptions);\n\n    if (isVariantReady && currentVariant && currentVariant.id !== (variantId !== null && variantId !== void 0 ? variantId : firstVariantId)) {\n      router.replace({\n        query: _objectSpread(_objectSpread({}, router.query), {}, {\n          variant: currentVariant.id\n        })\n      }, undefined, {\n        shallow: true\n      });\n    }\n  }, [selectedOptions]); // Add page type class to <main>\n\n  var pageType = 'templateProduct';\n  var seoImages = useMemo(function () {\n    return getFilteredImagesByColor(content.imageMap).filter(function (_, i) {\n      return i < 3;\n    }).map(function (_ref2) {\n      var src = _ref2.src;\n      return src;\n    });\n  }, [content.imageMap]);\n  var pushImages = useMemo(function () {\n    return images.map(function (_ref3, i) {\n      var src = _ref3.src;\n      return getProductImageUrl(src, i === 0 ? 600 : 100);\n    });\n  }, []);\n  var color = useMemo(function () {\n    var _selectedOptions$find;\n\n    return (_selectedOptions$find = selectedOptions.find(function (_ref4) {\n      var name = _ref4.name;\n      return name === 'Color';\n    })) === null || _selectedOptions$find === void 0 ? void 0 : _selectedOptions$find.value;\n  }, [selectedOptions]);\n  return /*#__PURE__*/_jsxs(\"main\", {\n    id: \"mainContent\",\n    className: \"\".concat(mainStyles['mainContent'], \" \").concat(mainStyles[pageType]),\n    children: [/*#__PURE__*/_jsx(SEO, {\n      ogType: \"product\",\n      title: content.title,\n      canonical: \"/products/\".concat(content.handle),\n      description: content.description,\n      images: seoImages,\n      price: content.price,\n      preloads: pushImages\n    }), /*#__PURE__*/_jsxs(\"div\", {\n      className: \"page-width\",\n      children: [/*#__PURE__*/_jsx(BreadCrumbs, {\n        title: content.title,\n        groupName: collectionTitle,\n        groupHandle: collectionHandle,\n        crumbTitleClass: crumbTitle\n      }), /*#__PURE__*/_jsxs(\"div\", {\n        itemScope: \"\",\n        itemType: \"http://schema.org/Product\",\n        children: [/*#__PURE__*/_jsx(\"meta\", {\n          itemProp: \"url\",\n          content: \"\".concat(config.urls.base, \"/products/\").concat(content.handle)\n        }), /*#__PURE__*/_jsx(\"meta\", {\n          itemProp: \"image\",\n          content: getImageUrl(getFirstImage(content.imageMap))\n        }), /*#__PURE__*/_jsxs(\"div\", {\n          className: \"\".concat(grid50, \" \").concat(productSingle),\n          children: [/*#__PURE__*/_jsx(ProductPhotos, {\n            product: content,\n            images: images,\n            color: color\n          }), /*#__PURE__*/_jsxs(\"div\", {\n            className: info,\n            itemProp: \"offers\",\n            itemScope: true,\n            itemType: \"http://schema.org/Offer\",\n            children: [/*#__PURE__*/_jsx(\"meta\", {\n              itemProp: \"priceCurrency\",\n              content: \"USD\"\n            }), /*#__PURE__*/_jsx(\"link\", {\n              itemProp: \"availability\",\n              href: \"http://schema.org/InStock\"\n            }), /*#__PURE__*/_jsx(ProductMeta, {\n              product: content,\n              selectedOptions: selectedOptions\n            }), /*#__PURE__*/_jsx(ProductPurchase, {\n              product: content,\n              selectedOptions: selectedOptions,\n              selectSingleOption: selectSingleOption\n            }), /*#__PURE__*/_jsx(ProductDescription, {\n              bullets: content.metafields,\n              html: content.descriptionHtml\n            })]\n          })]\n        }), /*#__PURE__*/_jsx(LemonSpot, {\n          productId: content.id,\n          product: content,\n          page: \"Product\"\n        })]\n      })]\n    })]\n  });\n}",".outsmartly/analysis/modules/5.js":"// components/Product/ProductPhotos/ProductPhotosServerImage.js\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports._outsmartly_thunk = _outsmartly_thunk;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _objectWithoutProperties2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutProperties\"));\n\nvar _helpers = require(\"../../../lib/helpers\");\n\nvar _ProductPhotosMainImage = require(\"./ProductPhotosMainImage\");\n\nvar __jsx = _react[\"default\"].createElement;\n\nfunction _outsmartly_thunk(_temp) {\n  if (_outsmartly_slices.$1) {\n    var _temp$variantId = _temp.variantId,\n        variantId = _temp$variantId === void 0 ? undefined : _temp$variantId,\n        colorsByVariant = _temp.colorsByVariant,\n        rest = (0, _objectWithoutProperties2[\"default\"])(_temp, [\"variantId\", \"colorsByVariant\"]);\n  }\n\n  if (_outsmartly_slices.$1) {\n    var serverColor = (0, _helpers.getColorByVariantId)(colorsByVariant, variantId);\n  }\n\n  if (_outsmartly_branch_selections.$0) {\n    {\n      if (_outsmartly_slices.$1) {\n        _outsmartly_outlets.$1 = /*#__PURE__*/_react[\"default\"].createElement(_ProductPhotosMainImage.ProductPhotosMainImage, (0, _extends2[\"default\"])({\n          serverColor: serverColor\n        }, rest));\n      }\n    }\n    return _outsmartly_no_return;\n  } else {\n    return /*#__PURE__*/_react[\"default\"].createElement(_ProductPhotosMainImage.ProductPhotosMainImage, (0, _extends2[\"default\"])({\n      serverColor: serverColor\n    }, rest));\n  }\n}\n\nvar ProductPhotosServerImage = _outsmartly_thunk;",".outsmartly/analysis/modules/69.js":"// components/Afterpay/Afterpay.js\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React from 'react';\nimport { afterpayModalWrapper, gridContainer, row0, row1, row3, process, processStep1, processStep2, processStep3, processStep4, afterpayLogoBlack, afterpayModalHeadline, processIconContainer, processSubheading, shoppingCart, afterpayDesktop, afterpayMobile, signUpDesktop, signUpMobile, fourPayments, disclaimer, disclaimerLink, loanAgreement } from './Afterpay.module.css';\nimport AfterpayIconSet from './AfterpayIconSet';\nimport Icon from 'components/icons/Icon';\nexport default function Afterpay() {\n  return /*#__PURE__*/_jsxs(\"div\", {\n    className: afterpayModalWrapper,\n    children: [/*#__PURE__*/_jsx(\"meta\", {\n      name: \"viewport\",\n      content: \"width=device-width,initial-scale=1.0\"\n    }), /*#__PURE__*/_jsx(AfterpayIconSet, {}), /*#__PURE__*/_jsxs(\"div\", {\n      className: gridContainer,\n      children: [/*#__PURE__*/_jsx(\"div\", {\n        className: row0,\n        children: /*#__PURE__*/_jsx(Icon, {\n          icon: \"afterpay-logo\",\n          className: afterpayLogoBlack,\n          \"aria-label\": \"Afterpay logo black\"\n        })\n      }), /*#__PURE__*/_jsxs(\"div\", {\n        className: row1,\n        children: [/*#__PURE__*/_jsxs(\"h3\", {\n          className: afterpayModalHeadline,\n          children: [\"Shop now. \", /*#__PURE__*/_jsx(\"span\", {\n            children: \"Pay later.\"\n          })]\n        }), /*#__PURE__*/_jsx(\"h3\", {\n          className: afterpayModalHeadline,\n          children: \"Always interest-free.\"\n        })]\n      }), /*#__PURE__*/_jsxs(\"div\", {\n        className: \"\".concat(process, \" \").concat(processStep1),\n        children: [/*#__PURE__*/_jsx(\"div\", {\n          className: processIconContainer,\n          children: /*#__PURE__*/_jsx(Icon, {\n            icon: \"afterpay-cart\",\n            className: shoppingCart,\n            \"aria-label\": \"Shopping cart\"\n          })\n        }), /*#__PURE__*/_jsxs(\"p\", {\n          className: processSubheading,\n          children: [\"Add your\", /*#__PURE__*/_jsx(\"br\", {}), \"favorites to cart\"]\n        })]\n      }), /*#__PURE__*/_jsxs(\"div\", {\n        className: \"\".concat(process, \" \").concat(processStep2),\n        children: [/*#__PURE__*/_jsxs(\"div\", {\n          className: processIconContainer,\n          children: [/*#__PURE__*/_jsx(Icon, {\n            icon: \"afterpay-desktop\",\n            className: afterpayDesktop,\n            \"aria-label\": \"Afterpay laptop\"\n          }), /*#__PURE__*/_jsx(Icon, {\n            icon: \"afterpay-mobile\",\n            className: afterpayMobile,\n            \"aria-label\": \"Afterpay mobile\"\n          })]\n        }), /*#__PURE__*/_jsx(\"p\", {\n          className: processSubheading,\n          children: \"Select Afterpay at checkout\"\n        })]\n      }), /*#__PURE__*/_jsxs(\"div\", {\n        className: \"\".concat(process, \" \").concat(processStep3),\n        children: [/*#__PURE__*/_jsxs(\"div\", {\n          className: processIconContainer,\n          children: [/*#__PURE__*/_jsx(Icon, {\n            icon: \"afterpay-signup-desktop\",\n            className: signUpDesktop,\n            \"aria-label\": \"Sign up laptop\"\n          }), /*#__PURE__*/_jsx(Icon, {\n            icon: \"afterpay-signup-mobile\",\n            className: signUpMobile,\n            \"aria-label\": \"Sign up mobile\"\n          })]\n        }), /*#__PURE__*/_jsx(\"p\", {\n          className: processSubheading,\n          children: \"Log into or create your Afterpay account, instant approval decision\"\n        })]\n      }), /*#__PURE__*/_jsxs(\"div\", {\n        className: \"\".concat(process, \" \").concat(processStep4),\n        children: [/*#__PURE__*/_jsx(\"div\", {\n          className: processIconContainer,\n          children: /*#__PURE__*/_jsx(Icon, {\n            icon: \"afterpay-four-payments\",\n            className: fourPayments,\n            \"aria-label\": \"Four payments\"\n          })\n        }), /*#__PURE__*/_jsx(\"p\", {\n          className: processSubheading,\n          children: \"Your purchase will be split into 4 payments, payable every 2 weeks\"\n        })]\n      }), /*#__PURE__*/_jsx(\"div\", {\n        className: row3,\n        children: /*#__PURE__*/_jsxs(\"p\", {\n          className: disclaimer,\n          children: [\"You must be over 18, a resident of the U.S. and meet additional eligibility criteria to qualify. Late fees may apply. Estimated payment amounts shown on product pages exclude taxes and shipping charges, which are added at checkout. Click\", ' ', /*#__PURE__*/_jsx(\"a\", {\n            href: \"https://www.afterpay.com/purchase-payment-agreement\",\n            \"aria-label\": \"Afterpay Terms (New Window)\",\n            target: \"_blank\",\n            rel: \"noopener\",\n            className: disclaimerLink,\n            children: \"here\"\n          }), ' ', \"for complete terms.\", /*#__PURE__*/_jsx(\"span\", {\n            className: loanAgreement,\n            children: \"Loans to California residents made or arranged pursuant to a California Finance Lenders Law license.\"\n          }), /*#__PURE__*/_jsx(\"span\", {\n            children: \"\\xA9 2020 Afterpay\"\n          })]\n        })\n      })]\n    })]\n  });\n}",".outsmartly/analysis/modules/38.js":"// components/Modal.js\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React, { useEffect } from 'react';\nimport { modal, hiddenModal, content, closeBtn } from './Modal.module.css';\nimport styles from './Modal.module.css';\n/* Based on these:\nBuild a simple Modal Component with React\nhttps://blog.bitsrc.io/build-a-simple-modal-component-with-react-16decdc111a6\n\nModal Dialogs in React\nhttps://daveceddia.com/open-modal-in-react/\n\nHow to render modals in React\nhttps://www.freecodecamp.org/news/how-to-render-modals-in-react-bbe9685e947e/\n*/\n// Supported values for `position` prop:\n// \"centered\" = vertically centered modal\n\nvar Modal = function Modal(_ref) {\n  var show = _ref.show,\n      _ref$backdropClose = _ref.backdropClose,\n      backdropClose = _ref$backdropClose === void 0 ? true : _ref$backdropClose,\n      onClose = _ref.onClose,\n      _ref$contentClass = _ref.contentClass,\n      contentClass = _ref$contentClass === void 0 ? content : _ref$contentClass,\n      _ref$customCss = _ref.customCss,\n      customCss = _ref$customCss === void 0 ? {} : _ref$customCss,\n      _ref$keepInDom = _ref.keepInDom,\n      keepInDom = _ref$keepInDom === void 0 ? false : _ref$keepInDom,\n      children = _ref.children;\n  // Every time `show` changes: check if we need to show the scroll bar\n  useEffect(function () {\n    if (!show) {\n      // Modal has closed. Stop hiding the scroll bar.\n      document.documentElement.style.overflow = '';\n      document.documentElement.style.marginRight = '';\n    }\n  }, [show]); // Add/remove keydown handler to support closing the modal on Escape press\n\n  useEffect(function () {\n    document.addEventListener('keydown', handleKeyDown);\n    return function () {\n      document.removeEventListener('keydown', handleKeyDown);\n    };\n  }, []);\n  /** Keydown handler. Note that it keeps firing if Modal stays in DOM. */\n\n  function handleKeyDown(e) {\n    if (e.key === 'Escape') {\n      e.preventDefault();\n      onClose(e);\n    }\n  } // When show is false, we either: 1. keep the modal and its contents in the\n  // DOM, but hidden (e.g. Search Bar), or 2. we remove modal and its contents\n  // from the DOM (e.g. QuickShop)\n\n\n  if (!keepInDom && !show) {\n    return null;\n  } // Render the modal and its children. Leave it hidden unless show is true.\n\n\n  return /*#__PURE__*/_jsx(\"div\", {\n    className: \"\".concat(show ? modal : hiddenModal),\n    style: customCss.backdrop,\n    onClick: backdropClose ? onClose : null,\n    children: /*#__PURE__*/_jsxs(\"div\", {\n      className: contentClass,\n      onClick: function onClick(e) {\n        return e.stopPropagation();\n      },\n      children: [children, /*#__PURE__*/_jsx(\"button\", {\n        title: \"Close (Esc)\",\n        className: closeBtn,\n        onClick: onClose,\n        style: customCss.closeBtn,\n        children: \"\\xD7\"\n      })]\n    })\n  });\n}; // const ModalPortal = () => {\n//   return ReactDOM.createPortal(Modal, document.getElementById('modal'));\n// };\n// export default ModalPortal;\n\n/* Add an element for holding modals, way up high in the DOM tree */\n\n/* <div id=\"modal\"></div> */\n// Tried to put this in _app.js, doesn't work. Error is this:\n// Uncaught Error: Target container is not a DOM element.\n// So let's just leave it in its original place in the DOM for now.\n\n\nexport default Modal;",".outsmartly/analysis/modules/233.js":"// components/SearchBar.js\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { inner, input } from './SearchBar.module.css'; // The searchanize widget is looking for this Form to attach to. It needs to be\n// in the DOM, but hidden.\n\nexport default function SearchBar() {\n  return /*#__PURE__*/_jsxs(\"form\", {\n    action: \"/search\",\n    method: \"get\",\n    role: \"search\",\n    _lpchecked: \"1\",\n    children: [/*#__PURE__*/_jsx(\"input\", {\n      type: \"hidden\",\n      name: \"type\",\n      value: \"product\"\n    }), /*#__PURE__*/_jsxs(\"div\", {\n      className: inner,\n      children: [/*#__PURE__*/_jsx(\"label\", {\n        htmlFor: \"SiteNavSearch\",\n        className: \"visually-hidden\",\n        children: \"Search\"\n      }), /*#__PURE__*/_jsx(\"input\", {\n        ref: input => input && input.focus(),\n        name: \"q\",\n        id: \"SiteNavSearch\",\n        placeholder: \"Search\",\n        \"aria-label\": \"Search\",\n        className: input,\n        autoComplete: \"off\"\n      })]\n    })]\n  });\n}",".outsmartly/analysis/modules/262.js":"// node_modules/next/dist/next-server/lib/i18n/normalize-locale-path.js\n\"use strict\";\n\nexports.__esModule = true;\nexports.normalizeLocalePath = normalizeLocalePath;\n\nfunction normalizeLocalePath(pathname, locales) {\n  let detectedLocale; // first item will be empty string from splitting at first char\n\n  const pathnameParts = pathname.split('/');\n  (locales || []).some(locale => {\n    if (pathnameParts[1].toLowerCase() === locale.toLowerCase()) {\n      detectedLocale = locale;\n      pathnameParts.splice(1, 1);\n      pathname = pathnameParts.join('/') || '/';\n      return true;\n    }\n\n    return false;\n  });\n  return {\n    pathname,\n    detectedLocale\n  };\n}",".outsmartly/analysis/modules/322.js":"// lib/shopify/parseShopifyId.ts\nexport function parseShopifyId(id) {\n  const buff = Buffer.from(id, 'base64');\n  return buff.toString('ascii').split('/').pop();\n}",".outsmartly/analysis/modules/100.js":"// components/FeaturedContentSlider.js\nimport _taggedTemplateLiteral from \"/Users/kai/Work/rbx-rewrite/node_modules/next/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n\\n.\", \"__subtitle {\\n  color: \", \";\\n  line-height: 2rem;\\n  font-size: \", \";\\n  font-weight: 700;\\n  margin: 0;\\n  text-shadow: 1px 3px 4px \", \";\\n  padding: 10px 0;\\n}\\n\\n.\", \"__title {\\n  text-transform: uppercase;\\n  font-size: \", \";\\n  line-height: 15px;\\n  letter-spacing: 5px;\\n  color: \", \";\\n}\\n\\n.\", \"__caption {\\n  color: \", \";\\n  font-size: \", \";\\n  line-height: 18px;\\n  text-shadow: 0px 0px 1px #fff;\\n  padding: 10px 0;\\n}\\n\\n.\", \"__link {\\n  background-color: \", \"\", \";\\n  color: \", \";\\n}\\n\\n.\", \"__link:hover {\\n  background-color: \", \";\\n  color: \", \";\\n}\\n\\n@media only screen and (min-width: 750px) {\\n  .\", \"__title {\\n    font-size: \", \";\\n    line-height: 25px;\\n  }\\n  .\", \"__subtitle {\\n    font-size: \", \";\\n    line-height: 50px;\\n  }\\n  .\", \"__caption {\\n    font-size: \", \";\\n    line-height: 24px;\\n  }\\n}\\n\\n@media only screen and (min-width: 990px) {\\n  .\", \"__title {\\n    font-size: \", \";\\n    line-height: 35px;\\n  }\\n  .\", \"__subtitle {\\n    font-size: \", \";\\n    line-height: 80px;\\n  }\\n  .\", \"__caption {\\n    font-size: \", \";\\n    line-height: 24px;\\n  }\\n}\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React from 'react';\nimport Link from 'next/link';\nimport { cap } from '../lib/utils';\nimport { trackOutcome } from './outsmartly/track-outcome';\nimport oneLineTrim from 'common-tags/lib/oneLineTrim';\nexport default function FeaturedContentSlider(props) {\n  var parent = props.parent,\n      id = props.id,\n      titleText = props.titleText,\n      subtitleText = props.subtitleText,\n      captionText = props.captionText,\n      linkText = props.linkText,\n      linkRoute = props.linkRoute,\n      align = props.align,\n      item = props.item,\n      css = props.css,\n      _props$outsmartlyTrac = props.outsmartlyTracking,\n      outsmartlyTracking = _props$outsmartlyTrac === void 0 ? {} : _props$outsmartlyTrac;\n\n  var _ref = css || {\n    styles: {}\n  },\n      content = _ref.content,\n      link = _ref.link,\n      styles = _ref.styles; // Convert alignment value to CSS class\n\n\n  var alignClass = \"align\".concat(cap(align)); // This assures our CSS is scoped to the individual slide\n\n  var elementId = \"featured-content-slides-\".concat(id); // Assemble CSS classes for content element\n\n  var contentClasses = \"\".concat(content, \" sm-align-center \").concat(styles[alignClass], \" \").concat(styles[parent]);\n  return /*#__PURE__*/_jsxs(\"div\", {\n    className: contentClasses,\n    children: [/*#__PURE__*/_jsx(FeaturedContentSliderCss, {\n      item: item,\n      elementId: elementId\n    }), /*#__PURE__*/_jsxs(\"div\", {\n      className: \"page-width\",\n      children: [titleText && /*#__PURE__*/_jsx(\"h3\", {\n        className: \"\".concat(elementId, \"__title\"),\n        dangerouslySetInnerHTML: {\n          __html: titleText\n        }\n      }), /*#__PURE__*/_jsx(\"p\", {\n        className: \"\".concat(elementId, \"__subtitle\"),\n        dangerouslySetInnerHTML: {\n          __html: subtitleText\n        }\n      }), captionText && /*#__PURE__*/_jsx(\"p\", {\n        className: \"\".concat(elementId, \"__caption\"),\n        dangerouslySetInnerHTML: {\n          __html: captionText\n        }\n      }), /*#__PURE__*/_jsx(Link, {\n        href: linkRoute,\n        children: /*#__PURE__*/_jsx(\"a\", {\n          onClick: function onClick() {\n            trackOutcome('homeSliderSlideClicked', outsmartlyTracking);\n          },\n          className: \"\".concat(link, \" \").concat(elementId, \"__link\"),\n          children: linkText\n        })\n      })]\n    })]\n  });\n}\n/** Creates a <style> tag with CSS from Contentful */\n\nfunction FeaturedContentSliderCss(props) {\n  var _props$item = props.item,\n      item = _props$item === void 0 ? {} : _props$item,\n      elementId = props.elementId;\n\n  var _ref2 = item || {\n    textSizes: {}\n  },\n      headingTextColor = _ref2.headingTextColor,\n      subheadingTextShadowColor = _ref2.subheadingTextShadowColor,\n      subheadingTextColor = _ref2.subheadingTextColor,\n      captionTextColor = _ref2.captionTextColor,\n      buttonTextColor = _ref2.buttonTextColor,\n      buttonTextHoverColor = _ref2.buttonTextHoverColor,\n      buttonBackgroundColor = _ref2.buttonBackgroundColor,\n      buttonBackgroundColorOpacity = _ref2.buttonBackgroundColorOpacity,\n      _ref2$textSizes = _ref2.textSizes,\n      subheadingSizeMobile = _ref2$textSizes.subheadingSizeMobile,\n      subheadingSizeTablet = _ref2$textSizes.subheadingSizeTablet,\n      subheadingSizeDesktop = _ref2$textSizes.subheadingSizeDesktop,\n      headingSizeMobile = _ref2$textSizes.headingSizeMobile,\n      headingSizeDesktop = _ref2$textSizes.headingSizeDesktop,\n      headingSizeTablet = _ref2$textSizes.headingSizeTablet,\n      captionSizeMobile = _ref2$textSizes.captionSizeMobile,\n      captionSizeTablet = _ref2$textSizes.captionSizeTablet,\n      captionSizeDesktop = _ref2$textSizes.captionSizeDesktop; // Opacity from Contentful is from 0-1. Convert it to hex so we can append it.\n\n\n  var opacity = buttonBackgroundColorOpacity ? Math.floor(buttonBackgroundColorOpacity * 255).toString(16).padStart(2, '0') : '';\n  return /*#__PURE__*/_jsx(\"style\", {\n    dangerouslySetInnerHTML: {\n      __html: oneLineTrim(_templateObject(), elementId, subheadingTextColor, subheadingSizeMobile, subheadingTextShadowColor || '#627ab1', elementId, headingSizeMobile, headingTextColor, elementId, captionTextColor, captionSizeMobile, elementId, buttonBackgroundColor, opacity, buttonTextColor, elementId, buttonBackgroundColor, buttonTextHoverColor, elementId, headingSizeTablet, elementId, subheadingSizeTablet, elementId, captionSizeTablet, elementId, headingSizeDesktop, elementId, subheadingSizeDesktop, elementId, captionSizeDesktop)\n    }\n  });\n}\n\nvar cssEtc = {\n  id: '68VWvsRm5bxBrByPBpZmTR',\n  title: 'new arrivals',\n  subtitle: '<strong><span style=\"text-shadow:1px 3px 4px #405893;\">men\\'s<br>joggers</span></strong>',\n  caption: null,\n  linkText: 'shop men',\n  linkRoute: '/collections/mens-running-pants',\n  align: 'Left',\n  textSizes: {\n    name: 'Default Home Slide Text Sizes',\n    headingSizeMobile: '15px',\n    headingSizeTablet: '25px',\n    headingSizeDesktop: '35px',\n    subheadingSizeMobile: '32px',\n    subheadingSizeTablet: '50px',\n    subheadingSizeDesktop: '80px',\n    captionSizeMobile: '18px',\n    captionSizeTablet: '22px',\n    captionSizeDesktop: '24px'\n  },\n  slideName: 'Mens: Joggers',\n  headingTextColor: '#373c86',\n  subheadingTextShadowColor: '#405893',\n  subheadingTextColor: '#FFFFFF',\n  captionTextColor: '#FFFFFF',\n  buttonBackgroundColor: '#FFFFFF',\n  buttonBackgroundColorOpacity: 0.3,\n  buttonTextColor: '#FFFFFF',\n  buttonTextHoverColor: '#405893',\n  imgAlt: 'Man sitting on ground',\n  imgSrc: '//images.ctfassets.net/ajgn17op1zyt/3IwmRw1hQtpZP0H9zA21OT/a3056130e40cddc9b687d1257f52e0fb/hero_slide_3.jpg'\n};",".outsmartly/analysis/modules/291.js":"// components/Product/ProductMeta.js\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React, { useState } from 'react';\nimport { title, sku, rating, price, comparePrice, afterpay, stock, hideStock, meta, metaList, finalSale, afterpayModalContent } from './ProductMeta.module.css';\nimport styles from './ProductMeta.module.css';\nimport ProductRating from './ProductRating';\nimport { getVariant } from 'context/getVariant';\nimport Modal from 'components/Modal';\nimport Afterpay from 'components/Afterpay/Afterpay';\nimport { hideScrollbar } from 'lib/utils';\nimport { useViewContent } from '@outsmartly/shopify-analytics';\nimport { getDiscountInfo } from 'lib/discounts';\nexport default function ProductMeta({\n  product,\n  selectedOptions\n}) {\n  const currentVariant = getVariant(product, selectedOptions);\n  useViewContent(product, currentVariant); // Hold state for opening the Afterpay modal\n\n  const {\n    0: showModal,\n    1: setShowModal\n  } = useState(false); // Custom inlines styles for Afterpay modal\n\n  const css = {\n    backdrop: {\n      backgroundColor: '#00000080',\n      padding: 0\n    },\n    closeBtn: {\n      fontSize: 40\n    }\n  }; // Create a prefix for afterpay image URLs\n\n  const apPrefix = 'https://static.afterpay.com/integration/product-page/';\n  const {\n    priceText,\n    saleMessage,\n    oldPrice\n  } = getDiscountInfo(product, currentVariant); // Determine whether this is a sale price. Check product.variants[i].compare_at_price\n\n  const isSale = oldPrice ? 'salePrice' : null; // Create a flag for whether to show the number available\n\n  const showStock = (currentVariant === null || currentVariant === void 0 ? void 0 : currentVariant.quantityAvailable) && (currentVariant === null || currentVariant === void 0 ? void 0 : currentVariant.quantityAvailable) < 5;\n  /** Opens the Afterpay modal */\n\n  const openAfterpayModal = e => {\n    e.preventDefault();\n    hideScrollbar();\n    setShowModal(true);\n  };\n  /** Closes the Afterpay modal */\n\n\n  const closeAfterpayModal = e => {\n    e.preventDefault();\n    setShowModal(false);\n  };\n\n  return /*#__PURE__*/_jsxs(\"div\", {\n    className: meta,\n    children: [/*#__PURE__*/_jsx(\"h1\", {\n      className: title,\n      children: product.title\n    }), /*#__PURE__*/_jsx(\"div\", {\n      className: sku,\n      children: currentVariant === null || currentVariant === void 0 ? void 0 : currentVariant.sku\n    }), /*#__PURE__*/_jsx(\"div\", {\n      className: rating,\n      children: /*#__PURE__*/_jsx(ProductRating, {\n        rating: product.rating,\n        showFullReviewText: true,\n        numReviews: product.numReviews\n      })\n    }), /*#__PURE__*/_jsxs(\"ul\", {\n      className: metaList,\n      children: [/*#__PURE__*/_jsxs(\"li\", {\n        children: [product.showFinalSale && /*#__PURE__*/_jsx(\"span\", {\n          className: finalSale,\n          children: \"Final Sale\"\n        }), /*#__PURE__*/_jsx(\"div\", {\n          className: `${price} ${styles[isSale]}`,\n          itemProp: \"price\",\n          children: priceText\n        }), saleMessage ? /*#__PURE__*/_jsx(\"div\", {\n          style: {\n            margin: '6px 0 0 0'\n          },\n          children: saleMessage\n        }) : null, /*#__PURE__*/_jsxs(\"p\", {\n          className: afterpay,\n          children: [/*#__PURE__*/_jsx(\"img\", {\n            alt: \"Afterpay\",\n            src: `${apPrefix}logo-afterpay-black.png`,\n            srcSet: `${apPrefix}logo-afterpay-black.png 1x,\n                        ${apPrefix}logo-afterpay-black@2x.png 2x,\n                        ${apPrefix}logo-afterpay-black@3x.png 3x`\n          }), /*#__PURE__*/_jsx(\"span\", {\n            children: \" available for orders over $35 \"\n          }), /*#__PURE__*/_jsx(\"a\", {\n            href: \"https://www.afterpay.com/purchase-payment-agreement\",\n            \"aria-label\": \"Afterpay Information - Opens a dialog\",\n            onClick: openAfterpayModal,\n            tabIndex: \"0\",\n            children: \"\\u24D8\"\n          })]\n        }), /*#__PURE__*/_jsx(\"span\", {\n          className: \"visually-hidden\",\n          children: \"Regular price\"\n        }), currentVariant && oldPrice ? /*#__PURE__*/_jsxs(\"s\", {\n          className: comparePrice,\n          children: [\"$\", oldPrice]\n        }) : null]\n      }), /*#__PURE__*/_jsx(\"li\", {\n        children: /*#__PURE__*/_jsx(\"span\", {\n          className: `${stock} ${showStock ? '' : hideStock}`,\n          children: showStock && /*#__PURE__*/_jsxs(_Fragment, {\n            children: [currentVariant === null || currentVariant === void 0 ? void 0 : currentVariant.quantityAvailable, \" available\"]\n          })\n        })\n      })]\n    }), /*#__PURE__*/_jsx(Modal, {\n      show: showModal,\n      onClose: closeAfterpayModal,\n      contentClass: afterpayModalContent,\n      customCss: css,\n      children: /*#__PURE__*/_jsx(Afterpay, {})\n    })]\n  });\n}",".outsmartly/analysis/modules/151.js":"// components/Product/ProductOutOfStock.js\nimport _regeneratorRuntime from \"/Users/kai/Work/rbx-rewrite/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport _asyncToGenerator from \"/Users/kai/Work/rbx-rewrite/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport React, { useState } from 'react';\nimport { submitBtn } from './ProductPurchase.module.css';\nimport { inputLg, formSelector, modalCss, alert, alertSuccess, alertDanger } from './ProductOutOfStock.module.css';\nimport { title } from './ProductMeta.module.css';\nimport Modal from 'components/Modal';\nexport function ProductOutOfStock(_ref) {\n  var product = _ref.product,\n      currentVariant = _ref.currentVariant;\n\n  var _useState = useState(false),\n      modelOpen = _useState[0],\n      setModalOpen = _useState[1];\n\n  var _useState2 = useState(true),\n      checked = _useState2[0],\n      setChecked = _useState2[1];\n\n  var _useState3 = useState(''),\n      email = _useState3[0],\n      setEmail = _useState3[1];\n\n  var _useState4 = useState(null),\n      status = _useState4[0],\n      setStatus = _useState4[1];\n\n  var _useState5 = useState(currentVariant === null || currentVariant === void 0 ? void 0 : currentVariant.variant),\n      selectedVariant = _useState5[0],\n      setSelectedVariant = _useState5[1];\n\n  var outOfStockVariants = product.variants.filter(function (variant) {\n    return variant.availableForSale === false;\n  });\n\n  function openModal() {\n    setSelectedVariant(currentVariant.id);\n    setModalOpen(true);\n  }\n\n  function closeModal(e) {\n    e.preventDefault();\n    setModalOpen(false);\n    setStatus(null);\n  }\n\n  function handleSelectChange(e) {\n    e.preventDefault();\n    setSelectedVariant(e.target.value);\n  }\n\n  function submitRequest() {\n    return _submitRequest.apply(this, arguments);\n  }\n\n  function _submitRequest() {\n    _submitRequest = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return postToKlaviyo({\n                email: email,\n                variant: selectedVariant,\n                product: product.id,\n                subscribe: checked\n              });\n\n            case 3:\n              setStatus('success');\n              _context.next = 10;\n              break;\n\n            case 6:\n              _context.prev = 6;\n              _context.t0 = _context[\"catch\"](0);\n              console.log(_context.t0);\n              setStatus('failed');\n\n            case 10:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 6]]);\n    }));\n    return _submitRequest.apply(this, arguments);\n  }\n\n  return /*#__PURE__*/_jsxs(_Fragment, {\n    children: [/*#__PURE__*/_jsx(\"button\", {\n      onClick: openModal,\n      className: \"\".concat(submitBtn),\n      children: \"Notify Me When Available\"\n    }), /*#__PURE__*/_jsx(Modal, {\n      show: modelOpen,\n      onClose: closeModal,\n      contentClass: modalCss // customCss={modalCss}\n      ,\n      children: /*#__PURE__*/_jsxs(\"div\", {\n        style: {\n          display: 'flex',\n          justifyContent: 'left',\n          flexWrap: 'wrap',\n          textAlign: 'left'\n        },\n        children: [/*#__PURE__*/_jsx(\"h3\", {\n          className: title,\n          children: product.title\n        }), /*#__PURE__*/_jsx(\"p\", {\n          children: \"Register to receive a notification when this item comes back in stock.\"\n        }), /*#__PURE__*/_jsx(\"select\", {\n          id: \"variants\",\n          className: \"\".concat(inputLg, \" \").concat(formSelector),\n          onChange: handleSelectChange,\n          children: outOfStockVariants.map(function (item) {\n            return /*#__PURE__*/_jsx(\"option\", {\n              value: item.id,\n              selected: item.id === selectedVariant,\n              children: item.title\n            }, item.id);\n          })\n        }), /*#__PURE__*/_jsx(\"input\", {\n          type: \"email\",\n          id: \"email\",\n          placeholder: \"Email\",\n          className: \"\".concat(inputLg, \" \").concat(formSelector),\n          onChange: function onChange(event) {\n            setEmail(event.target.value);\n          },\n          value: email\n        }), /*#__PURE__*/_jsxs(\"div\", {\n          children: [/*#__PURE__*/_jsx(\"input\", {\n            type: \"checkbox\",\n            id: \"subscribe_for_newsletter\",\n            checked: checked,\n            onClick: function onClick() {\n              setChecked(!checked);\n            }\n          }), /*#__PURE__*/_jsx(\"label\", {\n            \"for\": \"subscribe_for_newsletter\",\n            style: {\n              marginLeft: '10px',\n              textTransform: 'none'\n            },\n            children: \"Add me to your email list.\"\n          })]\n        }), status === null ? /*#__PURE__*/_jsx(\"button\", {\n          onClick: submitRequest,\n          className: \"\".concat(submitBtn),\n          children: \"Notify Me When Available\"\n        }) : status === 'success' ? /*#__PURE__*/_jsxs(\"div\", {\n          className: \"\".concat(alert, \" \").concat(alertSuccess),\n          style: {\n            display: 'block'\n          },\n          children: [\"You're in! We'll let you know when it's back.\", ' ', /*#__PURE__*/_jsx(\"a\", {\n            href: \"#\",\n            onClick: closeModal,\n            style: {\n              textDecoration: 'underline'\n            },\n            children: \"Close\"\n          })]\n        }) : /*#__PURE__*/_jsxs(\"div\", {\n          className: \"\".concat(alert, \" \").concat(alertDanger),\n          style: {\n            display: 'block'\n          },\n          children: [\"Sorry, there was an error. Please refresh and try again.\", ' ', /*#__PURE__*/_jsx(\"a\", {\n            href: \"#\",\n            onClick: closeModal,\n            style: {\n              textDecoration: 'underline'\n            },\n            children: \"Close\"\n          })]\n        })]\n      })\n    })]\n  });\n}\n\nfunction postToKlaviyo(_ref2) {\n  var email = _ref2.email,\n      variant = _ref2.variant,\n      product = _ref2.product,\n      subscribe = _ref2.subscribe;\n  var formData = new FormData();\n  formData.append('a', 'JrfQX9');\n  formData.append('email', email);\n  formData.append('g', 'Mm6xMG');\n  formData.append('variant', variant);\n  formData.append('product', product);\n  formData.append('platform', 'shopify');\n  formData.append('subscribe_for_newsletter', subscribe);\n  return fetch('https://a.klaviyo.com/onsite/components/back-in-stock/subscribe', {\n    method: 'POST',\n    body: formData\n  });\n}",".outsmartly/analysis/modules/316.js":"// components/Slider/Slider.js\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { useState, useRef, useEffect, forwardRef, useImperativeHandle } from 'react';\nimport { slider, bounceLeft, bounceRight } from './Slider.module.css';\nimport { SlideContainer } from './SlideContainer';\nimport { Arrow } from './Arrow';\nimport { Dots } from './Dots'; // In order to allow parent to use Slider's navigatePage() method, we must do\n// Ref Forwarding along with useImperativeHandle. See:\n// https://reactjs.org/docs/forwarding-refs.html and\n// https://reactjs.org/docs/hooks-reference.html#useimperativehandle\n\nexport const Slider = /*#__PURE__*/forwardRef(SliderComponent);\n/**\n * Creates a container that we can style and position. Has a child which is\n * <SlideContainer/>. Holds logic for navigating to previous/next page of\n * slides by clicking Dots or Arrow buttons.\n */\n\nfunction SliderComponent({\n  slides,\n  slideComponent,\n  slideWidth = 290,\n  gap = 15,\n  transition = 700,\n  scrollerClass,\n  windowWidth\n}, ref) {\n  const {\n    0: translate,\n    1: setTranslate\n  } = useState(0);\n  const {\n    0: pageStops,\n    1: setPageStops\n  } = useState([]);\n  const {\n    0: currentPage,\n    1: setCurrentPage\n  } = useState(1);\n  const {\n    0: bounceClass,\n    1: setBounceClass\n  } = useState(''); // Grab a reference to the slider widget element\n\n  let sliderEl = useRef(); // Update layout when window is resized\n\n  useEffect(() => {\n    // Find the zero-based index of the current slide, then navigate to it\n    navigatePage(translate / (slideWidth + gap));\n  }, [windowWidth]);\n  /**\n   * Determine page stops for Dots\n   * @returns {Number[]} array of page stop values\n   */\n\n  function getPageStops() {\n    const array = [];\n    const [pageSize, pageWidth] = getPageSizeWidth(); // Note: pageSize will never be 0\n\n    const pagesDecimal = slides.length / pageSize;\n    const max = getMaxTranslate();\n\n    for (let i = 0; i < pagesDecimal; i++) {\n      if (i * pageWidth > max) {\n        array.push(max);\n      } else {\n        array.push(i * pageWidth);\n      }\n    }\n\n    return array;\n  }\n  /**\n   * Returns the page size (number of full slides that appear on a page) and the\n   * page width (width of full slides plus gaps, in pixels). Called initially\n   * and on any interaction.\n   * @returns {Array} [pageSize, pageWidth]\n   */\n\n\n  function getPageSizeWidth() {\n    const currentWidth = getCurrentWidth();\n    let size = Math.floor((currentWidth - slideWidth) / (slideWidth + gap)) + 1; // If 0 full slides fit, handle as if 1 full slide fits\n\n    if (size === 0) {\n      size = 1;\n    }\n\n    const width = size * (slideWidth + gap);\n    return [size, width];\n  }\n  /** Gets the translation amount that puts the last slide on the right edge */\n\n\n  function getMaxTranslate() {\n    const trayWidth = (slideWidth + gap) * slides.length - gap;\n    const currentWidth = getCurrentWidth();\n    return trayWidth - currentWidth;\n  }\n  /** Gets the current width of the slider element */\n\n\n  function getCurrentWidth() {\n    var _sliderEl$current;\n\n    return ((_sliderEl$current = sliderEl.current) === null || _sliderEl$current === void 0 ? void 0 : _sliderEl$current.getBoundingClientRect().width) || 0;\n  } // Here we make it possible for a parent to call navigatePage() like this:\n  // sliderRef.current.navigatePage()\n\n\n  useImperativeHandle(ref, () => ({\n    navigatePage\n  }));\n  /**\n   * Navigates to a different page of slides. Called when a single Dot is\n   * clicked, or when the Previous or Next arrow is clicked. Also called when\n   * swipe left or swipe right event occurs anywhere inside the parent\n   * component.\n   * @param {number | string} target - either the zero-based index of the first\n   * slide on the desired page, or 'previous' or 'next'.\n   */\n\n  function navigatePage(target) {\n    // Before doing anything, recalculate page layout in case anything changed\n    const pageStops = getPageStops();\n    const [pageSize, pageWidth] = getPageSizeWidth();\n    const max = getMaxTranslate();\n    const currentWidth = getCurrentWidth();\n    let attempt, newTranslate, newPage;\n\n    if (typeof target === 'number') {\n      //------------------------------------ Dot was clicked -------------------\n      // Find the page with the desired slide\n      newPage = Math.ceil((target + 1) / pageSize); // Calculate the new translation amount\n\n      attempt = pageStops[newPage - 1]; // If last page is a partial then `attempt` will exceed `max`\n\n      newTranslate = attempt > max ? max : attempt;\n    } else {\n      //-------------------------------- Previous or Next was clicked ----------\n      if (target === 'previous') {\n        // Bounce on edge\n        if (translate === 0) {\n          edgeBounce('left');\n        } // Determine the new/proposed translate amount\n\n\n        attempt = translate === max ? max + (currentWidth - pageWidth) - pageWidth + gap : translate - pageWidth;\n        newTranslate = attempt < 0 ? 0 : attempt;\n      } else if (target === 'next') {\n        // Bounce on edge\n        if (translate === max) {\n          edgeBounce('right');\n        } // Determine the new/proposed translate amount\n\n\n        attempt = translate + pageWidth;\n        newTranslate = attempt > max ? max : attempt;\n      } // Update the current page using the new translate amount\n\n\n      newPage = newTranslate === max ? pageStops.length : Math.ceil((newTranslate / (slideWidth + gap) + 1) / pageSize);\n    } // Update state\n\n\n    setTranslate(newTranslate);\n    setPageStops(pageStops);\n    setCurrentPage(newPage);\n  }\n  /**\n   * Add and then quickly remove a CSS class that causes a bounce animation\n   * @param {string} direction - either 'Left' or 'Right\n   */\n\n\n  function edgeBounce(direction) {\n    setBounceClass(direction === 'left' ? bounceLeft : bounceRight);\n    setTimeout(() => {\n      setBounceClass('');\n    }, 500);\n  }\n\n  return /*#__PURE__*/_jsxs(\"div\", {\n    ref: sliderEl,\n    className: slider,\n    children: [/*#__PURE__*/_jsx(\"div\", {\n      className: `${scrollerClass} ${bounceClass}`,\n      children: /*#__PURE__*/_jsx(SlideContainer, {\n        slideWidth: slideWidth,\n        gap: gap,\n        trayWidth: (slideWidth + gap) * slides.length - gap,\n        translate: translate,\n        transition: transition,\n        children: slides && slides.length > 0 && slides.map((slide, i) => slideComponent(slide, i))\n      })\n    }), pageStops.length > 1 && /*#__PURE__*/_jsxs(_Fragment, {\n      children: [/*#__PURE__*/_jsx(Arrow, {\n        direction: \"previous\",\n        handleClick: navigatePage\n      }), /*#__PURE__*/_jsx(Arrow, {\n        direction: \"next\",\n        handleClick: navigatePage\n      })]\n    }), /*#__PURE__*/_jsx(Dots, {\n      numPages: pageStops.length,\n      currentPage: currentPage,\n      handleClick: navigatePage,\n      pageSize: getPageSizeWidth()[0]\n    })]\n  });\n}",".outsmartly/analysis/modules/256.js":"// components/LemonSpot/AddToCartSelect.js\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { useState, useContext } from 'react';\nimport { wrap, select, option, arrow } from './AddToCartSelect.module.css';\nimport { CartContext } from '@outsmartly/jackrabbit';\n/**\n * A stylized <select> control that contains color/size variants for the current\n * product in a Lemon.\n */\n\nexport function AddToCartSelect({\n  product\n}) {\n  const {\n    0: value,\n    1: setValue\n  } = useState('add');\n  const {\n    addToCart,\n    setAddStatus\n  } = useContext(CartContext);\n\n  async function handleAddToCart(e) {\n    e.preventDefault(); // Use the selected value to get the currentVariant\n\n    const currentVariant = product.variants.find(variant => variant.id === e.target.value); // Try adding to cart\n\n    try {\n      await addToCart(product, currentVariant); // If it succeeds, report success to UI\n\n      setAddStatus(document.location.pathname.startsWith('/cart') ? 'cartSuccess' : 'success'); // Reset <select> back to default, and scroll to top of page\n\n      setValue('add');\n      window.scrollTo(0, 0);\n    } catch (e) {\n      // If add operation fails, report error to UI, and to the console.\n      setAddStatus(e.message);\n      console.log('error', e);\n    }\n  }\n\n  return product.variants ? /*#__PURE__*/_jsxs(\"div\", {\n    className: wrap,\n    children: [/*#__PURE__*/_jsxs(\"select\", {\n      className: select,\n      size: \"1\",\n      onChange: handleAddToCart,\n      value: value,\n      children: [/*#__PURE__*/_jsx(\"option\", {\n        className: option,\n        value: \"add\",\n        disabled: true,\n        hidden: true,\n        children: \"Add to Cart\"\n      }), product.variants.filter(variant => variant.availableForSale).map(({\n        id,\n        price,\n        title\n      }) => /*#__PURE__*/_jsx(\"option\", {\n        className: option,\n        dataprice: price,\n        value: id,\n        children: title\n      }, id))]\n    }), /*#__PURE__*/_jsx(\"div\", {\n      className: arrow\n    })]\n  }) : null;\n}",".outsmartly/analysis/modules/347.js":"// context/selectedImagesState.ts\nimport { getFilteredImagesByColor } from 'lib/helpers';\nimport { useMemo, useState } from 'react';\nimport { addOption } from './SelectedOptionsContext';\nexport function selectedImagesState({\n  product,\n  defaultColor = undefined\n}) {\n  const {\n    0: selectedOptions,\n    1: setSelectedOptions\n  } = useState(defaultColor ? [{\n    name: 'Color',\n    value: defaultColor\n  }] : []);\n  const color = useMemo(getColor, [selectedOptions]);\n  const images = useMemo(getFilteredImages, [product, color]);\n  return {\n    selectedOptions,\n    selectSingleOption,\n    images\n  };\n\n  function selectSingleOption(option) {\n    const newSelectedOptions = addOption(selectedOptions, option);\n\n    if (newSelectedOptions !== selectedOptions) {\n      setSelectedOptions(newSelectedOptions);\n    }\n  }\n\n  function getColor() {\n    const colorOption = selectedOptions.find(({\n      name\n    }) => name === 'Color');\n\n    if (colorOption) {\n      return colorOption.value;\n    }\n  }\n\n  function getFilteredImages() {\n    return getFilteredImagesByColor(product.imageMap, color);\n  }\n}",".outsmartly/analysis/modules/196.js":"// components/Footer.js\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React from 'react';\nimport Link from 'next/link';\nimport { siteFooter, group, grid, social, footerLogo, copyright } from './Footer.module.css';\nimport styles from './Footer.module.css';\nimport SocialIcon from './SocialIcon';\nimport { getImageUrl } from 'lib/getImageUrl';\nimport config from '../jackrabbit.config';\nconst {\n  logo,\n  copyrightText,\n  links\n} = config.sections.footer;\nexport default function Footer(props) {\n  return /*#__PURE__*/_jsx(\"footer\", {\n    className: `${siteFooter} closes-drawer`,\n    children: /*#__PURE__*/_jsxs(\"div\", {\n      className: \"page-width\",\n      children: [/*#__PURE__*/_jsxs(\"div\", {\n        className: grid,\n        children: [links.map(g => /*#__PURE__*/_jsxs(\"div\", {\n          className: group,\n          children: [/*#__PURE__*/_jsx(\"h2\", {\n            id: g.id,\n            children: g.heading\n          }), /*#__PURE__*/_jsx(\"ul\", {\n            \"aria-labelledby\": g.id,\n            children: g.links.map((link, i) => /*#__PURE__*/_jsx(\"li\", {\n              children: /*#__PURE__*/_jsx(\"a\", {\n                href: link.route,\n                children: link.text\n              })\n            }, i))\n          }), g.nested && /*#__PURE__*/_jsxs(\"div\", {\n            className: group,\n            children: [/*#__PURE__*/_jsx(\"h2\", {\n              id: g.nested.id,\n              className: \"visually-hidden\",\n              children: g.nested.heading\n            }), /*#__PURE__*/_jsx(\"ul\", {\n              \"aria-labelledby\": g.nested.id,\n              className: styles[g.nested.id],\n              children: g.nested.links.map(icon => /*#__PURE__*/_jsx(\"li\", {\n                children: /*#__PURE__*/_jsx(SocialIcon, _objectSpread({}, icon))\n              }, icon.name))\n            })]\n          })]\n        }, g.id)), /*#__PURE__*/_jsx(\"div\", {\n          className: group,\n          children: /*#__PURE__*/_jsx(\"img\", {\n            className: footerLogo,\n            src: getImageUrl(logo),\n            alt: \"Footer Logo\",\n            loading: \"lazy\"\n          })\n        })]\n      }), /*#__PURE__*/_jsx(\"p\", {\n        className: copyright,\n        children: copyrightText\n      })]\n    })\n  });\n}",".outsmartly/analysis/modules/207.js":"// components/Product/ProductWithCollection.js\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport Product from '.';\nexport default function ProductWithCollection({\n  collectionInfo,\n  content\n}) {\n  return /*#__PURE__*/_jsx(Product, {\n    collectionInfo: collectionInfo,\n    content: content\n  });\n}",".outsmartly/analysis/modules/165.js":"// pages/404.js\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport Link from 'next/link';\nimport { errorPage, homeLink } from 'styles/404.module.css';\nimport styles from 'styles/Main.module.css';\nimport { SEO } from 'components/Seo';\nexport default function FourOhFour() {\n  // Add page type class to <main>\n  const pageType = 'template404';\n  return /*#__PURE__*/_jsxs(\"main\", {\n    id: \"mainContent\",\n    className: `${styles['mainContent']} ${styles[pageType]}`,\n    children: [/*#__PURE__*/_jsx(SEO, {\n      ogType: \"website\",\n      title: \"404 Not Found\",\n      canonical: \"\"\n    }), /*#__PURE__*/_jsx(\"div\", {\n      className: \"page-width\",\n      children: /*#__PURE__*/_jsxs(\"div\", {\n        className: errorPage,\n        children: [/*#__PURE__*/_jsx(\"h1\", {\n          children: \"Sorry! We can't seem to find the page you're looking for.\"\n        }), /*#__PURE__*/_jsx(\"p\", {\n          children: /*#__PURE__*/_jsx(Link, {\n            href: \"/\",\n            children: /*#__PURE__*/_jsx(\"a\", {\n              className: homeLink,\n              children: \"Go Home\"\n            })\n          })\n        })]\n      })\n    })]\n  });\n}",".outsmartly/analysis/modules/134.js":"// components/QuickView/QuantityWidget.js\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React, { useState } from 'react';\nimport { widget, jsQty, minusBtn, minusIcon, plusBtn, plusIcon } from './QuantityWidget.module.css';\nimport styles from './QuantityWidget.module.css';\nimport Icon from 'components/icons/Icon';\n/**\n * QuantityWidget\n *\n * Parent must pass down a numeric quantity that this widget will display.\n * Parent must also pass down a handler to be called when the decrease/increase\n * buttons are clicked, or when user inputs a number.\n */\n\nexport default function QuantityWidget(_ref) {\n  var id = _ref.id,\n      _ref$line = _ref.line,\n      line = _ref$line === void 0 ? 1 : _ref$line,\n      _ref$placeClass = _ref.placeClass,\n      placeClass = _ref$placeClass === void 0 ? 'cart' : _ref$placeClass,\n      quantity = _ref.quantity,\n      onChange = _ref.onChange;\n\n  /** Validates that the entered value is a number. If not, just reset to\n   * current quantity. If outside of range (1-1000), just clamp to range min or\n   * max */\n  function validateQuantity(value) {\n    var regex = /^[0-9]+$/;\n\n    if (regex.test(value)) {\n      var num = Number(value);\n      onChange(num > 1000 ? 1000 : num < 1 ? 1 : num);\n    } else {\n      onChange(quantity);\n    }\n  }\n\n  return /*#__PURE__*/_jsxs(\"div\", {\n    className: widget,\n    children: [/*#__PURE__*/_jsx(\"label\", {\n      htmlFor: \"Updates_\".concat(id),\n      children: \"Quantity\"\n    }), /*#__PURE__*/_jsxs(\"div\", {\n      className: \"\".concat(jsQty, \" \").concat(styles[placeClass]),\n      children: [/*#__PURE__*/_jsx(\"input\", {\n        type: \"text\",\n        value: quantity,\n        onChange: function onChange(e) {\n          return validateQuantity(e.target.value);\n        },\n        id: \"Updates_\".concat(id),\n        name: \"updates[]\",\n        pattern: \"[0-9]*\",\n        \"data-line\": line,\n        \"aria-live\": \"polite\"\n      }), /*#__PURE__*/_jsx(\"button\", {\n        type: \"button\",\n        className: minusBtn,\n        onClick: function onClick() {\n          return onChange(quantity > 1 ? quantity - 1 : 1);\n        },\n        \"aria-label\": \"Decrease quantity\",\n        children: /*#__PURE__*/_jsx(Icon, {\n          icon: \"minus\",\n          className: minusIcon\n        })\n      }), /*#__PURE__*/_jsx(\"button\", {\n        type: \"button\",\n        className: plusBtn,\n        onClick: function onClick() {\n          return onChange(quantity < 1000 ? quantity + 1 : 1000);\n        },\n        \"aria-label\": \"Increase quantity\",\n        children: /*#__PURE__*/_jsx(Icon, {\n          icon: \"plus\",\n          className: plusIcon\n        })\n      })]\n    })]\n  });\n}"},"default":true}}